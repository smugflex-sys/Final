function qC(s,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in s)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(s,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const A of i.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&n(A)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var dH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zy(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var wg={exports:{}},th={},vg={exports:{}},Ds={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function YC(){if(jv)return Ds;jv=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),A=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.iterator;function x(se){return se===null||typeof se!="object"?null:(se=f&&se[f]||se["@@iterator"],typeof se=="function"?se:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,b={};function j(se,O,X){this.props=se,this.context=O,this.refs=b,this.updater=X||g}j.prototype.isReactComponent={},j.prototype.setState=function(se,O){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,O,"setState")},j.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function y(){}y.prototype=j.prototype;function E(se,O,X){this.props=se,this.context=O,this.refs=b,this.updater=X||g}var U=E.prototype=new y;U.constructor=E,N(U,j.prototype),U.isPureReactComponent=!0;var k=Array.isArray,q=Object.prototype.hasOwnProperty,G={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function I(se,O,X){var re,me={},xe=null,Z=null;if(O!=null)for(re in O.ref!==void 0&&(Z=O.ref),O.key!==void 0&&(xe=""+O.key),O)q.call(O,re)&&!H.hasOwnProperty(re)&&(me[re]=O[re]);var oe=arguments.length-2;if(oe===1)me.children=X;else if(1<oe){for(var z=Array(oe),fe=0;fe<oe;fe++)z[fe]=arguments[fe+2];me.children=z}if(se&&se.defaultProps)for(re in oe=se.defaultProps,oe)me[re]===void 0&&(me[re]=oe[re]);return{$$typeof:s,type:se,key:xe,ref:Z,props:me,_owner:G.current}}function D(se,O){return{$$typeof:s,type:se.type,key:O,ref:se.ref,props:se.props,_owner:se._owner}}function P(se){return typeof se=="object"&&se!==null&&se.$$typeof===s}function Q(se){var O={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(X){return O[X]})}var T=/\/+/g;function $(se,O){return typeof se=="object"&&se!==null&&se.key!=null?Q(""+se.key):O.toString(36)}function V(se,O,X,re,me){var xe=typeof se;(xe==="undefined"||xe==="boolean")&&(se=null);var Z=!1;if(se===null)Z=!0;else switch(xe){case"string":case"number":Z=!0;break;case"object":switch(se.$$typeof){case s:case t:Z=!0}}if(Z)return Z=se,me=me(Z),se=re===""?"."+$(Z,0):re,k(me)?(X="",se!=null&&(X=se.replace(T,"$&/")+"/"),V(me,O,X,"",function(fe){return fe})):me!=null&&(P(me)&&(me=D(me,X+(!me.key||Z&&Z.key===me.key?"":(""+me.key).replace(T,"$&/")+"/")+se)),O.push(me)),1;if(Z=0,re=re===""?".":re+":",k(se))for(var oe=0;oe<se.length;oe++){xe=se[oe];var z=re+$(xe,oe);Z+=V(xe,O,X,z,me)}else if(z=x(se),typeof z=="function")for(se=z.call(se),oe=0;!(xe=se.next()).done;)xe=xe.value,z=re+$(xe,oe++),Z+=V(xe,O,X,z,me);else if(xe==="object")throw O=String(se),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return Z}function ie(se,O,X){if(se==null)return se;var re=[],me=0;return V(se,re,"","",function(xe){return O.call(X,xe,me++)}),re}function W(se){if(se._status===-1){var O=se._result;O=O(),O.then(function(X){(se._status===0||se._status===-1)&&(se._status=1,se._result=X)},function(X){(se._status===0||se._status===-1)&&(se._status=2,se._result=X)}),se._status===-1&&(se._status=0,se._result=O)}if(se._status===1)return se._result.default;throw se._result}var ne={current:null},M={transition:null},de={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:M,ReactCurrentOwner:G};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Ds.Children={map:ie,forEach:function(se,O,X){ie(se,function(){O.apply(this,arguments)},X)},count:function(se){var O=0;return ie(se,function(){O++}),O},toArray:function(se){return ie(se,function(O){return O})||[]},only:function(se){if(!P(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},Ds.Component=j,Ds.Fragment=r,Ds.Profiler=a,Ds.PureComponent=E,Ds.StrictMode=n,Ds.Suspense=d,Ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ds.act=ue,Ds.cloneElement=function(se,O,X){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var re=N({},se.props),me=se.key,xe=se.ref,Z=se._owner;if(O!=null){if(O.ref!==void 0&&(xe=O.ref,Z=G.current),O.key!==void 0&&(me=""+O.key),se.type&&se.type.defaultProps)var oe=se.type.defaultProps;for(z in O)q.call(O,z)&&!H.hasOwnProperty(z)&&(re[z]=O[z]===void 0&&oe!==void 0?oe[z]:O[z])}var z=arguments.length-2;if(z===1)re.children=X;else if(1<z){oe=Array(z);for(var fe=0;fe<z;fe++)oe[fe]=arguments[fe+2];re.children=oe}return{$$typeof:s,type:se.type,key:me,ref:xe,props:re,_owner:Z}},Ds.createContext=function(se){return se={$$typeof:A,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:i,_context:se},se.Consumer=se},Ds.createElement=I,Ds.createFactory=function(se){var O=I.bind(null,se);return O.type=se,O},Ds.createRef=function(){return{current:null}},Ds.forwardRef=function(se){return{$$typeof:c,render:se}},Ds.isValidElement=P,Ds.lazy=function(se){return{$$typeof:m,_payload:{_status:-1,_result:se},_init:W}},Ds.memo=function(se,O){return{$$typeof:u,type:se,compare:O===void 0?null:O}},Ds.startTransition=function(se){var O=M.transition;M.transition={};try{se()}finally{M.transition=O}},Ds.unstable_act=ue,Ds.useCallback=function(se,O){return ne.current.useCallback(se,O)},Ds.useContext=function(se){return ne.current.useContext(se)},Ds.useDebugValue=function(){},Ds.useDeferredValue=function(se){return ne.current.useDeferredValue(se)},Ds.useEffect=function(se,O){return ne.current.useEffect(se,O)},Ds.useId=function(){return ne.current.useId()},Ds.useImperativeHandle=function(se,O,X){return ne.current.useImperativeHandle(se,O,X)},Ds.useInsertionEffect=function(se,O){return ne.current.useInsertionEffect(se,O)},Ds.useLayoutEffect=function(se,O){return ne.current.useLayoutEffect(se,O)},Ds.useMemo=function(se,O){return ne.current.useMemo(se,O)},Ds.useReducer=function(se,O,X){return ne.current.useReducer(se,O,X)},Ds.useRef=function(se){return ne.current.useRef(se)},Ds.useState=function(se){return ne.current.useState(se)},Ds.useSyncExternalStore=function(se,O,X){return ne.current.useSyncExternalStore(se,O,X)},Ds.useTransition=function(){return ne.current.useTransition()},Ds.version="18.3.1",Ds}var Bv;function rp(){return Bv||(Bv=1,vg.exports=YC()),vg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function JC(){if(Cv)return th;Cv=1;var s=rp(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function A(c,d,u){var m,f={},x=null,g=null;u!==void 0&&(x=""+u),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(g=d.ref);for(m in d)n.call(d,m)&&!i.hasOwnProperty(m)&&(f[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)f[m]===void 0&&(f[m]=d[m]);return{$$typeof:t,type:c,key:x,ref:g,props:f,_owner:a.current}}return th.Fragment=r,th.jsx=A,th.jsxs=A,th}var Sv;function XC(){return Sv||(Sv=1,wg.exports=JC()),wg.exports}var e=XC(),Nm={},bg={exports:{}},pi={},yg={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function ZC(){return Ev||(Ev=1,(function(s){function t(M,de){var ue=M.length;M.push(de);e:for(;0<ue;){var se=ue-1>>>1,O=M[se];if(0<a(O,de))M[se]=de,M[ue]=O,ue=se;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var de=M[0],ue=M.pop();if(ue!==de){M[0]=ue;e:for(var se=0,O=M.length,X=O>>>1;se<X;){var re=2*(se+1)-1,me=M[re],xe=re+1,Z=M[xe];if(0>a(me,ue))xe<O&&0>a(Z,me)?(M[se]=Z,M[xe]=ue,se=xe):(M[se]=me,M[re]=ue,se=re);else if(xe<O&&0>a(Z,ue))M[se]=Z,M[xe]=ue,se=xe;else break e}}return de}function a(M,de){var ue=M.sortIndex-de.sortIndex;return ue!==0?ue:M.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;s.unstable_now=function(){return i.now()}}else{var A=Date,c=A.now();s.unstable_now=function(){return A.now()-c}}var d=[],u=[],m=1,f=null,x=3,g=!1,N=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(M){for(var de=r(u);de!==null;){if(de.callback===null)n(u);else if(de.startTime<=M)n(u),de.sortIndex=de.expirationTime,t(d,de);else break;de=r(u)}}function k(M){if(b=!1,U(M),!N)if(r(d)!==null)N=!0,W(q);else{var de=r(u);de!==null&&ne(k,de.startTime-M)}}function q(M,de){N=!1,b&&(b=!1,y(I),I=-1),g=!0;var ue=x;try{for(U(de),f=r(d);f!==null&&(!(f.expirationTime>de)||M&&!Q());){var se=f.callback;if(typeof se=="function"){f.callback=null,x=f.priorityLevel;var O=se(f.expirationTime<=de);de=s.unstable_now(),typeof O=="function"?f.callback=O:f===r(d)&&n(d),U(de)}else n(d);f=r(d)}if(f!==null)var X=!0;else{var re=r(u);re!==null&&ne(k,re.startTime-de),X=!1}return X}finally{f=null,x=ue,g=!1}}var G=!1,H=null,I=-1,D=5,P=-1;function Q(){return!(s.unstable_now()-P<D)}function T(){if(H!==null){var M=s.unstable_now();P=M;var de=!0;try{de=H(!0,M)}finally{de?$():(G=!1,H=null)}}else G=!1}var $;if(typeof E=="function")$=function(){E(T)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ie=V.port2;V.port1.onmessage=T,$=function(){ie.postMessage(null)}}else $=function(){j(T,0)};function W(M){H=M,G||(G=!0,$())}function ne(M,de){I=j(function(){M(s.unstable_now())},de)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_continueExecution=function(){N||g||(N=!0,W(q))},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_getFirstCallbackNode=function(){return r(d)},s.unstable_next=function(M){switch(x){case 1:case 2:case 3:var de=3;break;default:de=x}var ue=x;x=de;try{return M()}finally{x=ue}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(M,de){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ue=x;x=M;try{return de()}finally{x=ue}},s.unstable_scheduleCallback=function(M,de,ue){var se=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?se+ue:se):ue=se,M){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ue+O,M={id:m++,callback:de,priorityLevel:M,startTime:ue,expirationTime:O,sortIndex:-1},ue>se?(M.sortIndex=ue,t(u,M),r(d)===null&&M===r(u)&&(b?(y(I),I=-1):b=!0,ne(k,ue-se))):(M.sortIndex=O,t(d,M),N||g||(N=!0,W(q))),M},s.unstable_shouldYield=Q,s.unstable_wrapCallback=function(M){var de=x;return function(){var ue=x;x=de;try{return M.apply(this,arguments)}finally{x=ue}}}})(Ng)),Ng}var Fv;function e4(){return Fv||(Fv=1,yg.exports=ZC()),yg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function t4(){if(_v)return pi;_v=1;var s=rp(),t=e4();function r(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(o,l){A(o,l),A(o+"Capture",l)}function A(o,l){for(a[o]=l,o=0;o<l.length;o++)n.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function x(o){return d.call(f,o)?!0:d.call(m,o)?!1:u.test(o)?f[o]=!0:(m[o]=!0,!1)}function g(o,l,h,w){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return w?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function N(o,l,h,w){if(l===null||typeof l>"u"||g(o,l,h,w))return!0;if(w)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(o,l,h,w,C,L,ee){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=w,this.attributeNamespace=C,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=L,this.removeEmptyString=ee}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){j[o]=new b(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];j[l]=new b(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){j[o]=new b(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){j[o]=new b(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){j[o]=new b(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){j[o]=new b(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){j[o]=new b(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){j[o]=new b(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){j[o]=new b(o,5,!1,o.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function E(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(y,E);j[l]=new b(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(y,E);j[l]=new b(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(y,E);j[l]=new b(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){j[o]=new b(o,1,!1,o.toLowerCase(),null,!1,!1)}),j.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){j[o]=new b(o,1,!1,o.toLowerCase(),null,!0,!0)});function U(o,l,h,w){var C=j.hasOwnProperty(l)?j[l]:null;(C!==null?C.type!==0:w||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(N(l,h,C,w)&&(h=null),w||C===null?x(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):C.mustUseProperty?o[C.propertyName]=h===null?C.type===3?!1:"":h:(l=C.attributeName,w=C.attributeNamespace,h===null?o.removeAttribute(l):(C=C.type,h=C===3||C===4&&h===!0?"":""+h,w?o.setAttributeNS(w,l,h):o.setAttribute(l,h))))}var k=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),G=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),Q=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),M=Symbol.iterator;function de(o){return o===null||typeof o!="object"?null:(o=M&&o[M]||o["@@iterator"],typeof o=="function"?o:null)}var ue=Object.assign,se;function O(o){if(se===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);se=l&&l[1]||""}return`
`+se+o}var X=!1;function re(o,l){if(!o||X)return"";X=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(tt){var w=tt}Reflect.construct(o,[],l)}else{try{l.call()}catch(tt){w=tt}o.call(l.prototype)}else{try{throw Error()}catch(tt){w=tt}o()}}catch(tt){if(tt&&w&&typeof tt.stack=="string"){for(var C=tt.stack.split(`
`),L=w.stack.split(`
`),ee=C.length-1,Ne=L.length-1;1<=ee&&0<=Ne&&C[ee]!==L[Ne];)Ne--;for(;1<=ee&&0<=Ne;ee--,Ne--)if(C[ee]!==L[Ne]){if(ee!==1||Ne!==1)do if(ee--,Ne--,0>Ne||C[ee]!==L[Ne]){var Ue=`
`+C[ee].replace(" at new "," at ");return o.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",o.displayName)),Ue}while(1<=ee&&0<=Ne);break}}}finally{X=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?O(o):""}function me(o){switch(o.tag){case 5:return O(o.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return o=re(o.type,!1),o;case 11:return o=re(o.type.render,!1),o;case 1:return o=re(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case H:return"Fragment";case G:return"Portal";case D:return"Profiler";case I:return"StrictMode";case $:return"Suspense";case V:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Q:return(o.displayName||"Context")+".Consumer";case P:return(o._context.displayName||"Context")+".Provider";case T:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ie:return l=o.displayName||null,l!==null?l:xe(o.type)||"Memo";case W:l=o._payload,o=o._init;try{return xe(o(l))}catch{}}return null}function Z(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function oe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function z(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function fe(o){var l=z(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),w=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var C=h.get,L=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return C.call(this)},set:function(ee){w=""+ee,L.call(this,ee)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return w},setValue:function(ee){w=""+ee},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Fe(o){o._valueTracker||(o._valueTracker=fe(o))}function Ve(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),w="";return o&&(w=z(o)?o.checked?"true":"false":o.value),o=w,o!==h?(l.setValue(o),!0):!1}function qe(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function st(o,l){var h=l.checked;return ue({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function le(o,l){var h=l.defaultValue==null?"":l.defaultValue,w=l.checked!=null?l.checked:l.defaultChecked;h=oe(l.value!=null?l.value:h),o._wrapperState={initialChecked:w,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Te(o,l){l=l.checked,l!=null&&U(o,"checked",l,!1)}function ze(o,l){Te(o,l);var h=oe(l.value),w=l.type;if(h!=null)w==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(w==="submit"||w==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?pe(o,l.type,h):l.hasOwnProperty("defaultValue")&&pe(o,l.type,oe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function ye(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var w=l.type;if(!(w!=="submit"&&w!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function pe(o,l,h){(l!=="number"||qe(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var Pe=Array.isArray;function et(o,l,h,w){if(o=o.options,l){l={};for(var C=0;C<h.length;C++)l["$"+h[C]]=!0;for(h=0;h<o.length;h++)C=l.hasOwnProperty("$"+o[h].value),o[h].selected!==C&&(o[h].selected=C),C&&w&&(o[h].defaultSelected=!0)}else{for(h=""+oe(h),l=null,C=0;C<o.length;C++){if(o[C].value===h){o[C].selected=!0,w&&(o[C].defaultSelected=!0);return}l!==null||o[C].disabled||(l=o[C])}l!==null&&(l.selected=!0)}}function rt(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return ue({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ht(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(r(92));if(Pe(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:oe(h)}}function Re(o,l){var h=oe(l.value),w=oe(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),w!=null&&(o.defaultValue=""+w)}function Oe(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function ft(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?ft(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var xt,dt=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,w,C){MSApp.execUnsafeLocalFunction(function(){return o(l,h,w,C)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(xt=xt||document.createElement("div"),xt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=xt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Ke(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var it={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xt=["Webkit","ms","Moz","O"];Object.keys(it).forEach(function(o){Xt.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),it[l]=it[o]})});function Lt(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||it.hasOwnProperty(o)&&it[o]?(""+l).trim():l+"px"}function Et(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var w=h.indexOf("--")===0,C=Lt(h,l[h],w);h==="float"&&(h="cssFloat"),w?o.setProperty(h,C):o[h]=C}}var Vt=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tt(o,l){if(l){if(Vt[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Ft(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ds=null;function Pt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Bt=null,xs=null,bt=null;function Wt(o){if(o=ZA(o)){if(typeof Bt!="function")throw Error(r(280));var l=o.stateNode;l&&(l=Yc(l),Bt(o.stateNode,o.type,l))}}function Ct(o){xs?bt?bt.push(o):bt=[o]:xs=o}function Ks(){if(xs){var o=xs,l=bt;if(bt=xs=null,Wt(o),l)for(o=0;o<l.length;o++)Wt(l[o])}}function _s(o,l){return o(l)}function Ys(){}var Lr=!1;function Ut(o,l,h){if(Lr)return o(l,h);Lr=!0;try{return _s(o,l,h)}finally{Lr=!1,(xs!==null||bt!==null)&&(Ys(),Ks())}}function $s(o,l){var h=o.stateNode;if(h===null)return null;var w=Yc(h);if(w===null)return null;h=w[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(o=o.type,w=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!w;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var Hr=!1;if(c)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Hr=!1}function tr(o,l,h,w,C,L,ee,Ne,Ue){var tt=Array.prototype.slice.call(arguments,3);try{l.apply(h,tt)}catch(wt){this.onError(wt)}}var Ts=!1,Ps=null,hr=!1,ra=null,wa={onError:function(o){Ts=!0,Ps=o}};function _n(o,l,h,w,C,L,ee,Ne,Ue){Ts=!1,Ps=null,tr.apply(wa,arguments)}function He(o,l,h,w,C,L,ee,Ne,Ue){if(_n.apply(this,arguments),Ts){if(Ts){var tt=Ps;Ts=!1,Ps=null}else throw Error(r(198));hr||(hr=!0,ra=tt)}}function us(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function ys(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Ws(o){if(us(o)!==o)throw Error(r(188))}function je(o){var l=o.alternate;if(!l){if(l=us(o),l===null)throw Error(r(188));return l!==o?null:o}for(var h=o,w=l;;){var C=h.return;if(C===null)break;var L=C.alternate;if(L===null){if(w=C.return,w!==null){h=w;continue}break}if(C.child===L.child){for(L=C.child;L;){if(L===h)return Ws(C),o;if(L===w)return Ws(C),l;L=L.sibling}throw Error(r(188))}if(h.return!==w.return)h=C,w=L;else{for(var ee=!1,Ne=C.child;Ne;){if(Ne===h){ee=!0,h=C,w=L;break}if(Ne===w){ee=!0,w=C,h=L;break}Ne=Ne.sibling}if(!ee){for(Ne=L.child;Ne;){if(Ne===h){ee=!0,h=L,w=C;break}if(Ne===w){ee=!0,w=L,h=C;break}Ne=Ne.sibling}if(!ee)throw Error(r(189))}}if(h.alternate!==w)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:l}function bs(o){return o=je(o),o!==null?Js(o):null}function Js(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Js(o);if(l!==null)return l;o=o.sibling}return null}var mn=t.unstable_scheduleCallback,Za=t.unstable_cancelCallback,Ha=t.unstable_shouldYield,rr=t.unstable_requestPaint,mr=t.unstable_now,PA=t.unstable_getCurrentPriorityLevel,Al=t.unstable_ImmediatePriority,na=t.unstable_UserBlockingPriority,Gi=t.unstable_NormalPriority,RA=t.unstable_LowPriority,cl=t.unstable_IdlePriority,wo=null,aa=null;function DA(o){if(aa&&typeof aa.onCommitFiberRoot=="function")try{aa.onCommitFiberRoot(wo,o,void 0,(o.current.flags&128)===128)}catch{}}var Mr=Math.clz32?Math.clz32:Kr,dl=Math.log,Vc=Math.LN2;function Kr(o){return o>>>=0,o===0?32:31-(dl(o)/Vc|0)|0}var vo=64,Mn=4194304;function ei(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function bo(o,l){var h=o.pendingLanes;if(h===0)return 0;var w=0,C=o.suspendedLanes,L=o.pingedLanes,ee=h&268435455;if(ee!==0){var Ne=ee&~C;Ne!==0?w=ei(Ne):(L&=ee,L!==0&&(w=ei(L)))}else ee=h&~C,ee!==0?w=ei(ee):L!==0&&(w=ei(L));if(w===0)return 0;if(l!==0&&l!==w&&(l&C)===0&&(C=w&-w,L=l&-l,C>=L||C===16&&(L&4194240)!==0))return l;if((w&4)!==0&&(w|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=w;0<l;)h=31-Mr(l),C=1<<h,w|=o[h],l&=~C;return w}function va(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xr(o,l){for(var h=o.suspendedLanes,w=o.pingedLanes,C=o.expirationTimes,L=o.pendingLanes;0<L;){var ee=31-Mr(L),Ne=1<<ee,Ue=C[ee];Ue===-1?((Ne&h)===0||(Ne&w)!==0)&&(C[ee]=va(Ne,l)):Ue<=l&&(o.expiredLanes|=Ne),L&=~Ne}}function ia(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ql(){var o=vo;return vo<<=1,(vo&4194240)===0&&(vo=64),o}function ul(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function $i(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Mr(l),o[l]=h}function Ma(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var w=o.eventTimes;for(o=o.expirationTimes;0<h;){var C=31-Mr(h),L=1<<C;l[C]=0,w[C]=-1,o[C]=-1,h&=~L}}function yo(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var w=31-Mr(h),C=1<<w;C&l|o[w]&l&&(o[w]|=l),h&=~C}}var zs=0;function No(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Ni,Yl,OA,HA,hl,ml=!1,Kn=[],ti=null,Vn=null,ba=null,jo=new Map,hs=new Map,si=[],zc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function MA(o,l){switch(o){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":jo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(l.pointerId)}}function oa(o,l,h,w,C,L){return o===null||o.nativeEvent!==L?(o={blockedOn:l,domEventName:h,eventSystemFlags:w,nativeEvent:L,targetContainers:[C]},l!==null&&(l=ZA(l),l!==null&&Yl(l)),o):(o.eventSystemFlags|=w,l=o.targetContainers,C!==null&&l.indexOf(C)===-1&&l.push(C),o)}function Ka(o,l,h,w,C){switch(l){case"focusin":return ti=oa(ti,o,l,h,w,C),!0;case"dragenter":return Vn=oa(Vn,o,l,h,w,C),!0;case"mouseover":return ba=oa(ba,o,l,h,w,C),!0;case"pointerover":var L=C.pointerId;return jo.set(L,oa(jo.get(L)||null,o,l,h,w,C)),!0;case"gotpointercapture":return L=C.pointerId,hs.set(L,oa(hs.get(L)||null,o,l,h,w,C)),!0}return!1}function Jl(o){var l=Cl(o.target);if(l!==null){var h=us(l);if(h!==null){if(l=h.tag,l===13){if(l=ys(h),l!==null){o.blockedOn=l,hl(o.priority,function(){OA(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function fl(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=So(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var w=new h.constructor(h.type,h);ds=w,h.target.dispatchEvent(w),ds=null}else return l=ZA(h),l!==null&&Yl(l),o.blockedOn=h,!1;l.shift()}return!0}function Bo(o,l,h){fl(o)&&h.delete(l)}function Xl(){ml=!1,ti!==null&&fl(ti)&&(ti=null),Vn!==null&&fl(Vn)&&(Vn=null),ba!==null&&fl(ba)&&(ba=null),jo.forEach(Bo),hs.forEach(Bo)}function Va(o,l){o.blockedOn===l&&(o.blockedOn=null,ml||(ml=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Xl)))}function Co(o){function l(C){return Va(C,o)}if(0<Kn.length){Va(Kn[0],o);for(var h=1;h<Kn.length;h++){var w=Kn[h];w.blockedOn===o&&(w.blockedOn=null)}}for(ti!==null&&Va(ti,o),Vn!==null&&Va(Vn,o),ba!==null&&Va(ba,o),jo.forEach(l),hs.forEach(l),h=0;h<si.length;h++)w=si[h],w.blockedOn===o&&(w.blockedOn=null);for(;0<si.length&&(h=si[0],h.blockedOn===null);)Jl(h),h.blockedOn===null&&si.shift()}var zn=k.ReactCurrentBatchConfig,pl=!0;function Zl(o,l,h,w){var C=zs,L=zn.transition;zn.transition=null;try{zs=1,gl(o,l,h,w)}finally{zs=C,zn.transition=L}}function eA(o,l,h,w){var C=zs,L=zn.transition;zn.transition=null;try{zs=4,gl(o,l,h,w)}finally{zs=C,zn.transition=L}}function gl(o,l,h,w){if(pl){var C=So(o,l,h,w);if(C===null)Be(o,l,w,ya,h),MA(o,w);else if(Ka(C,o,l,h,w))w.stopPropagation();else if(MA(o,w),l&4&&-1<zc.indexOf(o)){for(;C!==null;){var L=ZA(C);if(L!==null&&Ni(L),L=So(o,l,h,w),L===null&&Be(o,l,w,ya,h),L===C)break;C=L}C!==null&&w.stopPropagation()}else Be(o,l,w,null,h)}}var ya=null;function So(o,l,h,w){if(ya=null,o=Pt(w),o=Cl(o),o!==null)if(l=us(o),l===null)o=null;else if(h=l.tag,h===13){if(o=ys(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return ya=o,null}function Eo(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PA()){case Al:return 1;case na:return 4;case Gi:case RA:return 16;case cl:return 536870912;default:return 16}default:return 16}}var Na=null,ri=null,Wi=null;function tA(){if(Wi)return Wi;var o,l=ri,h=l.length,w,C="value"in Na?Na.value:Na.textContent,L=C.length;for(o=0;o<h&&l[o]===C[o];o++);var ee=h-o;for(w=1;w<=ee&&l[h-w]===C[L-w];w++);return Wi=C.slice(o,1<w?1-w:void 0)}function Fo(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function ja(){return!0}function ni(){return!1}function jn(o){function l(h,w,C,L,ee){this._reactName=h,this._targetInst=C,this.type=w,this.nativeEvent=L,this.target=ee,this.currentTarget=null;for(var Ne in o)o.hasOwnProperty(Ne)&&(h=o[Ne],this[Ne]=h?h(L):L[Ne]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?ja:ni,this.isPropagationStopped=ni,this}return ue(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),l}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=jn(Ba),B=ue({},Ba,{view:0,detail:0}),Y=jn(B),be,Se,De,lt=ue({},B,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==De&&(De&&o.type==="mousemove"?(be=o.screenX-De.screenX,Se=o.screenY-De.screenY):Se=be=0,De=o),be)},movementY:function(o){return"movementY"in o?o.movementY:Se}}),pt=jn(lt),Rt=ue({},lt,{dataTransfer:0}),as=jn(Rt),fs=ue({},B,{relatedTarget:0}),ws=jn(fs),Us=ue({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),ir=jn(Us),Vr=ue({},Ba,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),or=jn(Vr),Zr=ue({},Ba,{data:0}),Qr=jn(Zr),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ji={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},la={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ai(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=la[o])?!!l[o]:!1}function qi(){return ai}var _o=ue({},B,{key:function(o){if(o.key){var l=fn[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Fo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?ji[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qi,charCode:function(o){return o.type==="keypress"?Fo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Fo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Bi=jn(_o),Yi=ue({},lt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ci=jn(Yi),Si=ue({},B,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qi}),on=jn(Si),Uo=ue({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ji=jn(Uo),sA=ue({},lt,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),rA=jn(sA),Un=[9,13,27,32],za=c&&"CompositionEvent"in window,ii=null;c&&"documentMode"in document&&(ii=document.documentMode);var KA=c&&"TextEvent"in window&&!ii,Aa=c&&(!za||ii&&8<ii&&11>=ii),Xi=" ",wl=!1;function vl(o,l){switch(o){case"keyup":return Un.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ei(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ca=!1;function ca(o,l){switch(o){case"compositionend":return Ei(l);case"keypress":return l.which!==32?null:(wl=!0,Xi);case"textInput":return o=l.data,o===Xi&&wl?null:o;default:return null}}function da(o,l){if(Ca)return o==="compositionend"||!za&&vl(o,l)?(o=tA(),Wi=ri=Na=null,Ca=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Aa&&l.locale!=="ko"?null:l.data;default:return null}}var Zi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oi(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Zi[o.type]:l==="textarea"}function Fi(o,l,h,w){Ct(w),l=qt(l,"onChange"),0<l.length&&(h=new xl("onChange","change",null,h,w),o.push({event:h,listeners:l}))}var _i=null,li=null;function Tr(o){WA(o,0)}function ko(o){var l=lA(o);if(Ve(l))return o}function Ai(o,l){if(o==="change")return l}var Ga=!1;if(c){var Io;if(c){var Lo="oninput"in document;if(!Lo){var bl=document.createElement("div");bl.setAttribute("oninput","return;"),Lo=typeof bl.oninput=="function"}Io=Lo}else Io=!1;Ga=Io&&(!document.documentMode||9<document.documentMode)}function eo(){_i&&(_i.detachEvent("onpropertychange",to),li=_i=null)}function to(o){if(o.propertyName==="value"&&ko(li)){var l=[];Fi(l,li,o,Pt(o)),Ut(Tr,l)}}function Qo(o,l,h){o==="focusin"?(eo(),_i=l,li=h,_i.attachEvent("onpropertychange",to)):o==="focusout"&&eo()}function To(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ko(li)}function yl(o,l){if(o==="click")return ko(l)}function Po(o,l){if(o==="input"||o==="change")return ko(l)}function Nl(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Pr=typeof Object.is=="function"?Object.is:Nl;function ua(o,l){if(Pr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),w=Object.keys(l);if(h.length!==w.length)return!1;for(w=0;w<h.length;w++){var C=h[w];if(!d.call(l,C)||!Pr(o[C],l[C]))return!1}return!0}function qs(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function nr(o,l){var h=qs(o);o=0;for(var w;h;){if(h.nodeType===3){if(w=o+h.textContent.length,o<=l&&w>=l)return{node:h,offset:l-o};o=w}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=qs(h)}}function Rr(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Rr(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function en(){for(var o=window,l=qe();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=qe(o.document)}return l}function ci(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function VA(o){var l=en(),h=o.focusedElem,w=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&Rr(h.ownerDocument.documentElement,h)){if(w!==null&&ci(h)){if(l=w.start,o=w.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var C=h.textContent.length,L=Math.min(w.start,C);w=w.end===void 0?L:Math.min(w.end,C),!o.extend&&L>w&&(C=w,w=L,L=C),C=nr(h,L);var ee=nr(h,w);C&&ee&&(o.rangeCount!==1||o.anchorNode!==C.node||o.anchorOffset!==C.offset||o.focusNode!==ee.node||o.focusOffset!==ee.offset)&&(l=l.createRange(),l.setStart(C.node,C.offset),o.removeAllRanges(),L>w?(o.addRange(l),o.extend(ee.node,ee.offset)):(l.setEnd(ee.node,ee.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var nA=c&&"documentMode"in document&&11>=document.documentMode,so=null,Gc=null,aA=null,$c=!1;function Cd(o,l,h){var w=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;$c||so==null||so!==qe(w)||(w=so,"selectionStart"in w&&ci(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),aA&&ua(aA,w)||(aA=w,w=qt(Gc,"onSelect"),0<w.length&&(l=new xl("onSelect","select",null,l,h),o.push({event:l,listeners:w}),l.target=so)))}function zA(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var jl={animationend:zA("Animation","AnimationEnd"),animationiteration:zA("Animation","AnimationIteration"),animationstart:zA("Animation","AnimationStart"),transitionend:zA("Transition","TransitionEnd")},Bl={},Sd={};c&&(Sd=document.createElement("div").style,"AnimationEvent"in window||(delete jl.animationend.animation,delete jl.animationiteration.animation,delete jl.animationstart.animation),"TransitionEvent"in window||delete jl.transitionend.transition);function GA(o){if(Bl[o])return Bl[o];if(!jl[o])return o;var l=jl[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in Sd)return Bl[o]=l[h];return o}var Ed=GA("animationend"),Fd=GA("animationiteration"),_d=GA("animationstart"),Ud=GA("transitionend"),kd=new Map,Id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(o,l){kd.set(o,l),i(l,[o])}for(var iA=0;iA<Id.length;iA++){var Gn=Id[iA],$a=Gn.toLowerCase(),Wc=Gn[0].toUpperCase()+Gn.slice(1);Ui($a,"on"+Wc)}Ui(Ed,"onAnimationEnd"),Ui(Fd,"onAnimationIteration"),Ui(_d,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(Ud,"onTransitionEnd"),A("onMouseEnter",["mouseout","mouseover"]),A("onMouseLeave",["mouseout","mouseover"]),A("onPointerEnter",["pointerout","pointerover"]),A("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ru=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function $A(o,l,h){var w=o.type||"unknown-event";o.currentTarget=h,He(w,l,void 0,o),o.currentTarget=null}function WA(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var w=o[h],C=w.event;w=w.listeners;e:{var L=void 0;if(l)for(var ee=w.length-1;0<=ee;ee--){var Ne=w[ee],Ue=Ne.instance,tt=Ne.currentTarget;if(Ne=Ne.listener,Ue!==L&&C.isPropagationStopped())break e;$A(C,Ne,tt),L=Ue}else for(ee=0;ee<w.length;ee++){if(Ne=w[ee],Ue=Ne.instance,tt=Ne.currentTarget,Ne=Ne.listener,Ue!==L&&C.isPropagationStopped())break e;$A(C,Ne,tt),L=Ue}}}if(hr)throw o=ra,hr=!1,ra=null,o}function lr(o,l){var h=l[Ea];h===void 0&&(h=l[Ea]=new Set);var w=o+"__bubble";h.has(w)||(Ae(l,o,2,!1),h.add(w))}function qA(o,l,h){var w=0;l&&(w|=4),Ae(h,o,w,l)}var _="_reactListening"+Math.random().toString(36).slice(2);function K(o){if(!o[_]){o[_]=!0,n.forEach(function(h){h!=="selectionchange"&&(Ru.has(h)||qA(h,!1,o),qA(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[_]||(l[_]=!0,qA("selectionchange",!1,l))}}function Ae(o,l,h,w){switch(Eo(l)){case 1:var C=Zl;break;case 4:C=eA;break;default:C=gl}h=C.bind(null,l,h,o),C=void 0,!Hr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(C=!0),w?C!==void 0?o.addEventListener(l,h,{capture:!0,passive:C}):o.addEventListener(l,h,!0):C!==void 0?o.addEventListener(l,h,{passive:C}):o.addEventListener(l,h,!1)}function Be(o,l,h,w,C){var L=w;if((l&1)===0&&(l&2)===0&&w!==null)e:for(;;){if(w===null)return;var ee=w.tag;if(ee===3||ee===4){var Ne=w.stateNode.containerInfo;if(Ne===C||Ne.nodeType===8&&Ne.parentNode===C)break;if(ee===4)for(ee=w.return;ee!==null;){var Ue=ee.tag;if((Ue===3||Ue===4)&&(Ue=ee.stateNode.containerInfo,Ue===C||Ue.nodeType===8&&Ue.parentNode===C))return;ee=ee.return}for(;Ne!==null;){if(ee=Cl(Ne),ee===null)return;if(Ue=ee.tag,Ue===5||Ue===6){w=L=ee;continue e}Ne=Ne.parentNode}}w=w.return}Ut(function(){var tt=L,wt=Pt(h),vt=[];e:{var gt=kd.get(o);if(gt!==void 0){var Gt=xl,ts=o;switch(o){case"keypress":if(Fo(h)===0)break e;case"keydown":case"keyup":Gt=Bi;break;case"focusin":ts="focus",Gt=ws;break;case"focusout":ts="blur",Gt=ws;break;case"beforeblur":case"afterblur":Gt=ws;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Gt=pt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Gt=as;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Gt=on;break;case Ed:case Fd:case _d:Gt=ir;break;case Ud:Gt=Ji;break;case"scroll":Gt=Y;break;case"wheel":Gt=rA;break;case"copy":case"cut":case"paste":Gt=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Gt=Ci}var is=(l&4)!==0,xn=!is&&o==="scroll",$e=is?gt!==null?gt+"Capture":null:gt;is=[];for(var Qe=tt,Je;Qe!==null;){Je=Qe;var Nt=Je.stateNode;if(Je.tag===5&&Nt!==null&&(Je=Nt,$e!==null&&(Nt=$s(Qe,$e),Nt!=null&&is.push(Ye(Qe,Nt,Je)))),xn)break;Qe=Qe.return}0<is.length&&(gt=new Gt(gt,ts,null,h,wt),vt.push({event:gt,listeners:is}))}}if((l&7)===0){e:{if(gt=o==="mouseover"||o==="pointerover",Gt=o==="mouseout"||o==="pointerout",gt&&h!==ds&&(ts=h.relatedTarget||h.fromElement)&&(Cl(ts)||ts[$n]))break e;if((Gt||gt)&&(gt=wt.window===wt?wt:(gt=wt.ownerDocument)?gt.defaultView||gt.parentWindow:window,Gt?(ts=h.relatedTarget||h.toElement,Gt=tt,ts=ts?Cl(ts):null,ts!==null&&(xn=us(ts),ts!==xn||ts.tag!==5&&ts.tag!==6)&&(ts=null)):(Gt=null,ts=tt),Gt!==ts)){if(is=pt,Nt="onMouseLeave",$e="onMouseEnter",Qe="mouse",(o==="pointerout"||o==="pointerover")&&(is=Ci,Nt="onPointerLeave",$e="onPointerEnter",Qe="pointer"),xn=Gt==null?gt:lA(Gt),Je=ts==null?gt:lA(ts),gt=new is(Nt,Qe+"leave",Gt,h,wt),gt.target=xn,gt.relatedTarget=Je,Nt=null,Cl(wt)===tt&&(is=new is($e,Qe+"enter",ts,h,wt),is.target=Je,is.relatedTarget=xn,Nt=is),xn=Nt,Gt&&ts)t:{for(is=Gt,$e=ts,Qe=0,Je=is;Je;Je=Dt(Je))Qe++;for(Je=0,Nt=$e;Nt;Nt=Dt(Nt))Je++;for(;0<Qe-Je;)is=Dt(is),Qe--;for(;0<Je-Qe;)$e=Dt($e),Je--;for(;Qe--;){if(is===$e||$e!==null&&is===$e.alternate)break t;is=Dt(is),$e=Dt($e)}is=null}else is=null;Gt!==null&&ks(vt,gt,Gt,is,!1),ts!==null&&xn!==null&&ks(vt,xn,ts,is,!0)}}e:{if(gt=tt?lA(tt):window,Gt=gt.nodeName&&gt.nodeName.toLowerCase(),Gt==="select"||Gt==="input"&&gt.type==="file")var ls=Ai;else if(oi(gt))if(Ga)ls=Po;else{ls=To;var ps=Qo}else(Gt=gt.nodeName)&&Gt.toLowerCase()==="input"&&(gt.type==="checkbox"||gt.type==="radio")&&(ls=yl);if(ls&&(ls=ls(o,tt))){Fi(vt,ls,h,wt);break e}ps&&ps(o,gt,tt),o==="focusout"&&(ps=gt._wrapperState)&&ps.controlled&&gt.type==="number"&&pe(gt,"number",gt.value)}switch(ps=tt?lA(tt):window,o){case"focusin":(oi(ps)||ps.contentEditable==="true")&&(so=ps,Gc=tt,aA=null);break;case"focusout":aA=Gc=so=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,Cd(vt,h,wt);break;case"selectionchange":if(nA)break;case"keydown":case"keyup":Cd(vt,h,wt)}var gs;if(za)e:{switch(o){case"compositionstart":var Ns="onCompositionStart";break e;case"compositionend":Ns="onCompositionEnd";break e;case"compositionupdate":Ns="onCompositionUpdate";break e}Ns=void 0}else Ca?vl(o,h)&&(Ns="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Ns="onCompositionStart");Ns&&(Aa&&h.locale!=="ko"&&(Ca||Ns!=="onCompositionStart"?Ns==="onCompositionEnd"&&Ca&&(gs=tA()):(Na=wt,ri="value"in Na?Na.value:Na.textContent,Ca=!0)),ps=qt(tt,Ns),0<ps.length&&(Ns=new Qr(Ns,o,null,h,wt),vt.push({event:Ns,listeners:ps}),gs?Ns.data=gs:(gs=Ei(h),gs!==null&&(Ns.data=gs)))),(gs=KA?ca(o,h):da(o,h))&&(tt=qt(tt,"onBeforeInput"),0<tt.length&&(wt=new Qr("onBeforeInput","beforeinput",null,h,wt),vt.push({event:wt,listeners:tt}),wt.data=gs))}WA(vt,l)})}function Ye(o,l,h){return{instance:o,listener:l,currentTarget:h}}function qt(o,l){for(var h=l+"Capture",w=[];o!==null;){var C=o,L=C.stateNode;C.tag===5&&L!==null&&(C=L,L=$s(o,h),L!=null&&w.unshift(Ye(o,L,C)),L=$s(o,l),L!=null&&w.push(Ye(o,L,C))),o=o.return}return w}function Dt(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function ks(o,l,h,w,C){for(var L=l._reactName,ee=[];h!==null&&h!==w;){var Ne=h,Ue=Ne.alternate,tt=Ne.stateNode;if(Ue!==null&&Ue===w)break;Ne.tag===5&&tt!==null&&(Ne=tt,C?(Ue=$s(h,L),Ue!=null&&ee.unshift(Ye(h,Ue,Ne))):C||(Ue=$s(h,L),Ue!=null&&ee.push(Ye(h,Ue,Ne)))),h=h.return}ee.length!==0&&o.push({event:l,listeners:ee})}var ln=/\r\n?/g,zr=/\u0000|\uFFFD/g;function Do(o){return(typeof o=="string"?o:""+o).replace(ln,`
`).replace(zr,"")}function YA(o,l,h){if(l=Do(l),Do(o)!==l&&h)throw Error(r(425))}function JA(){}var qc=null,oA=null;function Du(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ou=typeof setTimeout=="function"?setTimeout:void 0,Gh=typeof clearTimeout=="function"?clearTimeout:void 0,$h=typeof Promise=="function"?Promise:void 0,Qp=typeof queueMicrotask=="function"?queueMicrotask:typeof $h<"u"?function(o){return $h.resolve(null).then(o).catch(Tp)}:Ou;function Tp(o){setTimeout(function(){throw o})}function Hu(o,l){var h=l,w=0;do{var C=h.nextSibling;if(o.removeChild(h),C&&C.nodeType===8)if(h=C.data,h==="/$"){if(w===0){o.removeChild(C),Co(l);return}w--}else h!=="$"&&h!=="$?"&&h!=="$!"||w++;h=C}while(h);Co(l)}function ha(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function di(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var Sa=Math.random().toString(36).slice(2),ro="__reactFiber$"+Sa,XA="__reactProps$"+Sa,$n="__reactContainer$"+Sa,Ea="__reactEvents$"+Sa,Pp="__reactListeners$"+Sa,Rp="__reactHandles$"+Sa;function Cl(o){var l=o[ro];if(l)return l;for(var h=o.parentNode;h;){if(l=h[$n]||h[ro]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=di(o);o!==null;){if(h=o[ro])return h;o=di(o)}return l}o=h,h=o.parentNode}return null}function ZA(o){return o=o[ro]||o[$n],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function lA(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Yc(o){return o[XA]||null}var Mu=[],Oo=-1;function ki(o){return{current:o}}function ar(o){0>Oo||(o.current=Mu[Oo],Mu[Oo]=null,Oo--)}function Ar(o,l){Oo++,Mu[Oo]=o.current,o.current=l}var Sl={},kn=ki(Sl),Fa=ki(!1),AA=Sl;function ec(o,l){var h=o.type.contextTypes;if(!h)return Sl;var w=o.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===l)return w.__reactInternalMemoizedMaskedChildContext;var C={},L;for(L in h)C[L]=l[L];return w&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=C),C}function _a(o){return o=o.childContextTypes,o!=null}function Ld(){ar(Fa),ar(kn)}function Wh(o,l,h){if(kn.current!==Sl)throw Error(r(168));Ar(kn,l),Ar(Fa,h)}function Ku(o,l,h){var w=o.stateNode;if(l=l.childContextTypes,typeof w.getChildContext!="function")return h;w=w.getChildContext();for(var C in w)if(!(C in l))throw Error(r(108,Z(o)||"Unknown",C));return ue({},h,w)}function cA(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Sl,AA=kn.current,Ar(kn,o),Ar(Fa,Fa.current),!0}function qh(o,l,h){var w=o.stateNode;if(!w)throw Error(r(169));h?(o=Ku(o,l,AA),w.__reactInternalMemoizedMergedChildContext=o,ar(Fa),ar(kn),Ar(kn,o)):ar(Fa),Ar(Fa,h)}var Ho=null,Jc=!1,p=!1;function v(o){Ho===null?Ho=[o]:Ho.push(o)}function F(o){Jc=!0,v(o)}function R(){if(!p&&Ho!==null){p=!0;var o=0,l=zs;try{var h=Ho;for(zs=1;o<h.length;o++){var w=h[o];do w=w(!0);while(w!==null)}Ho=null,Jc=!1}catch(C){throw Ho!==null&&(Ho=Ho.slice(o+1)),mn(Al,R),C}finally{zs=l,p=!1}}return null}var J=[],te=0,ae=null,ce=0,he=[],we=0,_e=null,Ge=1,ve="";function Ie(o,l){J[te++]=ce,J[te++]=ae,ae=o,ce=l}function Me(o,l,h){he[we++]=Ge,he[we++]=ve,he[we++]=_e,_e=o;var w=Ge;o=ve;var C=32-Mr(w)-1;w&=~(1<<C),h+=1;var L=32-Mr(l)+C;if(30<L){var ee=C-C%5;L=(w&(1<<ee)-1).toString(32),w>>=ee,C-=ee,Ge=1<<32-Mr(l)+C|h<<C|w,ve=L+o}else Ge=1<<L|h<<C|w,ve=o}function ot(o){o.return!==null&&(Ie(o,1),Me(o,1,0))}function We(o){for(;o===ae;)ae=J[--te],J[te]=null,ce=J[--te],J[te]=null;for(;o===_e;)_e=he[--we],he[we]=null,ve=he[--we],he[we]=null,Ge=he[--we],he[we]=null}var nt=null,at=null,ut=!1,mt=null;function os(o,l){var h=lo(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function Yt(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,nt=o,at=ha(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,nt=o,at=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=_e!==null?{id:Ge,overflow:ve}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=lo(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,nt=o,at=null,!0):!1;default:return!1}}function Bs(o){return(o.mode&1)!==0&&(o.flags&128)===0}function es(o){if(ut){var l=at;if(l){var h=l;if(!Yt(o,l)){if(Bs(o))throw Error(r(418));l=ha(h.nextSibling);var w=nt;l&&Yt(o,l)?os(w,h):(o.flags=o.flags&-4097|2,ut=!1,nt=o)}}else{if(Bs(o))throw Error(r(418));o.flags=o.flags&-4097|2,ut=!1,nt=o}}}function Rs(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;nt=o}function Gr(o){if(o!==nt)return!1;if(!ut)return Rs(o),ut=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Du(o.type,o.memoizedProps)),l&&(l=at)){if(Bs(o))throw Cs(),Error(r(418));for(;l;)os(o,l),l=ha(l.nextSibling)}if(Rs(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){at=ha(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}at=null}}else at=nt?ha(o.stateNode.nextSibling):null;return!0}function Cs(){for(var o=at;o;)o=ha(o.nextSibling)}function Jt(){at=nt=null,ut=!1}function St(o){mt===null?mt=[o]:mt.push(o)}var tn=k.ReactCurrentBatchConfig;function vs(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var w=h.stateNode}if(!w)throw Error(r(147,o));var C=w,L=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===L?l.ref:(l=function(ee){var Ne=C.refs;ee===null?delete Ne[L]:Ne[L]=ee},l._stringRef=L,l)}if(typeof o!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,o))}return o}function Is(o,l){throw o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function wr(o){var l=o._init;return l(o._payload)}function Bn(o){function l($e,Qe){if(o){var Je=$e.deletions;Je===null?($e.deletions=[Qe],$e.flags|=16):Je.push(Qe)}}function h($e,Qe){if(!o)return null;for(;Qe!==null;)l($e,Qe),Qe=Qe.sibling;return null}function w($e,Qe){for($e=new Map;Qe!==null;)Qe.key!==null?$e.set(Qe.key,Qe):$e.set(Qe.index,Qe),Qe=Qe.sibling;return $e}function C($e,Qe){return $e=cc($e,Qe),$e.index=0,$e.sibling=null,$e}function L($e,Qe,Je){return $e.index=Je,o?(Je=$e.alternate,Je!==null?(Je=Je.index,Je<Qe?($e.flags|=2,Qe):Je):($e.flags|=2,Qe)):($e.flags|=1048576,Qe)}function ee($e){return o&&$e.alternate===null&&($e.flags|=2),$e}function Ne($e,Qe,Je,Nt){return Qe===null||Qe.tag!==6?(Qe=hg(Je,$e.mode,Nt),Qe.return=$e,Qe):(Qe=C(Qe,Je),Qe.return=$e,Qe)}function Ue($e,Qe,Je,Nt){var ls=Je.type;return ls===H?wt($e,Qe,Je.props.children,Nt,Je.key):Qe!==null&&(Qe.elementType===ls||typeof ls=="object"&&ls!==null&&ls.$$typeof===W&&wr(ls)===Qe.type)?(Nt=C(Qe,Je.props),Nt.ref=vs($e,Qe,Je),Nt.return=$e,Nt):(Nt=fm(Je.type,Je.key,Je.props,null,$e.mode,Nt),Nt.ref=vs($e,Qe,Je),Nt.return=$e,Nt)}function tt($e,Qe,Je,Nt){return Qe===null||Qe.tag!==4||Qe.stateNode.containerInfo!==Je.containerInfo||Qe.stateNode.implementation!==Je.implementation?(Qe=mg(Je,$e.mode,Nt),Qe.return=$e,Qe):(Qe=C(Qe,Je.children||[]),Qe.return=$e,Qe)}function wt($e,Qe,Je,Nt,ls){return Qe===null||Qe.tag!==7?(Qe=ad(Je,$e.mode,Nt,ls),Qe.return=$e,Qe):(Qe=C(Qe,Je),Qe.return=$e,Qe)}function vt($e,Qe,Je){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return Qe=hg(""+Qe,$e.mode,Je),Qe.return=$e,Qe;if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case q:return Je=fm(Qe.type,Qe.key,Qe.props,null,$e.mode,Je),Je.ref=vs($e,null,Qe),Je.return=$e,Je;case G:return Qe=mg(Qe,$e.mode,Je),Qe.return=$e,Qe;case W:var Nt=Qe._init;return vt($e,Nt(Qe._payload),Je)}if(Pe(Qe)||de(Qe))return Qe=ad(Qe,$e.mode,Je,null),Qe.return=$e,Qe;Is($e,Qe)}return null}function gt($e,Qe,Je,Nt){var ls=Qe!==null?Qe.key:null;if(typeof Je=="string"&&Je!==""||typeof Je=="number")return ls!==null?null:Ne($e,Qe,""+Je,Nt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case q:return Je.key===ls?Ue($e,Qe,Je,Nt):null;case G:return Je.key===ls?tt($e,Qe,Je,Nt):null;case W:return ls=Je._init,gt($e,Qe,ls(Je._payload),Nt)}if(Pe(Je)||de(Je))return ls!==null?null:wt($e,Qe,Je,Nt,null);Is($e,Je)}return null}function Gt($e,Qe,Je,Nt,ls){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number")return $e=$e.get(Je)||null,Ne(Qe,$e,""+Nt,ls);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case q:return $e=$e.get(Nt.key===null?Je:Nt.key)||null,Ue(Qe,$e,Nt,ls);case G:return $e=$e.get(Nt.key===null?Je:Nt.key)||null,tt(Qe,$e,Nt,ls);case W:var ps=Nt._init;return Gt($e,Qe,Je,ps(Nt._payload),ls)}if(Pe(Nt)||de(Nt))return $e=$e.get(Je)||null,wt(Qe,$e,Nt,ls,null);Is(Qe,Nt)}return null}function ts($e,Qe,Je,Nt){for(var ls=null,ps=null,gs=Qe,Ns=Qe=0,Xn=null;gs!==null&&Ns<Je.length;Ns++){gs.index>Ns?(Xn=gs,gs=null):Xn=gs.sibling;var sr=gt($e,gs,Je[Ns],Nt);if(sr===null){gs===null&&(gs=Xn);break}o&&gs&&sr.alternate===null&&l($e,gs),Qe=L(sr,Qe,Ns),ps===null?ls=sr:ps.sibling=sr,ps=sr,gs=Xn}if(Ns===Je.length)return h($e,gs),ut&&Ie($e,Ns),ls;if(gs===null){for(;Ns<Je.length;Ns++)gs=vt($e,Je[Ns],Nt),gs!==null&&(Qe=L(gs,Qe,Ns),ps===null?ls=gs:ps.sibling=gs,ps=gs);return ut&&Ie($e,Ns),ls}for(gs=w($e,gs);Ns<Je.length;Ns++)Xn=Gt(gs,$e,Ns,Je[Ns],Nt),Xn!==null&&(o&&Xn.alternate!==null&&gs.delete(Xn.key===null?Ns:Xn.key),Qe=L(Xn,Qe,Ns),ps===null?ls=Xn:ps.sibling=Xn,ps=Xn);return o&&gs.forEach(function(dc){return l($e,dc)}),ut&&Ie($e,Ns),ls}function is($e,Qe,Je,Nt){var ls=de(Je);if(typeof ls!="function")throw Error(r(150));if(Je=ls.call(Je),Je==null)throw Error(r(151));for(var ps=ls=null,gs=Qe,Ns=Qe=0,Xn=null,sr=Je.next();gs!==null&&!sr.done;Ns++,sr=Je.next()){gs.index>Ns?(Xn=gs,gs=null):Xn=gs.sibling;var dc=gt($e,gs,sr.value,Nt);if(dc===null){gs===null&&(gs=Xn);break}o&&gs&&dc.alternate===null&&l($e,gs),Qe=L(dc,Qe,Ns),ps===null?ls=dc:ps.sibling=dc,ps=dc,gs=Xn}if(sr.done)return h($e,gs),ut&&Ie($e,Ns),ls;if(gs===null){for(;!sr.done;Ns++,sr=Je.next())sr=vt($e,sr.value,Nt),sr!==null&&(Qe=L(sr,Qe,Ns),ps===null?ls=sr:ps.sibling=sr,ps=sr);return ut&&Ie($e,Ns),ls}for(gs=w($e,gs);!sr.done;Ns++,sr=Je.next())sr=Gt(gs,$e,Ns,sr.value,Nt),sr!==null&&(o&&sr.alternate!==null&&gs.delete(sr.key===null?Ns:sr.key),Qe=L(sr,Qe,Ns),ps===null?ls=sr:ps.sibling=sr,ps=sr);return o&&gs.forEach(function(WC){return l($e,WC)}),ut&&Ie($e,Ns),ls}function xn($e,Qe,Je,Nt){if(typeof Je=="object"&&Je!==null&&Je.type===H&&Je.key===null&&(Je=Je.props.children),typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case q:e:{for(var ls=Je.key,ps=Qe;ps!==null;){if(ps.key===ls){if(ls=Je.type,ls===H){if(ps.tag===7){h($e,ps.sibling),Qe=C(ps,Je.props.children),Qe.return=$e,$e=Qe;break e}}else if(ps.elementType===ls||typeof ls=="object"&&ls!==null&&ls.$$typeof===W&&wr(ls)===ps.type){h($e,ps.sibling),Qe=C(ps,Je.props),Qe.ref=vs($e,ps,Je),Qe.return=$e,$e=Qe;break e}h($e,ps);break}else l($e,ps);ps=ps.sibling}Je.type===H?(Qe=ad(Je.props.children,$e.mode,Nt,Je.key),Qe.return=$e,$e=Qe):(Nt=fm(Je.type,Je.key,Je.props,null,$e.mode,Nt),Nt.ref=vs($e,Qe,Je),Nt.return=$e,$e=Nt)}return ee($e);case G:e:{for(ps=Je.key;Qe!==null;){if(Qe.key===ps)if(Qe.tag===4&&Qe.stateNode.containerInfo===Je.containerInfo&&Qe.stateNode.implementation===Je.implementation){h($e,Qe.sibling),Qe=C(Qe,Je.children||[]),Qe.return=$e,$e=Qe;break e}else{h($e,Qe);break}else l($e,Qe);Qe=Qe.sibling}Qe=mg(Je,$e.mode,Nt),Qe.return=$e,$e=Qe}return ee($e);case W:return ps=Je._init,xn($e,Qe,ps(Je._payload),Nt)}if(Pe(Je))return ts($e,Qe,Je,Nt);if(de(Je))return is($e,Qe,Je,Nt);Is($e,Je)}return typeof Je=="string"&&Je!==""||typeof Je=="number"?(Je=""+Je,Qe!==null&&Qe.tag===6?(h($e,Qe.sibling),Qe=C(Qe,Je),Qe.return=$e,$e=Qe):(h($e,Qe),Qe=hg(Je,$e.mode,Nt),Qe.return=$e,$e=Qe),ee($e)):h($e,Qe)}return xn}var An=Bn(!0),Dr=Bn(!1),pn=ki(null),Cn=null,_r=null,Hs=null;function Xs(){Hs=_r=Cn=null}function Ur(o){var l=pn.current;ar(pn),o._currentValue=l}function Zs(o,l,h){for(;o!==null;){var w=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,w!==null&&(w.childLanes|=l)):w!==null&&(w.childLanes&l)!==l&&(w.childLanes|=l),o===h)break;o=o.return}}function $r(o,l){Cn=o,Hs=_r=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(hi=!0),o.firstContext=null)}function Wr(o){var l=o._currentValue;if(Hs!==o)if(o={context:o,memoizedValue:l,next:null},_r===null){if(Cn===null)throw Error(r(308));_r=o,Cn.dependencies={lanes:0,firstContext:o}}else _r=_r.next=o;return l}var fr=null;function Wn(o){fr===null?fr=[o]:fr.push(o)}function cr(o,l,h,w){var C=l.interleaved;return C===null?(h.next=h,Wn(l)):(h.next=C.next,C.next=h),l.interleaved=h,pr(o,w)}function pr(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var cn=!1;function In(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ua(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function sn(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function rn(o,l,h){var w=o.updateQueue;if(w===null)return null;if(w=w.shared,(er&2)!==0){var C=w.pending;return C===null?l.next=l:(l.next=C.next,C.next=l),w.pending=l,pr(o,h)}return C=w.interleaved,C===null?(l.next=l,Wn(w)):(l.next=C.next,C.next=l),w.interleaved=l,pr(o,h)}function qn(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var w=l.lanes;w&=o.pendingLanes,h|=w,l.lanes=h,yo(o,h)}}function gr(o,l){var h=o.updateQueue,w=o.alternate;if(w!==null&&(w=w.updateQueue,h===w)){var C=null,L=null;if(h=h.firstBaseUpdate,h!==null){do{var ee={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};L===null?C=L=ee:L=L.next=ee,h=h.next}while(h!==null);L===null?C=L=l:L=L.next=l}else C=L=l;h={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:L,shared:w.shared,effects:w.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function Yn(o,l,h,w){var C=o.updateQueue;cn=!1;var L=C.firstBaseUpdate,ee=C.lastBaseUpdate,Ne=C.shared.pending;if(Ne!==null){C.shared.pending=null;var Ue=Ne,tt=Ue.next;Ue.next=null,ee===null?L=tt:ee.next=tt,ee=Ue;var wt=o.alternate;wt!==null&&(wt=wt.updateQueue,Ne=wt.lastBaseUpdate,Ne!==ee&&(Ne===null?wt.firstBaseUpdate=tt:Ne.next=tt,wt.lastBaseUpdate=Ue))}if(L!==null){var vt=C.baseState;ee=0,wt=tt=Ue=null,Ne=L;do{var gt=Ne.lane,Gt=Ne.eventTime;if((w&gt)===gt){wt!==null&&(wt=wt.next={eventTime:Gt,lane:0,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null});e:{var ts=o,is=Ne;switch(gt=l,Gt=h,is.tag){case 1:if(ts=is.payload,typeof ts=="function"){vt=ts.call(Gt,vt,gt);break e}vt=ts;break e;case 3:ts.flags=ts.flags&-65537|128;case 0:if(ts=is.payload,gt=typeof ts=="function"?ts.call(Gt,vt,gt):ts,gt==null)break e;vt=ue({},vt,gt);break e;case 2:cn=!0}}Ne.callback!==null&&Ne.lane!==0&&(o.flags|=64,gt=C.effects,gt===null?C.effects=[Ne]:gt.push(Ne))}else Gt={eventTime:Gt,lane:gt,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null},wt===null?(tt=wt=Gt,Ue=vt):wt=wt.next=Gt,ee|=gt;if(Ne=Ne.next,Ne===null){if(Ne=C.shared.pending,Ne===null)break;gt=Ne,Ne=gt.next,gt.next=null,C.lastBaseUpdate=gt,C.shared.pending=null}}while(!0);if(wt===null&&(Ue=vt),C.baseState=Ue,C.firstBaseUpdate=tt,C.lastBaseUpdate=wt,l=C.shared.interleaved,l!==null){C=l;do ee|=C.lane,C=C.next;while(C!==l)}else L===null&&(C.shared.lanes=0);td|=ee,o.lanes=ee,o.memoizedState=vt}}function ui(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var w=o[l],C=w.callback;if(C!==null){if(w.callback=null,w=h,typeof C!="function")throw Error(r(191,C));C.call(w)}}}var Ii={},Sn=ki(Ii),nn=ki(Ii),El=ki(Ii);function Mo(o){if(o===Ii)throw Error(r(174));return o}function tc(o,l){switch(Ar(El,l),Ar(nn,o),Ar(Sn,Ii),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:_t(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=_t(l,o)}ar(Sn),Ar(Sn,l)}function no(){ar(Sn),ar(nn),ar(El)}function Yh(o){Mo(El.current);var l=Mo(Sn.current),h=_t(l,o.type);l!==h&&(Ar(nn,o),Ar(Sn,h))}function Vu(o){nn.current===o&&(ar(Sn),ar(nn))}var Sr=ki(0);function Li(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var zu=[];function Gu(){for(var o=0;o<zu.length;o++)zu[o]._workInProgressVersionPrimary=null;zu.length=0}var Qd=k.ReactCurrentDispatcher,Td=k.ReactCurrentBatchConfig,ao=0,kr=null,dn=null,an=null,sc=!1,Ko=!1,rc=0,Dp=0;function gn(){throw Error(r(321))}function Pd(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!Pr(o[h],l[h]))return!1;return!0}function Xc(o,l,h,w,C,L){if(ao=L,kr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Qd.current=o===null||o.memoizedState===null?vC:bC,o=h(w,C),Ko){L=0;do{if(Ko=!1,rc=0,25<=L)throw Error(r(301));L+=1,an=dn=null,l.updateQueue=null,Qd.current=yC,o=h(w,C)}while(Ko)}if(Qd.current=tm,l=dn!==null&&dn.next!==null,ao=0,an=dn=kr=null,sc=!1,l)throw Error(r(300));return o}function io(){var o=rc!==0;return rc=0,o}function Qi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?kr.memoizedState=an=o:an=an.next=o,an}function Wa(){if(dn===null){var o=kr.alternate;o=o!==null?o.memoizedState:null}else o=dn.next;var l=an===null?kr.memoizedState:an.next;if(l!==null)an=l,dn=o;else{if(o===null)throw Error(r(310));dn=o,o={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},an===null?kr.memoizedState=an=o:an=an.next=o}return an}function Zc(o,l){return typeof l=="function"?l(o):l}function Rd(o){var l=Wa(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var w=dn,C=w.baseQueue,L=h.pending;if(L!==null){if(C!==null){var ee=C.next;C.next=L.next,L.next=ee}w.baseQueue=C=L,h.pending=null}if(C!==null){L=C.next,w=w.baseState;var Ne=ee=null,Ue=null,tt=L;do{var wt=tt.lane;if((ao&wt)===wt)Ue!==null&&(Ue=Ue.next={lane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),w=tt.hasEagerState?tt.eagerState:o(w,tt.action);else{var vt={lane:wt,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null};Ue===null?(Ne=Ue=vt,ee=w):Ue=Ue.next=vt,kr.lanes|=wt,td|=wt}tt=tt.next}while(tt!==null&&tt!==L);Ue===null?ee=w:Ue.next=Ne,Pr(w,l.memoizedState)||(hi=!0),l.memoizedState=w,l.baseState=ee,l.baseQueue=Ue,h.lastRenderedState=w}if(o=h.interleaved,o!==null){C=o;do L=C.lane,kr.lanes|=L,td|=L,C=C.next;while(C!==o)}else C===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function Fl(o){var l=Wa(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var w=h.dispatch,C=h.pending,L=l.memoizedState;if(C!==null){h.pending=null;var ee=C=C.next;do L=o(L,ee.action),ee=ee.next;while(ee!==C);Pr(L,l.memoizedState)||(hi=!0),l.memoizedState=L,l.baseQueue===null&&(l.baseState=L),h.lastRenderedState=L}return[L,w]}function Jh(){}function $u(o,l){var h=kr,w=Wa(),C=l(),L=!Pr(w.memoizedState,C);if(L&&(w.memoizedState=C,hi=!0),w=w.queue,Hd(Zh.bind(null,h,w,o),[o]),w.getSnapshot!==l||L||an!==null&&an.memoizedState.tag&1){if(h.flags|=2048,qa(9,Wu.bind(null,h,w,C,l),void 0,null),Jn===null)throw Error(r(349));(ao&30)!==0||Xh(h,l,C)}return C}function Xh(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=kr.updateQueue,l===null?(l={lastEffect:null,stores:null},kr.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function Wu(o,l,h,w){l.value=h,l.getSnapshot=w,nc(l)&&Dd(o)}function Zh(o,l,h){return h(function(){nc(l)&&Dd(o)})}function nc(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!Pr(o,h)}catch{return!0}}function Dd(o){var l=pr(o,1);l!==null&&Wo(l,o,1,-1)}function ed(o){var l=Qi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:o},l.queue=o,o=o.dispatch=wC.bind(null,kr,o),[l.memoizedState,o]}function qa(o,l,h,w){return o={tag:o,create:l,destroy:h,deps:w,next:null},l=kr.updateQueue,l===null?(l={lastEffect:null,stores:null},kr.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(w=h.next,h.next=o,o.next=w,l.lastEffect=o)),o}function Vo(){return Wa().memoizedState}function Ti(o,l,h,w){var C=Qi();kr.flags|=o,C.memoizedState=qa(1|l,h,void 0,w===void 0?null:w)}function dA(o,l,h,w){var C=Wa();w=w===void 0?null:w;var L=void 0;if(dn!==null){var ee=dn.memoizedState;if(L=ee.destroy,w!==null&&Pd(w,ee.deps)){C.memoizedState=qa(l,h,L,w);return}}kr.flags|=o,C.memoizedState=qa(1|l,h,L,w)}function Od(o,l){return Ti(8390656,8,o,l)}function Hd(o,l){return dA(2048,8,o,l)}function em(o,l){return dA(4,2,o,l)}function Md(o,l){return dA(4,4,o,l)}function Kd(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function yw(o,l,h){return h=h!=null?h.concat([o]):null,dA(4,4,Kd.bind(null,l,o),h)}function Op(){}function Nw(o,l){var h=Wa();l=l===void 0?null:l;var w=h.memoizedState;return w!==null&&l!==null&&Pd(l,w[1])?w[0]:(h.memoizedState=[o,l],o)}function jw(o,l){var h=Wa();l=l===void 0?null:l;var w=h.memoizedState;return w!==null&&l!==null&&Pd(l,w[1])?w[0]:(o=o(),h.memoizedState=[o,l],o)}function Bw(o,l,h){return(ao&21)===0?(o.baseState&&(o.baseState=!1,hi=!0),o.memoizedState=h):(Pr(h,l)||(h=ql(),kr.lanes|=h,td|=h,o.baseState=!0),l)}function gC(o,l){var h=zs;zs=h!==0&&4>h?h:4,o(!0);var w=Td.transition;Td.transition={};try{o(!1),l()}finally{zs=h,Td.transition=w}}function Cw(){return Wa().memoizedState}function xC(o,l,h){var w=lc(o);if(h={lane:w,action:h,hasEagerState:!1,eagerState:null,next:null},Sw(o))Ew(l,h);else if(h=cr(o,l,h,w),h!==null){var C=Ja();Wo(h,o,w,C),Fw(h,l,w)}}function wC(o,l,h){var w=lc(o),C={lane:w,action:h,hasEagerState:!1,eagerState:null,next:null};if(Sw(o))Ew(l,C);else{var L=o.alternate;if(o.lanes===0&&(L===null||L.lanes===0)&&(L=l.lastRenderedReducer,L!==null))try{var ee=l.lastRenderedState,Ne=L(ee,h);if(C.hasEagerState=!0,C.eagerState=Ne,Pr(Ne,ee)){var Ue=l.interleaved;Ue===null?(C.next=C,Wn(l)):(C.next=Ue.next,Ue.next=C),l.interleaved=C;return}}catch{}finally{}h=cr(o,l,C,w),h!==null&&(C=Ja(),Wo(h,o,w,C),Fw(h,l,w))}}function Sw(o){var l=o.alternate;return o===kr||l!==null&&l===kr}function Ew(o,l){Ko=sc=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function Fw(o,l,h){if((h&4194240)!==0){var w=l.lanes;w&=o.pendingLanes,h|=w,l.lanes=h,yo(o,h)}}var tm={readContext:Wr,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},vC={readContext:Wr,useCallback:function(o,l){return Qi().memoizedState=[o,l===void 0?null:l],o},useContext:Wr,useEffect:Od,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,Ti(4194308,4,Kd.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Ti(4194308,4,o,l)},useInsertionEffect:function(o,l){return Ti(4,2,o,l)},useMemo:function(o,l){var h=Qi();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var w=Qi();return l=h!==void 0?h(l):l,w.memoizedState=w.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},w.queue=o,o=o.dispatch=xC.bind(null,kr,o),[w.memoizedState,o]},useRef:function(o){var l=Qi();return o={current:o},l.memoizedState=o},useState:ed,useDebugValue:Op,useDeferredValue:function(o){return Qi().memoizedState=o},useTransition:function(){var o=ed(!1),l=o[0];return o=gC.bind(null,o[1]),Qi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var w=kr,C=Qi();if(ut){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),Jn===null)throw Error(r(349));(ao&30)!==0||Xh(w,l,h)}C.memoizedState=h;var L={value:h,getSnapshot:l};return C.queue=L,Od(Zh.bind(null,w,L,o),[o]),w.flags|=2048,qa(9,Wu.bind(null,w,L,h,l),void 0,null),h},useId:function(){var o=Qi(),l=Jn.identifierPrefix;if(ut){var h=ve,w=Ge;h=(w&~(1<<32-Mr(w)-1)).toString(32)+h,l=":"+l+"R"+h,h=rc++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=Dp++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},bC={readContext:Wr,useCallback:Nw,useContext:Wr,useEffect:Hd,useImperativeHandle:yw,useInsertionEffect:em,useLayoutEffect:Md,useMemo:jw,useReducer:Rd,useRef:Vo,useState:function(){return Rd(Zc)},useDebugValue:Op,useDeferredValue:function(o){var l=Wa();return Bw(l,dn.memoizedState,o)},useTransition:function(){var o=Rd(Zc)[0],l=Wa().memoizedState;return[o,l]},useMutableSource:Jh,useSyncExternalStore:$u,useId:Cw,unstable_isNewReconciler:!1},yC={readContext:Wr,useCallback:Nw,useContext:Wr,useEffect:Hd,useImperativeHandle:yw,useInsertionEffect:em,useLayoutEffect:Md,useMemo:jw,useReducer:Fl,useRef:Vo,useState:function(){return Fl(Zc)},useDebugValue:Op,useDeferredValue:function(o){var l=Wa();return dn===null?l.memoizedState=o:Bw(l,dn.memoizedState,o)},useTransition:function(){var o=Fl(Zc)[0],l=Wa().memoizedState;return[o,l]},useMutableSource:Jh,useSyncExternalStore:$u,useId:Cw,unstable_isNewReconciler:!1};function zo(o,l){if(o&&o.defaultProps){l=ue({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}function Hp(o,l,h,w){l=o.memoizedState,h=h(w,l),h=h==null?l:ue({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var sm={isMounted:function(o){return(o=o._reactInternals)?us(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var w=Ja(),C=lc(o),L=sn(w,C);L.payload=l,h!=null&&(L.callback=h),l=rn(o,L,C),l!==null&&(Wo(l,o,C,w),qn(l,o,C))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var w=Ja(),C=lc(o),L=sn(w,C);L.tag=1,L.payload=l,h!=null&&(L.callback=h),l=rn(o,L,C),l!==null&&(Wo(l,o,C,w),qn(l,o,C))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=Ja(),w=lc(o),C=sn(h,w);C.tag=2,l!=null&&(C.callback=l),l=rn(o,C,w),l!==null&&(Wo(l,o,w,h),qn(l,o,w))}};function _w(o,l,h,w,C,L,ee){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(w,L,ee):l.prototype&&l.prototype.isPureReactComponent?!ua(h,w)||!ua(C,L):!0}function Uw(o,l,h){var w=!1,C=Sl,L=l.contextType;return typeof L=="object"&&L!==null?L=Wr(L):(C=_a(l)?AA:kn.current,w=l.contextTypes,L=(w=w!=null)?ec(o,C):Sl),l=new l(h,L),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=sm,o.stateNode=l,l._reactInternals=o,w&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=C,o.__reactInternalMemoizedMaskedChildContext=L),l}function kw(o,l,h,w){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,w),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,w),l.state!==o&&sm.enqueueReplaceState(l,l.state,null)}function Mp(o,l,h,w){var C=o.stateNode;C.props=h,C.state=o.memoizedState,C.refs={},In(o);var L=l.contextType;typeof L=="object"&&L!==null?C.context=Wr(L):(L=_a(l)?AA:kn.current,C.context=ec(o,L)),C.state=o.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(Hp(o,l,L,h),C.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(l=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),l!==C.state&&sm.enqueueReplaceState(C,C.state,null),Yn(o,h,C,w),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308)}function Vd(o,l){try{var h="",w=l;do h+=me(w),w=w.return;while(w);var C=h}catch(L){C=`
Error generating stack: `+L.message+`
`+L.stack}return{value:o,source:l,stack:C,digest:null}}function Kp(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function Vp(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var NC=typeof WeakMap=="function"?WeakMap:Map;function Iw(o,l,h){h=sn(-1,h),h.tag=3,h.payload={element:null};var w=l.value;return h.callback=function(){Am||(Am=!0,ag=w),Vp(o,l)},h}function Lw(o,l,h){h=sn(-1,h),h.tag=3;var w=o.type.getDerivedStateFromError;if(typeof w=="function"){var C=l.value;h.payload=function(){return w(C)},h.callback=function(){Vp(o,l)}}var L=o.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(h.callback=function(){Vp(o,l),typeof w!="function"&&(ic===null?ic=new Set([this]):ic.add(this));var ee=l.stack;this.componentDidCatch(l.value,{componentStack:ee!==null?ee:""})}),h}function Qw(o,l,h){var w=o.pingCache;if(w===null){w=o.pingCache=new NC;var C=new Set;w.set(l,C)}else C=w.get(l),C===void 0&&(C=new Set,w.set(l,C));C.has(h)||(C.add(h),o=PC.bind(null,o,l,h),l.then(o,o))}function Tw(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function Pw(o,l,h,w,C){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=sn(-1,1),l.tag=2,rn(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=C,o)}var jC=k.ReactCurrentOwner,hi=!1;function Ya(o,l,h,w){l.child=o===null?Dr(l,null,h,w):An(l,o.child,h,w)}function Rw(o,l,h,w,C){h=h.render;var L=l.ref;return $r(l,C),w=Xc(o,l,h,w,L,C),h=io(),o!==null&&!hi?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~C,uA(o,l,C)):(ut&&h&&ot(l),l.flags|=1,Ya(o,l,w,C),l.child)}function Dw(o,l,h,w,C){if(o===null){var L=h.type;return typeof L=="function"&&!ug(L)&&L.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=L,Ow(o,l,L,w,C)):(o=fm(h.type,null,w,l,l.mode,C),o.ref=l.ref,o.return=l,l.child=o)}if(L=o.child,(o.lanes&C)===0){var ee=L.memoizedProps;if(h=h.compare,h=h!==null?h:ua,h(ee,w)&&o.ref===l.ref)return uA(o,l,C)}return l.flags|=1,o=cc(L,w),o.ref=l.ref,o.return=l,l.child=o}function Ow(o,l,h,w,C){if(o!==null){var L=o.memoizedProps;if(ua(L,w)&&o.ref===l.ref)if(hi=!1,l.pendingProps=w=L,(o.lanes&C)!==0)(o.flags&131072)!==0&&(hi=!0);else return l.lanes=o.lanes,uA(o,l,C)}return zp(o,l,h,w,C)}function Hw(o,l,h){var w=l.pendingProps,C=w.children,L=o!==null?o.memoizedState:null;if(w.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ar(Gd,Pi),Pi|=h;else{if((h&1073741824)===0)return o=L!==null?L.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Ar(Gd,Pi),Pi|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=L!==null?L.baseLanes:h,Ar(Gd,Pi),Pi|=w}else L!==null?(w=L.baseLanes|h,l.memoizedState=null):w=h,Ar(Gd,Pi),Pi|=w;return Ya(o,l,C,h),l.child}function Mw(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function zp(o,l,h,w,C){var L=_a(h)?AA:kn.current;return L=ec(l,L),$r(l,C),h=Xc(o,l,h,w,L,C),w=io(),o!==null&&!hi?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~C,uA(o,l,C)):(ut&&w&&ot(l),l.flags|=1,Ya(o,l,h,C),l.child)}function Kw(o,l,h,w,C){if(_a(h)){var L=!0;cA(l)}else L=!1;if($r(l,C),l.stateNode===null)nm(o,l),Uw(l,h,w),Mp(l,h,w,C),w=!0;else if(o===null){var ee=l.stateNode,Ne=l.memoizedProps;ee.props=Ne;var Ue=ee.context,tt=h.contextType;typeof tt=="object"&&tt!==null?tt=Wr(tt):(tt=_a(h)?AA:kn.current,tt=ec(l,tt));var wt=h.getDerivedStateFromProps,vt=typeof wt=="function"||typeof ee.getSnapshotBeforeUpdate=="function";vt||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(Ne!==w||Ue!==tt)&&kw(l,ee,w,tt),cn=!1;var gt=l.memoizedState;ee.state=gt,Yn(l,w,ee,C),Ue=l.memoizedState,Ne!==w||gt!==Ue||Fa.current||cn?(typeof wt=="function"&&(Hp(l,h,wt,w),Ue=l.memoizedState),(Ne=cn||_w(l,h,Ne,w,gt,Ue,tt))?(vt||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(l.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=w,l.memoizedState=Ue),ee.props=w,ee.state=Ue,ee.context=tt,w=Ne):(typeof ee.componentDidMount=="function"&&(l.flags|=4194308),w=!1)}else{ee=l.stateNode,Ua(o,l),Ne=l.memoizedProps,tt=l.type===l.elementType?Ne:zo(l.type,Ne),ee.props=tt,vt=l.pendingProps,gt=ee.context,Ue=h.contextType,typeof Ue=="object"&&Ue!==null?Ue=Wr(Ue):(Ue=_a(h)?AA:kn.current,Ue=ec(l,Ue));var Gt=h.getDerivedStateFromProps;(wt=typeof Gt=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(Ne!==vt||gt!==Ue)&&kw(l,ee,w,Ue),cn=!1,gt=l.memoizedState,ee.state=gt,Yn(l,w,ee,C);var ts=l.memoizedState;Ne!==vt||gt!==ts||Fa.current||cn?(typeof Gt=="function"&&(Hp(l,h,Gt,w),ts=l.memoizedState),(tt=cn||_w(l,h,tt,w,gt,ts,Ue)||!1)?(wt||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(w,ts,Ue),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(w,ts,Ue)),typeof ee.componentDidUpdate=="function"&&(l.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof ee.componentDidUpdate!="function"||Ne===o.memoizedProps&&gt===o.memoizedState||(l.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||Ne===o.memoizedProps&&gt===o.memoizedState||(l.flags|=1024),l.memoizedProps=w,l.memoizedState=ts),ee.props=w,ee.state=ts,ee.context=Ue,w=tt):(typeof ee.componentDidUpdate!="function"||Ne===o.memoizedProps&&gt===o.memoizedState||(l.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||Ne===o.memoizedProps&&gt===o.memoizedState||(l.flags|=1024),w=!1)}return Gp(o,l,h,w,L,C)}function Gp(o,l,h,w,C,L){Mw(o,l);var ee=(l.flags&128)!==0;if(!w&&!ee)return C&&qh(l,h,!1),uA(o,l,L);w=l.stateNode,jC.current=l;var Ne=ee&&typeof h.getDerivedStateFromError!="function"?null:w.render();return l.flags|=1,o!==null&&ee?(l.child=An(l,o.child,null,L),l.child=An(l,null,Ne,L)):Ya(o,l,Ne,L),l.memoizedState=w.state,C&&qh(l,h,!0),l.child}function Vw(o){var l=o.stateNode;l.pendingContext?Wh(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Wh(o,l.context,!1),tc(o,l.containerInfo)}function zw(o,l,h,w,C){return Jt(),St(C),l.flags|=256,Ya(o,l,h,w),l.child}var $p={dehydrated:null,treeContext:null,retryLane:0};function Wp(o){return{baseLanes:o,cachePool:null,transitions:null}}function Gw(o,l,h){var w=l.pendingProps,C=Sr.current,L=!1,ee=(l.flags&128)!==0,Ne;if((Ne=ee)||(Ne=o!==null&&o.memoizedState===null?!1:(C&2)!==0),Ne?(L=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(C|=1),Ar(Sr,C&1),o===null)return es(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(ee=w.children,o=w.fallback,L?(w=l.mode,L=l.child,ee={mode:"hidden",children:ee},(w&1)===0&&L!==null?(L.childLanes=0,L.pendingProps=ee):L=pm(ee,w,0,null),o=ad(o,w,h,null),L.return=l,o.return=l,L.sibling=o,l.child=L,l.child.memoizedState=Wp(h),l.memoizedState=$p,o):qp(l,ee));if(C=o.memoizedState,C!==null&&(Ne=C.dehydrated,Ne!==null))return BC(o,l,ee,w,Ne,C,h);if(L){L=w.fallback,ee=l.mode,C=o.child,Ne=C.sibling;var Ue={mode:"hidden",children:w.children};return(ee&1)===0&&l.child!==C?(w=l.child,w.childLanes=0,w.pendingProps=Ue,l.deletions=null):(w=cc(C,Ue),w.subtreeFlags=C.subtreeFlags&14680064),Ne!==null?L=cc(Ne,L):(L=ad(L,ee,h,null),L.flags|=2),L.return=l,w.return=l,w.sibling=L,l.child=w,w=L,L=l.child,ee=o.child.memoizedState,ee=ee===null?Wp(h):{baseLanes:ee.baseLanes|h,cachePool:null,transitions:ee.transitions},L.memoizedState=ee,L.childLanes=o.childLanes&~h,l.memoizedState=$p,w}return L=o.child,o=L.sibling,w=cc(L,{mode:"visible",children:w.children}),(l.mode&1)===0&&(w.lanes=h),w.return=l,w.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=w,l.memoizedState=null,w}function qp(o,l){return l=pm({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function rm(o,l,h,w){return w!==null&&St(w),An(l,o.child,null,h),o=qp(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function BC(o,l,h,w,C,L,ee){if(h)return l.flags&256?(l.flags&=-257,w=Kp(Error(r(422))),rm(o,l,ee,w)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(L=w.fallback,C=l.mode,w=pm({mode:"visible",children:w.children},C,0,null),L=ad(L,C,ee,null),L.flags|=2,w.return=l,L.return=l,w.sibling=L,l.child=w,(l.mode&1)!==0&&An(l,o.child,null,ee),l.child.memoizedState=Wp(ee),l.memoizedState=$p,L);if((l.mode&1)===0)return rm(o,l,ee,null);if(C.data==="$!"){if(w=C.nextSibling&&C.nextSibling.dataset,w)var Ne=w.dgst;return w=Ne,L=Error(r(419)),w=Kp(L,w,void 0),rm(o,l,ee,w)}if(Ne=(ee&o.childLanes)!==0,hi||Ne){if(w=Jn,w!==null){switch(ee&-ee){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(w.suspendedLanes|ee))!==0?0:C,C!==0&&C!==L.retryLane&&(L.retryLane=C,pr(o,C),Wo(w,o,C,-1))}return dg(),w=Kp(Error(r(421))),rm(o,l,ee,w)}return C.data==="$?"?(l.flags|=128,l.child=o.child,l=RC.bind(null,o),C._reactRetry=l,null):(o=L.treeContext,at=ha(C.nextSibling),nt=l,ut=!0,mt=null,o!==null&&(he[we++]=Ge,he[we++]=ve,he[we++]=_e,Ge=o.id,ve=o.overflow,_e=l),l=qp(l,w.children),l.flags|=4096,l)}function $w(o,l,h){o.lanes|=l;var w=o.alternate;w!==null&&(w.lanes|=l),Zs(o.return,l,h)}function Yp(o,l,h,w,C){var L=o.memoizedState;L===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:w,tail:h,tailMode:C}:(L.isBackwards=l,L.rendering=null,L.renderingStartTime=0,L.last=w,L.tail=h,L.tailMode=C)}function Ww(o,l,h){var w=l.pendingProps,C=w.revealOrder,L=w.tail;if(Ya(o,l,w.children,h),w=Sr.current,(w&2)!==0)w=w&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&$w(o,h,l);else if(o.tag===19)$w(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}w&=1}if(Ar(Sr,w),(l.mode&1)===0)l.memoizedState=null;else switch(C){case"forwards":for(h=l.child,C=null;h!==null;)o=h.alternate,o!==null&&Li(o)===null&&(C=h),h=h.sibling;h=C,h===null?(C=l.child,l.child=null):(C=h.sibling,h.sibling=null),Yp(l,!1,C,h,L);break;case"backwards":for(h=null,C=l.child,l.child=null;C!==null;){if(o=C.alternate,o!==null&&Li(o)===null){l.child=C;break}o=C.sibling,C.sibling=h,h=C,C=o}Yp(l,!0,h,null,L);break;case"together":Yp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function nm(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function uA(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),td|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,h=cc(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=cc(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function CC(o,l,h){switch(l.tag){case 3:Vw(l),Jt();break;case 5:Yh(l);break;case 1:_a(l.type)&&cA(l);break;case 4:tc(l,l.stateNode.containerInfo);break;case 10:var w=l.type._context,C=l.memoizedProps.value;Ar(pn,w._currentValue),w._currentValue=C;break;case 13:if(w=l.memoizedState,w!==null)return w.dehydrated!==null?(Ar(Sr,Sr.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?Gw(o,l,h):(Ar(Sr,Sr.current&1),o=uA(o,l,h),o!==null?o.sibling:null);Ar(Sr,Sr.current&1);break;case 19:if(w=(h&l.childLanes)!==0,(o.flags&128)!==0){if(w)return Ww(o,l,h);l.flags|=128}if(C=l.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Ar(Sr,Sr.current),w)break;return null;case 22:case 23:return l.lanes=0,Hw(o,l,h)}return uA(o,l,h)}var qw,Jp,Yw,Jw;qw=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Jp=function(){},Yw=function(o,l,h,w){var C=o.memoizedProps;if(C!==w){o=l.stateNode,Mo(Sn.current);var L=null;switch(h){case"input":C=st(o,C),w=st(o,w),L=[];break;case"select":C=ue({},C,{value:void 0}),w=ue({},w,{value:void 0}),L=[];break;case"textarea":C=rt(o,C),w=rt(o,w),L=[];break;default:typeof C.onClick!="function"&&typeof w.onClick=="function"&&(o.onclick=JA)}Tt(h,w);var ee;h=null;for(tt in C)if(!w.hasOwnProperty(tt)&&C.hasOwnProperty(tt)&&C[tt]!=null)if(tt==="style"){var Ne=C[tt];for(ee in Ne)Ne.hasOwnProperty(ee)&&(h||(h={}),h[ee]="")}else tt!=="dangerouslySetInnerHTML"&&tt!=="children"&&tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(a.hasOwnProperty(tt)?L||(L=[]):(L=L||[]).push(tt,null));for(tt in w){var Ue=w[tt];if(Ne=C?.[tt],w.hasOwnProperty(tt)&&Ue!==Ne&&(Ue!=null||Ne!=null))if(tt==="style")if(Ne){for(ee in Ne)!Ne.hasOwnProperty(ee)||Ue&&Ue.hasOwnProperty(ee)||(h||(h={}),h[ee]="");for(ee in Ue)Ue.hasOwnProperty(ee)&&Ne[ee]!==Ue[ee]&&(h||(h={}),h[ee]=Ue[ee])}else h||(L||(L=[]),L.push(tt,h)),h=Ue;else tt==="dangerouslySetInnerHTML"?(Ue=Ue?Ue.__html:void 0,Ne=Ne?Ne.__html:void 0,Ue!=null&&Ne!==Ue&&(L=L||[]).push(tt,Ue)):tt==="children"?typeof Ue!="string"&&typeof Ue!="number"||(L=L||[]).push(tt,""+Ue):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&(a.hasOwnProperty(tt)?(Ue!=null&&tt==="onScroll"&&lr("scroll",o),L||Ne===Ue||(L=[])):(L=L||[]).push(tt,Ue))}h&&(L=L||[]).push("style",h);var tt=L;(l.updateQueue=tt)&&(l.flags|=4)}},Jw=function(o,l,h,w){h!==w&&(l.flags|=4)};function qu(o,l){if(!ut)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var w=null;h!==null;)h.alternate!==null&&(w=h),h=h.sibling;w===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:w.sibling=null}}function ka(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,w=0;if(l)for(var C=o.child;C!==null;)h|=C.lanes|C.childLanes,w|=C.subtreeFlags&14680064,w|=C.flags&14680064,C.return=o,C=C.sibling;else for(C=o.child;C!==null;)h|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=o,C=C.sibling;return o.subtreeFlags|=w,o.childLanes=h,l}function SC(o,l,h){var w=l.pendingProps;switch(We(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ka(l),null;case 1:return _a(l.type)&&Ld(),ka(l),null;case 3:return w=l.stateNode,no(),ar(Fa),ar(kn),Gu(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(o===null||o.child===null)&&(Gr(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,mt!==null&&(lg(mt),mt=null))),Jp(o,l),ka(l),null;case 5:Vu(l);var C=Mo(El.current);if(h=l.type,o!==null&&l.stateNode!=null)Yw(o,l,h,w,C),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!w){if(l.stateNode===null)throw Error(r(166));return ka(l),null}if(o=Mo(Sn.current),Gr(l)){w=l.stateNode,h=l.type;var L=l.memoizedProps;switch(w[ro]=l,w[XA]=L,o=(l.mode&1)!==0,h){case"dialog":lr("cancel",w),lr("close",w);break;case"iframe":case"object":case"embed":lr("load",w);break;case"video":case"audio":for(C=0;C<Ro.length;C++)lr(Ro[C],w);break;case"source":lr("error",w);break;case"img":case"image":case"link":lr("error",w),lr("load",w);break;case"details":lr("toggle",w);break;case"input":le(w,L),lr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!L.multiple},lr("invalid",w);break;case"textarea":ht(w,L),lr("invalid",w)}Tt(h,L),C=null;for(var ee in L)if(L.hasOwnProperty(ee)){var Ne=L[ee];ee==="children"?typeof Ne=="string"?w.textContent!==Ne&&(L.suppressHydrationWarning!==!0&&YA(w.textContent,Ne,o),C=["children",Ne]):typeof Ne=="number"&&w.textContent!==""+Ne&&(L.suppressHydrationWarning!==!0&&YA(w.textContent,Ne,o),C=["children",""+Ne]):a.hasOwnProperty(ee)&&Ne!=null&&ee==="onScroll"&&lr("scroll",w)}switch(h){case"input":Fe(w),ye(w,L,!0);break;case"textarea":Fe(w),Oe(w);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(w.onclick=JA)}w=C,l.updateQueue=w,w!==null&&(l.flags|=4)}else{ee=C.nodeType===9?C:C.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ft(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=ee.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof w.is=="string"?o=ee.createElement(h,{is:w.is}):(o=ee.createElement(h),h==="select"&&(ee=o,w.multiple?ee.multiple=!0:w.size&&(ee.size=w.size))):o=ee.createElementNS(o,h),o[ro]=l,o[XA]=w,qw(o,l,!1,!1),l.stateNode=o;e:{switch(ee=Ft(h,w),h){case"dialog":lr("cancel",o),lr("close",o),C=w;break;case"iframe":case"object":case"embed":lr("load",o),C=w;break;case"video":case"audio":for(C=0;C<Ro.length;C++)lr(Ro[C],o);C=w;break;case"source":lr("error",o),C=w;break;case"img":case"image":case"link":lr("error",o),lr("load",o),C=w;break;case"details":lr("toggle",o),C=w;break;case"input":le(o,w),C=st(o,w),lr("invalid",o);break;case"option":C=w;break;case"select":o._wrapperState={wasMultiple:!!w.multiple},C=ue({},w,{value:void 0}),lr("invalid",o);break;case"textarea":ht(o,w),C=rt(o,w),lr("invalid",o);break;default:C=w}Tt(h,C),Ne=C;for(L in Ne)if(Ne.hasOwnProperty(L)){var Ue=Ne[L];L==="style"?Et(o,Ue):L==="dangerouslySetInnerHTML"?(Ue=Ue?Ue.__html:void 0,Ue!=null&&dt(o,Ue)):L==="children"?typeof Ue=="string"?(h!=="textarea"||Ue!=="")&&Ke(o,Ue):typeof Ue=="number"&&Ke(o,""+Ue):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(a.hasOwnProperty(L)?Ue!=null&&L==="onScroll"&&lr("scroll",o):Ue!=null&&U(o,L,Ue,ee))}switch(h){case"input":Fe(o),ye(o,w,!1);break;case"textarea":Fe(o),Oe(o);break;case"option":w.value!=null&&o.setAttribute("value",""+oe(w.value));break;case"select":o.multiple=!!w.multiple,L=w.value,L!=null?et(o,!!w.multiple,L,!1):w.defaultValue!=null&&et(o,!!w.multiple,w.defaultValue,!0);break;default:typeof C.onClick=="function"&&(o.onclick=JA)}switch(h){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return ka(l),null;case 6:if(o&&l.stateNode!=null)Jw(o,l,o.memoizedProps,w);else{if(typeof w!="string"&&l.stateNode===null)throw Error(r(166));if(h=Mo(El.current),Mo(Sn.current),Gr(l)){if(w=l.stateNode,h=l.memoizedProps,w[ro]=l,(L=w.nodeValue!==h)&&(o=nt,o!==null))switch(o.tag){case 3:YA(w.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&YA(w.nodeValue,h,(o.mode&1)!==0)}L&&(l.flags|=4)}else w=(h.nodeType===9?h:h.ownerDocument).createTextNode(w),w[ro]=l,l.stateNode=w}return ka(l),null;case 13:if(ar(Sr),w=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(ut&&at!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Cs(),Jt(),l.flags|=98560,L=!1;else if(L=Gr(l),w!==null&&w.dehydrated!==null){if(o===null){if(!L)throw Error(r(318));if(L=l.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));L[ro]=l}else Jt(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ka(l),L=!1}else mt!==null&&(lg(mt),mt=null),L=!0;if(!L)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(w=w!==null,w!==(o!==null&&o.memoizedState!==null)&&w&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Sr.current&1)!==0?Ln===0&&(Ln=3):dg())),l.updateQueue!==null&&(l.flags|=4),ka(l),null);case 4:return no(),Jp(o,l),o===null&&K(l.stateNode.containerInfo),ka(l),null;case 10:return Ur(l.type._context),ka(l),null;case 17:return _a(l.type)&&Ld(),ka(l),null;case 19:if(ar(Sr),L=l.memoizedState,L===null)return ka(l),null;if(w=(l.flags&128)!==0,ee=L.rendering,ee===null)if(w)qu(L,!1);else{if(Ln!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(ee=Li(o),ee!==null){for(l.flags|=128,qu(L,!1),w=ee.updateQueue,w!==null&&(l.updateQueue=w,l.flags|=4),l.subtreeFlags=0,w=h,h=l.child;h!==null;)L=h,o=w,L.flags&=14680066,ee=L.alternate,ee===null?(L.childLanes=0,L.lanes=o,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=ee.childLanes,L.lanes=ee.lanes,L.child=ee.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=ee.memoizedProps,L.memoizedState=ee.memoizedState,L.updateQueue=ee.updateQueue,L.type=ee.type,o=ee.dependencies,L.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Ar(Sr,Sr.current&1|2),l.child}o=o.sibling}L.tail!==null&&mr()>$d&&(l.flags|=128,w=!0,qu(L,!1),l.lanes=4194304)}else{if(!w)if(o=Li(ee),o!==null){if(l.flags|=128,w=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),qu(L,!0),L.tail===null&&L.tailMode==="hidden"&&!ee.alternate&&!ut)return ka(l),null}else 2*mr()-L.renderingStartTime>$d&&h!==1073741824&&(l.flags|=128,w=!0,qu(L,!1),l.lanes=4194304);L.isBackwards?(ee.sibling=l.child,l.child=ee):(h=L.last,h!==null?h.sibling=ee:l.child=ee,L.last=ee)}return L.tail!==null?(l=L.tail,L.rendering=l,L.tail=l.sibling,L.renderingStartTime=mr(),l.sibling=null,h=Sr.current,Ar(Sr,w?h&1|2:h&1),l):(ka(l),null);case 22:case 23:return cg(),w=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==w&&(l.flags|=8192),w&&(l.mode&1)!==0?(Pi&1073741824)!==0&&(ka(l),l.subtreeFlags&6&&(l.flags|=8192)):ka(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function EC(o,l){switch(We(l),l.tag){case 1:return _a(l.type)&&Ld(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return no(),ar(Fa),ar(kn),Gu(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Vu(l),null;case 13:if(ar(Sr),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Jt()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return ar(Sr),null;case 4:return no(),null;case 10:return Ur(l.type._context),null;case 22:case 23:return cg(),null;case 24:return null;default:return null}}var am=!1,Ia=!1,FC=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function zd(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(w){un(o,l,w)}else h.current=null}function Xp(o,l,h){try{h()}catch(w){un(o,l,w)}}var Xw=!1;function _C(o,l){if(qc=pl,o=en(),ci(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var w=h.getSelection&&h.getSelection();if(w&&w.rangeCount!==0){h=w.anchorNode;var C=w.anchorOffset,L=w.focusNode;w=w.focusOffset;try{h.nodeType,L.nodeType}catch{h=null;break e}var ee=0,Ne=-1,Ue=-1,tt=0,wt=0,vt=o,gt=null;t:for(;;){for(var Gt;vt!==h||C!==0&&vt.nodeType!==3||(Ne=ee+C),vt!==L||w!==0&&vt.nodeType!==3||(Ue=ee+w),vt.nodeType===3&&(ee+=vt.nodeValue.length),(Gt=vt.firstChild)!==null;)gt=vt,vt=Gt;for(;;){if(vt===o)break t;if(gt===h&&++tt===C&&(Ne=ee),gt===L&&++wt===w&&(Ue=ee),(Gt=vt.nextSibling)!==null)break;vt=gt,gt=vt.parentNode}vt=Gt}h=Ne===-1||Ue===-1?null:{start:Ne,end:Ue}}else h=null}h=h||{start:0,end:0}}else h=null;for(oA={focusedElem:o,selectionRange:h},pl=!1,Zt=l;Zt!==null;)if(l=Zt,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Zt=o;else for(;Zt!==null;){l=Zt;try{var ts=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ts!==null){var is=ts.memoizedProps,xn=ts.memoizedState,$e=l.stateNode,Qe=$e.getSnapshotBeforeUpdate(l.elementType===l.type?is:zo(l.type,is),xn);$e.__reactInternalSnapshotBeforeUpdate=Qe}break;case 3:var Je=l.stateNode.containerInfo;Je.nodeType===1?Je.textContent="":Je.nodeType===9&&Je.documentElement&&Je.removeChild(Je.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Nt){un(l,l.return,Nt)}if(o=l.sibling,o!==null){o.return=l.return,Zt=o;break}Zt=l.return}return ts=Xw,Xw=!1,ts}function Yu(o,l,h){var w=l.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&o)===o){var L=C.destroy;C.destroy=void 0,L!==void 0&&Xp(l,h,L)}C=C.next}while(C!==w)}}function im(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var w=h.create;h.destroy=w()}h=h.next}while(h!==l)}}function Zp(o){var l=o.ref;if(l!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof l=="function"?l(o):l.current=o}}function Zw(o){var l=o.alternate;l!==null&&(o.alternate=null,Zw(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[ro],delete l[XA],delete l[Ea],delete l[Pp],delete l[Rp])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function ev(o){return o.tag===5||o.tag===3||o.tag===4}function tv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||ev(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function eg(o,l,h){var w=o.tag;if(w===5||w===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=JA));else if(w!==4&&(o=o.child,o!==null))for(eg(o,l,h),o=o.sibling;o!==null;)eg(o,l,h),o=o.sibling}function tg(o,l,h){var w=o.tag;if(w===5||w===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(w!==4&&(o=o.child,o!==null))for(tg(o,l,h),o=o.sibling;o!==null;)tg(o,l,h),o=o.sibling}var ma=null,Go=!1;function ac(o,l,h){for(h=h.child;h!==null;)sv(o,l,h),h=h.sibling}function sv(o,l,h){if(aa&&typeof aa.onCommitFiberUnmount=="function")try{aa.onCommitFiberUnmount(wo,h)}catch{}switch(h.tag){case 5:Ia||zd(h,l);case 6:var w=ma,C=Go;ma=null,ac(o,l,h),ma=w,Go=C,ma!==null&&(Go?(o=ma,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):ma.removeChild(h.stateNode));break;case 18:ma!==null&&(Go?(o=ma,h=h.stateNode,o.nodeType===8?Hu(o.parentNode,h):o.nodeType===1&&Hu(o,h),Co(o)):Hu(ma,h.stateNode));break;case 4:w=ma,C=Go,ma=h.stateNode.containerInfo,Go=!0,ac(o,l,h),ma=w,Go=C;break;case 0:case 11:case 14:case 15:if(!Ia&&(w=h.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){C=w=w.next;do{var L=C,ee=L.destroy;L=L.tag,ee!==void 0&&((L&2)!==0||(L&4)!==0)&&Xp(h,l,ee),C=C.next}while(C!==w)}ac(o,l,h);break;case 1:if(!Ia&&(zd(h,l),w=h.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=h.memoizedProps,w.state=h.memoizedState,w.componentWillUnmount()}catch(Ne){un(h,l,Ne)}ac(o,l,h);break;case 21:ac(o,l,h);break;case 22:h.mode&1?(Ia=(w=Ia)||h.memoizedState!==null,ac(o,l,h),Ia=w):ac(o,l,h);break;default:ac(o,l,h)}}function rv(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new FC),l.forEach(function(w){var C=DC.bind(null,o,w);h.has(w)||(h.add(w),w.then(C,C))})}}function $o(o,l){var h=l.deletions;if(h!==null)for(var w=0;w<h.length;w++){var C=h[w];try{var L=o,ee=l,Ne=ee;e:for(;Ne!==null;){switch(Ne.tag){case 5:ma=Ne.stateNode,Go=!1;break e;case 3:ma=Ne.stateNode.containerInfo,Go=!0;break e;case 4:ma=Ne.stateNode.containerInfo,Go=!0;break e}Ne=Ne.return}if(ma===null)throw Error(r(160));sv(L,ee,C),ma=null,Go=!1;var Ue=C.alternate;Ue!==null&&(Ue.return=null),C.return=null}catch(tt){un(C,l,tt)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)nv(l,o),l=l.sibling}function nv(o,l){var h=o.alternate,w=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if($o(l,o),_l(o),w&4){try{Yu(3,o,o.return),im(3,o)}catch(is){un(o,o.return,is)}try{Yu(5,o,o.return)}catch(is){un(o,o.return,is)}}break;case 1:$o(l,o),_l(o),w&512&&h!==null&&zd(h,h.return);break;case 5:if($o(l,o),_l(o),w&512&&h!==null&&zd(h,h.return),o.flags&32){var C=o.stateNode;try{Ke(C,"")}catch(is){un(o,o.return,is)}}if(w&4&&(C=o.stateNode,C!=null)){var L=o.memoizedProps,ee=h!==null?h.memoizedProps:L,Ne=o.type,Ue=o.updateQueue;if(o.updateQueue=null,Ue!==null)try{Ne==="input"&&L.type==="radio"&&L.name!=null&&Te(C,L),Ft(Ne,ee);var tt=Ft(Ne,L);for(ee=0;ee<Ue.length;ee+=2){var wt=Ue[ee],vt=Ue[ee+1];wt==="style"?Et(C,vt):wt==="dangerouslySetInnerHTML"?dt(C,vt):wt==="children"?Ke(C,vt):U(C,wt,vt,tt)}switch(Ne){case"input":ze(C,L);break;case"textarea":Re(C,L);break;case"select":var gt=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!L.multiple;var Gt=L.value;Gt!=null?et(C,!!L.multiple,Gt,!1):gt!==!!L.multiple&&(L.defaultValue!=null?et(C,!!L.multiple,L.defaultValue,!0):et(C,!!L.multiple,L.multiple?[]:"",!1))}C[XA]=L}catch(is){un(o,o.return,is)}}break;case 6:if($o(l,o),_l(o),w&4){if(o.stateNode===null)throw Error(r(162));C=o.stateNode,L=o.memoizedProps;try{C.nodeValue=L}catch(is){un(o,o.return,is)}}break;case 3:if($o(l,o),_l(o),w&4&&h!==null&&h.memoizedState.isDehydrated)try{Co(l.containerInfo)}catch(is){un(o,o.return,is)}break;case 4:$o(l,o),_l(o);break;case 13:$o(l,o),_l(o),C=o.child,C.flags&8192&&(L=C.memoizedState!==null,C.stateNode.isHidden=L,!L||C.alternate!==null&&C.alternate.memoizedState!==null||(ng=mr())),w&4&&rv(o);break;case 22:if(wt=h!==null&&h.memoizedState!==null,o.mode&1?(Ia=(tt=Ia)||wt,$o(l,o),Ia=tt):$o(l,o),_l(o),w&8192){if(tt=o.memoizedState!==null,(o.stateNode.isHidden=tt)&&!wt&&(o.mode&1)!==0)for(Zt=o,wt=o.child;wt!==null;){for(vt=Zt=wt;Zt!==null;){switch(gt=Zt,Gt=gt.child,gt.tag){case 0:case 11:case 14:case 15:Yu(4,gt,gt.return);break;case 1:zd(gt,gt.return);var ts=gt.stateNode;if(typeof ts.componentWillUnmount=="function"){w=gt,h=gt.return;try{l=w,ts.props=l.memoizedProps,ts.state=l.memoizedState,ts.componentWillUnmount()}catch(is){un(w,h,is)}}break;case 5:zd(gt,gt.return);break;case 22:if(gt.memoizedState!==null){ov(vt);continue}}Gt!==null?(Gt.return=gt,Zt=Gt):ov(vt)}wt=wt.sibling}e:for(wt=null,vt=o;;){if(vt.tag===5){if(wt===null){wt=vt;try{C=vt.stateNode,tt?(L=C.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(Ne=vt.stateNode,Ue=vt.memoizedProps.style,ee=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null,Ne.style.display=Lt("display",ee))}catch(is){un(o,o.return,is)}}}else if(vt.tag===6){if(wt===null)try{vt.stateNode.nodeValue=tt?"":vt.memoizedProps}catch(is){un(o,o.return,is)}}else if((vt.tag!==22&&vt.tag!==23||vt.memoizedState===null||vt===o)&&vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===o)break e;for(;vt.sibling===null;){if(vt.return===null||vt.return===o)break e;wt===vt&&(wt=null),vt=vt.return}wt===vt&&(wt=null),vt.sibling.return=vt.return,vt=vt.sibling}}break;case 19:$o(l,o),_l(o),w&4&&rv(o);break;case 21:break;default:$o(l,o),_l(o)}}function _l(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(ev(h)){var w=h;break e}h=h.return}throw Error(r(160))}switch(w.tag){case 5:var C=w.stateNode;w.flags&32&&(Ke(C,""),w.flags&=-33);var L=tv(o);tg(o,L,C);break;case 3:case 4:var ee=w.stateNode.containerInfo,Ne=tv(o);eg(o,Ne,ee);break;default:throw Error(r(161))}}catch(Ue){un(o,o.return,Ue)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function UC(o,l,h){Zt=o,av(o)}function av(o,l,h){for(var w=(o.mode&1)!==0;Zt!==null;){var C=Zt,L=C.child;if(C.tag===22&&w){var ee=C.memoizedState!==null||am;if(!ee){var Ne=C.alternate,Ue=Ne!==null&&Ne.memoizedState!==null||Ia;Ne=am;var tt=Ia;if(am=ee,(Ia=Ue)&&!tt)for(Zt=C;Zt!==null;)ee=Zt,Ue=ee.child,ee.tag===22&&ee.memoizedState!==null?lv(C):Ue!==null?(Ue.return=ee,Zt=Ue):lv(C);for(;L!==null;)Zt=L,av(L),L=L.sibling;Zt=C,am=Ne,Ia=tt}iv(o)}else(C.subtreeFlags&8772)!==0&&L!==null?(L.return=C,Zt=L):iv(o)}}function iv(o){for(;Zt!==null;){var l=Zt;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Ia||im(5,l);break;case 1:var w=l.stateNode;if(l.flags&4&&!Ia)if(h===null)w.componentDidMount();else{var C=l.elementType===l.type?h.memoizedProps:zo(l.type,h.memoizedProps);w.componentDidUpdate(C,h.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var L=l.updateQueue;L!==null&&ui(l,L,w);break;case 3:var ee=l.updateQueue;if(ee!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}ui(l,ee,h)}break;case 5:var Ne=l.stateNode;if(h===null&&l.flags&4){h=Ne;var Ue=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":Ue.autoFocus&&h.focus();break;case"img":Ue.src&&(h.src=Ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var tt=l.alternate;if(tt!==null){var wt=tt.memoizedState;if(wt!==null){var vt=wt.dehydrated;vt!==null&&Co(vt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ia||l.flags&512&&Zp(l)}catch(gt){un(l,l.return,gt)}}if(l===o){Zt=null;break}if(h=l.sibling,h!==null){h.return=l.return,Zt=h;break}Zt=l.return}}function ov(o){for(;Zt!==null;){var l=Zt;if(l===o){Zt=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Zt=h;break}Zt=l.return}}function lv(o){for(;Zt!==null;){var l=Zt;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{im(4,l)}catch(Ue){un(l,h,Ue)}break;case 1:var w=l.stateNode;if(typeof w.componentDidMount=="function"){var C=l.return;try{w.componentDidMount()}catch(Ue){un(l,C,Ue)}}var L=l.return;try{Zp(l)}catch(Ue){un(l,L,Ue)}break;case 5:var ee=l.return;try{Zp(l)}catch(Ue){un(l,ee,Ue)}}}catch(Ue){un(l,l.return,Ue)}if(l===o){Zt=null;break}var Ne=l.sibling;if(Ne!==null){Ne.return=l.return,Zt=Ne;break}Zt=l.return}}var kC=Math.ceil,om=k.ReactCurrentDispatcher,sg=k.ReactCurrentOwner,oo=k.ReactCurrentBatchConfig,er=0,Jn=null,En=null,fa=0,Pi=0,Gd=ki(0),Ln=0,Ju=null,td=0,lm=0,rg=0,Xu=null,mi=null,ng=0,$d=1/0,hA=null,Am=!1,ag=null,ic=null,cm=!1,oc=null,dm=0,Zu=0,ig=null,um=-1,hm=0;function Ja(){return(er&6)!==0?mr():um!==-1?um:um=mr()}function lc(o){return(o.mode&1)===0?1:(er&2)!==0&&fa!==0?fa&-fa:tn.transition!==null?(hm===0&&(hm=ql()),hm):(o=zs,o!==0||(o=window.event,o=o===void 0?16:Eo(o.type)),o)}function Wo(o,l,h,w){if(50<Zu)throw Zu=0,ig=null,Error(r(185));$i(o,h,w),((er&2)===0||o!==Jn)&&(o===Jn&&((er&2)===0&&(lm|=h),Ln===4&&Ac(o,fa)),fi(o,w),h===1&&er===0&&(l.mode&1)===0&&($d=mr()+500,Jc&&R()))}function fi(o,l){var h=o.callbackNode;Xr(o,l);var w=bo(o,o===Jn?fa:0);if(w===0)h!==null&&Za(h),o.callbackNode=null,o.callbackPriority=0;else if(l=w&-w,o.callbackPriority!==l){if(h!=null&&Za(h),l===1)o.tag===0?F(cv.bind(null,o)):v(cv.bind(null,o)),Qp(function(){(er&6)===0&&R()}),h=null;else{switch(No(w)){case 1:h=Al;break;case 4:h=na;break;case 16:h=Gi;break;case 536870912:h=cl;break;default:h=Gi}h=xv(h,Av.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function Av(o,l){if(um=-1,hm=0,(er&6)!==0)throw Error(r(327));var h=o.callbackNode;if(Wd()&&o.callbackNode!==h)return null;var w=bo(o,o===Jn?fa:0);if(w===0)return null;if((w&30)!==0||(w&o.expiredLanes)!==0||l)l=mm(o,w);else{l=w;var C=er;er|=2;var L=uv();(Jn!==o||fa!==l)&&(hA=null,$d=mr()+500,rd(o,l));do try{QC();break}catch(Ne){dv(o,Ne)}while(!0);Xs(),om.current=L,er=C,En!==null?l=0:(Jn=null,fa=0,l=Ln)}if(l!==0){if(l===2&&(C=ia(o),C!==0&&(w=C,l=og(o,C))),l===1)throw h=Ju,rd(o,0),Ac(o,w),fi(o,mr()),h;if(l===6)Ac(o,w);else{if(C=o.current.alternate,(w&30)===0&&!IC(C)&&(l=mm(o,w),l===2&&(L=ia(o),L!==0&&(w=L,l=og(o,L))),l===1))throw h=Ju,rd(o,0),Ac(o,w),fi(o,mr()),h;switch(o.finishedWork=C,o.finishedLanes=w,l){case 0:case 1:throw Error(r(345));case 2:nd(o,mi,hA);break;case 3:if(Ac(o,w),(w&130023424)===w&&(l=ng+500-mr(),10<l)){if(bo(o,0)!==0)break;if(C=o.suspendedLanes,(C&w)!==w){Ja(),o.pingedLanes|=o.suspendedLanes&C;break}o.timeoutHandle=Ou(nd.bind(null,o,mi,hA),l);break}nd(o,mi,hA);break;case 4:if(Ac(o,w),(w&4194240)===w)break;for(l=o.eventTimes,C=-1;0<w;){var ee=31-Mr(w);L=1<<ee,ee=l[ee],ee>C&&(C=ee),w&=~L}if(w=C,w=mr()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*kC(w/1960))-w,10<w){o.timeoutHandle=Ou(nd.bind(null,o,mi,hA),w);break}nd(o,mi,hA);break;case 5:nd(o,mi,hA);break;default:throw Error(r(329))}}}return fi(o,mr()),o.callbackNode===h?Av.bind(null,o):null}function og(o,l){var h=Xu;return o.current.memoizedState.isDehydrated&&(rd(o,l).flags|=256),o=mm(o,l),o!==2&&(l=mi,mi=h,l!==null&&lg(l)),o}function lg(o){mi===null?mi=o:mi.push.apply(mi,o)}function IC(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var w=0;w<h.length;w++){var C=h[w],L=C.getSnapshot;C=C.value;try{if(!Pr(L(),C))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ac(o,l){for(l&=~rg,l&=~lm,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-Mr(l),w=1<<h;o[h]=-1,l&=~w}}function cv(o){if((er&6)!==0)throw Error(r(327));Wd();var l=bo(o,0);if((l&1)===0)return fi(o,mr()),null;var h=mm(o,l);if(o.tag!==0&&h===2){var w=ia(o);w!==0&&(l=w,h=og(o,w))}if(h===1)throw h=Ju,rd(o,0),Ac(o,l),fi(o,mr()),h;if(h===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,nd(o,mi,hA),fi(o,mr()),null}function Ag(o,l){var h=er;er|=1;try{return o(l)}finally{er=h,er===0&&($d=mr()+500,Jc&&R())}}function sd(o){oc!==null&&oc.tag===0&&(er&6)===0&&Wd();var l=er;er|=1;var h=oo.transition,w=zs;try{if(oo.transition=null,zs=1,o)return o()}finally{zs=w,oo.transition=h,er=l,(er&6)===0&&R()}}function cg(){Pi=Gd.current,ar(Gd)}function rd(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,Gh(h)),En!==null)for(h=En.return;h!==null;){var w=h;switch(We(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Ld();break;case 3:no(),ar(Fa),ar(kn),Gu();break;case 5:Vu(w);break;case 4:no();break;case 13:ar(Sr);break;case 19:ar(Sr);break;case 10:Ur(w.type._context);break;case 22:case 23:cg()}h=h.return}if(Jn=o,En=o=cc(o.current,null),fa=Pi=l,Ln=0,Ju=null,rg=lm=td=0,mi=Xu=null,fr!==null){for(l=0;l<fr.length;l++)if(h=fr[l],w=h.interleaved,w!==null){h.interleaved=null;var C=w.next,L=h.pending;if(L!==null){var ee=L.next;L.next=C,w.next=ee}h.pending=w}fr=null}return o}function dv(o,l){do{var h=En;try{if(Xs(),Qd.current=tm,sc){for(var w=kr.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}sc=!1}if(ao=0,an=dn=kr=null,Ko=!1,rc=0,sg.current=null,h===null||h.return===null){Ln=1,Ju=l,En=null;break}e:{var L=o,ee=h.return,Ne=h,Ue=l;if(l=fa,Ne.flags|=32768,Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var tt=Ue,wt=Ne,vt=wt.tag;if((wt.mode&1)===0&&(vt===0||vt===11||vt===15)){var gt=wt.alternate;gt?(wt.updateQueue=gt.updateQueue,wt.memoizedState=gt.memoizedState,wt.lanes=gt.lanes):(wt.updateQueue=null,wt.memoizedState=null)}var Gt=Tw(ee);if(Gt!==null){Gt.flags&=-257,Pw(Gt,ee,Ne,L,l),Gt.mode&1&&Qw(L,tt,l),l=Gt,Ue=tt;var ts=l.updateQueue;if(ts===null){var is=new Set;is.add(Ue),l.updateQueue=is}else ts.add(Ue);break e}else{if((l&1)===0){Qw(L,tt,l),dg();break e}Ue=Error(r(426))}}else if(ut&&Ne.mode&1){var xn=Tw(ee);if(xn!==null){(xn.flags&65536)===0&&(xn.flags|=256),Pw(xn,ee,Ne,L,l),St(Vd(Ue,Ne));break e}}L=Ue=Vd(Ue,Ne),Ln!==4&&(Ln=2),Xu===null?Xu=[L]:Xu.push(L),L=ee;do{switch(L.tag){case 3:L.flags|=65536,l&=-l,L.lanes|=l;var $e=Iw(L,Ue,l);gr(L,$e);break e;case 1:Ne=Ue;var Qe=L.type,Je=L.stateNode;if((L.flags&128)===0&&(typeof Qe.getDerivedStateFromError=="function"||Je!==null&&typeof Je.componentDidCatch=="function"&&(ic===null||!ic.has(Je)))){L.flags|=65536,l&=-l,L.lanes|=l;var Nt=Lw(L,Ne,l);gr(L,Nt);break e}}L=L.return}while(L!==null)}mv(h)}catch(ls){l=ls,En===h&&h!==null&&(En=h=h.return);continue}break}while(!0)}function uv(){var o=om.current;return om.current=tm,o===null?tm:o}function dg(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),Jn===null||(td&268435455)===0&&(lm&268435455)===0||Ac(Jn,fa)}function mm(o,l){var h=er;er|=2;var w=uv();(Jn!==o||fa!==l)&&(hA=null,rd(o,l));do try{LC();break}catch(C){dv(o,C)}while(!0);if(Xs(),er=h,om.current=w,En!==null)throw Error(r(261));return Jn=null,fa=0,Ln}function LC(){for(;En!==null;)hv(En)}function QC(){for(;En!==null&&!Ha();)hv(En)}function hv(o){var l=gv(o.alternate,o,Pi);o.memoizedProps=o.pendingProps,l===null?mv(o):En=l,sg.current=null}function mv(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=SC(h,l,Pi),h!==null){En=h;return}}else{if(h=EC(h,l),h!==null){h.flags&=32767,En=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Ln=6,En=null;return}}if(l=l.sibling,l!==null){En=l;return}En=l=o}while(l!==null);Ln===0&&(Ln=5)}function nd(o,l,h){var w=zs,C=oo.transition;try{oo.transition=null,zs=1,TC(o,l,h,w)}finally{oo.transition=C,zs=w}return null}function TC(o,l,h,w){do Wd();while(oc!==null);if((er&6)!==0)throw Error(r(327));h=o.finishedWork;var C=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var L=h.lanes|h.childLanes;if(Ma(o,L),o===Jn&&(En=Jn=null,fa=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||cm||(cm=!0,xv(Gi,function(){return Wd(),null})),L=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||L){L=oo.transition,oo.transition=null;var ee=zs;zs=1;var Ne=er;er|=4,sg.current=null,_C(o,h),nv(h,o),VA(oA),pl=!!qc,oA=qc=null,o.current=h,UC(h),rr(),er=Ne,zs=ee,oo.transition=L}else o.current=h;if(cm&&(cm=!1,oc=o,dm=C),L=o.pendingLanes,L===0&&(ic=null),DA(h.stateNode),fi(o,mr()),l!==null)for(w=o.onRecoverableError,h=0;h<l.length;h++)C=l[h],w(C.value,{componentStack:C.stack,digest:C.digest});if(Am)throw Am=!1,o=ag,ag=null,o;return(dm&1)!==0&&o.tag!==0&&Wd(),L=o.pendingLanes,(L&1)!==0?o===ig?Zu++:(Zu=0,ig=o):Zu=0,R(),null}function Wd(){if(oc!==null){var o=No(dm),l=oo.transition,h=zs;try{if(oo.transition=null,zs=16>o?16:o,oc===null)var w=!1;else{if(o=oc,oc=null,dm=0,(er&6)!==0)throw Error(r(331));var C=er;for(er|=4,Zt=o.current;Zt!==null;){var L=Zt,ee=L.child;if((Zt.flags&16)!==0){var Ne=L.deletions;if(Ne!==null){for(var Ue=0;Ue<Ne.length;Ue++){var tt=Ne[Ue];for(Zt=tt;Zt!==null;){var wt=Zt;switch(wt.tag){case 0:case 11:case 15:Yu(8,wt,L)}var vt=wt.child;if(vt!==null)vt.return=wt,Zt=vt;else for(;Zt!==null;){wt=Zt;var gt=wt.sibling,Gt=wt.return;if(Zw(wt),wt===tt){Zt=null;break}if(gt!==null){gt.return=Gt,Zt=gt;break}Zt=Gt}}}var ts=L.alternate;if(ts!==null){var is=ts.child;if(is!==null){ts.child=null;do{var xn=is.sibling;is.sibling=null,is=xn}while(is!==null)}}Zt=L}}if((L.subtreeFlags&2064)!==0&&ee!==null)ee.return=L,Zt=ee;else e:for(;Zt!==null;){if(L=Zt,(L.flags&2048)!==0)switch(L.tag){case 0:case 11:case 15:Yu(9,L,L.return)}var $e=L.sibling;if($e!==null){$e.return=L.return,Zt=$e;break e}Zt=L.return}}var Qe=o.current;for(Zt=Qe;Zt!==null;){ee=Zt;var Je=ee.child;if((ee.subtreeFlags&2064)!==0&&Je!==null)Je.return=ee,Zt=Je;else e:for(ee=Qe;Zt!==null;){if(Ne=Zt,(Ne.flags&2048)!==0)try{switch(Ne.tag){case 0:case 11:case 15:im(9,Ne)}}catch(ls){un(Ne,Ne.return,ls)}if(Ne===ee){Zt=null;break e}var Nt=Ne.sibling;if(Nt!==null){Nt.return=Ne.return,Zt=Nt;break e}Zt=Ne.return}}if(er=C,R(),aa&&typeof aa.onPostCommitFiberRoot=="function")try{aa.onPostCommitFiberRoot(wo,o)}catch{}w=!0}return w}finally{zs=h,oo.transition=l}}return!1}function fv(o,l,h){l=Vd(h,l),l=Iw(o,l,1),o=rn(o,l,1),l=Ja(),o!==null&&($i(o,1,l),fi(o,l))}function un(o,l,h){if(o.tag===3)fv(o,o,h);else for(;l!==null;){if(l.tag===3){fv(l,o,h);break}else if(l.tag===1){var w=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(ic===null||!ic.has(w))){o=Vd(h,o),o=Lw(l,o,1),l=rn(l,o,1),o=Ja(),l!==null&&($i(l,1,o),fi(l,o));break}}l=l.return}}function PC(o,l,h){var w=o.pingCache;w!==null&&w.delete(l),l=Ja(),o.pingedLanes|=o.suspendedLanes&h,Jn===o&&(fa&h)===h&&(Ln===4||Ln===3&&(fa&130023424)===fa&&500>mr()-ng?rd(o,0):rg|=h),fi(o,l)}function pv(o,l){l===0&&((o.mode&1)===0?l=1:(l=Mn,Mn<<=1,(Mn&130023424)===0&&(Mn=4194304)));var h=Ja();o=pr(o,l),o!==null&&($i(o,l,h),fi(o,h))}function RC(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),pv(o,h)}function DC(o,l){var h=0;switch(o.tag){case 13:var w=o.stateNode,C=o.memoizedState;C!==null&&(h=C.retryLane);break;case 19:w=o.stateNode;break;default:throw Error(r(314))}w!==null&&w.delete(l),pv(o,h)}var gv;gv=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||Fa.current)hi=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return hi=!1,CC(o,l,h);hi=(o.flags&131072)!==0}else hi=!1,ut&&(l.flags&1048576)!==0&&Me(l,ce,l.index);switch(l.lanes=0,l.tag){case 2:var w=l.type;nm(o,l),o=l.pendingProps;var C=ec(l,kn.current);$r(l,h),C=Xc(null,l,w,o,C,h);var L=io();return l.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,_a(w)?(L=!0,cA(l)):L=!1,l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,In(l),C.updater=sm,l.stateNode=C,C._reactInternals=l,Mp(l,w,o,h),l=Gp(null,l,w,!0,L,h)):(l.tag=0,ut&&L&&ot(l),Ya(null,l,C,h),l=l.child),l;case 16:w=l.elementType;e:{switch(nm(o,l),o=l.pendingProps,C=w._init,w=C(w._payload),l.type=w,C=l.tag=HC(w),o=zo(w,o),C){case 0:l=zp(null,l,w,o,h);break e;case 1:l=Kw(null,l,w,o,h);break e;case 11:l=Rw(null,l,w,o,h);break e;case 14:l=Dw(null,l,w,zo(w.type,o),h);break e}throw Error(r(306,w,""))}return l;case 0:return w=l.type,C=l.pendingProps,C=l.elementType===w?C:zo(w,C),zp(o,l,w,C,h);case 1:return w=l.type,C=l.pendingProps,C=l.elementType===w?C:zo(w,C),Kw(o,l,w,C,h);case 3:e:{if(Vw(l),o===null)throw Error(r(387));w=l.pendingProps,L=l.memoizedState,C=L.element,Ua(o,l),Yn(l,w,null,h);var ee=l.memoizedState;if(w=ee.element,L.isDehydrated)if(L={element:w,isDehydrated:!1,cache:ee.cache,pendingSuspenseBoundaries:ee.pendingSuspenseBoundaries,transitions:ee.transitions},l.updateQueue.baseState=L,l.memoizedState=L,l.flags&256){C=Vd(Error(r(423)),l),l=zw(o,l,w,h,C);break e}else if(w!==C){C=Vd(Error(r(424)),l),l=zw(o,l,w,h,C);break e}else for(at=ha(l.stateNode.containerInfo.firstChild),nt=l,ut=!0,mt=null,h=Dr(l,null,w,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Jt(),w===C){l=uA(o,l,h);break e}Ya(o,l,w,h)}l=l.child}return l;case 5:return Yh(l),o===null&&es(l),w=l.type,C=l.pendingProps,L=o!==null?o.memoizedProps:null,ee=C.children,Du(w,C)?ee=null:L!==null&&Du(w,L)&&(l.flags|=32),Mw(o,l),Ya(o,l,ee,h),l.child;case 6:return o===null&&es(l),null;case 13:return Gw(o,l,h);case 4:return tc(l,l.stateNode.containerInfo),w=l.pendingProps,o===null?l.child=An(l,null,w,h):Ya(o,l,w,h),l.child;case 11:return w=l.type,C=l.pendingProps,C=l.elementType===w?C:zo(w,C),Rw(o,l,w,C,h);case 7:return Ya(o,l,l.pendingProps,h),l.child;case 8:return Ya(o,l,l.pendingProps.children,h),l.child;case 12:return Ya(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(w=l.type._context,C=l.pendingProps,L=l.memoizedProps,ee=C.value,Ar(pn,w._currentValue),w._currentValue=ee,L!==null)if(Pr(L.value,ee)){if(L.children===C.children&&!Fa.current){l=uA(o,l,h);break e}}else for(L=l.child,L!==null&&(L.return=l);L!==null;){var Ne=L.dependencies;if(Ne!==null){ee=L.child;for(var Ue=Ne.firstContext;Ue!==null;){if(Ue.context===w){if(L.tag===1){Ue=sn(-1,h&-h),Ue.tag=2;var tt=L.updateQueue;if(tt!==null){tt=tt.shared;var wt=tt.pending;wt===null?Ue.next=Ue:(Ue.next=wt.next,wt.next=Ue),tt.pending=Ue}}L.lanes|=h,Ue=L.alternate,Ue!==null&&(Ue.lanes|=h),Zs(L.return,h,l),Ne.lanes|=h;break}Ue=Ue.next}}else if(L.tag===10)ee=L.type===l.type?null:L.child;else if(L.tag===18){if(ee=L.return,ee===null)throw Error(r(341));ee.lanes|=h,Ne=ee.alternate,Ne!==null&&(Ne.lanes|=h),Zs(ee,h,l),ee=L.sibling}else ee=L.child;if(ee!==null)ee.return=L;else for(ee=L;ee!==null;){if(ee===l){ee=null;break}if(L=ee.sibling,L!==null){L.return=ee.return,ee=L;break}ee=ee.return}L=ee}Ya(o,l,C.children,h),l=l.child}return l;case 9:return C=l.type,w=l.pendingProps.children,$r(l,h),C=Wr(C),w=w(C),l.flags|=1,Ya(o,l,w,h),l.child;case 14:return w=l.type,C=zo(w,l.pendingProps),C=zo(w.type,C),Dw(o,l,w,C,h);case 15:return Ow(o,l,l.type,l.pendingProps,h);case 17:return w=l.type,C=l.pendingProps,C=l.elementType===w?C:zo(w,C),nm(o,l),l.tag=1,_a(w)?(o=!0,cA(l)):o=!1,$r(l,h),Uw(l,w,C),Mp(l,w,C,h),Gp(null,l,w,!0,o,h);case 19:return Ww(o,l,h);case 22:return Hw(o,l,h)}throw Error(r(156,l.tag))};function xv(o,l){return mn(o,l)}function OC(o,l,h,w){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lo(o,l,h,w){return new OC(o,l,h,w)}function ug(o){return o=o.prototype,!(!o||!o.isReactComponent)}function HC(o){if(typeof o=="function")return ug(o)?1:0;if(o!=null){if(o=o.$$typeof,o===T)return 11;if(o===ie)return 14}return 2}function cc(o,l){var h=o.alternate;return h===null?(h=lo(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function fm(o,l,h,w,C,L){var ee=2;if(w=o,typeof o=="function")ug(o)&&(ee=1);else if(typeof o=="string")ee=5;else e:switch(o){case H:return ad(h.children,C,L,l);case I:ee=8,C|=8;break;case D:return o=lo(12,h,l,C|2),o.elementType=D,o.lanes=L,o;case $:return o=lo(13,h,l,C),o.elementType=$,o.lanes=L,o;case V:return o=lo(19,h,l,C),o.elementType=V,o.lanes=L,o;case ne:return pm(h,C,L,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:ee=10;break e;case Q:ee=9;break e;case T:ee=11;break e;case ie:ee=14;break e;case W:ee=16,w=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return l=lo(ee,h,l,C),l.elementType=o,l.type=w,l.lanes=L,l}function ad(o,l,h,w){return o=lo(7,o,w,l),o.lanes=h,o}function pm(o,l,h,w){return o=lo(22,o,w,l),o.elementType=ne,o.lanes=h,o.stateNode={isHidden:!1},o}function hg(o,l,h){return o=lo(6,o,null,l),o.lanes=h,o}function mg(o,l,h){return l=lo(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function MC(o,l,h,w,C){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=w,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function fg(o,l,h,w,C,L,ee,Ne,Ue){return o=new MC(o,l,h,Ne,Ue),l===1?(l=1,L===!0&&(l|=8)):l=0,L=lo(3,null,null,l),o.current=L,L.stateNode=o,L.memoizedState={element:w,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},In(L),o}function KC(o,l,h){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:w==null?null:""+w,children:o,containerInfo:l,implementation:h}}function wv(o){if(!o)return Sl;o=o._reactInternals;e:{if(us(o)!==o||o.tag!==1)throw Error(r(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(_a(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(o.tag===1){var h=o.type;if(_a(h))return Ku(o,h,l)}return l}function vv(o,l,h,w,C,L,ee,Ne,Ue){return o=fg(h,w,!0,o,C,L,ee,Ne,Ue),o.context=wv(null),h=o.current,w=Ja(),C=lc(h),L=sn(w,C),L.callback=l??null,rn(h,L,C),o.current.lanes=C,$i(o,C,w),fi(o,w),o}function gm(o,l,h,w){var C=l.current,L=Ja(),ee=lc(C);return h=wv(h),l.context===null?l.context=h:l.pendingContext=h,l=sn(L,ee),l.payload={element:o},w=w===void 0?null:w,w!==null&&(l.callback=w),o=rn(C,l,ee),o!==null&&(Wo(o,C,ee,L),qn(o,C,ee)),ee}function xm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function bv(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function pg(o,l){bv(o,l),(o=o.alternate)&&bv(o,l)}function VC(){return null}var yv=typeof reportError=="function"?reportError:function(o){console.error(o)};function gg(o){this._internalRoot=o}wm.prototype.render=gg.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));gm(o,l,null,null)},wm.prototype.unmount=gg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;sd(function(){gm(null,o,null,null)}),l[$n]=null}};function wm(o){this._internalRoot=o}wm.prototype.unstable_scheduleHydration=function(o){if(o){var l=HA();o={blockedOn:null,target:o,priority:l};for(var h=0;h<si.length&&l!==0&&l<si[h].priority;h++);si.splice(h,0,o),h===0&&Jl(o)}};function xg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function vm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Nv(){}function zC(o,l,h,w,C){if(C){if(typeof w=="function"){var L=w;w=function(){var tt=xm(ee);L.call(tt)}}var ee=vv(l,w,o,0,null,!1,!1,"",Nv);return o._reactRootContainer=ee,o[$n]=ee.current,K(o.nodeType===8?o.parentNode:o),sd(),ee}for(;C=o.lastChild;)o.removeChild(C);if(typeof w=="function"){var Ne=w;w=function(){var tt=xm(Ue);Ne.call(tt)}}var Ue=fg(o,0,!1,null,null,!1,!1,"",Nv);return o._reactRootContainer=Ue,o[$n]=Ue.current,K(o.nodeType===8?o.parentNode:o),sd(function(){gm(l,Ue,h,w)}),Ue}function bm(o,l,h,w,C){var L=h._reactRootContainer;if(L){var ee=L;if(typeof C=="function"){var Ne=C;C=function(){var Ue=xm(ee);Ne.call(Ue)}}gm(l,ee,o,C)}else ee=zC(h,l,o,C,w);return xm(ee)}Ni=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=ei(l.pendingLanes);h!==0&&(yo(l,h|1),fi(l,mr()),(er&6)===0&&($d=mr()+500,R()))}break;case 13:sd(function(){var w=pr(o,1);if(w!==null){var C=Ja();Wo(w,o,1,C)}}),pg(o,1)}},Yl=function(o){if(o.tag===13){var l=pr(o,134217728);if(l!==null){var h=Ja();Wo(l,o,134217728,h)}pg(o,134217728)}},OA=function(o){if(o.tag===13){var l=lc(o),h=pr(o,l);if(h!==null){var w=Ja();Wo(h,o,l,w)}pg(o,l)}},HA=function(){return zs},hl=function(o,l){var h=zs;try{return zs=o,l()}finally{zs=h}},Bt=function(o,l,h){switch(l){case"input":if(ze(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var w=h[l];if(w!==o&&w.form===o.form){var C=Yc(w);if(!C)throw Error(r(90));Ve(w),ze(w,C)}}}break;case"textarea":Re(o,h);break;case"select":l=h.value,l!=null&&et(o,!!h.multiple,l,!1)}},_s=Ag,Ys=sd;var GC={usingClientEntryPoint:!1,Events:[ZA,lA,Yc,Ct,Ks,Ag]},eh={findFiberByHostInstance:Cl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$C={bundleType:eh.bundleType,version:eh.version,rendererPackageName:eh.rendererPackageName,rendererConfig:eh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=bs(o),o===null?null:o.stateNode},findFiberByHostInstance:eh.findFiberByHostInstance||VC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ym=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ym.isDisabled&&ym.supportsFiber)try{wo=ym.inject($C),aa=ym}catch{}}return pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GC,pi.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xg(l))throw Error(r(200));return KC(o,l,null,h)},pi.createRoot=function(o,l){if(!xg(o))throw Error(r(299));var h=!1,w="",C=yv;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),l=fg(o,1,!1,null,null,h,!1,w,C),o[$n]=l.current,K(o.nodeType===8?o.parentNode:o),new gg(l)},pi.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=bs(l),o=o===null?null:o.stateNode,o},pi.flushSync=function(o){return sd(o)},pi.hydrate=function(o,l,h){if(!vm(l))throw Error(r(200));return bm(null,o,l,!0,h)},pi.hydrateRoot=function(o,l,h){if(!xg(o))throw Error(r(405));var w=h!=null&&h.hydratedSources||null,C=!1,L="",ee=yv;if(h!=null&&(h.unstable_strictMode===!0&&(C=!0),h.identifierPrefix!==void 0&&(L=h.identifierPrefix),h.onRecoverableError!==void 0&&(ee=h.onRecoverableError)),l=vv(l,null,o,1,h??null,C,!1,L,ee),o[$n]=l.current,K(o),w)for(o=0;o<w.length;o++)h=w[o],C=h._getVersion,C=C(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,C]:l.mutableSourceEagerHydrationData.push(h,C);return new wm(l)},pi.render=function(o,l,h){if(!vm(l))throw Error(r(200));return bm(null,o,l,!1,h)},pi.unmountComponentAtNode=function(o){if(!vm(o))throw Error(r(40));return o._reactRootContainer?(sd(function(){bm(null,null,o,!1,function(){o._reactRootContainer=null,o[$n]=null})}),!0):!1},pi.unstable_batchedUpdates=Ag,pi.unstable_renderSubtreeIntoContainer=function(o,l,h,w){if(!vm(h))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return bm(o,l,h,!1,w)},pi.version="18.3.1-next-f1338f8080-20240426",pi}var Uv;function Gy(){if(Uv)return bg.exports;Uv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),bg.exports=t4(),bg.exports}var kv;function s4(){if(kv)return Nm;kv=1;var s=Gy();return Nm.createRoot=s.createRoot,Nm.hydrateRoot=s.hydrateRoot,Nm}var r4=s4(),S=rp();const jt=zy(S),Ux=qC({__proto__:null,default:jt},[S]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a4=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Iv=s=>{const t=a4(s);return t.charAt(0).toUpperCase()+t.slice(1)},$y=(...s)=>s.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=S.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:A,...c},d)=>S.createElement("svg",{ref:d,...i4,width:t,height:t,stroke:s,strokeWidth:n?Number(r)*24/Number(t):r,className:$y("lucide",a),...c},[...A.map(([u,m])=>S.createElement(u,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=(s,t)=>{const r=S.forwardRef(({className:n,...a},i)=>S.createElement(o4,{ref:i,iconNode:t,className:$y(`lucide-${n4(Iv(s))}`,`lucide-${s}`,n),...a}));return r.displayName=Iv(s),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Wy=It("activity",l4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nu=It("arrow-left",A4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],d4=It("arrow-right",c4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],CA=It("award",u4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Zo=It("bell",h4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Jr=It("book-open",m4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],qy=It("building-2",f4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Yy=It("calculator",p4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ta=It("calendar",g4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ef=It("chart-column",x4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wA=It("check",w4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Jy=It("chevron-down",v4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],y4=It("chevron-up",b4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Es=It("circle-alert",N4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Br=It("circle-check-big",j4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bA=It("circle-check",B4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xa=It("circle-x",C4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],po=It("clock",S4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],SA=It("credit-card",E4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],xh=It("database",F4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Hl=It("dollar-sign",_4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Fr=It("download",U4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jg=It("eye-off",k4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pn=It("eye",I4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Q4=It("facebook",L4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],P4=It("file-spreadsheet",T4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sa=It("file-text",R4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],np=It("funnel",D4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ml=It("graduation-cap",O4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Lv=It("grid-3x3",H4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],K4=It("hard-drive",M4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],z4=It("heart",V4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$4=It("image",G4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],q4=It("info",W4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],J4=It("instagram",Y4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Xy=It("key-round",X4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],eS=It("key",Z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ap=It("layout-dashboard",tS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],rS=It("link-2",sS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Ff=It("link",nS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Zy=It("list",aS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],oS=It("loader-circle",iS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ju=It("lock",lS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],kx=It("log-out",AS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],_f=It("mail",cS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],e2=It("map-pin",dS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],t2=It("menu",uS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ix=It("message-square",hS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Bg=It("pen-line",mS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pS=It("pen",fS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Uf=It("phone",gS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xo=It("plus",xS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Qv=It("power",wS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Eh=It("printer",vS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],ud=It("receipt",bS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Fh=It("refresh-cw",yS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Hc=It("save",NS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],_h=It("school",jS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],bi=It("search",BS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Bu=It("send",CS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],s2=It("settings",SS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],k0=It("shield",ES);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],I0=It("square-check-big",FS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Pl=It("square-pen",_S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Tv=It("square",US);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Hi=It("trash-2",kS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Nd=It("trending-up",IS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],L0=It("triangle-alert",LS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],TS=It("twitter",QS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],r2=It("unlink",PS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],go=It("upload",RS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Uh=It("user-check",DS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],wh=It("user-cog",OS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Tc=It("user-plus",HS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],EA=It("user",MS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Qs=It("users",KS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],FA=It("x",VS);function Pv(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function Fu(...s){return t=>{let r=!1;const n=s.map(a=>{const i=Pv(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Pv(s[a],null)}}}}function Cr(...s){return S.useCallback(Fu(...s),s)}var zS=Symbol.for("react.lazy"),kf=Ux[" use ".trim().toString()];function GS(s){return typeof s=="object"&&s!==null&&"then"in s}function n2(s){return s!=null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===zS&&"_payload"in s&&GS(s._payload)}function ip(s){const t=$S(s),r=S.forwardRef((n,a)=>{let{children:i,...A}=n;n2(i)&&typeof kf=="function"&&(i=kf(i._payload));const c=S.Children.toArray(i),d=c.find(qS);if(d){const u=d.props.children,m=c.map(f=>f===d?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return e.jsx(t,{...A,ref:a,children:S.isValidElement(u)?S.cloneElement(u,void 0,m):null})}return e.jsx(t,{...A,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}var a2=ip("Slot");function $S(s){const t=S.forwardRef((r,n)=>{let{children:a,...i}=r;if(n2(a)&&typeof kf=="function"&&(a=kf(a._payload)),S.isValidElement(a)){const A=JS(a),c=YS(i,a.props);return a.type!==S.Fragment&&(c.ref=n?Fu(n,A):A),S.cloneElement(a,c)}return S.Children.count(a)>1?S.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var WS=Symbol("radix.slottable");function qS(s){return S.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===WS}function YS(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function JS(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}function i2(s){var t,r,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var a=s.length;for(t=0;t<a;t++)s[t]&&(r=i2(s[t]))&&(n&&(n+=" "),n+=r)}else for(r in s)s[r]&&(n&&(n+=" "),n+=r);return n}function o2(){for(var s,t,r=0,n="",a=arguments.length;r<a;r++)(s=arguments[r])&&(t=i2(s))&&(n&&(n+=" "),n+=t);return n}const Rv=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Dv=o2,Lx=(s,t)=>r=>{var n;if(t?.variants==null)return Dv(s,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,A=Object.keys(a).map(u=>{const m=r?.[u],f=i?.[u];if(m===null)return null;const x=Rv(m)||Rv(f);return a[u][x]}),c=r&&Object.entries(r).reduce((u,m)=>{let[f,x]=m;return x===void 0||(u[f]=x),u},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,m)=>{let{class:f,className:x,...g}=m;return Object.entries(g).every(N=>{let[b,j]=N;return Array.isArray(j)?j.includes({...i,...c}[b]):{...i,...c}[b]===j})?[...u,f,x]:u},[]);return Dv(s,A,d,r?.class,r?.className)},XS=(s,t)=>{const r=new Array(s.length+t.length);for(let n=0;n<s.length;n++)r[n]=s[n];for(let n=0;n<t.length;n++)r[s.length+n]=t[n];return r},ZS=(s,t)=>({classGroupId:s,validator:t}),l2=(s=new Map,t=null,r)=>({nextPart:s,validators:t,classGroupId:r}),If="-",Ov=[],eE="arbitrary..",tE=s=>{const t=rE(s),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=s;return{getClassGroupId:A=>{if(A.startsWith("[")&&A.endsWith("]"))return sE(A);const c=A.split(If),d=c[0]===""&&c.length>1?1:0;return A2(c,d,t)},getConflictingClassGroupIds:(A,c)=>{if(c){const d=n[A],u=r[A];return d?u?XS(u,d):d:u||Ov}return r[A]||Ov}}},A2=(s,t,r)=>{if(s.length-t===0)return r.classGroupId;const a=s[t],i=r.nextPart.get(a);if(i){const u=A2(s,t+1,i);if(u)return u}const A=r.validators;if(A===null)return;const c=t===0?s.join(If):s.slice(t).join(If),d=A.length;for(let u=0;u<d;u++){const m=A[u];if(m.validator(c))return m.classGroupId}},sE=s=>s.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=s.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?eE+n:void 0})(),rE=s=>{const{theme:t,classGroups:r}=s;return nE(r,t)},nE=(s,t)=>{const r=l2();for(const n in s){const a=s[n];Qx(a,r,n,t)}return r},Qx=(s,t,r,n)=>{const a=s.length;for(let i=0;i<a;i++){const A=s[i];aE(A,t,r,n)}},aE=(s,t,r,n)=>{if(typeof s=="string"){iE(s,t,r);return}if(typeof s=="function"){oE(s,t,r,n);return}lE(s,t,r,n)},iE=(s,t,r)=>{const n=s===""?t:c2(t,s);n.classGroupId=r},oE=(s,t,r,n)=>{if(AE(s)){Qx(s(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(ZS(r,s))},lE=(s,t,r,n)=>{const a=Object.entries(s),i=a.length;for(let A=0;A<i;A++){const[c,d]=a[A];Qx(d,c2(t,c),r,n)}},c2=(s,t)=>{let r=s;const n=t.split(If),a=n.length;for(let i=0;i<a;i++){const A=n[i];let c=r.nextPart.get(A);c||(c=l2(),r.nextPart.set(A,c)),r=c}return r},AE=s=>"isThemeGetter"in s&&s.isThemeGetter===!0,cE=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,A)=>{r[i]=A,t++,t>s&&(t=0,n=r,r=Object.create(null))};return{get(i){let A=r[i];if(A!==void 0)return A;if((A=n[i])!==void 0)return a(i,A),A},set(i,A){i in r?r[i]=A:a(i,A)}}},Q0="!",Hv=":",dE=[],Mv=(s,t,r,n,a)=>({modifiers:s,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),uE=s=>{const{prefix:t,experimentalParseClassName:r}=s;let n=a=>{const i=[];let A=0,c=0,d=0,u;const m=a.length;for(let b=0;b<m;b++){const j=a[b];if(A===0&&c===0){if(j===Hv){i.push(a.slice(d,b)),d=b+1;continue}if(j==="/"){u=b;continue}}j==="["?A++:j==="]"?A--:j==="("?c++:j===")"&&c--}const f=i.length===0?a:a.slice(d);let x=f,g=!1;f.endsWith(Q0)?(x=f.slice(0,-1),g=!0):f.startsWith(Q0)&&(x=f.slice(1),g=!0);const N=u&&u>d?u-d:void 0;return Mv(i,g,x,N)};if(t){const a=t+Hv,i=n;n=A=>A.startsWith(a)?i(A.slice(a.length)):Mv(dE,!1,A,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},hE=s=>{const t=new Map;return s.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const A=r[i],c=A[0]==="[",d=t.has(A);c||d?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(A)):a.push(A)}return a.length>0&&(a.sort(),n.push(...a)),n}},mE=s=>({cache:cE(s.cacheSize),parseClassName:uE(s),sortModifiers:hE(s),...tE(s)}),fE=/\s+/,pE=(s,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,A=[],c=s.trim().split(fE);let d="";for(let u=c.length-1;u>=0;u-=1){const m=c[u],{isExternal:f,modifiers:x,hasImportantModifier:g,baseClassName:N,maybePostfixModifierPosition:b}=r(m);if(f){d=m+(d.length>0?" "+d:d);continue}let j=!!b,y=n(j?N.substring(0,b):N);if(!y){if(!j){d=m+(d.length>0?" "+d:d);continue}if(y=n(N),!y){d=m+(d.length>0?" "+d:d);continue}j=!1}const E=x.length===0?"":x.length===1?x[0]:i(x).join(":"),U=g?E+Q0:E,k=U+y;if(A.indexOf(k)>-1)continue;A.push(k);const q=a(y,j);for(let G=0;G<q.length;++G){const H=q[G];A.push(U+H)}d=m+(d.length>0?" "+d:d)}return d},gE=(...s)=>{let t=0,r,n,a="";for(;t<s.length;)(r=s[t++])&&(n=d2(r))&&(a&&(a+=" "),a+=n);return a},d2=s=>{if(typeof s=="string")return s;let t,r="";for(let n=0;n<s.length;n++)s[n]&&(t=d2(s[n]))&&(r&&(r+=" "),r+=t);return r},xE=(s,...t)=>{let r,n,a,i;const A=d=>{const u=t.reduce((m,f)=>f(m),s());return r=mE(u),n=r.cache.get,a=r.cache.set,i=c,c(d)},c=d=>{const u=n(d);if(u)return u;const m=pE(d,r);return a(d,m),m};return i=A,(...d)=>i(gE(...d))},wE=[],Qn=s=>{const t=r=>r[s]||wE;return t.isThemeGetter=!0,t},u2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,h2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vE=/^\d+\/\d+$/,bE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,jE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qd=s=>vE.test(s),Ls=s=>!!s&&!Number.isNaN(Number(s)),uc=s=>!!s&&Number.isInteger(Number(s)),Cg=s=>s.endsWith("%")&&Ls(s.slice(0,-1)),mA=s=>bE.test(s),CE=()=>!0,SE=s=>yE.test(s)&&!NE.test(s),m2=()=>!1,EE=s=>jE.test(s),FE=s=>BE.test(s),_E=s=>!ss(s)&&!rs(s),UE=s=>_u(s,g2,m2),ss=s=>u2.test(s),id=s=>_u(s,x2,SE),Sg=s=>_u(s,TE,Ls),Kv=s=>_u(s,f2,m2),kE=s=>_u(s,p2,FE),jm=s=>_u(s,w2,EE),rs=s=>h2.test(s),sh=s=>Uu(s,x2),IE=s=>Uu(s,PE),Vv=s=>Uu(s,f2),LE=s=>Uu(s,g2),QE=s=>Uu(s,p2),Bm=s=>Uu(s,w2,!0),_u=(s,t,r)=>{const n=u2.exec(s);return n?n[1]?t(n[1]):r(n[2]):!1},Uu=(s,t,r=!1)=>{const n=h2.exec(s);return n?n[1]?t(n[1]):r:!1},f2=s=>s==="position"||s==="percentage",p2=s=>s==="image"||s==="url",g2=s=>s==="length"||s==="size"||s==="bg-size",x2=s=>s==="length",TE=s=>s==="number",PE=s=>s==="family-name",w2=s=>s==="shadow",RE=()=>{const s=Qn("color"),t=Qn("font"),r=Qn("text"),n=Qn("font-weight"),a=Qn("tracking"),i=Qn("leading"),A=Qn("breakpoint"),c=Qn("container"),d=Qn("spacing"),u=Qn("radius"),m=Qn("shadow"),f=Qn("inset-shadow"),x=Qn("text-shadow"),g=Qn("drop-shadow"),N=Qn("blur"),b=Qn("perspective"),j=Qn("aspect"),y=Qn("ease"),E=Qn("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],q=()=>[...k(),rs,ss],G=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto","contain","none"],I=()=>[rs,ss,d],D=()=>[qd,"full","auto",...I()],P=()=>[uc,"none","subgrid",rs,ss],Q=()=>["auto",{span:["full",uc,rs,ss]},uc,rs,ss],T=()=>[uc,"auto",rs,ss],$=()=>["auto","min","max","fr",rs,ss],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...I()],ne=()=>[qd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],M=()=>[s,rs,ss],de=()=>[...k(),Vv,Kv,{position:[rs,ss]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],se=()=>["auto","cover","contain",LE,UE,{size:[rs,ss]}],O=()=>[Cg,sh,id],X=()=>["","none","full",u,rs,ss],re=()=>["",Ls,sh,id],me=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>[Ls,Cg,Vv,Kv],oe=()=>["","none",N,rs,ss],z=()=>["none",Ls,rs,ss],fe=()=>["none",Ls,rs,ss],Fe=()=>[Ls,rs,ss],Ve=()=>[qd,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[mA],breakpoint:[mA],color:[CE],container:[mA],"drop-shadow":[mA],ease:["in","out","in-out"],font:[_E],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[mA],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[mA],shadow:[mA],spacing:["px",Ls],text:[mA],"text-shadow":[mA],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qd,ss,rs,j]}],container:["container"],columns:[{columns:[Ls,ss,rs,c]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:q()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[uc,"auto",rs,ss]}],basis:[{basis:[qd,"full","auto",c,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ls,qd,"auto","initial","none",ss]}],grow:[{grow:["",Ls,rs,ss]}],shrink:[{shrink:["",Ls,rs,ss]}],order:[{order:[uc,"first","last","none",rs,ss]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:Q()}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:Q()}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[c,"screen",...ne()]}],"min-w":[{"min-w":[c,"screen","none",...ne()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[A]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",r,sh,id]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,rs,Sg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Cg,ss]}],"font-family":[{font:[IE,ss,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,rs,ss]}],"line-clamp":[{"line-clamp":[Ls,"none",rs,Sg]}],leading:[{leading:[i,...I()]}],"list-image":[{"list-image":["none",rs,ss]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",rs,ss]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ls,"from-font","auto",rs,id]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[Ls,"auto",rs,ss]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rs,ss]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rs,ss]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},uc,rs,ss],radial:["",rs,ss],conic:[uc,rs,ss]},QE,kE]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ls,rs,ss]}],"outline-w":[{outline:["",Ls,sh,id]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",m,Bm,jm]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",f,Bm,jm]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[Ls,id]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",x,Bm,jm]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[Ls,rs,ss]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ls]}],"mask-image-linear-from-pos":[{"mask-linear-from":Z()}],"mask-image-linear-to-pos":[{"mask-linear-to":Z()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":Z()}],"mask-image-t-to-pos":[{"mask-t-to":Z()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":Z()}],"mask-image-r-to-pos":[{"mask-r-to":Z()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":Z()}],"mask-image-b-to-pos":[{"mask-b-to":Z()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":Z()}],"mask-image-l-to-pos":[{"mask-l-to":Z()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":Z()}],"mask-image-x-to-pos":[{"mask-x-to":Z()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":Z()}],"mask-image-y-to-pos":[{"mask-y-to":Z()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[rs,ss]}],"mask-image-radial-from-pos":[{"mask-radial-from":Z()}],"mask-image-radial-to-pos":[{"mask-radial-to":Z()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Ls]}],"mask-image-conic-from-pos":[{"mask-conic-from":Z()}],"mask-image-conic-to-pos":[{"mask-conic-to":Z()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",rs,ss]}],filter:[{filter:["","none",rs,ss]}],blur:[{blur:oe()}],brightness:[{brightness:[Ls,rs,ss]}],contrast:[{contrast:[Ls,rs,ss]}],"drop-shadow":[{"drop-shadow":["","none",g,Bm,jm]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",Ls,rs,ss]}],"hue-rotate":[{"hue-rotate":[Ls,rs,ss]}],invert:[{invert:["",Ls,rs,ss]}],saturate:[{saturate:[Ls,rs,ss]}],sepia:[{sepia:["",Ls,rs,ss]}],"backdrop-filter":[{"backdrop-filter":["","none",rs,ss]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[Ls,rs,ss]}],"backdrop-contrast":[{"backdrop-contrast":[Ls,rs,ss]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ls,rs,ss]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ls,rs,ss]}],"backdrop-invert":[{"backdrop-invert":["",Ls,rs,ss]}],"backdrop-opacity":[{"backdrop-opacity":[Ls,rs,ss]}],"backdrop-saturate":[{"backdrop-saturate":[Ls,rs,ss]}],"backdrop-sepia":[{"backdrop-sepia":["",Ls,rs,ss]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",rs,ss]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ls,"initial",rs,ss]}],ease:[{ease:["linear","initial",y,rs,ss]}],delay:[{delay:[Ls,rs,ss]}],animate:[{animate:["none",E,rs,ss]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,rs,ss]}],"perspective-origin":[{"perspective-origin":q()}],rotate:[{rotate:z()}],"rotate-x":[{"rotate-x":z()}],"rotate-y":[{"rotate-y":z()}],"rotate-z":[{"rotate-z":z()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:Fe()}],"skew-x":[{"skew-x":Fe()}],"skew-y":[{"skew-y":Fe()}],transform:[{transform:[rs,ss,"","none","gpu","cpu"]}],"transform-origin":[{origin:q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rs,ss]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rs,ss]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[Ls,sh,id,Sg]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},DE=xE(RE);function ms(...s){return DE(o2(s))}const Tx=Lx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Ee({className:s,variant:t,size:r,asChild:n=!1,...a}){const i=n?a2:"button";return e.jsx(i,{"data-slot":"button",className:ms(Tx({variant:t,size:r,className:s})),...a})}function Ce({className:s,...t}){return e.jsx("div",{"data-slot":"card",className:ms("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",s),...t})}function Qt({className:s,...t}){return e.jsx("div",{"data-slot":"card-header",className:ms("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function ur({className:s,...t}){return e.jsx("h4",{"data-slot":"card-title",className:ms("leading-none",s),...t})}function OE({className:s,...t}){return e.jsx("p",{"data-slot":"card-description",className:ms("text-muted-foreground",s),...t})}function Le({className:s,...t}){return e.jsx("div",{"data-slot":"card-content",className:ms("px-6 [&:last-child]:pb-6",s),...t})}const Cu=""+new URL("school-logo-ZzswyZIT.jpg",import.meta.url).href;function HE({onNavigateToLogin:s}){const[t,r]=S.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-sm backdrop-blur-sm bg-white/95",children:e.jsxs("div",{className:"container mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-white flex items-center justify-center shadow-lg ring-2 ring-[#FFD700]/30 p-1",children:e.jsx("img",{src:Cu,alt:"Graceland Royal Academy Logo",className:"w-full h-full object-contain rounded-full"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-[#0A2540]",children:"Graceland Royal Academy"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Gombe"})]})]}),e.jsxs("nav",{className:"hidden lg:flex items-center gap-8",children:[e.jsxs("a",{href:"#home",className:"text-gray-700 hover:text-[#0A2540] transition-colors relative group",children:["Home",e.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#FFD700] transition-all group-hover:w-full"})]}),e.jsxs("a",{href:"#about",className:"text-gray-700 hover:text-[#0A2540] transition-colors relative group",children:["About",e.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#FFD700] transition-all group-hover:w-full"})]}),e.jsxs("a",{href:"#features",className:"text-gray-700 hover:text-[#0A2540] transition-colors relative group",children:["Features",e.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#FFD700] transition-all group-hover:w-full"})]}),e.jsxs("a",{href:"#admissions",className:"text-gray-700 hover:text-[#0A2540] transition-colors relative group",children:["Admissions",e.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#FFD700] transition-all group-hover:w-full"})]}),e.jsxs("a",{href:"#contact",className:"text-gray-700 hover:text-[#0A2540] transition-colors relative group",children:["Contact",e.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#FFD700] transition-all group-hover:w-full"})]}),e.jsx(Ee,{onClick:s,className:"bg-[#FFD700] text-[#0A2540] hover:bg-[#FFD700]/90 rounded-xl px-6 shadow-lg hover:shadow-xl transition-all hover:scale-105",children:"Login to Portal"})]}),e.jsxs("div",{className:"flex items-center gap-2 lg:hidden",children:[e.jsx(Ee,{onClick:s,className:"bg-[#FFD700] text-[#0A2540] hover:bg-[#FFD700]/90 rounded-xl text-sm px-4",children:"Login"}),e.jsx(Ee,{onClick:()=>r(!t),variant:"ghost",className:"p-2",children:t?e.jsx(FA,{className:"w-6 h-6"}):e.jsx(t2,{className:"w-6 h-6"})})]})]}),t&&e.jsxs("nav",{className:"lg:hidden mt-4 pb-4 space-y-2 border-t pt-4 animate-in slide-in-from-top-2",children:[e.jsx("a",{href:"#home",className:"block py-2 text-gray-700 hover:text-[#0A2540] transition-colors",children:"Home"}),e.jsx("a",{href:"#about",className:"block py-2 text-gray-700 hover:text-[#0A2540] transition-colors",children:"About"}),e.jsx("a",{href:"#features",className:"block py-2 text-gray-700 hover:text-[#0A2540] transition-colors",children:"Features"}),e.jsx("a",{href:"#admissions",className:"block py-2 text-gray-700 hover:text-[#0A2540] transition-colors",children:"Admissions"}),e.jsx("a",{href:"#contact",className:"block py-2 text-gray-700 hover:text-[#0A2540] transition-colors",children:"Contact"})]})]})}),e.jsxs("section",{id:"home",className:"relative h-[600px] flex items-center justify-center overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1603958956194-cf9718dba4b1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtb2Rlcm4lMjBzY2hvb2wlMjBidWlsZGluZ3xlbnwxfHx8fDE3NjE4ODc3MjR8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral')"},children:e.jsx("div",{className:"absolute inset-0 bg-[#0A2540]/80"})}),e.jsxs("div",{className:"relative z-10 container mx-auto px-4 text-center text-white",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-white flex items-center justify-center mx-auto mb-6",children:e.jsx(_h,{className:"w-12 h-12 text-[#0A2540]"})}),e.jsx("h1",{className:"text-5xl md:text-6xl mb-4 text-white",children:"Graceland Royal Academy Gombe"}),e.jsx("p",{className:"text-2xl md:text-3xl text-[#FFD700] mb-8 italic",children:'"Wisdom & Illumination"'}),e.jsx("p",{className:"max-w-2xl mx-auto mb-8 text-lg text-white/90",children:"Excellence in education, nurturing young minds to become tomorrow's leaders through innovation, dedication, and moral values."}),e.jsx(Ee,{onClick:s,className:"bg-[#FFD700] text-[#0A2540] hover:bg-[#FFD700]/90 rounded-xl px-8 py-6 h-auto",children:"Login to Portal"})]})]}),e.jsx("section",{id:"about",className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl text-[#0A2540] mb-4",children:"About Us"}),e.jsx("div",{className:"w-20 h-1 bg-[#FFD700] mx-auto rounded-full"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("p",{className:"text-center text-gray-700 mb-8",children:"Graceland Royal Academy Gombe is a premier educational institution dedicated to providing quality education that shapes character, builds knowledge, and prepares students for a successful future. Our commitment to excellence has made us a leading choice for parents seeking the best education for their children."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx(Ce,{className:"border-2 border-[#0A2540]/10 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs(Le,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-[#0A2540] flex items-center justify-center mx-auto mb-4",children:e.jsx(Jr,{className:"w-8 h-8 text-[#FFD700]"})}),e.jsx("h3",{className:"mb-2 text-[#0A2540]",children:"Quality Education"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Modern curriculum designed to meet international standards"})]})}),e.jsx(Ce,{className:"border-2 border-[#0A2540]/10 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs(Le,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-[#0A2540] flex items-center justify-center mx-auto mb-4",children:e.jsx(Qs,{className:"w-8 h-8 text-[#FFD700]"})}),e.jsx("h3",{className:"mb-2 text-[#0A2540]",children:"Expert Teachers"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Highly qualified and dedicated teaching staff"})]})}),e.jsx(Ce,{className:"border-2 border-[#0A2540]/10 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs(Le,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-[#0A2540] flex items-center justify-center mx-auto mb-4",children:e.jsx(CA,{className:"w-8 h-8 text-[#FFD700]"})}),e.jsx("h3",{className:"mb-2 text-[#0A2540]",children:"Excellence"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Proven track record of academic achievements"})]})})]})]})]})}),e.jsx("section",{id:"features",className:"py-20 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl text-[#0A2540] mb-4",children:"Why Choose Us"}),e.jsx("div",{className:"w-20 h-1 bg-[#FFD700] mx-auto rounded-full"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:[{title:"Modern Facilities",description:"State-of-the-art classrooms and laboratories"},{title:"Safe Environment",description:"Secure campus with 24/7 supervision"},{title:"Digital Learning",description:"Technology-enhanced education"},{title:"Moral Values",description:"Character development alongside academics"}].map((n,a)=>e.jsx(Ce,{className:"border-2 border-[#0A2540]/10 rounded-xl overflow-hidden hover:border-[#FFD700] transition-all",children:e.jsxs(Le,{className:"p-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-[#FFD700] flex items-center justify-center mb-4",children:e.jsx(_h,{className:"w-6 h-6 text-[#0A2540]"})}),e.jsx("h4",{className:"mb-2 text-[#0A2540]",children:n.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:n.description})]})},a))})]})}),e.jsx("section",{className:"py-20 bg-[#0A2540] text-white",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-4xl mb-6",children:"Our Mission"}),e.jsx("p",{className:"max-w-3xl mx-auto text-lg text-white/90",children:"To provide holistic education that develops intellectual, physical, social, and moral capabilities of our students, preparing them to be responsible citizens and leaders who will contribute positively to society with wisdom and illumination."})]})}),e.jsx("section",{id:"admissions",className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl text-[#0A2540] mb-4",children:"Admissions Information"}),e.jsx("div",{className:"w-20 h-1 bg-[#FFD700] mx-auto rounded-full"})]}),e.jsx("div",{className:"max-w-4xl mx-auto text-center",children:e.jsx(Ce,{className:"border-2 border-[#0A2540]/10 rounded-xl overflow-hidden shadow-lg",children:e.jsxs(Le,{className:"p-8",children:[e.jsx("p",{className:"text-gray-700 mb-6",children:"We are currently accepting applications for the upcoming academic session. Join a community of excellence where your child's future is our priority."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-[#0A2540] rounded-xl text-white",children:[e.jsx("p",{className:"text-sm text-[#FFD700]",children:"Nursery"}),e.jsx("p",{children:"Ages 2-5"})]}),e.jsxs("div",{className:"p-4 bg-[#0A2540] rounded-xl text-white",children:[e.jsx("p",{className:"text-sm text-[#FFD700]",children:"Primary"}),e.jsx("p",{children:"Ages 6-11"})]}),e.jsxs("div",{className:"p-4 bg-[#0A2540] rounded-xl text-white",children:[e.jsx("p",{className:"text-sm text-[#FFD700]",children:"Secondary"}),e.jsx("p",{children:"Ages 12-17"})]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"For admission inquiries, please contact our administrative office or login to the portal."})]})})})]})}),e.jsx("footer",{id:"contact",className:"bg-[#0A2540] text-white py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("img",{src:Cu,alt:"Graceland Royal Academy Logo",className:"w-16 h-16 object-contain bg-white rounded-full p-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white",children:"Graceland Royal Academy"}),e.jsx("p",{className:"text-sm text-[#FFD700]",children:"Wisdom & Illumination"})]})]}),e.jsx("p",{className:"text-white/80 text-sm",children:"Building tomorrow's leaders through quality education and moral values."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 text-white",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(e2,{className:"w-5 h-5 text-[#FFD700]"}),e.jsx("p",{className:"text-sm text-white/80",children:"Gombe State, Nigeria"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Uf,{className:"w-5 h-5 text-[#FFD700]"}),e.jsx("p",{className:"text-sm text-white/80",children:"+234 XXX XXX XXXX"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_f,{className:"w-5 h-5 text-[#FFD700]"}),e.jsx("p",{className:"text-sm text-white/80",children:"info@gracelandroyalacademy.edu.ng"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 text-white",children:"Follow Us"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 hover:bg-[#FFD700] flex items-center justify-center cursor-pointer transition-colors",children:e.jsx(Q4,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 hover:bg-[#FFD700] flex items-center justify-center cursor-pointer transition-colors",children:e.jsx(TS,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 hover:bg-[#FFD700] flex items-center justify-center cursor-pointer transition-colors",children:e.jsx(J4,{className:"w-5 h-5"})})]})]})]}),e.jsx("div",{className:"border-t border-white/10 pt-6 text-center",children:e.jsx("p",{className:"text-white/60 text-sm",children:" 2025 Graceland Royal Academy Gombe. All rights reserved."})})]})})]})}function kt({className:s,type:t,...r}){return e.jsx("input",{type:t,"data-slot":"input",className:ms("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})}var Oh=Gy();const v2=zy(Oh);var ME=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],KE=ME.reduce((s,t)=>{const r=ip(`Primitive.${t}`),n=S.forwardRef((a,i)=>{const{asChild:A,...c}=a,d=A?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...s,[t]:n}},{}),VE="Label",b2=S.forwardRef((s,t)=>e.jsx(KE.label,{...s,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(s.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));b2.displayName=VE;var zE=b2;function Ze({className:s,...t}){return e.jsx(zE,{"data-slot":"label",className:ms("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}function zv(s,[t,r]){return Math.min(r,Math.max(t,s))}function Os(s,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(s?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function GE(s,t){const r=S.createContext(t),n=i=>{const{children:A,...c}=i,d=S.useMemo(()=>c,Object.values(c));return e.jsx(r.Provider,{value:d,children:A})};n.displayName=s+"Provider";function a(i){const A=S.useContext(r);if(A)return A;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${s}\``)}return[n,a]}function QA(s,t=[]){let r=[];function n(i,A){const c=S.createContext(A),d=r.length;r=[...r,A];const u=f=>{const{scope:x,children:g,...N}=f,b=x?.[s]?.[d]||c,j=S.useMemo(()=>N,Object.values(N));return e.jsx(b.Provider,{value:j,children:g})};u.displayName=i+"Provider";function m(f,x){const g=x?.[s]?.[d]||c,N=S.useContext(g);if(N)return N;if(A!==void 0)return A;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,m]}const a=()=>{const i=r.map(A=>S.createContext(A));return function(c){const d=c?.[s]||i;return S.useMemo(()=>({[`__scope${s}`]:{...c,[s]:d}}),[c,d])}};return a.scopeName=s,[n,$E(a,...t)]}function $E(...s){const t=s[0];if(s.length===1)return t;const r=()=>{const n=s.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const A=n.reduce((c,{useScope:d,scopeName:u})=>{const f=d(i)[`__scope${u}`];return{...c,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:A}),[A])}};return r.scopeName=t.scopeName,r}function Gv(s){const t=WE(s),r=S.forwardRef((n,a)=>{const{children:i,...A}=n,c=S.Children.toArray(i),d=c.find(YE);if(d){const u=d.props.children,m=c.map(f=>f===d?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return e.jsx(t,{...A,ref:a,children:S.isValidElement(u)?S.cloneElement(u,void 0,m):null})}return e.jsx(t,{...A,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}function WE(s){const t=S.forwardRef((r,n)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const A=XE(a),c=JE(i,a.props);return a.type!==S.Fragment&&(c.ref=n?Fu(n,A):A),S.cloneElement(a,c)}return S.Children.count(a)>1?S.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var qE=Symbol("radix.slottable");function YE(s){return S.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===qE}function JE(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function XE(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}function y2(s){const t=s+"CollectionProvider",[r,n]=QA(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),A=b=>{const{scope:j,children:y}=b,E=jt.useRef(null),U=jt.useRef(new Map).current;return e.jsx(a,{scope:j,itemMap:U,collectionRef:E,children:y})};A.displayName=t;const c=s+"CollectionSlot",d=Gv(c),u=jt.forwardRef((b,j)=>{const{scope:y,children:E}=b,U=i(c,y),k=Cr(j,U.collectionRef);return e.jsx(d,{ref:k,children:E})});u.displayName=c;const m=s+"CollectionItemSlot",f="data-radix-collection-item",x=Gv(m),g=jt.forwardRef((b,j)=>{const{scope:y,children:E,...U}=b,k=jt.useRef(null),q=Cr(j,k),G=i(m,y);return jt.useEffect(()=>(G.itemMap.set(k,{ref:k,...U}),()=>void G.itemMap.delete(k))),e.jsx(x,{[f]:"",ref:q,children:E})});g.displayName=m;function N(b){const j=i(s+"CollectionConsumer",b);return jt.useCallback(()=>{const E=j.collectionRef.current;if(!E)return[];const U=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(j.itemMap.values()).sort((G,H)=>U.indexOf(G.ref.current)-U.indexOf(H.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:A,Slot:u,ItemSlot:g},N,n]}var ZE=S.createContext(void 0);function Px(s){const t=S.useContext(ZE);return s||t||"ltr"}function eF(s){const t=tF(s),r=S.forwardRef((n,a)=>{const{children:i,...A}=n,c=S.Children.toArray(i),d=c.find(rF);if(d){const u=d.props.children,m=c.map(f=>f===d?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return e.jsx(t,{...A,ref:a,children:S.isValidElement(u)?S.cloneElement(u,void 0,m):null})}return e.jsx(t,{...A,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}function tF(s){const t=S.forwardRef((r,n)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const A=aF(a),c=nF(i,a.props);return a.type!==S.Fragment&&(c.ref=n?Fu(n,A):A),S.cloneElement(a,c)}return S.Children.count(a)>1?S.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var sF=Symbol("radix.slottable");function rF(s){return S.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===sF}function nF(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function aF(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}var iF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ms=iF.reduce((s,t)=>{const r=eF(`Primitive.${t}`),n=S.forwardRef((a,i)=>{const{asChild:A,...c}=a,d=A?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...s,[t]:n}},{});function oF(s,t){s&&Oh.flushSync(()=>s.dispatchEvent(t))}function _A(s){const t=S.useRef(s);return S.useEffect(()=>{t.current=s}),S.useMemo(()=>(...r)=>t.current?.(...r),[])}function lF(s,t=globalThis?.document){const r=_A(s);S.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var AF="DismissableLayer",T0="dismissableLayer.update",cF="dismissableLayer.pointerDownOutside",dF="dismissableLayer.focusOutside",$v,N2=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rx=S.forwardRef((s,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:A,onDismiss:c,...d}=s,u=S.useContext(N2),[m,f]=S.useState(null),x=m?.ownerDocument??globalThis?.document,[,g]=S.useState({}),N=Cr(t,H=>f(H)),b=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=b.indexOf(j),E=m?b.indexOf(m):-1,U=u.layersWithOutsidePointerEventsDisabled.size>0,k=E>=y,q=mF(H=>{const I=H.target,D=[...u.branches].some(P=>P.contains(I));!k||D||(a?.(H),A?.(H),H.defaultPrevented||c?.())},x),G=fF(H=>{const I=H.target;[...u.branches].some(P=>P.contains(I))||(i?.(H),A?.(H),H.defaultPrevented||c?.())},x);return lF(H=>{E===u.layers.size-1&&(n?.(H),!H.defaultPrevented&&c&&(H.preventDefault(),c()))},x),S.useEffect(()=>{if(m)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($v=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(m)),u.layers.add(m),Wv(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=$v)}},[m,x,r,u]),S.useEffect(()=>()=>{m&&(u.layers.delete(m),u.layersWithOutsidePointerEventsDisabled.delete(m),Wv())},[m,u]),S.useEffect(()=>{const H=()=>g({});return document.addEventListener(T0,H),()=>document.removeEventListener(T0,H)},[]),e.jsx(Ms.div,{...d,ref:N,style:{pointerEvents:U?k?"auto":"none":void 0,...s.style},onFocusCapture:Os(s.onFocusCapture,G.onFocusCapture),onBlurCapture:Os(s.onBlurCapture,G.onBlurCapture),onPointerDownCapture:Os(s.onPointerDownCapture,q.onPointerDownCapture)})});Rx.displayName=AF;var uF="DismissableLayerBranch",hF=S.forwardRef((s,t)=>{const r=S.useContext(N2),n=S.useRef(null),a=Cr(t,n);return S.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),e.jsx(Ms.div,{...s,ref:a})});hF.displayName=uF;function mF(s,t=globalThis?.document){const r=_A(s),n=S.useRef(!1),a=S.useRef(()=>{});return S.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let d=function(){j2(cF,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},A=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(A),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function fF(s,t=globalThis?.document){const r=_A(s),n=S.useRef(!1);return S.useEffect(()=>{const a=i=>{i.target&&!n.current&&j2(dF,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Wv(){const s=new CustomEvent(T0);document.dispatchEvent(s)}function j2(s,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(s,t,{once:!0}),n?oF(a,i):a.dispatchEvent(i)}var Eg=0;function B2(){S.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??qv()),document.body.insertAdjacentElement("beforeend",s[1]??qv()),Eg++,()=>{Eg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Eg--}},[])}function qv(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var Fg="focusScope.autoFocusOnMount",_g="focusScope.autoFocusOnUnmount",Yv={bubbles:!1,cancelable:!0},pF="FocusScope",Dx=S.forwardRef((s,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...A}=s,[c,d]=S.useState(null),u=_A(a),m=_A(i),f=S.useRef(null),x=Cr(t,b=>d(b)),g=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let b=function(U){if(g.paused||!c)return;const k=U.target;c.contains(k)?f.current=k:pc(f.current,{select:!0})},j=function(U){if(g.paused||!c)return;const k=U.relatedTarget;k!==null&&(c.contains(k)||pc(f.current,{select:!0}))},y=function(U){if(document.activeElement===document.body)for(const q of U)q.removedNodes.length>0&&pc(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",j);const E=new MutationObserver(y);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",j),E.disconnect()}}},[n,c,g.paused]),S.useEffect(()=>{if(c){Xv.add(g);const b=document.activeElement;if(!c.contains(b)){const y=new CustomEvent(Fg,Yv);c.addEventListener(Fg,u),c.dispatchEvent(y),y.defaultPrevented||(gF(yF(C2(c)),{select:!0}),document.activeElement===b&&pc(c))}return()=>{c.removeEventListener(Fg,u),setTimeout(()=>{const y=new CustomEvent(_g,Yv);c.addEventListener(_g,m),c.dispatchEvent(y),y.defaultPrevented||pc(b??document.body,{select:!0}),c.removeEventListener(_g,m),Xv.remove(g)},0)}}},[c,u,m,g]);const N=S.useCallback(b=>{if(!r&&!n||g.paused)return;const j=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,y=document.activeElement;if(j&&y){const E=b.currentTarget,[U,k]=xF(E);U&&k?!b.shiftKey&&y===k?(b.preventDefault(),r&&pc(U,{select:!0})):b.shiftKey&&y===U&&(b.preventDefault(),r&&pc(k,{select:!0})):y===E&&b.preventDefault()}},[r,n,g.paused]);return e.jsx(Ms.div,{tabIndex:-1,...A,ref:x,onKeyDown:N})});Dx.displayName=pF;function gF(s,{select:t=!1}={}){const r=document.activeElement;for(const n of s)if(pc(n,{select:t}),document.activeElement!==r)return}function xF(s){const t=C2(s),r=Jv(t,s),n=Jv(t.reverse(),s);return[r,n]}function C2(s){const t=[],r=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Jv(s,t){for(const r of s)if(!wF(r,{upTo:t}))return r}function wF(s,{upTo:t}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(t!==void 0&&s===t)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function vF(s){return s instanceof HTMLInputElement&&"select"in s}function pc(s,{select:t=!1}={}){if(s&&s.focus){const r=document.activeElement;s.focus({preventScroll:!0}),s!==r&&vF(s)&&t&&s.select()}}var Xv=bF();function bF(){let s=[];return{add(t){const r=s[0];t!==r&&r?.pause(),s=Zv(s,t),s.unshift(t)},remove(t){s=Zv(s,t),s[0]?.resume()}}}function Zv(s,t){const r=[...s],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function yF(s){return s.filter(t=>t.tagName!=="A")}var Hn=globalThis?.document?S.useLayoutEffect:()=>{},NF=Ux[" useId ".trim().toString()]||(()=>{}),jF=0;function jc(s){const[t,r]=S.useState(NF());return Hn(()=>{r(n=>n??String(jF++))},[s]),s||(t?`radix-${t}`:"")}const BF=["top","right","bottom","left"],Pc=Math.min,Oi=Math.max,Lf=Math.round,Cm=Math.floor,Kl=s=>({x:s,y:s}),CF={left:"right",right:"left",bottom:"top",top:"bottom"},SF={start:"end",end:"start"};function P0(s,t,r){return Oi(s,Pc(t,r))}function UA(s,t){return typeof s=="function"?s(t):s}function kA(s){return s.split("-")[0]}function ku(s){return s.split("-")[1]}function Ox(s){return s==="x"?"y":"x"}function Hx(s){return s==="y"?"height":"width"}const EF=new Set(["top","bottom"]);function Rl(s){return EF.has(kA(s))?"y":"x"}function Mx(s){return Ox(Rl(s))}function FF(s,t,r){r===void 0&&(r=!1);const n=ku(s),a=Mx(s),i=Hx(a);let A=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(A=Qf(A)),[A,Qf(A)]}function _F(s){const t=Qf(s);return[R0(s),t,R0(t)]}function R0(s){return s.replace(/start|end/g,t=>SF[t])}const e1=["left","right"],t1=["right","left"],UF=["top","bottom"],kF=["bottom","top"];function IF(s,t,r){switch(s){case"top":case"bottom":return r?t?t1:e1:t?e1:t1;case"left":case"right":return t?UF:kF;default:return[]}}function LF(s,t,r,n){const a=ku(s);let i=IF(kA(s),r==="start",n);return a&&(i=i.map(A=>A+"-"+a),t&&(i=i.concat(i.map(R0)))),i}function Qf(s){return s.replace(/left|right|bottom|top/g,t=>CF[t])}function QF(s){return{top:0,right:0,bottom:0,left:0,...s}}function S2(s){return typeof s!="number"?QF(s):{top:s,right:s,bottom:s,left:s}}function Tf(s){const{x:t,y:r,width:n,height:a}=s;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function s1(s,t,r){let{reference:n,floating:a}=s;const i=Rl(t),A=Mx(t),c=Hx(A),d=kA(t),u=i==="y",m=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,x=n[c]/2-a[c]/2;let g;switch(d){case"top":g={x:m,y:n.y-a.height};break;case"bottom":g={x:m,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-a.width,y:f};break;default:g={x:n.x,y:n.y}}switch(ku(t)){case"start":g[A]-=x*(r&&u?-1:1);break;case"end":g[A]+=x*(r&&u?-1:1);break}return g}const TF=async(s,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:A}=r,c=i.filter(Boolean),d=await(A.isRTL==null?void 0:A.isRTL(t));let u=await A.getElementRects({reference:s,floating:t,strategy:a}),{x:m,y:f}=s1(u,n,d),x=n,g={},N=0;for(let b=0;b<c.length;b++){const{name:j,fn:y}=c[b],{x:E,y:U,data:k,reset:q}=await y({x:m,y:f,initialPlacement:n,placement:x,strategy:a,middlewareData:g,rects:u,platform:A,elements:{reference:s,floating:t}});m=E??m,f=U??f,g={...g,[j]:{...g[j],...k}},q&&N<=50&&(N++,typeof q=="object"&&(q.placement&&(x=q.placement),q.rects&&(u=q.rects===!0?await A.getElementRects({reference:s,floating:t,strategy:a}):q.rects),{x:m,y:f}=s1(u,x,d)),b=-1)}return{x:m,y:f,placement:x,strategy:a,middlewareData:g}};async function kh(s,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:A,elements:c,strategy:d}=s,{boundary:u="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:x=!1,padding:g=0}=UA(t,s),N=S2(g),j=c[x?f==="floating"?"reference":"floating":f],y=Tf(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(j)))==null||r?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:m,strategy:d})),E=f==="floating"?{x:n,y:a,width:A.floating.width,height:A.floating.height}:A.reference,U=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),k=await(i.isElement==null?void 0:i.isElement(U))?await(i.getScale==null?void 0:i.getScale(U))||{x:1,y:1}:{x:1,y:1},q=Tf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:U,strategy:d}):E);return{top:(y.top-q.top+N.top)/k.y,bottom:(q.bottom-y.bottom+N.bottom)/k.y,left:(y.left-q.left+N.left)/k.x,right:(q.right-y.right+N.right)/k.x}}const PF=s=>({name:"arrow",options:s,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:A,elements:c,middlewareData:d}=t,{element:u,padding:m=0}=UA(s,t)||{};if(u==null)return{};const f=S2(m),x={x:r,y:n},g=Mx(a),N=Hx(g),b=await A.getDimensions(u),j=g==="y",y=j?"top":"left",E=j?"bottom":"right",U=j?"clientHeight":"clientWidth",k=i.reference[N]+i.reference[g]-x[g]-i.floating[N],q=x[g]-i.reference[g],G=await(A.getOffsetParent==null?void 0:A.getOffsetParent(u));let H=G?G[U]:0;(!H||!await(A.isElement==null?void 0:A.isElement(G)))&&(H=c.floating[U]||i.floating[N]);const I=k/2-q/2,D=H/2-b[N]/2-1,P=Pc(f[y],D),Q=Pc(f[E],D),T=P,$=H-b[N]-Q,V=H/2-b[N]/2+I,ie=P0(T,V,$),W=!d.arrow&&ku(a)!=null&&V!==ie&&i.reference[N]/2-(V<T?P:Q)-b[N]/2<0,ne=W?V<T?V-T:V-$:0;return{[g]:x[g]+ne,data:{[g]:ie,centerOffset:V-ie-ne,...W&&{alignmentOffset:ne}},reset:W}}}),RF=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:A,initialPlacement:c,platform:d,elements:u}=t,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:x,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:b=!0,...j}=UA(s,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=kA(a),E=Rl(c),U=kA(c)===c,k=await(d.isRTL==null?void 0:d.isRTL(u.floating)),q=x||(U||!b?[Qf(c)]:_F(c)),G=N!=="none";!x&&G&&q.push(...LF(c,b,N,k));const H=[c,...q],I=await kh(t,j),D=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(m&&D.push(I[y]),f){const V=FF(a,A,k);D.push(I[V[0]],I[V[1]])}if(P=[...P,{placement:a,overflows:D}],!D.every(V=>V<=0)){var Q,T;const V=(((Q=i.flip)==null?void 0:Q.index)||0)+1,ie=H[V];if(ie&&(!(f==="alignment"?E!==Rl(ie):!1)||P.every(M=>Rl(M.placement)===E?M.overflows[0]>0:!0)))return{data:{index:V,overflows:P},reset:{placement:ie}};let W=(T=P.filter(ne=>ne.overflows[0]<=0).sort((ne,M)=>ne.overflows[1]-M.overflows[1])[0])==null?void 0:T.placement;if(!W)switch(g){case"bestFit":{var $;const ne=($=P.filter(M=>{if(G){const de=Rl(M.placement);return de===E||de==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(de=>de>0).reduce((de,ue)=>de+ue,0)]).sort((M,de)=>M[1]-de[1])[0])==null?void 0:$[0];ne&&(W=ne);break}case"initialPlacement":W=c;break}if(a!==W)return{reset:{placement:W}}}return{}}}};function r1(s,t){return{top:s.top-t.height,right:s.right-t.width,bottom:s.bottom-t.height,left:s.left-t.width}}function n1(s){return BF.some(t=>s[t]>=0)}const DF=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=UA(s,t);switch(n){case"referenceHidden":{const i=await kh(t,{...a,elementContext:"reference"}),A=r1(i,r.reference);return{data:{referenceHiddenOffsets:A,referenceHidden:n1(A)}}}case"escaped":{const i=await kh(t,{...a,altBoundary:!0}),A=r1(i,r.floating);return{data:{escapedOffsets:A,escaped:n1(A)}}}default:return{}}}}},E2=new Set(["left","top"]);async function OF(s,t){const{placement:r,platform:n,elements:a}=s,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),A=kA(r),c=ku(r),d=Rl(r)==="y",u=E2.has(A)?-1:1,m=i&&d?-1:1,f=UA(t,s);let{mainAxis:x,crossAxis:g,alignmentAxis:N}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof N=="number"&&(g=c==="end"?N*-1:N),d?{x:g*m,y:x*u}:{x:x*u,y:g*m}}const HF=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(t){var r,n;const{x:a,y:i,placement:A,middlewareData:c}=t,d=await OF(t,s);return A===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:A}}}}},MF=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:A=!1,limiter:c={fn:j=>{let{x:y,y:E}=j;return{x:y,y:E}}},...d}=UA(s,t),u={x:r,y:n},m=await kh(t,d),f=Rl(kA(a)),x=Ox(f);let g=u[x],N=u[f];if(i){const j=x==="y"?"top":"left",y=x==="y"?"bottom":"right",E=g+m[j],U=g-m[y];g=P0(E,g,U)}if(A){const j=f==="y"?"top":"left",y=f==="y"?"bottom":"right",E=N+m[j],U=N-m[y];N=P0(E,N,U)}const b=c.fn({...t,[x]:g,[f]:N});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[x]:i,[f]:A}}}}}},KF=function(s){return s===void 0&&(s={}),{options:s,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:A}=t,{offset:c=0,mainAxis:d=!0,crossAxis:u=!0}=UA(s,t),m={x:r,y:n},f=Rl(a),x=Ox(f);let g=m[x],N=m[f];const b=UA(c,t),j=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const U=x==="y"?"height":"width",k=i.reference[x]-i.floating[U]+j.mainAxis,q=i.reference[x]+i.reference[U]-j.mainAxis;g<k?g=k:g>q&&(g=q)}if(u){var y,E;const U=x==="y"?"width":"height",k=E2.has(kA(a)),q=i.reference[f]-i.floating[U]+(k&&((y=A.offset)==null?void 0:y[f])||0)+(k?0:j.crossAxis),G=i.reference[f]+i.reference[U]+(k?0:((E=A.offset)==null?void 0:E[f])||0)-(k?j.crossAxis:0);N<q?N=q:N>G&&(N=G)}return{[x]:g,[f]:N}}}},VF=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(t){var r,n;const{placement:a,rects:i,platform:A,elements:c}=t,{apply:d=()=>{},...u}=UA(s,t),m=await kh(t,u),f=kA(a),x=ku(a),g=Rl(a)==="y",{width:N,height:b}=i.floating;let j,y;f==="top"||f==="bottom"?(j=f,y=x===(await(A.isRTL==null?void 0:A.isRTL(c.floating))?"start":"end")?"left":"right"):(y=f,j=x==="end"?"top":"bottom");const E=b-m.top-m.bottom,U=N-m.left-m.right,k=Pc(b-m[j],E),q=Pc(N-m[y],U),G=!t.middlewareData.shift;let H=k,I=q;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=U),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(H=E),G&&!x){const P=Oi(m.left,0),Q=Oi(m.right,0),T=Oi(m.top,0),$=Oi(m.bottom,0);g?I=N-2*(P!==0||Q!==0?P+Q:Oi(m.left,m.right)):H=b-2*(T!==0||$!==0?T+$:Oi(m.top,m.bottom))}await d({...t,availableWidth:I,availableHeight:H});const D=await A.getDimensions(c.floating);return N!==D.width||b!==D.height?{reset:{rects:!0}}:{}}}};function op(){return typeof window<"u"}function Iu(s){return F2(s)?(s.nodeName||"").toLowerCase():"#document"}function Ki(s){var t;return(s==null||(t=s.ownerDocument)==null?void 0:t.defaultView)||window}function zl(s){var t;return(t=(F2(s)?s.ownerDocument:s.document)||window.document)==null?void 0:t.documentElement}function F2(s){return op()?s instanceof Node||s instanceof Ki(s).Node:!1}function el(s){return op()?s instanceof Element||s instanceof Ki(s).Element:!1}function Vl(s){return op()?s instanceof HTMLElement||s instanceof Ki(s).HTMLElement:!1}function a1(s){return!op()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Ki(s).ShadowRoot}const zF=new Set(["inline","contents"]);function Hh(s){const{overflow:t,overflowX:r,overflowY:n,display:a}=tl(s);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!zF.has(a)}const GF=new Set(["table","td","th"]);function $F(s){return GF.has(Iu(s))}const WF=[":popover-open",":modal"];function lp(s){return WF.some(t=>{try{return s.matches(t)}catch{return!1}})}const qF=["transform","translate","scale","rotate","perspective"],YF=["transform","translate","scale","rotate","perspective","filter"],JF=["paint","layout","strict","content"];function Kx(s){const t=Vx(),r=el(s)?tl(s):s;return qF.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||YF.some(n=>(r.willChange||"").includes(n))||JF.some(n=>(r.contain||"").includes(n))}function XF(s){let t=Rc(s);for(;Vl(t)&&!Su(t);){if(Kx(t))return t;if(lp(t))return null;t=Rc(t)}return null}function Vx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ZF=new Set(["html","body","#document"]);function Su(s){return ZF.has(Iu(s))}function tl(s){return Ki(s).getComputedStyle(s)}function Ap(s){return el(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function Rc(s){if(Iu(s)==="html")return s;const t=s.assignedSlot||s.parentNode||a1(s)&&s.host||zl(s);return a1(t)?t.host:t}function _2(s){const t=Rc(s);return Su(t)?s.ownerDocument?s.ownerDocument.body:s.body:Vl(t)&&Hh(t)?t:_2(t)}function Ih(s,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=_2(s),i=a===((n=s.ownerDocument)==null?void 0:n.body),A=Ki(a);if(i){const c=D0(A);return t.concat(A,A.visualViewport||[],Hh(a)?a:[],c&&r?Ih(c):[])}return t.concat(a,Ih(a,[],r))}function D0(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function U2(s){const t=tl(s);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Vl(s),i=a?s.offsetWidth:r,A=a?s.offsetHeight:n,c=Lf(r)!==i||Lf(n)!==A;return c&&(r=i,n=A),{width:r,height:n,$:c}}function zx(s){return el(s)?s:s.contextElement}function mu(s){const t=zx(s);if(!Vl(t))return Kl(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=U2(t);let A=(i?Lf(r.width):r.width)/n,c=(i?Lf(r.height):r.height)/a;return(!A||!Number.isFinite(A))&&(A=1),(!c||!Number.isFinite(c))&&(c=1),{x:A,y:c}}const e3=Kl(0);function k2(s){const t=Ki(s);return!Vx()||!t.visualViewport?e3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function t3(s,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ki(s)?!1:t}function pd(s,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=s.getBoundingClientRect(),i=zx(s);let A=Kl(1);t&&(n?el(n)&&(A=mu(n)):A=mu(s));const c=t3(i,r,n)?k2(i):Kl(0);let d=(a.left+c.x)/A.x,u=(a.top+c.y)/A.y,m=a.width/A.x,f=a.height/A.y;if(i){const x=Ki(i),g=n&&el(n)?Ki(n):n;let N=x,b=D0(N);for(;b&&n&&g!==N;){const j=mu(b),y=b.getBoundingClientRect(),E=tl(b),U=y.left+(b.clientLeft+parseFloat(E.paddingLeft))*j.x,k=y.top+(b.clientTop+parseFloat(E.paddingTop))*j.y;d*=j.x,u*=j.y,m*=j.x,f*=j.y,d+=U,u+=k,N=Ki(b),b=D0(N)}}return Tf({width:m,height:f,x:d,y:u})}function cp(s,t){const r=Ap(s).scrollLeft;return t?t.left+r:pd(zl(s)).left+r}function I2(s,t){const r=s.getBoundingClientRect(),n=r.left+t.scrollLeft-cp(s,r),a=r.top+t.scrollTop;return{x:n,y:a}}function s3(s){let{elements:t,rect:r,offsetParent:n,strategy:a}=s;const i=a==="fixed",A=zl(n),c=t?lp(t.floating):!1;if(n===A||c&&i)return r;let d={scrollLeft:0,scrollTop:0},u=Kl(1);const m=Kl(0),f=Vl(n);if((f||!f&&!i)&&((Iu(n)!=="body"||Hh(A))&&(d=Ap(n)),Vl(n))){const g=pd(n);u=mu(n),m.x=g.x+n.clientLeft,m.y=g.y+n.clientTop}const x=A&&!f&&!i?I2(A,d):Kl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+m.x+x.x,y:r.y*u.y-d.scrollTop*u.y+m.y+x.y}}function r3(s){return Array.from(s.getClientRects())}function n3(s){const t=zl(s),r=Ap(s),n=s.ownerDocument.body,a=Oi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Oi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let A=-r.scrollLeft+cp(s);const c=-r.scrollTop;return tl(n).direction==="rtl"&&(A+=Oi(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:A,y:c}}const i1=25;function a3(s,t){const r=Ki(s),n=zl(s),a=r.visualViewport;let i=n.clientWidth,A=n.clientHeight,c=0,d=0;if(a){i=a.width,A=a.height;const m=Vx();(!m||m&&t==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}const u=cp(n);if(u<=0){const m=n.ownerDocument,f=m.body,x=getComputedStyle(f),g=m.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,N=Math.abs(n.clientWidth-f.clientWidth-g);N<=i1&&(i-=N)}else u<=i1&&(i+=u);return{width:i,height:A,x:c,y:d}}const i3=new Set(["absolute","fixed"]);function o3(s,t){const r=pd(s,!0,t==="fixed"),n=r.top+s.clientTop,a=r.left+s.clientLeft,i=Vl(s)?mu(s):Kl(1),A=s.clientWidth*i.x,c=s.clientHeight*i.y,d=a*i.x,u=n*i.y;return{width:A,height:c,x:d,y:u}}function o1(s,t,r){let n;if(t==="viewport")n=a3(s,r);else if(t==="document")n=n3(zl(s));else if(el(t))n=o3(t,r);else{const a=k2(s);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Tf(n)}function L2(s,t){const r=Rc(s);return r===t||!el(r)||Su(r)?!1:tl(r).position==="fixed"||L2(r,t)}function l3(s,t){const r=t.get(s);if(r)return r;let n=Ih(s,[],!1).filter(c=>el(c)&&Iu(c)!=="body"),a=null;const i=tl(s).position==="fixed";let A=i?Rc(s):s;for(;el(A)&&!Su(A);){const c=tl(A),d=Kx(A);!d&&c.position==="fixed"&&(a=null),(i?!d&&!a:!d&&c.position==="static"&&!!a&&i3.has(a.position)||Hh(A)&&!d&&L2(s,A))?n=n.filter(m=>m!==A):a=c,A=Rc(A)}return t.set(s,n),n}function A3(s){let{element:t,boundary:r,rootBoundary:n,strategy:a}=s;const A=[...r==="clippingAncestors"?lp(t)?[]:l3(t,this._c):[].concat(r),n],c=A[0],d=A.reduce((u,m)=>{const f=o1(t,m,a);return u.top=Oi(f.top,u.top),u.right=Pc(f.right,u.right),u.bottom=Pc(f.bottom,u.bottom),u.left=Oi(f.left,u.left),u},o1(t,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function c3(s){const{width:t,height:r}=U2(s);return{width:t,height:r}}function d3(s,t,r){const n=Vl(t),a=zl(t),i=r==="fixed",A=pd(s,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=Kl(0);function u(){d.x=cp(a)}if(n||!n&&!i)if((Iu(t)!=="body"||Hh(a))&&(c=Ap(t)),n){const g=pd(t,!0,i,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else a&&u();i&&!n&&a&&u();const m=a&&!n&&!i?I2(a,c):Kl(0),f=A.left+c.scrollLeft-d.x-m.x,x=A.top+c.scrollTop-d.y-m.y;return{x:f,y:x,width:A.width,height:A.height}}function Ug(s){return tl(s).position==="static"}function l1(s,t){if(!Vl(s)||tl(s).position==="fixed")return null;if(t)return t(s);let r=s.offsetParent;return zl(s)===r&&(r=r.ownerDocument.body),r}function Q2(s,t){const r=Ki(s);if(lp(s))return r;if(!Vl(s)){let a=Rc(s);for(;a&&!Su(a);){if(el(a)&&!Ug(a))return a;a=Rc(a)}return r}let n=l1(s,t);for(;n&&$F(n)&&Ug(n);)n=l1(n,t);return n&&Su(n)&&Ug(n)&&!Kx(n)?r:n||XF(s)||r}const u3=async function(s){const t=this.getOffsetParent||Q2,r=this.getDimensions,n=await r(s.floating);return{reference:d3(s.reference,await t(s.floating),s.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function h3(s){return tl(s).direction==="rtl"}const m3={convertOffsetParentRelativeRectToViewportRelativeRect:s3,getDocumentElement:zl,getClippingRect:A3,getOffsetParent:Q2,getElementRects:u3,getClientRects:r3,getDimensions:c3,getScale:mu,isElement:el,isRTL:h3};function T2(s,t){return s.x===t.x&&s.y===t.y&&s.width===t.width&&s.height===t.height}function f3(s,t){let r=null,n;const a=zl(s);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function A(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const u=s.getBoundingClientRect(),{left:m,top:f,width:x,height:g}=u;if(c||t(),!x||!g)return;const N=Cm(f),b=Cm(a.clientWidth-(m+x)),j=Cm(a.clientHeight-(f+g)),y=Cm(m),U={rootMargin:-N+"px "+-b+"px "+-j+"px "+-y+"px",threshold:Oi(0,Pc(1,d))||1};let k=!0;function q(G){const H=G[0].intersectionRatio;if(H!==d){if(!k)return A();H?A(!1,H):n=setTimeout(()=>{A(!1,1e-7)},1e3)}H===1&&!T2(u,s.getBoundingClientRect())&&A(),k=!1}try{r=new IntersectionObserver(q,{...U,root:a.ownerDocument})}catch{r=new IntersectionObserver(q,U)}r.observe(s)}return A(!0),i}function p3(s,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:A=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,u=zx(s),m=a||i?[...u?Ih(u):[],...Ih(t)]:[];m.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=u&&c?f3(u,r):null;let x=-1,g=null;A&&(g=new ResizeObserver(y=>{let[E]=y;E&&E.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var U;(U=g)==null||U.observe(t)})),r()}),u&&!d&&g.observe(u),g.observe(t));let N,b=d?pd(s):null;d&&j();function j(){const y=pd(s);b&&!T2(b,y)&&r(),b=y,N=requestAnimationFrame(j)}return r(),()=>{var y;m.forEach(E=>{a&&E.removeEventListener("scroll",r),i&&E.removeEventListener("resize",r)}),f?.(),(y=g)==null||y.disconnect(),g=null,d&&cancelAnimationFrame(N)}}const g3=HF,x3=MF,w3=RF,v3=VF,b3=DF,A1=PF,y3=KF,N3=(s,t,r)=>{const n=new Map,a={platform:m3,...r},i={...a.platform,_c:n};return TF(s,t,{...a,platform:i})};var j3=typeof document<"u",B3=function(){},uf=j3?S.useLayoutEffect:B3;function Pf(s,t){if(s===t)return!0;if(typeof s!=typeof t)return!1;if(typeof s=="function"&&s.toString()===t.toString())return!0;let r,n,a;if(s&&t&&typeof s=="object"){if(Array.isArray(s)){if(r=s.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Pf(s[n],t[n]))return!1;return!0}if(a=Object.keys(s),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&s.$$typeof)&&!Pf(s[i],t[i]))return!1}return!0}return s!==s&&t!==t}function P2(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function c1(s,t){const r=P2(s);return Math.round(t*r)/r}function kg(s){const t=S.useRef(s);return uf(()=>{t.current=s}),t}function C3(s){s===void 0&&(s={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:A}={},transform:c=!0,whileElementsMounted:d,open:u}=s,[m,f]=S.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,g]=S.useState(n);Pf(x,n)||g(n);const[N,b]=S.useState(null),[j,y]=S.useState(null),E=S.useCallback(M=>{M!==G.current&&(G.current=M,b(M))},[]),U=S.useCallback(M=>{M!==H.current&&(H.current=M,y(M))},[]),k=i||N,q=A||j,G=S.useRef(null),H=S.useRef(null),I=S.useRef(m),D=d!=null,P=kg(d),Q=kg(a),T=kg(u),$=S.useCallback(()=>{if(!G.current||!H.current)return;const M={placement:t,strategy:r,middleware:x};Q.current&&(M.platform=Q.current),N3(G.current,H.current,M).then(de=>{const ue={...de,isPositioned:T.current!==!1};V.current&&!Pf(I.current,ue)&&(I.current=ue,Oh.flushSync(()=>{f(ue)}))})},[x,t,r,Q,T]);uf(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const V=S.useRef(!1);uf(()=>(V.current=!0,()=>{V.current=!1}),[]),uf(()=>{if(k&&(G.current=k),q&&(H.current=q),k&&q){if(P.current)return P.current(k,q,$);$()}},[k,q,$,P,D]);const ie=S.useMemo(()=>({reference:G,floating:H,setReference:E,setFloating:U}),[E,U]),W=S.useMemo(()=>({reference:k,floating:q}),[k,q]),ne=S.useMemo(()=>{const M={position:r,left:0,top:0};if(!W.floating)return M;const de=c1(W.floating,m.x),ue=c1(W.floating,m.y);return c?{...M,transform:"translate("+de+"px, "+ue+"px)",...P2(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:de,top:ue}},[r,c,W.floating,m.x,m.y]);return S.useMemo(()=>({...m,update:$,refs:ie,elements:W,floatingStyles:ne}),[m,$,ie,W,ne])}const S3=s=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:s,fn(r){const{element:n,padding:a}=typeof s=="function"?s(r):s;return n&&t(n)?n.current!=null?A1({element:n.current,padding:a}).fn(r):{}:n?A1({element:n,padding:a}).fn(r):{}}}},E3=(s,t)=>({...g3(s),options:[s,t]}),F3=(s,t)=>({...x3(s),options:[s,t]}),_3=(s,t)=>({...y3(s),options:[s,t]}),U3=(s,t)=>({...w3(s),options:[s,t]}),k3=(s,t)=>({...v3(s),options:[s,t]}),I3=(s,t)=>({...b3(s),options:[s,t]}),L3=(s,t)=>({...S3(s),options:[s,t]});var Q3="Arrow",R2=S.forwardRef((s,t)=>{const{children:r,width:n=10,height:a=5,...i}=s;return e.jsx(Ms.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});R2.displayName=Q3;var T3=R2;function Gx(s){const[t,r]=S.useState(void 0);return Hn(()=>{if(s){r({width:s.offsetWidth,height:s.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let A,c;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;A=u.inlineSize,c=u.blockSize}else A=s.offsetWidth,c=s.offsetHeight;r({width:A,height:c})});return n.observe(s,{box:"border-box"}),()=>n.unobserve(s)}else r(void 0)},[s]),t}var $x="Popper",[D2,O2]=QA($x),[P3,H2]=D2($x),M2=s=>{const{__scopePopper:t,children:r}=s,[n,a]=S.useState(null);return e.jsx(P3,{scope:t,anchor:n,onAnchorChange:a,children:r})};M2.displayName=$x;var K2="PopperAnchor",V2=S.forwardRef((s,t)=>{const{__scopePopper:r,virtualRef:n,...a}=s,i=H2(K2,r),A=S.useRef(null),c=Cr(t,A),d=S.useRef(null);return S.useEffect(()=>{const u=d.current;d.current=n?.current||A.current,u!==d.current&&i.onAnchorChange(d.current)}),n?null:e.jsx(Ms.div,{...a,ref:c})});V2.displayName=K2;var Wx="PopperContent",[R3,D3]=D2(Wx),z2=S.forwardRef((s,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:A=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:x=!1,updatePositionStrategy:g="optimized",onPlaced:N,...b}=s,j=H2(Wx,r),[y,E]=S.useState(null),U=Cr(t,Z=>E(Z)),[k,q]=S.useState(null),G=Gx(k),H=G?.width??0,I=G?.height??0,D=n+(i!=="center"?"-"+i:""),P=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Q=Array.isArray(u)?u:[u],T=Q.length>0,$={padding:P,boundary:Q.filter(H3),altBoundary:T},{refs:V,floatingStyles:ie,placement:W,isPositioned:ne,middlewareData:M}=C3({strategy:"fixed",placement:D,whileElementsMounted:(...Z)=>p3(...Z,{animationFrame:g==="always"}),elements:{reference:j.anchor},middleware:[E3({mainAxis:a+I,alignmentAxis:A}),d&&F3({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?_3():void 0,...$}),d&&U3({...$}),k3({...$,apply:({elements:Z,rects:oe,availableWidth:z,availableHeight:fe})=>{const{width:Fe,height:Ve}=oe.reference,qe=Z.floating.style;qe.setProperty("--radix-popper-available-width",`${z}px`),qe.setProperty("--radix-popper-available-height",`${fe}px`),qe.setProperty("--radix-popper-anchor-width",`${Fe}px`),qe.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),k&&L3({element:k,padding:c}),M3({arrowWidth:H,arrowHeight:I}),x&&I3({strategy:"referenceHidden",...$})]}),[de,ue]=W2(W),se=_A(N);Hn(()=>{ne&&se?.()},[ne,se]);const O=M.arrow?.x,X=M.arrow?.y,re=M.arrow?.centerOffset!==0,[me,xe]=S.useState();return Hn(()=>{y&&xe(window.getComputedStyle(y).zIndex)},[y]),e.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:ne?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:e.jsx(R3,{scope:r,placedSide:de,onArrowChange:q,arrowX:O,arrowY:X,shouldHideArrow:re,children:e.jsx(Ms.div,{"data-side":de,"data-align":ue,...b,ref:U,style:{...b.style,animation:ne?void 0:"none"}})})})});z2.displayName=Wx;var G2="PopperArrow",O3={top:"bottom",right:"left",bottom:"top",left:"right"},$2=S.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=D3(G2,n),A=O3[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[A]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(T3,{...a,ref:r,style:{...a.style,display:"block"}})})});$2.displayName=G2;function H3(s){return s!==null}var M3=s=>({name:"transformOrigin",options:s,fn(t){const{placement:r,rects:n,middlewareData:a}=t,A=a.arrow?.centerOffset!==0,c=A?0:s.arrowWidth,d=A?0:s.arrowHeight,[u,m]=W2(r),f={start:"0%",center:"50%",end:"100%"}[m],x=(a.arrow?.x??0)+c/2,g=(a.arrow?.y??0)+d/2;let N="",b="";return u==="bottom"?(N=A?f:`${x}px`,b=`${-d}px`):u==="top"?(N=A?f:`${x}px`,b=`${n.floating.height+d}px`):u==="right"?(N=`${-d}px`,b=A?f:`${g}px`):u==="left"&&(N=`${n.floating.width+d}px`,b=A?f:`${g}px`),{data:{x:N,y:b}}}});function W2(s){const[t,r="center"]=s.split("-");return[t,r]}var K3=M2,V3=V2,z3=z2,G3=$2,$3="Portal",qx=S.forwardRef((s,t)=>{const{container:r,...n}=s,[a,i]=S.useState(!1);Hn(()=>i(!0),[]);const A=r||a&&globalThis?.document?.body;return A?v2.createPortal(e.jsx(Ms.div,{...n,ref:t}),A):null});qx.displayName=$3;function W3(s){const t=q3(s),r=S.forwardRef((n,a)=>{const{children:i,...A}=n,c=S.Children.toArray(i),d=c.find(J3);if(d){const u=d.props.children,m=c.map(f=>f===d?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return e.jsx(t,{...A,ref:a,children:S.isValidElement(u)?S.cloneElement(u,void 0,m):null})}return e.jsx(t,{...A,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}function q3(s){const t=S.forwardRef((r,n)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const A=Z3(a),c=X3(i,a.props);return a.type!==S.Fragment&&(c.ref=n?Fu(n,A):A),S.cloneElement(a,c)}return S.Children.count(a)>1?S.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var Y3=Symbol("radix.slottable");function J3(s){return S.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Y3}function X3(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function Z3(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}var e_=Ux[" useInsertionEffect ".trim().toString()]||Hn;function gd({prop:s,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,A]=t_({defaultProp:t,onChange:r}),c=s!==void 0,d=c?s:a;{const m=S.useRef(s!==void 0);S.useEffect(()=>{const f=m.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,n])}const u=S.useCallback(m=>{if(c){const f=s_(m)?m(s):m;f!==s&&A.current?.(f)}else i(m)},[c,s,i,A]);return[d,u]}function t_({defaultProp:s,onChange:t}){const[r,n]=S.useState(s),a=S.useRef(r),i=S.useRef(t);return e_(()=>{i.current=t},[t]),S.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function s_(s){return typeof s=="function"}function Yx(s){const t=S.useRef({value:s,previous:s});return S.useMemo(()=>(t.current.value!==s&&(t.current.previous=t.current.value,t.current.value=s),t.current.previous),[s])}var q2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),r_="VisuallyHidden",n_=S.forwardRef((s,t)=>e.jsx(Ms.span,{...s,ref:t,style:{...q2,...s.style}}));n_.displayName=r_;var a_=function(s){if(typeof document>"u")return null;var t=Array.isArray(s)?s[0]:s;return t.ownerDocument.body},Yd=new WeakMap,Sm=new WeakMap,Em={},Ig=0,Y2=function(s){return s&&(s.host||Y2(s.parentNode))},i_=function(s,t){return t.map(function(r){if(s.contains(r))return r;var n=Y2(r);return n&&s.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",s,". Doing nothing"),null)}).filter(function(r){return!!r})},o_=function(s,t,r,n){var a=i_(t,Array.isArray(s)?s:[s]);Em[r]||(Em[r]=new WeakMap);var i=Em[r],A=[],c=new Set,d=new Set(a),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};a.forEach(u);var m=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(x){if(c.has(x))m(x);else try{var g=x.getAttribute(n),N=g!==null&&g!=="false",b=(Yd.get(x)||0)+1,j=(i.get(x)||0)+1;Yd.set(x,b),i.set(x,j),A.push(x),b===1&&N&&Sm.set(x,!0),j===1&&x.setAttribute(r,"true"),N||x.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",x,y)}})};return m(t),c.clear(),Ig++,function(){A.forEach(function(f){var x=Yd.get(f)-1,g=i.get(f)-1;Yd.set(f,x),i.set(f,g),x||(Sm.has(f)||f.removeAttribute(n),Sm.delete(f)),g||f.removeAttribute(r)}),Ig--,Ig||(Yd=new WeakMap,Yd=new WeakMap,Sm=new WeakMap,Em={})}},J2=function(s,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(s)?s:[s]),a=a_(s);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),o_(n,a,r,"aria-hidden")):function(){return null}},Tl=function(){return Tl=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Tl.apply(this,arguments)};function X2(s,t){var r={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(r[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(s);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(s,n[a])&&(r[n[a]]=s[n[a]]);return r}function l_(s,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return s.concat(i||Array.prototype.slice.call(t))}var hf="right-scroll-bar-position",mf="width-before-scroll-bar",A_="with-scroll-bars-hidden",c_="--removed-body-scroll-bar-size";function Lg(s,t){return typeof s=="function"?s(t):s&&(s.current=t),s}function d_(s,t){var r=S.useState(function(){return{value:s,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var u_=typeof window<"u"?S.useLayoutEffect:S.useEffect,d1=new WeakMap;function h_(s,t){var r=d_(null,function(n){return s.forEach(function(a){return Lg(a,n)})});return u_(function(){var n=d1.get(r);if(n){var a=new Set(n),i=new Set(s),A=r.current;a.forEach(function(c){i.has(c)||Lg(c,null)}),i.forEach(function(c){a.has(c)||Lg(c,A)})}d1.set(r,s)},[s]),r}function m_(s){return s}function f_(s,t){t===void 0&&(t=m_);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:s},useMedium:function(i){var A=t(i,n);return r.push(A),function(){r=r.filter(function(c){return c!==A})}},assignSyncMedium:function(i){for(n=!0;r.length;){var A=r;r=[],A.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var A=[];if(r.length){var c=r;r=[],c.forEach(i),A=r}var d=function(){var m=A;A=[],m.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),r={push:function(m){A.push(m),u()},filter:function(m){return A=A.filter(m),r}}}};return a}function p_(s){s===void 0&&(s={});var t=f_(null);return t.options=Tl({async:!0,ssr:!1},s),t}var Z2=function(s){var t=s.sideCar,r=X2(s,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,Tl({},r))};Z2.isSideCarExport=!0;function g_(s,t){return s.useMedium(t),Z2}var eN=p_(),Qg=function(){},dp=S.forwardRef(function(s,t){var r=S.useRef(null),n=S.useState({onScrollCapture:Qg,onWheelCapture:Qg,onTouchMoveCapture:Qg}),a=n[0],i=n[1],A=s.forwardProps,c=s.children,d=s.className,u=s.removeScrollBar,m=s.enabled,f=s.shards,x=s.sideCar,g=s.noRelative,N=s.noIsolation,b=s.inert,j=s.allowPinchZoom,y=s.as,E=y===void 0?"div":y,U=s.gapMode,k=X2(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=x,G=h_([r,t]),H=Tl(Tl({},k),a);return S.createElement(S.Fragment,null,m&&S.createElement(q,{sideCar:eN,removeScrollBar:u,shards:f,noRelative:g,noIsolation:N,inert:b,setCallbacks:i,allowPinchZoom:!!j,lockRef:r,gapMode:U}),A?S.cloneElement(S.Children.only(c),Tl(Tl({},H),{ref:G})):S.createElement(E,Tl({},H,{className:d,ref:G}),c))});dp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dp.classNames={fullWidth:mf,zeroRight:hf};var x_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w_(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var t=x_();return t&&s.setAttribute("nonce",t),s}function v_(s,t){s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}function b_(s){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(s)}var y_=function(){var s=0,t=null;return{add:function(r){s==0&&(t=w_())&&(v_(t,r),b_(t)),s++},remove:function(){s--,!s&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},N_=function(){var s=y_();return function(t,r){S.useEffect(function(){return s.add(t),function(){s.remove()}},[t&&r])}},tN=function(){var s=N_(),t=function(r){var n=r.styles,a=r.dynamic;return s(n,a),null};return t},j_={left:0,top:0,right:0,gap:0},Tg=function(s){return parseInt(s||"",10)||0},B_=function(s){var t=window.getComputedStyle(document.body),r=t[s==="padding"?"paddingLeft":"marginLeft"],n=t[s==="padding"?"paddingTop":"marginTop"],a=t[s==="padding"?"paddingRight":"marginRight"];return[Tg(r),Tg(n),Tg(a)]},C_=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return j_;var t=B_(s),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},S_=tN(),fu="data-scroll-locked",E_=function(s,t,r,n){var a=s.left,i=s.top,A=s.right,c=s.gap;return r===void 0&&(r="margin"),`
  .`.concat(A_,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(fu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(A,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hf,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(mf,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(hf," .").concat(hf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(mf," .").concat(mf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(fu,`] {
    `).concat(c_,": ").concat(c,`px;
  }
`)},u1=function(){var s=parseInt(document.body.getAttribute(fu)||"0",10);return isFinite(s)?s:0},F_=function(){S.useEffect(function(){return document.body.setAttribute(fu,(u1()+1).toString()),function(){var s=u1()-1;s<=0?document.body.removeAttribute(fu):document.body.setAttribute(fu,s.toString())}},[])},__=function(s){var t=s.noRelative,r=s.noImportant,n=s.gapMode,a=n===void 0?"margin":n;F_();var i=S.useMemo(function(){return C_(a)},[a]);return S.createElement(S_,{styles:E_(i,!t,a,r?"":"!important")})},O0=!1;if(typeof window<"u")try{var Fm=Object.defineProperty({},"passive",{get:function(){return O0=!0,!0}});window.addEventListener("test",Fm,Fm),window.removeEventListener("test",Fm,Fm)}catch{O0=!1}var Jd=O0?{passive:!1}:!1,U_=function(s){return s.tagName==="TEXTAREA"},sN=function(s,t){if(!(s instanceof Element))return!1;var r=window.getComputedStyle(s);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!U_(s)&&r[t]==="visible")},k_=function(s){return sN(s,"overflowY")},I_=function(s){return sN(s,"overflowX")},h1=function(s,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=rN(s,n);if(a){var i=nN(s,n),A=i[1],c=i[2];if(A>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},L_=function(s){var t=s.scrollTop,r=s.scrollHeight,n=s.clientHeight;return[t,r,n]},Q_=function(s){var t=s.scrollLeft,r=s.scrollWidth,n=s.clientWidth;return[t,r,n]},rN=function(s,t){return s==="v"?k_(t):I_(t)},nN=function(s,t){return s==="v"?L_(t):Q_(t)},T_=function(s,t){return s==="h"&&t==="rtl"?-1:1},P_=function(s,t,r,n,a){var i=T_(s,window.getComputedStyle(t).direction),A=i*n,c=r.target,d=t.contains(c),u=!1,m=A>0,f=0,x=0;do{if(!c)break;var g=nN(s,c),N=g[0],b=g[1],j=g[2],y=b-j-i*N;(N||y)&&rN(s,c)&&(f+=y,x+=N);var E=c.parentNode;c=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(m&&Math.abs(f)<1||!m&&Math.abs(x)<1)&&(u=!0),u},_m=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},m1=function(s){return[s.deltaX,s.deltaY]},f1=function(s){return s&&"current"in s?s.current:s},R_=function(s,t){return s[0]===t[0]&&s[1]===t[1]},D_=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},O_=0,Xd=[];function H_(s){var t=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),a=S.useState(O_++)[0],i=S.useState(tN)[0],A=S.useRef(s);S.useEffect(function(){A.current=s},[s]),S.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(a));var b=l_([s.lockRef.current],(s.shards||[]).map(f1),!0).filter(Boolean);return b.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[s.inert,s.lockRef.current,s.shards]);var c=S.useCallback(function(b,j){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!A.current.allowPinchZoom;var y=_m(b),E=r.current,U="deltaX"in b?b.deltaX:E[0]-y[0],k="deltaY"in b?b.deltaY:E[1]-y[1],q,G=b.target,H=Math.abs(U)>Math.abs(k)?"h":"v";if("touches"in b&&H==="h"&&G.type==="range")return!1;var I=h1(H,G);if(!I)return!0;if(I?q=H:(q=H==="v"?"h":"v",I=h1(H,G)),!I)return!1;if(!n.current&&"changedTouches"in b&&(U||k)&&(n.current=q),!q)return!0;var D=n.current||q;return P_(D,j,b,D==="h"?U:k)},[]),d=S.useCallback(function(b){var j=b;if(!(!Xd.length||Xd[Xd.length-1]!==i)){var y="deltaY"in j?m1(j):_m(j),E=t.current.filter(function(q){return q.name===j.type&&(q.target===j.target||j.target===q.shadowParent)&&R_(q.delta,y)})[0];if(E&&E.should){j.cancelable&&j.preventDefault();return}if(!E){var U=(A.current.shards||[]).map(f1).filter(Boolean).filter(function(q){return q.contains(j.target)}),k=U.length>0?c(j,U[0]):!A.current.noIsolation;k&&j.cancelable&&j.preventDefault()}}},[]),u=S.useCallback(function(b,j,y,E){var U={name:b,delta:j,target:y,should:E,shadowParent:M_(y)};t.current.push(U),setTimeout(function(){t.current=t.current.filter(function(k){return k!==U})},1)},[]),m=S.useCallback(function(b){r.current=_m(b),n.current=void 0},[]),f=S.useCallback(function(b){u(b.type,m1(b),b.target,c(b,s.lockRef.current))},[]),x=S.useCallback(function(b){u(b.type,_m(b),b.target,c(b,s.lockRef.current))},[]);S.useEffect(function(){return Xd.push(i),s.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:x}),document.addEventListener("wheel",d,Jd),document.addEventListener("touchmove",d,Jd),document.addEventListener("touchstart",m,Jd),function(){Xd=Xd.filter(function(b){return b!==i}),document.removeEventListener("wheel",d,Jd),document.removeEventListener("touchmove",d,Jd),document.removeEventListener("touchstart",m,Jd)}},[]);var g=s.removeScrollBar,N=s.inert;return S.createElement(S.Fragment,null,N?S.createElement(i,{styles:D_(a)}):null,g?S.createElement(__,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function M_(s){for(var t=null;s!==null;)s instanceof ShadowRoot&&(t=s.host,s=s.host),s=s.parentNode;return t}const K_=g_(eN,H_);var Jx=S.forwardRef(function(s,t){return S.createElement(dp,Tl({},s,{ref:t,sideCar:K_}))});Jx.classNames=dp.classNames;var V_=[" ","Enter","ArrowUp","ArrowDown"],z_=[" ","Enter"],xd="Select",[up,hp,G_]=y2(xd),[Lu]=QA(xd,[G_,O2]),mp=O2(),[$_,Mc]=Lu(xd),[W_,q_]=Lu(xd),aN=s=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:A,defaultValue:c,onValueChange:d,dir:u,name:m,autoComplete:f,disabled:x,required:g,form:N}=s,b=mp(t),[j,y]=S.useState(null),[E,U]=S.useState(null),[k,q]=S.useState(!1),G=Px(u),[H,I]=gd({prop:n,defaultProp:a??!1,onChange:i,caller:xd}),[D,P]=gd({prop:A,defaultProp:c,onChange:d,caller:xd}),Q=S.useRef(null),T=j?N||!!j.closest("form"):!0,[$,V]=S.useState(new Set),ie=Array.from($).map(W=>W.props.value).join(";");return e.jsx(K3,{...b,children:e.jsxs($_,{required:g,scope:t,trigger:j,onTriggerChange:y,valueNode:E,onValueNodeChange:U,valueNodeHasChildren:k,onValueNodeHasChildrenChange:q,contentId:jc(),value:D,onValueChange:P,open:H,onOpenChange:I,dir:G,triggerPointerDownPosRef:Q,disabled:x,children:[e.jsx(up.Provider,{scope:t,children:e.jsx(W_,{scope:s.__scopeSelect,onNativeOptionAdd:S.useCallback(W=>{V(ne=>new Set(ne).add(W))},[]),onNativeOptionRemove:S.useCallback(W=>{V(ne=>{const M=new Set(ne);return M.delete(W),M})},[]),children:r})}),T?e.jsxs(SN,{"aria-hidden":!0,required:g,tabIndex:-1,name:m,autoComplete:f,value:D,onChange:W=>P(W.target.value),disabled:x,form:N,children:[D===void 0?e.jsx("option",{value:""}):null,Array.from($)]},ie):null]})})};aN.displayName=xd;var iN="SelectTrigger",oN=S.forwardRef((s,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=s,i=mp(r),A=Mc(iN,r),c=A.disabled||n,d=Cr(t,A.onTriggerChange),u=hp(r),m=S.useRef("touch"),[f,x,g]=FN(b=>{const j=u().filter(U=>!U.disabled),y=j.find(U=>U.value===A.value),E=_N(j,b,y);E!==void 0&&A.onValueChange(E.value)}),N=b=>{c||(A.onOpenChange(!0),g()),b&&(A.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return e.jsx(V3,{asChild:!0,...i,children:e.jsx(Ms.button,{type:"button",role:"combobox","aria-controls":A.contentId,"aria-expanded":A.open,"aria-required":A.required,"aria-autocomplete":"none",dir:A.dir,"data-state":A.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":EN(A.value)?"":void 0,...a,ref:d,onClick:Os(a.onClick,b=>{b.currentTarget.focus(),m.current!=="mouse"&&N(b)}),onPointerDown:Os(a.onPointerDown,b=>{m.current=b.pointerType;const j=b.target;j.hasPointerCapture(b.pointerId)&&j.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(N(b),b.preventDefault())}),onKeyDown:Os(a.onKeyDown,b=>{const j=f.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&x(b.key),!(j&&b.key===" ")&&V_.includes(b.key)&&(N(),b.preventDefault())})})})});oN.displayName=iN;var lN="SelectValue",AN=S.forwardRef((s,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:A="",...c}=s,d=Mc(lN,r),{onValueNodeHasChildrenChange:u}=d,m=i!==void 0,f=Cr(t,d.onValueNodeChange);return Hn(()=>{u(m)},[u,m]),e.jsx(Ms.span,{...c,ref:f,style:{pointerEvents:"none"},children:EN(d.value)?e.jsx(e.Fragment,{children:A}):i})});AN.displayName=lN;var Y_="SelectIcon",cN=S.forwardRef((s,t)=>{const{__scopeSelect:r,children:n,...a}=s;return e.jsx(Ms.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});cN.displayName=Y_;var J_="SelectPortal",dN=s=>e.jsx(qx,{asChild:!0,...s});dN.displayName=J_;var wd="SelectContent",uN=S.forwardRef((s,t)=>{const r=Mc(wd,s.__scopeSelect),[n,a]=S.useState();if(Hn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Oh.createPortal(e.jsx(hN,{scope:s.__scopeSelect,children:e.jsx(up.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),i):null}return e.jsx(mN,{...s,ref:t})});uN.displayName=wd;var Jo=10,[hN,Kc]=Lu(wd),X_="SelectContentImpl",Z_=W3("SelectContent.RemoveScroll"),mN=S.forwardRef((s,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:A,side:c,sideOffset:d,align:u,alignOffset:m,arrowPadding:f,collisionBoundary:x,collisionPadding:g,sticky:N,hideWhenDetached:b,avoidCollisions:j,...y}=s,E=Mc(wd,r),[U,k]=S.useState(null),[q,G]=S.useState(null),H=Cr(t,Z=>k(Z)),[I,D]=S.useState(null),[P,Q]=S.useState(null),T=hp(r),[$,V]=S.useState(!1),ie=S.useRef(!1);S.useEffect(()=>{if(U)return J2(U)},[U]),B2();const W=S.useCallback(Z=>{const[oe,...z]=T().map(Ve=>Ve.ref.current),[fe]=z.slice(-1),Fe=document.activeElement;for(const Ve of Z)if(Ve===Fe||(Ve?.scrollIntoView({block:"nearest"}),Ve===oe&&q&&(q.scrollTop=0),Ve===fe&&q&&(q.scrollTop=q.scrollHeight),Ve?.focus(),document.activeElement!==Fe))return},[T,q]),ne=S.useCallback(()=>W([I,U]),[W,I,U]);S.useEffect(()=>{$&&ne()},[$,ne]);const{onOpenChange:M,triggerPointerDownPosRef:de}=E;S.useEffect(()=>{if(U){let Z={x:0,y:0};const oe=fe=>{Z={x:Math.abs(Math.round(fe.pageX)-(de.current?.x??0)),y:Math.abs(Math.round(fe.pageY)-(de.current?.y??0))}},z=fe=>{Z.x<=10&&Z.y<=10?fe.preventDefault():U.contains(fe.target)||M(!1),document.removeEventListener("pointermove",oe),de.current=null};return de.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",z,{capture:!0})}}},[U,M,de]),S.useEffect(()=>{const Z=()=>M(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[M]);const[ue,se]=FN(Z=>{const oe=T().filter(Fe=>!Fe.disabled),z=oe.find(Fe=>Fe.ref.current===document.activeElement),fe=_N(oe,Z,z);fe&&setTimeout(()=>fe.ref.current.focus())}),O=S.useCallback((Z,oe,z)=>{const fe=!ie.current&&!z;(E.value!==void 0&&E.value===oe||fe)&&(D(Z),fe&&(ie.current=!0))},[E.value]),X=S.useCallback(()=>U?.focus(),[U]),re=S.useCallback((Z,oe,z)=>{const fe=!ie.current&&!z;(E.value!==void 0&&E.value===oe||fe)&&Q(Z)},[E.value]),me=n==="popper"?H0:fN,xe=me===H0?{side:c,sideOffset:d,align:u,alignOffset:m,arrowPadding:f,collisionBoundary:x,collisionPadding:g,sticky:N,hideWhenDetached:b,avoidCollisions:j}:{};return e.jsx(hN,{scope:r,content:U,viewport:q,onViewportChange:G,itemRefCallback:O,selectedItem:I,onItemLeave:X,itemTextRefCallback:re,focusSelectedItem:ne,selectedItemText:P,position:n,isPositioned:$,searchRef:ue,children:e.jsx(Jx,{as:Z_,allowPinchZoom:!0,children:e.jsx(Dx,{asChild:!0,trapped:E.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:Os(a,Z=>{E.trigger?.focus({preventScroll:!0}),Z.preventDefault()}),children:e.jsx(Rx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:A,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:e.jsx(me,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:Z=>Z.preventDefault(),...y,...xe,onPlaced:()=>V(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Os(y.onKeyDown,Z=>{const oe=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!oe&&Z.key.length===1&&se(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let fe=T().filter(Fe=>!Fe.disabled).map(Fe=>Fe.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const Fe=Z.target,Ve=fe.indexOf(Fe);fe=fe.slice(Ve+1)}setTimeout(()=>W(fe)),Z.preventDefault()}})})})})})})});mN.displayName=X_;var e6="SelectItemAlignedPosition",fN=S.forwardRef((s,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=s,i=Mc(wd,r),A=Kc(wd,r),[c,d]=S.useState(null),[u,m]=S.useState(null),f=Cr(t,H=>m(H)),x=hp(r),g=S.useRef(!1),N=S.useRef(!0),{viewport:b,selectedItem:j,selectedItemText:y,focusSelectedItem:E}=A,U=S.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&b&&j&&y){const H=i.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),P=y.getBoundingClientRect();if(i.dir!=="rtl"){const Fe=P.left-I.left,Ve=D.left-Fe,qe=H.left-Ve,st=H.width+qe,le=Math.max(st,I.width),Te=window.innerWidth-Jo,ze=zv(Ve,[Jo,Math.max(Jo,Te-le)]);c.style.minWidth=st+"px",c.style.left=ze+"px"}else{const Fe=I.right-P.right,Ve=window.innerWidth-D.right-Fe,qe=window.innerWidth-H.right-Ve,st=H.width+qe,le=Math.max(st,I.width),Te=window.innerWidth-Jo,ze=zv(Ve,[Jo,Math.max(Jo,Te-le)]);c.style.minWidth=st+"px",c.style.right=ze+"px"}const Q=x(),T=window.innerHeight-Jo*2,$=b.scrollHeight,V=window.getComputedStyle(u),ie=parseInt(V.borderTopWidth,10),W=parseInt(V.paddingTop,10),ne=parseInt(V.borderBottomWidth,10),M=parseInt(V.paddingBottom,10),de=ie+W+$+M+ne,ue=Math.min(j.offsetHeight*5,de),se=window.getComputedStyle(b),O=parseInt(se.paddingTop,10),X=parseInt(se.paddingBottom,10),re=H.top+H.height/2-Jo,me=T-re,xe=j.offsetHeight/2,Z=j.offsetTop+xe,oe=ie+W+Z,z=de-oe;if(oe<=re){const Fe=Q.length>0&&j===Q[Q.length-1].ref.current;c.style.bottom="0px";const Ve=u.clientHeight-b.offsetTop-b.offsetHeight,qe=Math.max(me,xe+(Fe?X:0)+Ve+ne),st=oe+qe;c.style.height=st+"px"}else{const Fe=Q.length>0&&j===Q[0].ref.current;c.style.top="0px";const qe=Math.max(re,ie+b.offsetTop+(Fe?O:0)+xe)+z;c.style.height=qe+"px",b.scrollTop=oe-re+b.offsetTop}c.style.margin=`${Jo}px 0`,c.style.minHeight=ue+"px",c.style.maxHeight=T+"px",n?.(),requestAnimationFrame(()=>g.current=!0)}},[x,i.trigger,i.valueNode,c,u,b,j,y,i.dir,n]);Hn(()=>U(),[U]);const[k,q]=S.useState();Hn(()=>{u&&q(window.getComputedStyle(u).zIndex)},[u]);const G=S.useCallback(H=>{H&&N.current===!0&&(U(),E?.(),N.current=!1)},[U,E]);return e.jsx(s6,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:g,onScrollButtonChange:G,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:e.jsx(Ms.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});fN.displayName=e6;var t6="SelectPopperPosition",H0=S.forwardRef((s,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Jo,...i}=s,A=mp(r);return e.jsx(z3,{...A,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});H0.displayName=t6;var[s6,Xx]=Lu(wd,{}),M0="SelectViewport",pN=S.forwardRef((s,t)=>{const{__scopeSelect:r,nonce:n,...a}=s,i=Kc(M0,r),A=Xx(M0,r),c=Cr(t,i.onViewportChange),d=S.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(up.Slot,{scope:r,children:e.jsx(Ms.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Os(a.onScroll,u=>{const m=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:x}=A;if(x?.current&&f){const g=Math.abs(d.current-m.scrollTop);if(g>0){const N=window.innerHeight-Jo*2,b=parseFloat(f.style.minHeight),j=parseFloat(f.style.height),y=Math.max(b,j);if(y<N){const E=y+g,U=Math.min(N,E),k=E-U;f.style.height=U+"px",f.style.bottom==="0px"&&(m.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});pN.displayName=M0;var gN="SelectGroup",[r6,n6]=Lu(gN),a6=S.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s,a=jc();return e.jsx(r6,{scope:r,id:a,children:e.jsx(Ms.div,{role:"group","aria-labelledby":a,...n,ref:t})})});a6.displayName=gN;var xN="SelectLabel",i6=S.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s,a=n6(xN,r);return e.jsx(Ms.div,{id:a.id,...n,ref:t})});i6.displayName=xN;var Rf="SelectItem",[o6,wN]=Lu(Rf),vN=S.forwardRef((s,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...A}=s,c=Mc(Rf,r),d=Kc(Rf,r),u=c.value===n,[m,f]=S.useState(i??""),[x,g]=S.useState(!1),N=Cr(t,E=>d.itemRefCallback?.(E,n,a)),b=jc(),j=S.useRef("touch"),y=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(o6,{scope:r,value:n,disabled:a,textId:b,isSelected:u,onItemTextChange:S.useCallback(E=>{f(U=>U||(E?.textContent??"").trim())},[]),children:e.jsx(up.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:e.jsx(Ms.div,{role:"option","aria-labelledby":b,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...A,ref:N,onFocus:Os(A.onFocus,()=>g(!0)),onBlur:Os(A.onBlur,()=>g(!1)),onClick:Os(A.onClick,()=>{j.current!=="mouse"&&y()}),onPointerUp:Os(A.onPointerUp,()=>{j.current==="mouse"&&y()}),onPointerDown:Os(A.onPointerDown,E=>{j.current=E.pointerType}),onPointerMove:Os(A.onPointerMove,E=>{j.current=E.pointerType,a?d.onItemLeave?.():j.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Os(A.onPointerLeave,E=>{E.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Os(A.onKeyDown,E=>{d.searchRef?.current!==""&&E.key===" "||(z_.includes(E.key)&&y(),E.key===" "&&E.preventDefault())})})})})});vN.displayName=Rf;var Ah="SelectItemText",bN=S.forwardRef((s,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=s,A=Mc(Ah,r),c=Kc(Ah,r),d=wN(Ah,r),u=q_(Ah,r),[m,f]=S.useState(null),x=Cr(t,y=>f(y),d.onItemTextChange,y=>c.itemTextRefCallback?.(y,d.value,d.disabled)),g=m?.textContent,N=S.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:b,onNativeOptionRemove:j}=u;return Hn(()=>(b(N),()=>j(N)),[b,j,N]),e.jsxs(e.Fragment,{children:[e.jsx(Ms.span,{id:d.textId,...i,ref:x}),d.isSelected&&A.valueNode&&!A.valueNodeHasChildren?Oh.createPortal(i.children,A.valueNode):null]})});bN.displayName=Ah;var yN="SelectItemIndicator",NN=S.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s;return wN(yN,r).isSelected?e.jsx(Ms.span,{"aria-hidden":!0,...n,ref:t}):null});NN.displayName=yN;var K0="SelectScrollUpButton",jN=S.forwardRef((s,t)=>{const r=Kc(K0,s.__scopeSelect),n=Xx(K0,s.__scopeSelect),[a,i]=S.useState(!1),A=Cr(t,n.onScrollButtonChange);return Hn(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=d.scrollTop>0;i(u)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?e.jsx(CN,{...s,ref:A,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});jN.displayName=K0;var V0="SelectScrollDownButton",BN=S.forwardRef((s,t)=>{const r=Kc(V0,s.__scopeSelect),n=Xx(V0,s.__scopeSelect),[a,i]=S.useState(!1),A=Cr(t,n.onScrollButtonChange);return Hn(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<u;i(m)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?e.jsx(CN,{...s,ref:A,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});BN.displayName=V0;var CN=S.forwardRef((s,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=s,i=Kc("SelectScrollButton",r),A=S.useRef(null),c=hp(r),d=S.useCallback(()=>{A.current!==null&&(window.clearInterval(A.current),A.current=null)},[]);return S.useEffect(()=>()=>d(),[d]),Hn(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),e.jsx(Ms.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Os(a.onPointerDown,()=>{A.current===null&&(A.current=window.setInterval(n,50))}),onPointerMove:Os(a.onPointerMove,()=>{i.onItemLeave?.(),A.current===null&&(A.current=window.setInterval(n,50))}),onPointerLeave:Os(a.onPointerLeave,()=>{d()})})}),l6="SelectSeparator",A6=S.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s;return e.jsx(Ms.div,{"aria-hidden":!0,...n,ref:t})});A6.displayName=l6;var z0="SelectArrow",c6=S.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s,a=mp(r),i=Mc(z0,r),A=Kc(z0,r);return i.open&&A.position==="popper"?e.jsx(G3,{...a,...n,ref:t}):null});c6.displayName=z0;var d6="SelectBubbleInput",SN=S.forwardRef(({__scopeSelect:s,value:t,...r},n)=>{const a=S.useRef(null),i=Cr(n,a),A=Yx(t);return S.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(A!==t&&m){const f=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(f)}},[A,t]),e.jsx(Ms.select,{...r,style:{...q2,...r.style},ref:i,defaultValue:t})});SN.displayName=d6;function EN(s){return s===""||s===void 0}function FN(s){const t=_A(s),r=S.useRef(""),n=S.useRef(0),a=S.useCallback(A=>{const c=r.current+A;t(c),(function d(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),i=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function _N(s,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?s.indexOf(r):-1;let A=u6(s,Math.max(i,0));a.length===1&&(A=A.filter(u=>u!==r));const d=A.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function u6(s,t){return s.map((r,n)=>s[(t+n)%s.length])}var h6=aN,m6=oN,f6=AN,p6=cN,g6=dN,x6=uN,w6=pN,v6=vN,b6=bN,y6=NN,N6=jN,j6=BN;function Ot({...s}){return e.jsx(h6,{"data-slot":"select",...s})}function Ht({...s}){return e.jsx(f6,{"data-slot":"select-value",...s})}function Mt({className:s,size:t="default",children:r,...n}){return e.jsxs(m6,{"data-slot":"select-trigger","data-size":t,className:ms("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...n,children:[r,e.jsx(p6,{asChild:!0,children:e.jsx(Jy,{className:"size-4 opacity-50"})})]})}function Kt({className:s,children:t,position:r="popper",...n}){return e.jsx(g6,{children:e.jsxs(x6,{"data-slot":"select-content",className:ms("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...n,children:[e.jsx(B6,{}),e.jsx(w6,{className:ms("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),e.jsx(C6,{})]})})}function ke({className:s,children:t,...r}){return e.jsxs(v6,{"data-slot":"select-item",className:ms("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(y6,{children:e.jsx(wA,{className:"size-4"})})}),e.jsx(b6,{children:t})]})}function B6({className:s,...t}){return e.jsx(N6,{"data-slot":"select-scroll-up-button",className:ms("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(y4,{className:"size-4"})})}function C6({className:s,...t}){return e.jsx(j6,{"data-slot":"select-scroll-down-button",className:ms("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Jy,{className:"size-4"})})}const S6=Lx("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Vi({className:s,variant:t,...r}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:ms(S6({variant:t}),s),...r})}function zi({className:s,...t}){return e.jsx("div",{"data-slot":"alert-description",className:ms("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...t})}function E6(s){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=s:r.appendChild(document.createTextNode(s))}const F6=s=>{switch(s){case"success":return k6;case"info":return L6;case"warning":return I6;case"error":return Q6;default:return null}},_6=Array(12).fill(0),U6=({visible:s,className:t})=>jt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":s},jt.createElement("div",{className:"sonner-spinner"},_6.map((r,n)=>jt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),k6=jt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},jt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),I6=jt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},jt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),L6=jt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},jt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Q6=jt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},jt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),T6=jt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},jt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),jt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),P6=()=>{const[s,t]=jt.useState(document.hidden);return jt.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),s};let G0=1;class R6{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:G0++,A=this.toasts.find(d=>d.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),A?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:c,title:n}):d):this.addToast({title:n,...a,dismissible:c,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,A;const c=a.then(async u=>{if(A=["resolve",u],jt.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(O6(u)&&!u.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,N=typeof f=="object"&&!jt.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:x,...N})}else if(u instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(u):r.error,x=typeof r.description=="function"?await r.description(u):r.description,N=typeof f=="object"&&!jt.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:x,...N})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(u):r.success,x=typeof r.description=="function"?await r.description(u):r.description,N=typeof f=="object"&&!jt.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:x,...N})}}).catch(async u=>{if(A=["reject",u],r.error!==void 0){i=!1;const m=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,g=typeof m=="object"&&!jt.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:f,...g})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((u,m)=>c.then(()=>A[0]==="reject"?m(A[1]):u(A[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=r?.id||G0++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const gi=new R6,D6=(s,t)=>{const r=t?.id||G0++;return gi.addToast({title:s,...t,id:r}),r},O6=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",H6=D6,M6=()=>gi.toasts,K6=()=>gi.getActiveToasts(),ge=Object.assign(H6,{success:gi.success,info:gi.info,warning:gi.warning,error:gi.error,custom:gi.custom,message:gi.message,promise:gi.promise,dismiss:gi.dismiss,loading:gi.loading},{getHistory:M6,getToasts:K6});E6("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Um(s){return s.label!==void 0}const V6=3,z6="24px",G6="16px",p1=4e3,$6=356,W6=14,q6=45,Y6=200;function Ul(...s){return s.filter(Boolean).join(" ")}function J6(s){const[t,r]=s.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const X6=s=>{var t,r,n,a,i,A,c,d,u;const{invert:m,toast:f,unstyled:x,interacting:g,setHeights:N,visibleToasts:b,heights:j,index:y,toasts:E,expanded:U,removeToast:k,defaultRichColors:q,closeButton:G,style:H,cancelButtonStyle:I,actionButtonStyle:D,className:P="",descriptionClassName:Q="",duration:T,position:$,gap:V,expandByDefault:ie,classNames:W,icons:ne,closeButtonAriaLabel:M="Close toast"}=s,[de,ue]=jt.useState(null),[se,O]=jt.useState(null),[X,re]=jt.useState(!1),[me,xe]=jt.useState(!1),[Z,oe]=jt.useState(!1),[z,fe]=jt.useState(!1),[Fe,Ve]=jt.useState(!1),[qe,st]=jt.useState(0),[le,Te]=jt.useState(0),ze=jt.useRef(f.duration||T||p1),ye=jt.useRef(null),pe=jt.useRef(null),Pe=y===0,et=y+1<=b,rt=f.type,ht=f.dismissible!==!1,Re=f.className||"",Oe=f.descriptionClassName||"",ft=jt.useMemo(()=>j.findIndex(Ct=>Ct.toastId===f.id)||0,[j,f.id]),_t=jt.useMemo(()=>{var Ct;return(Ct=f.closeButton)!=null?Ct:G},[f.closeButton,G]),xt=jt.useMemo(()=>f.duration||T||p1,[f.duration,T]),dt=jt.useRef(0),Ke=jt.useRef(0),it=jt.useRef(0),Xt=jt.useRef(null),[Lt,Et]=$.split("-"),Vt=jt.useMemo(()=>j.reduce((Ct,Ks,_s)=>_s>=ft?Ct:Ct+Ks.height,0),[j,ft]),Tt=P6(),Ft=f.invert||m,ds=rt==="loading";Ke.current=jt.useMemo(()=>ft*V+Vt,[ft,Vt]),jt.useEffect(()=>{ze.current=xt},[xt]),jt.useEffect(()=>{re(!0)},[]),jt.useEffect(()=>{const Ct=pe.current;if(Ct){const Ks=Ct.getBoundingClientRect().height;return Te(Ks),N(_s=>[{toastId:f.id,height:Ks,position:f.position},..._s]),()=>N(_s=>_s.filter(Ys=>Ys.toastId!==f.id))}},[N,f.id]),jt.useLayoutEffect(()=>{if(!X)return;const Ct=pe.current,Ks=Ct.style.height;Ct.style.height="auto";const _s=Ct.getBoundingClientRect().height;Ct.style.height=Ks,Te(_s),N(Ys=>Ys.find(Ut=>Ut.toastId===f.id)?Ys.map(Ut=>Ut.toastId===f.id?{...Ut,height:_s}:Ut):[{toastId:f.id,height:_s,position:f.position},...Ys])},[X,f.title,f.description,N,f.id,f.jsx,f.action,f.cancel]);const Pt=jt.useCallback(()=>{xe(!0),st(Ke.current),N(Ct=>Ct.filter(Ks=>Ks.toastId!==f.id)),setTimeout(()=>{k(f)},Y6)},[f,k,N,Ke]);jt.useEffect(()=>{if(f.promise&&rt==="loading"||f.duration===1/0||f.type==="loading")return;let Ct;return U||g||Tt?(()=>{if(it.current<dt.current){const Ys=new Date().getTime()-dt.current;ze.current=ze.current-Ys}it.current=new Date().getTime()})():(()=>{ze.current!==1/0&&(dt.current=new Date().getTime(),Ct=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),Pt()},ze.current))})(),()=>clearTimeout(Ct)},[U,g,f,rt,Tt,Pt]),jt.useEffect(()=>{f.delete&&(Pt(),f.onDismiss==null||f.onDismiss.call(f,f))},[Pt,f.delete]);function Bt(){var Ct;if(ne?.loading){var Ks;return jt.createElement("div",{className:Ul(W?.loader,f==null||(Ks=f.classNames)==null?void 0:Ks.loader,"sonner-loader"),"data-visible":rt==="loading"},ne.loading)}return jt.createElement(U6,{className:Ul(W?.loader,f==null||(Ct=f.classNames)==null?void 0:Ct.loader),visible:rt==="loading"})}const xs=f.icon||ne?.[rt]||F6(rt);var bt,Wt;return jt.createElement("li",{tabIndex:0,ref:pe,className:Ul(P,Re,W?.toast,f==null||(t=f.classNames)==null?void 0:t.toast,W?.default,W?.[rt],f==null||(r=f.classNames)==null?void 0:r[rt]),"data-sonner-toast":"","data-rich-colors":(bt=f.richColors)!=null?bt:q,"data-styled":!(f.jsx||f.unstyled||x),"data-mounted":X,"data-promise":!!f.promise,"data-swiped":Fe,"data-removed":me,"data-visible":et,"data-y-position":Lt,"data-x-position":Et,"data-index":y,"data-front":Pe,"data-swiping":Z,"data-dismissible":ht,"data-type":rt,"data-invert":Ft,"data-swipe-out":z,"data-swipe-direction":se,"data-expanded":!!(U||ie&&X),"data-testid":f.testId,style:{"--index":y,"--toasts-before":y,"--z-index":E.length-y,"--offset":`${me?qe:Ke.current}px`,"--initial-height":ie?"auto":`${le}px`,...H,...f.style},onDragEnd:()=>{oe(!1),ue(null),Xt.current=null},onPointerDown:Ct=>{Ct.button!==2&&(ds||!ht||(ye.current=new Date,st(Ke.current),Ct.target.setPointerCapture(Ct.pointerId),Ct.target.tagName!=="BUTTON"&&(oe(!0),Xt.current={x:Ct.clientX,y:Ct.clientY})))},onPointerUp:()=>{var Ct,Ks,_s;if(z||!ht)return;Xt.current=null;const Ys=Number(((Ct=pe.current)==null?void 0:Ct.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Lr=Number(((Ks=pe.current)==null?void 0:Ks.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ut=new Date().getTime()-((_s=ye.current)==null?void 0:_s.getTime()),$s=de==="x"?Ys:Lr,Hr=Math.abs($s)/Ut;if(Math.abs($s)>=q6||Hr>.11){st(Ke.current),f.onDismiss==null||f.onDismiss.call(f,f),O(de==="x"?Ys>0?"right":"left":Lr>0?"down":"up"),Pt(),fe(!0);return}else{var Vs,tr;(Vs=pe.current)==null||Vs.style.setProperty("--swipe-amount-x","0px"),(tr=pe.current)==null||tr.style.setProperty("--swipe-amount-y","0px")}Ve(!1),oe(!1),ue(null)},onPointerMove:Ct=>{var Ks,_s,Ys;if(!Xt.current||!ht||((Ks=window.getSelection())==null?void 0:Ks.toString().length)>0)return;const Ut=Ct.clientY-Xt.current.y,$s=Ct.clientX-Xt.current.x;var Hr;const Vs=(Hr=s.swipeDirections)!=null?Hr:J6($);!de&&(Math.abs($s)>1||Math.abs(Ut)>1)&&ue(Math.abs($s)>Math.abs(Ut)?"x":"y");let tr={x:0,y:0};const Ts=Ps=>1/(1.5+Math.abs(Ps)/20);if(de==="y"){if(Vs.includes("top")||Vs.includes("bottom"))if(Vs.includes("top")&&Ut<0||Vs.includes("bottom")&&Ut>0)tr.y=Ut;else{const Ps=Ut*Ts(Ut);tr.y=Math.abs(Ps)<Math.abs(Ut)?Ps:Ut}}else if(de==="x"&&(Vs.includes("left")||Vs.includes("right")))if(Vs.includes("left")&&$s<0||Vs.includes("right")&&$s>0)tr.x=$s;else{const Ps=$s*Ts($s);tr.x=Math.abs(Ps)<Math.abs($s)?Ps:$s}(Math.abs(tr.x)>0||Math.abs(tr.y)>0)&&Ve(!0),(_s=pe.current)==null||_s.style.setProperty("--swipe-amount-x",`${tr.x}px`),(Ys=pe.current)==null||Ys.style.setProperty("--swipe-amount-y",`${tr.y}px`)}},_t&&!f.jsx&&rt!=="loading"?jt.createElement("button",{"aria-label":M,"data-disabled":ds,"data-close-button":!0,onClick:ds||!ht?()=>{}:()=>{Pt(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Ul(W?.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(Wt=ne?.close)!=null?Wt:T6):null,(rt||f.icon||f.promise)&&f.icon!==null&&(ne?.[rt]!==null||f.icon)?jt.createElement("div",{"data-icon":"",className:Ul(W?.icon,f==null||(a=f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Bt():null,f.type!=="loading"?xs:null):null,jt.createElement("div",{"data-content":"",className:Ul(W?.content,f==null||(i=f.classNames)==null?void 0:i.content)},jt.createElement("div",{"data-title":"",className:Ul(W?.title,f==null||(A=f.classNames)==null?void 0:A.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?jt.createElement("div",{"data-description":"",className:Ul(Q,Oe,W?.description,f==null||(c=f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),jt.isValidElement(f.cancel)?f.cancel:f.cancel&&Um(f.cancel)?jt.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:Ct=>{Um(f.cancel)&&ht&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Ct),Pt())},className:Ul(W?.cancelButton,f==null||(d=f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,jt.isValidElement(f.action)?f.action:f.action&&Um(f.action)?jt.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||D,onClick:Ct=>{Um(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Ct),!Ct.defaultPrevented&&Pt())},className:Ul(W?.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function g1(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function Z6(s,t){const r={};return[s,t].forEach((n,a)=>{const i=a===1,A=i?"--mobile-offset":"--offset",c=i?G6:z6;function d(u){["top","right","bottom","left"].forEach(m=>{r[`${A}-${m}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${A}-${u}`]=c:r[`${A}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):d(c)}),r}const eU=jt.forwardRef(function(t,r){const{id:n,invert:a,position:i="bottom-right",hotkey:A=["altKey","KeyT"],expand:c,closeButton:d,className:u,offset:m,mobileOffset:f,theme:x="light",richColors:g,duration:N,style:b,visibleToasts:j=V6,toastOptions:y,dir:E=g1(),gap:U=W6,icons:k,containerAriaLabel:q="Notifications"}=t,[G,H]=jt.useState([]),I=jt.useMemo(()=>n?G.filter(X=>X.toasterId===n):G.filter(X=>!X.toasterId),[G,n]),D=jt.useMemo(()=>Array.from(new Set([i].concat(I.filter(X=>X.position).map(X=>X.position)))),[I,i]),[P,Q]=jt.useState([]),[T,$]=jt.useState(!1),[V,ie]=jt.useState(!1),[W,ne]=jt.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=jt.useRef(null),de=A.join("+").replace(/Key/g,"").replace(/Digit/g,""),ue=jt.useRef(null),se=jt.useRef(!1),O=jt.useCallback(X=>{H(re=>{var me;return(me=re.find(xe=>xe.id===X.id))!=null&&me.delete||gi.dismiss(X.id),re.filter(({id:xe})=>xe!==X.id)})},[]);return jt.useEffect(()=>gi.subscribe(X=>{if(X.dismiss){requestAnimationFrame(()=>{H(re=>re.map(me=>me.id===X.id?{...me,delete:!0}:me))});return}setTimeout(()=>{v2.flushSync(()=>{H(re=>{const me=re.findIndex(xe=>xe.id===X.id);return me!==-1?[...re.slice(0,me),{...re[me],...X},...re.slice(me+1)]:[X,...re]})})})}),[G]),jt.useEffect(()=>{if(x!=="system"){ne(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:re})=>{ne(re?"dark":"light")})}catch{X.addListener(({matches:me})=>{try{ne(me?"dark":"light")}catch(xe){console.error(xe)}})}},[x]),jt.useEffect(()=>{G.length<=1&&$(!1)},[G]),jt.useEffect(()=>{const X=re=>{var me;if(A.every(oe=>re[oe]||re.code===oe)){var Z;$(!0),(Z=M.current)==null||Z.focus()}re.code==="Escape"&&(document.activeElement===M.current||(me=M.current)!=null&&me.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[A]),jt.useEffect(()=>{if(M.current)return()=>{ue.current&&(ue.current.focus({preventScroll:!0}),ue.current=null,se.current=!1)}},[M.current]),jt.createElement("section",{ref:r,"aria-label":`${q} ${de}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((X,re)=>{var me;const[xe,Z]=X.split("-");return I.length?jt.createElement("ol",{key:X,dir:E==="auto"?g1():E,tabIndex:-1,ref:M,className:u,"data-sonner-toaster":!0,"data-sonner-theme":W,"data-y-position":xe,"data-x-position":Z,style:{"--front-toast-height":`${((me=P[0])==null?void 0:me.height)||0}px`,"--width":`${$6}px`,"--gap":`${U}px`,...b,...Z6(m,f)},onBlur:oe=>{se.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(se.current=!1,ue.current&&(ue.current.focus({preventScroll:!0}),ue.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||se.current||(se.current=!0,ue.current=oe.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{V||$(!1)},onDragEnd:()=>$(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||ie(!0)},onPointerUp:()=>ie(!1)},I.filter(oe=>!oe.position&&re===0||oe.position===X).map((oe,z)=>{var fe,Fe;return jt.createElement(X6,{key:oe.id,icons:k,index:z,toast:oe,defaultRichColors:g,duration:(fe=y?.duration)!=null?fe:N,className:y?.className,descriptionClassName:y?.descriptionClassName,invert:a,visibleToasts:j,closeButton:(Fe=y?.closeButton)!=null?Fe:d,interacting:V,position:X,style:y?.style,unstyled:y?.unstyled,classNames:y?.classNames,cancelButtonStyle:y?.cancelButtonStyle,actionButtonStyle:y?.actionButtonStyle,closeButtonAriaLabel:y?.closeButtonAriaLabel,removeToast:O,toasts:I.filter(Ve=>Ve.position==oe.position),heights:P.filter(Ve=>Ve.position==oe.position),setHeights:Q,expandByDefault:c,gap:U,expanded:T,swipeDirections:t.swipeDirections})})):null}))});class tU{mapFieldsToCamelCase(t){return t.map(r=>{const n={};for(const[a,i]of Object.entries(r)){const A=a.replace(/_([a-z])/g,(c,d)=>d.toUpperCase());n[A]=i}return n})}mapFieldsToSnakeCase(t){const r={};for(const[n,a]of Object.entries(t)){const i=n.replace(/[A-Z]/g,A=>`_${A.toLowerCase()}`);r[i]=a}return r}async executeQuery(t,r=[]){try{const n=localStorage.getItem("token"),a={"Content-Type":"application/json"};n&&(a.Authorization=`Bearer ${n}`);const i=await fetch("http://localhost/GGGG/api/database/query",{method:"POST",headers:a,body:JSON.stringify({query:t,params:r})});if(!i.ok){const c=await i.text();throw new Error(`Database query failed: ${i.statusText} - ${c}`)}const A=await i.json();if(A.success===!1)throw new Error(`Database operation failed: ${A.error}`);return A}catch(n){throw console.error("Database query error:",n),n}}async insertRecord(t,r){const n=this.mapFieldsToSnakeCase(r),a=Object.keys(n),i=Object.values(n),A=i.map(()=>"?").join(", "),c=`
      INSERT INTO ${t} (${a.join(", ")}) 
      VALUES (${A})
    `,d=await this.executeQuery(c,i);return d.insertId||d.data?.insertId||d.data?.id}async updateRecord(t,r,n){const a=this.mapFieldsToSnakeCase(n),i=Object.keys(a),A=Object.values(a),c=i.map(u=>`${u} = ?`).join(", "),d=`
      UPDATE ${t} 
      SET ${c} 
      WHERE id = ?
    `;return await this.executeQuery(d,[...A,r]),!0}async deleteRecord(t,r){const n=`DELETE FROM ${t} WHERE id = ?`;return await this.executeQuery(n,[r]),!0}generateAdmissionNumber(){return`GRA/${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`}generateEmployeeId(t){const r=t==="teacher"?"TCH":t==="accountant"?"ACC":"EMP",n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`${r}${n}`}async createStudent(t){try{const r=t.admission_number||this.generateAdmissionNumber(),n={first_name:t.first_name,last_name:t.last_name,other_name:t.other_name||null,admission_number:r,class_id:t.class_id,level:t.level||null,parent_id:t.parent_id||null,date_of_birth:t.date_of_birth||null,gender:t.gender,photo_url:t.photo_url||null,passport_photo:t.passport_photo||null,status:t.status||"Active",academic_year:t.academic_year,admission_date:t.admission_date||new Date().toISOString().split("T")[0]};return{id:await this.insertRecord("students",n),...t,admission_number:r}}catch(r){throw r}}async createTeacher(t){try{console.log("=== SQLDATABASE CREATE TEACHER DEBUG ==="),console.log("Input teacherData:",t);const r=t.employeeId||this.generateEmployeeId("teacher"),n=t.firstName||t.first_name||"",a=t.lastName||t.last_name||"";if(!n||!a)throw console.error("Missing firstName or lastName in teacherData:",t),new Error("First name and last name are required for teacher creation");const i={first_name:n,last_name:a,other_name:t.otherName||t.other_name||null,employee_id:r,email:t.email,phone:t.phone||null,gender:t.gender||null,qualification:t.qualification||null,specialization:JSON.stringify(t.specialization||[]),status:t.status||"Active",is_class_teacher:t.isClassTeacher||t.is_class_teacher||!1,department_id:t.departmentId||t.department_id||null,signature:t.signature||null};console.log("Transformed sqlData for database:",i),console.log("About to call insertRecord for teachers table...");const A=await this.insertRecord("teachers",i);return console.log("Teacher created with ID:",A),console.log("====================================="),{id:A,firstName:n,lastName:a,employeeId:r,...t}}catch(r){throw console.error("Error in createTeacher:",r),r}}async createClass(t){try{const r={name:t.name,code:t.code||`${t.level}-${t.name}`,level:t.level,category:t.category||"Primary",department:t.department||null,description:t.description||null,is_core:t.isCore||!1,status:t.status||"Active"};return{id:await this.insertRecord("classes",r),...t}}catch(r){throw r}}async createSubject(t){try{const r={name:t.name,code:t.code||t.name.replace(/\s+/g,"_").toUpperCase(),category:t.category,department:t.department||null,description:t.description||null,is_core:t.isCore||!1,status:t.status||"Active"};return{id:await this.insertRecord("subjects",r),...t}}catch(r){throw r}}async createParent(t){try{console.log("=== SQLDATABASE CREATE PARENT DEBUG ==="),console.log("Input parentData:",t);const r=t.firstName||t.first_name||"",n=t.lastName||t.last_name||"";if(!r||!n)throw console.error("Missing firstName or lastName in parentData:",t),new Error("First name and last name are required for parent creation");const a={first_name:r,last_name:n,email:t.email,phone:t.phone||null,alternate_phone:t.alternatePhone||t.alternate_phone||null,address:t.address||null,occupation:t.occupation||null,status:t.status||"Active"};console.log("Transformed sqlData for database:",a),console.log("About to call insertRecord for parents table...");const i=await this.insertRecord("parents",a);return console.log("Parent created with ID:",i),console.log("====================================="),{id:i,firstName:r,lastName:n,...t}}catch(r){throw console.error("Error in createParent:",r),r}}async createAccountant(t){try{console.log("=== SQLDATABASE CREATE ACCOUNTANT DEBUG ==="),console.log("Input accountantData:",t);const r=t.employeeId||t.employee_id||this.generateEmployeeId("accountant"),n=t.firstName||t.first_name||"",a=t.lastName||t.last_name||"";if(!n||!a)throw console.error("Missing firstName or lastName in accountantData:",t),new Error("First name and last name are required for accountant creation");const i={first_name:n,last_name:a,email:t.email,phone:t.phone||null,employee_id:r,status:t.status||"Active"};console.log("Transformed sqlData for database:",i),console.log("About to call insertRecord for accountants table...");const A=await this.insertRecord("accountants",i);return console.log("Accountant created with ID:",A),console.log("====================================="),{id:A,firstName:n,lastName:a,employeeId:r,...t}}catch(r){throw console.error("Error in createAccountant:",r),r}}async hashPassword(t){const r="$2y$10$"+btoa(Math.random().toString()).substring(0,22).replace(/[+/=]/g,"."),a=new TextEncoder().encode(t+r),i=await crypto.subtle.digest("SHA-256",a),c=Array.from(new Uint8Array(i)).map(d=>d.toString(16).padStart(2,"0")).join("");return"$sha256$"+r.substring(7)+"$"+c}async deleteLinkedRecord(t,r){try{let n="";switch(t){case"teacher":n="DELETE FROM teachers WHERE id = ?";break;case"parent":n="DELETE FROM parents WHERE id = ?";break;case"accountant":n="DELETE FROM accountants WHERE id = ?";break;default:return!1}const a=await this.executeQuery(n,[r]);return a.success&&a.affectedRows>0}catch(n){return console.error(`Failed to delete ${t} record:`,n),!1}}async createUser(t){try{console.log("=== SQLDATABASE CREATE USER DEBUG ==="),console.log("Input userData:",t);const r=t.password||t.role+"123";let n=0;if(t.role==="teacher"){console.log("Creating teacher record first...");const A={first_name:t.firstName,last_name:t.lastName,email:t.email,phone:t.phone||null,gender:t.gender||null,qualification:t.qualification||null,specialization:t.specialization?JSON.stringify(t.specialization):null,is_class_teacher:t.isClassTeacher||!1,department_id:t.departmentId||null,employee_id:t.employeeId||`EMP-${Date.now()}`,status:t.status||"Active"};n=(await this.createTeacher(A)).id,console.log("Teacher created with ID:",n),t.isClassTeacher&&t.assignedClassId&&(console.log("Assigning teacher to class:",t.assignedClassId),await this.updateRecord("classes",t.assignedClassId,{class_teacher_id:n,class_teacher:`${t.firstName} ${t.lastName}`}),console.log("Class teacher assignment completed"))}else if(t.role==="parent"){console.log("Creating parent record first...");const A={first_name:t.firstName,last_name:t.lastName,email:t.email,phone:t.phone||null,alternate_phone:t.alternatePhone||null,address:t.address||null,occupation:t.occupation||null,status:t.status||"Active"};n=(await this.createParent(A)).id,console.log("Parent created with ID:",n)}else if(t.role==="accountant"){console.log("Creating accountant record first...");const A={first_name:t.firstName,last_name:t.lastName,email:t.email,phone:t.phone||null,department:t.department||null,employee_id:t.employeeId||`ACC-${Date.now()}`,status:t.status||"Active"};n=(await this.createAccountant(A)).id,console.log("Accountant created with ID:",n)}const a={username:t.username,password_hash:r,role:t.role,linked_id:n,email:t.email,status:t.status||"Active"};console.log("Transformed sqlData for database:",a),console.log("About to call insertRecord for users table...");const i=await this.insertRecord("users",a);return console.log("User created with ID:",i),console.log("====================================="),{id:i,...t,linkedId:n,password:r}}catch(r){throw console.error("Error in createUser:",r),r}}async getStudents(){try{const n=(await this.executeQuery(`
        SELECT s.*, c.name as class_name 
        FROM students s 
        LEFT JOIN classes c ON s.class_id = c.id 
        ORDER BY s.first_name ASC
      `)).data||[];return this.mapFieldsToCamelCase(n)}catch(t){if(console.error("Error in getStudents:",t),t instanceof Error&&(t.message.includes("401")||t.message.includes("Unauthorized")))return console.log("Authentication required for students, returning empty array..."),[];throw t}}async getTeachers(){try{const n=(await this.executeQuery(`
        SELECT * FROM teachers 
        ORDER BY last_name, first_name
      `)).data||[];return this.mapFieldsToCamelCase(n)}catch(t){if(console.error("Error in getTeachers:",t),t instanceof Error&&(t.message.includes("401")||t.message.includes("Unauthorized")))return console.log("Authentication required for teachers, returning empty array..."),[];throw t}}async getAccountants(){try{const n=(await this.executeQuery(`
        SELECT * FROM accountants 
        ORDER BY last_name, first_name
      `)).data||[];return this.mapFieldsToCamelCase(n)}catch(t){if(console.error("Error in getAccountants:",t),t instanceof Error&&(t.message.includes("401")||t.message.includes("Unauthorized")))return console.log("Authentication required for accountants, returning empty array..."),[];throw t}}async getFeeBalances(){try{return(await this.executeQuery(`
        SELECT 
          fb.*,
          s.first_name,
          s.last_name,
          s.admission_number,
          c.name as class_name
        FROM fee_balances fb
        LEFT JOIN students s ON fb.student_id = s.id
        LEFT JOIN classes c ON fb.class_id = c.id
        ORDER BY fb.academic_year, fb.term, s.last_name, s.first_name
      `)).data||[]}catch(t){throw t}}async getClasses(){try{const n=(await this.executeQuery(`
        SELECT c.*, 
               (SELECT COUNT(*) FROM students WHERE class_id = c.id) as student_count
        FROM classes c 
        ORDER BY c.level, c.name
      `)).data||[];return this.mapFieldsToCamelCase(n)}catch(t){if(console.error("Error in getClasses:",t),t instanceof Error&&(t.message.includes("401")||t.message.includes("Unauthorized")))return console.log("Authentication required for classes, returning empty array..."),[];throw t}}async getSubjects(){try{const t=`
        SELECT * FROM subjects 
        ORDER BY category, name
      `;console.log("=== GET SUBJECTS DEBUG ==="),console.log("Query:",t);const r=await this.executeQuery(t);return console.log("Result:",r),r.data||[]}catch(t){if(console.error("Error in getSubjects:",t),t instanceof Error&&(t.message.includes("401")||t.message.includes("Unauthorized")))return console.log("Authentication required for subjects, returning fallback data..."),[{id:1,name:"English Language",code:"ENG001",category:"Primary",department:"Languages",description:"English language studies",is_core:!0,status:"Active"},{id:2,name:"Mathematics",code:"MAT001",category:"Primary",department:"Sciences",description:"Mathematical studies",is_core:!0,status:"Active"},{id:3,name:"Basic Science",code:"SCI001",category:"Primary",department:"Sciences",description:"Basic science studies",is_core:!0,status:"Active"}];throw t}}async getParents(){try{const n=(await this.executeQuery(`
        SELECT p.*, 
               (SELECT COUNT(*) FROM parent_student_links WHERE parent_id = p.id) as children_count
        FROM parents p 
        ORDER BY p.last_name, p.first_name
      `)).data||[];return this.mapFieldsToCamelCase(n)}catch(t){if(console.error("Error in getParents:",t),t instanceof Error&&(t.message.includes("401")||t.message.includes("Unauthorized")))return console.log("Authentication required for parents, returning empty array..."),[];throw t}}async checkAdmissionNumberExists(t){try{const n=await this.executeQuery("SELECT id FROM students WHERE admission_number = ?",[t]);return n.data&&n.data.length>0}catch{return!1}}async checkEmployeeIdExists(t){try{const n=await this.executeQuery("SELECT id FROM teachers WHERE employee_id = ?",[t]);return n.data&&n.data.length>0}catch{return!1}}async checkEmailExists(t,r="users"){try{const n=`SELECT id FROM ${r} WHERE email = ?`,a=await this.executeQuery(n,[t]);return a.data&&a.data.length>0}catch{return!1}}async createParentStudentLink(t,r,n="Guardian",a=!1){try{const i={parent_id:t,student_id:r,relationship:n,is_primary:a};return{id:await this.insertRecord("parent_student_links",i),parentId:t,studentId:r,relationship:n,isPrimary:a}}catch(i){throw i}}async getParentStudentLinks(){try{return(await this.executeQuery(`
        SELECT 
          psl.parent_id,
          psl.student_id,
          psl.relationship,
          psl.is_primary,
          s.first_name as student_first_name,
          s.last_name as student_last_name,
          s.admission_number,
          s.class_id,
          c.name as class_name
        FROM parent_student_links psl
        JOIN students s ON psl.student_id = s.id
        LEFT JOIN classes c ON s.class_id = c.id
        WHERE s.status = 'Active'
        ORDER BY psl.parent_id, s.last_name, s.first_name
      `)).data||[]}catch(t){return console.error("Error getting parent student links:",t),[]}}async insertBatch(t,r){try{if(r.length===0)return[];const n=Object.keys(r[0]),a=r.map(()=>`(${n.map(()=>"?").join(", ")})`).join(", "),i=r.flatMap(d=>Object.values(d)),A=`
        INSERT INTO ${t} (${n.join(", ")}) 
        VALUES ${a}
      `;return(await this.executeQuery(A,i)).insertIds||[]}catch(n){throw n}}async getStatistics(){try{const t={students:"SELECT COUNT(*) as count FROM students",teachers:"SELECT COUNT(*) as count FROM teachers",classes:"SELECT COUNT(*) as count FROM classes",subjects:"SELECT COUNT(*) as count FROM subjects",parents:"SELECT COUNT(*) as count FROM parents",users:"SELECT COUNT(*) as count FROM users",parent_student_links:"SELECT COUNT(*) as count FROM parent_student_links",subject_assignments:"SELECT COUNT(*) as count FROM subject_assignments"},r={};for(const[n,a]of Object.entries(t)){const i=await this.executeQuery(a);r[n]=i.data?.[0]?.count||0}return r}catch(t){throw t}}async testConnection(){try{return(await this.executeQuery("SELECT 1 as test")).success===!0}catch{return!1}}async api(t,r,n=null){try{const a=localStorage.getItem("token"),i={"Content-Type":"application/json"};a&&(i.Authorization=`Bearer ${a}`);const A={method:t,headers:i};n&&(A.body=JSON.stringify(n));const c=await fetch("http://localhost/GGGG/api"+r,A);if(!c.ok){const u=await c.text();let m=`API call to ${r} failed: ${c.statusText}`;try{const f=JSON.parse(u);m+=` - ${f.message||f.error}`}catch{m+=` - ${u}`}throw new Error(m)}const d=await c.json();if(d.success===!1)throw new Error(`API operation failed: ${d.message||d.error}`);return d.data}catch(a){throw console.error(`API error at endpoint ${r}:`,a),a}}async getScores(){try{return(await this.executeQuery(`
        SELECT 
          sc.id, sc.student_id, sc.subject_assignment_id, sc.ca1, sc.ca2, sc.exam, sc.total, sc.grade, sc.remark, sc.status,
          st.first_name as student_first_name, st.last_name as student_last_name,
          sa.subject_id, sa.class_id, s.name as subject_name
        FROM scores sc
        LEFT JOIN students st ON sc.student_id = st.id
        LEFT JOIN subject_assignments sa ON sc.subject_assignment_id = sa.id
        LEFT JOIN subjects s ON sa.subject_id = s.id
        ORDER BY sc.subject_assignment_id, st.last_name, st.first_name
      `)).data||[]}catch(t){throw t}}async upsertScores(t,r){return this.api("POST","/results/scores",{assignment_id:t,scores:r})}async createScore(t){console.warn("Deprecated: Direct createScore is insecure. Use upsertScores.");const r=[{student_id:t.studentId,ca1:t.ca1||0,ca2:t.ca2||0,exam:t.exam||0}];return this.upsertScores(t.subjectAssignmentId,r)}async updateScore(t,r){return console.warn("Deprecated: Direct updateScore is insecure. Use upsertScores."),Promise.resolve()}async deleteScore(t){try{await this.executeQuery("DELETE FROM scores WHERE id = ?",[t])}catch(r){throw r}}async getScoresByAssignment(t){try{return this.api("GET",`/results/scores/${t}`)}catch(r){throw r}}async getScoresByStudent(t,r,n){try{let a=`/results/student/${t}`;const i=new URLSearchParams;return r&&i.append("academic_year",r),n&&i.append("term",n),i.toString()&&(a+=`?${i.toString()}`),this.api("GET",a)}catch(a){throw a}}async getCompiledResults(){try{return(await this.executeQuery(`
            SELECT 
                cr.*,
                st.first_name as student_first_name,
                st.last_name as student_last_name,
                st.admission_number,
                c.name as class_name,
                c.level as class_level
            FROM compiled_results cr
            LEFT JOIN students st ON cr.student_id = st.id
            LEFT JOIN classes c ON cr.class_id = c.id
            ORDER BY cr.academic_year, cr.term, c.name, cr.position
        `)).data||[]}catch(t){throw t}}async createCompiledResult(t){const r={class_id:t.classId,term:t.term,academic_year:t.academicYear,student_results:[{student_id:t.studentId,total_score:t.totalScore,average_score:t.averageScore,position:t.position,total_students:t.totalStudents,class_teacher_comment:t.classTeacherComment||null,principal_comment:t.principalComment||null}]};return this.api("POST","/results/compile",r)}async updateCompiledResult(t,r){if(r.status==="Approved"){const n={action:"approve"};return this.api("POST",`/results/approve/${t}`,n)}else if(r.status==="Rejected"){const n={action:"reject",rejection_reason:r.rejectionReason||"Rejected without a specific reason."};return this.api("POST",`/results/approve/${t}`,n)}else{console.warn("updateCompiledResult currently only supports status changes to Approved/Rejected via API. Other updates still use generic query.");const n={};r.total_score!==void 0&&(n.total_score=r.total_score),r.average_score!==void 0&&(n.average_score=r.average_score),r.class_average!==void 0&&(n.class_average=r.class_average),r.position!==void 0&&(n.position=r.position),r.total_students!==void 0&&(n.total_students=r.total_students),r.grade!==void 0&&(n.grade=r.grade),r.remark!==void 0&&(n.remark=r.remark),r.class_teacher_comment!==void 0&&(n.class_teacher_comment=r.class_teacher_comment),r.principal_comment!==void 0&&(n.principal_comment=r.principal_comment),Object.keys(n).length>0&&await this.updateRecord("compiled_results",t,n)}}async deleteCompiledResult(t){try{await this.executeQuery("DELETE FROM compiled_results WHERE id = ?",[t])}catch(r){throw r}}async getResultsByClass(t,r,n){try{let a=`/results/class/${t}`;const i=new URLSearchParams;return r&&i.append("academic_year",r),n&&i.append("term",n),i.toString()&&(a+=`?${i.toString()}`),this.api("GET",a)}catch(a){throw a}}async getResultsByStudent(t,r,n){try{let a=`/results/student/${t}`;const i=new URLSearchParams;return r&&i.append("academic_year",r),n&&i.append("term",n),i.toString()&&(a+=`?${i.toString()}`),this.api("GET",a)}catch(a){throw a}}async getPendingCompiledResults(){try{return this.api("GET","/results/pending-approvals")}catch(t){throw t}}async createBatchSubjectAssignments(t){try{const r=t.map(n=>({subject_id:n.subject_id||n.subjectId,class_id:n.class_id||n.classId,teacher_id:n.teacher_id||n.teacherId,academic_year:n.academic_year||n.academicYear,term:n.term,status:n.status||"Active"}));return await this.insertBatch("subject_assignments",r)}catch(r){throw r}}async createBatchScores(t){try{const r=t.map(n=>({student_id:n.studentId,subject_assignment_id:n.subjectAssignmentId,ca1:n.ca1||0,ca2:n.ca2||0,exam:n.exam||0,grade:n.grade||null,remark:n.remark||null,class_average:n.classAverage||null,class_min:n.classMin||null,class_max:n.classMax||null,status:n.status||"Draft"}));return await this.insertBatch("scores",r)}catch(r){throw r}}async updateBatchScores(t){try{for(const{id:r,data:n}of t)await this.updateScore(r,n)}catch(r){throw r}}async getClassPerformanceSummary(t,r,n){try{return(await this.executeQuery(`
        SELECT 
          COUNT(cr.id) as total_students,
          ROUND(AVG(cr.average_score), 2) as class_average,
          MAX(cr.average_score) as highest_score,
          MIN(cr.average_score) as lowest_score,
          ROUND(AVG(cr.position), 2) as average_position
        FROM compiled_results cr
        WHERE cr.class_id = ? AND cr.academic_year = ? AND cr.term = ? AND cr.status = 'Approved'
      `,[t,r,n])).data?.[0]||null}catch(a){throw a}}async getSubjectPerformanceSummary(t,r,n,a){try{return(await this.executeQuery(`
        SELECT 
          COUNT(sc.id) as total_students,
          ROUND(AVG(sc.total), 2) as class_average,
          MAX(sc.total) as highest_score,
          MIN(sc.total) as lowest_score,
          ROUND(AVG(sc.ca1), 2) as ca1_average,
          ROUND(AVG(sc.ca2), 2) as ca2_average,
          ROUND(AVG(sc.exam), 2) as exam_average
        FROM scores sc
        LEFT JOIN subject_assignments sa ON sc.subject_assignment_id = sa.id
        WHERE sa.subject_id = ? AND sa.class_id = ? AND sa.academic_year = ? AND sa.term = ?
      `,[t,r,n,a])).data?.[0]||null}catch(i){throw i}}async getUsers(){try{return(await this.executeQuery(`
        SELECT u.*, 
          CASE 
            WHEN u.role = 'teacher' THEN t.first_name
            WHEN u.role = 'parent' THEN p.first_name
            WHEN u.role = 'accountant' THEN a.first_name
            ELSE 'System'
          END as linked_name,
          CASE 
            WHEN u.role = 'teacher' THEN t.last_name
            WHEN u.role = 'parent' THEN p.last_name
            WHEN u.role = 'accountant' THEN a.last_name
            ELSE 'User'
          END as linked_lastname
        FROM users u
        LEFT JOIN teachers t ON u.linked_id = t.id AND u.role = 'teacher'
        LEFT JOIN parents p ON u.linked_id = p.id AND u.role = 'parent'
        LEFT JOIN accountants a ON u.linked_id = a.id AND u.role = 'accountant'
        ORDER BY u.created_at DESC
      `)).data||[]}catch(t){return console.error("Error loading users:",t),[]}}async getUserById(t){try{return(await this.executeQuery(`
        SELECT u.*, 
          CASE 
            WHEN u.role = 'student' THEN s.first_name
            WHEN u.role = 'teacher' THEN t.first_name
            WHEN u.role = 'parent' THEN p.first_name
            ELSE 'System'
          END as linked_name,
          CASE 
            WHEN u.role = 'student' THEN s.last_name
            WHEN u.role = 'teacher' THEN t.last_name
            WHEN u.role = 'parent' THEN p.last_name
            ELSE 'User'
          END as linked_lastname
        FROM users u
        LEFT JOIN students s ON u.linked_id = s.id AND u.role = 'student'
        LEFT JOIN teachers t ON u.linked_id = t.id AND u.role = 'teacher'
        LEFT JOIN parents p ON u.linked_id = p.id AND u.role = 'parent'
        WHERE u.id = ?
      `,[t])).data?.[0]||null}catch(r){throw r}}async updateUser(t,r){try{const n={...r,updated_at:new Date().toISOString()};return delete n.id,await this.updateRecord("users",t,n),await this.getUserById(t)}catch(n){throw n}}async deleteUser(t){try{const n=await this.executeQuery("SELECT role, linked_id FROM users WHERE id = ?",[t]);if(!n.data||n.data.length===0)throw new Error("User not found");const a=n.data[0];return a.role==="teacher"&&a.linked_id>0?await this.executeQuery("DELETE FROM teachers WHERE id = ?",[a.linked_id]):a.role==="parent"&&a.linked_id>0?(await this.executeQuery("DELETE FROM parent_student_links WHERE parent_id = ?",[a.linked_id]),await this.executeQuery("DELETE FROM parents WHERE id = ?",[a.linked_id])):a.role==="accountant"&&a.linked_id>0&&await this.executeQuery("DELETE FROM accountants WHERE id = ?",[a.linked_id]),await this.executeQuery("DELETE FROM users WHERE id = ?",[t]),!0}catch(r){throw r}}async updateUserStatus(t,r){try{return await this.updateUser(t,{status:r})}catch(n){throw n}}async resetUserPassword(t,r){try{const n=r;return await this.updateUser(t,{password_hash:n,password_changed_at:new Date().toISOString()})}catch(n){throw n}}async checkUsernameExists(t){try{const n=await this.executeQuery("SELECT id FROM users WHERE username = ?",[t]);return n.data&&n.data.length>0}catch{return!1}}async getUserPermissions(t){try{return(await this.executeQuery(`
        SELECT p.* FROM permissions p
        JOIN role_permissions rp ON p.id = rp.permission_id
        WHERE rp.role = ? AND rp.is_active = TRUE
      `,[t])).data||[]}catch(r){throw r}}async checkUserPermission(t,r){try{const a=await this.executeQuery(`
        SELECT COUNT(*) as has_permission 
        FROM role_permissions rp
        JOIN permissions p ON rp.permission_id = p.id
        WHERE rp.role = ? AND p.name = ? AND rp.is_active = TRUE
      `,[t,r]);return a.data&&a.data[0]&&a.data[0].has_permission>0}catch{return!1}}async authenticateUser(t,r,n){try{console.log("Authenticating user:",{username:t,role:n});const a=await fetch("http://localhost/GGGG/api/auth/simple_login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:r,role:n})});if(console.log("Authentication response status:",a.status),!a.ok)throw new Error(`Authentication failed: ${a.statusText}`);const i=await a.json();return console.log("Authentication response data:",i),i.success?(console.log("Authentication successful for:",i.data.first_name),i.data):(console.log("Authentication unsuccessful:",i.message),null)}catch(a){return console.error("Authentication error:",a),null}}async getActiveAcademicYear(){try{const r=await this.executeQuery("SELECT value FROM school_settings WHERE key = 'current_academic_year'");return r.data&&r.data.length>0?r.data[0].value:"2025/2026"}catch{return"2025/2026"}}async getActiveTerm(){try{const r=await this.executeQuery("SELECT value FROM school_settings WHERE key = 'current_term'");return r.data&&r.data.length>0?r.data[0].value:"First Term"}catch{return"First Term"}}async getRegisteredSubjects(t,r,n){try{let a=`
        SELECT sr.*, s.name as subject_name, s.code as subject_code, s.category,
          c.name as class_name, c.level as class_level
        FROM subject_registrations sr
        JOIN subjects s ON sr.subject_id = s.id
        JOIN classes c ON sr.class_id = c.id
        WHERE sr.academic_year = ? AND sr.term = ? AND sr.status = 'Active'
      `;const i=[t,r];return n&&(a+=" AND sr.class_id = ?",i.push(n.toString())),a+=" ORDER BY c.level, c.name, s.name",(await this.executeQuery(a,i)).data||[]}catch(a){throw a}}async registerSubjectForClass(t,r,n,a,i=!0){try{const A={subject_id:t,class_id:r,academic_year:n,term:a,is_compulsory:i,status:"Active"};return{id:await this.insertRecord("subject_registrations",A),...A}}catch(A){throw A}}async removeSubjectRegistration(t,r,n,a){try{return await this.executeQuery(`
        DELETE FROM subject_registrations 
        WHERE subject_id = ? AND class_id = ? AND academic_year = ? AND term = ?
      `,[t.toString(),r.toString(),n,a]),!0}catch(i){throw i}}async getSubjectAssignments(t,r,n,a){try{let i=`
        SELECT sa.*, s.name as subject_name, s.code as subject_code, s.category,
          c.name as class_name, c.level as class_level,
          t.first_name as teacher_first_name, t.last_name as teacher_last_name, t.employee_id
        FROM subject_assignments sa
        JOIN subjects s ON sa.subject_id = s.id
        JOIN classes c ON sa.class_id = c.id
        JOIN teachers t ON sa.teacher_id = t.id
        WHERE sa.academic_year = ? AND sa.term = ? AND sa.status = 'Active'
      `;const A=[t,r];return n&&(i+=" AND sa.class_id = ?",A.push(n.toString())),a&&(i+=" AND sa.teacher_id = ?",A.push(a.toString())),i+=" ORDER BY c.level, c.name, s.name",(await this.executeQuery(i,A)).data||[]}catch(i){throw i}}async assignSubjectToTeacher(t,r,n,a,i){try{const A={subject_id:t,class_id:r,teacher_id:n,academic_year:a,term:i,status:"Active"};return{id:await this.insertRecord("subject_assignments",A),...A}}catch(A){throw A}}async removeSubjectAssignment(t,r,n,a,i){try{return await this.executeQuery(`
        DELETE FROM subject_assignments 
        WHERE subject_id = ? AND class_id = ? AND teacher_id = ? AND academic_year = ? AND term = ?
      `,[t.toString(),r.toString(),n.toString(),a,i]),!0}catch(A){throw A}}async getUnassignedSubjects(t,r,n){try{return(await this.executeQuery(`
        SELECT s.* FROM subjects s
        WHERE s.status = 'Active'
        AND s.id NOT IN (
          SELECT sr.subject_id FROM subject_registrations sr
          WHERE sr.class_id = ? AND sr.academic_year = ? AND sr.term = ? AND sr.status = 'Active'
        )
        ORDER BY s.category, s.name
      `,[n.toString(),t,r])).data||[]}catch(a){throw a}}async getAvailableTeachers(t,r,n,a){try{return(await this.executeQuery(`
        SELECT t.* FROM teachers t
        WHERE t.status = 'Active'
        AND t.id NOT IN (
          SELECT sa.teacher_id FROM subject_assignments sa
          WHERE sa.subject_id = ? AND sa.class_id = ? 
          AND sa.academic_year = ? AND sa.term = ? AND sa.status = 'Active'
        )
        ORDER BY t.first_name, t.last_name
      `,[n.toString(),a.toString(),t,r])).data||[]}catch(i){throw i}}async updateStudent(t,r){const n=Object.keys(r).filter(c=>r[c]!==void 0),a=n.map(c=>r[c]),A=`UPDATE students SET ${n.map(c=>`${c} = ?`).join(", ")} WHERE id = ?`;return await this.executeQuery(A,[...a,t])}async updateTeacher(t,r){const n=Object.keys(r).filter(c=>r[c]!==void 0),a=n.map(c=>r[c]),A=`UPDATE teachers SET ${n.map(c=>`${c} = ?`).join(", ")} WHERE id = ?`;return await this.executeQuery(A,[...a,t])}async updateClass(t,r){const n=Object.keys(r).filter(c=>r[c]!==void 0),a=n.map(c=>r[c]),A=`UPDATE classes SET ${n.map(c=>`${c} = ?`).join(", ")} WHERE id = ?`;return await this.executeQuery(A,[...a,t])}async updateParent(t,r){const n=Object.keys(r).filter(c=>r[c]!==void 0),a=n.map(c=>r[c]),A=`UPDATE parents SET ${n.map(c=>`${c} = ?`).join(", ")} WHERE id = ?`;return await this.executeQuery(A,[...a,t])}async updateAccountant(t,r){const n=Object.keys(r).filter(c=>r[c]!==void 0),a=n.map(c=>r[c]),A=`UPDATE accountants SET ${n.map(c=>`${c} = ?`).join(", ")} WHERE id = ?`;return await this.executeQuery(A,[...a,t])}async deleteStudent(t){try{const n=await this.executeQuery("SELECT id, first_name, last_name FROM students WHERE id = ?",[t]);if(!n||!n.data||n.data.length===0)throw new Error("Student not found in database");const a=["fee_balances","users","scores","attendance","student_fee_balances","affective_domains","psychomotor_domains","compiled_results"];for(const c of a)try{let d="";c==="users"?d=`DELETE FROM ${c} WHERE linked_id = ? AND role = 'student'`:d=`DELETE FROM ${c} WHERE student_id = ?`,await this.executeQuery(d,[t])}catch{}const A=await this.executeQuery("DELETE FROM students WHERE id = ?",[t]);if(A&&A.affectedRows>0){const d=await this.executeQuery("SELECT id FROM students WHERE id = ?",[t]);if(d&&d.data&&d.data.length>0)throw new Error("Student deletion verification failed - student still exists");return A}else throw new Error("Failed to delete student - no rows affected")}catch(r){throw console.error("Error deleting student:",r),r}}async deleteBulkStudents(t){try{if(!t||t.length===0)throw new Error("No student IDs provided for bulk deletion");const r=[];let n=0;for(const a of t)try{const i=await this.deleteStudent(a);i&&i.affectedRows>0?(n+=i.affectedRows,r.push({id:a,success:!0})):r.push({id:a,success:!1,error:"No rows affected"})}catch(i){r.push({id:a,success:!1,error:i.message})}return{success:!0,totalDeleted:n,results:r,summary:`Successfully deleted ${n} of ${t.length} students`}}catch(r){throw r}}async deleteTeacher(t){return await this.executeQuery("DELETE FROM teachers WHERE id = ?",[t])}async deleteClass(t){return await this.executeQuery("DELETE FROM classes WHERE id = ?",[t])}async deleteParent(t){return await this.executeQuery("DELETE FROM parents WHERE id = ?",[t])}async deleteAccountant(t){return await this.executeQuery("DELETE FROM accountants WHERE id = ?",[t])}async linkParentToStudent(t,r){return await this.createParentStudentLink(t,r)}async getAttendance(t,r){try{let n=`
        SELECT 
          a.*,
          s.first_name,
          s.last_name,
          s.admission_number,
          c.name as class_name
        FROM attendance a
        LEFT JOIN students s ON a.student_id = s.id
        LEFT JOIN classes c ON a.class_id = c.id
      `;const a=[],i=[];return t&&(i.push("a.class_id = ?"),a.push(t)),r&&(i.push("a.date = ?"),a.push(r)),i.length>0&&(n+=" WHERE "+i.join(" AND ")),n+=" ORDER BY a.date, c.name, s.last_name, s.first_name",(await this.executeQuery(n,a)).data||[]}catch(n){throw n}}async createAttendance(t){try{const r={student_id:t.studentId,class_id:t.classId,date:t.date,status:t.status,marked_by:t.markedBy,term:t.term,academic_year:t.academicYear,remarks:t.remarks||null};return{id:await this.insertRecord("attendance",r),...t}}catch(r){throw r}}async updateAttendance(t,r){try{const n={status:r.status,remarks:r.remarks};await this.updateRecord("attendance",t,n)}catch(n){throw n}}async deleteAttendance(t){try{await this.executeQuery("DELETE FROM attendance WHERE id = ?",[t])}catch(r){throw r}}async getFeeStructures(t,r,n){try{let a=`
        SELECT 
          fs.*,
          c.name as class_name,
          c.level
        FROM fee_structures fs
        LEFT JOIN classes c ON fs.class_id = c.id
      `;const i=[],A=[];return t&&(A.push("fs.class_id = ?"),i.push(t)),r&&(A.push("fs.academic_year = ?"),i.push(r)),n&&(A.push("fs.term = ?"),i.push(n)),A.length>0&&(a+=" WHERE "+A.join(" AND ")),a+=" ORDER BY fs.academic_year, fs.term, c.level, c.name",(await this.executeQuery(a,i)).data||[]}catch(a){throw a}}async createFeeStructure(t){try{const r={class_id:t.classId,level:t.level,term:t.term,academic_year:t.academicYear,tuition_fee:t.tuitionFee||0,development_levy:t.developmentLevy||0,sports_fee:t.sportsFee||0,exam_fee:t.examFee||0,books_fee:t.booksFee||0,uniform_fee:t.uniformFee||0,transport_fee:t.transportFee||0,status:t.status||"Active"};return{id:await this.insertRecord("fee_structures",r),...t}}catch(r){throw r}}async getPayments(t,r,n){try{let a=`
        SELECT 
          p.*,
          s.first_name,
          s.last_name,
          s.admission_number,
          c.name as class_name,
          u_recorder.username as recorder_name,
          u_verifier.username as verifier_name
        FROM payments p
        LEFT JOIN students s ON p.student_id = s.id
        LEFT JOIN classes c ON s.class_id = c.id
        LEFT JOIN users u_recorder ON p.recorded_by = u_recorder.id
        LEFT JOIN users u_verifier ON p.verified_by = u_verifier.id
      `;const i=[],A=[];return t&&(A.push("p.student_id = ?"),i.push(t)),r&&(A.push("p.academic_year = ?"),i.push(r)),n&&(A.push("p.term = ?"),i.push(n)),A.length>0&&(a+=" WHERE "+A.join(" AND ")),a+=" ORDER BY p.recorded_date DESC",(await this.executeQuery(a,i)).data||[]}catch(a){throw a}}async createPayment(t){try{const r={student_id:t.studentId,amount:t.amount,payment_type:t.paymentType,term:t.term,academic_year:t.academicYear,payment_method:t.paymentMethod,transaction_reference:t.transactionReference||null,receipt_number:t.receiptNumber,recorded_by:t.recordedBy,notes:t.notes||null};return{id:await this.insertRecord("payments",r),...t}}catch(r){throw r}}async updatePaymentStatus(t,r,n){try{const a={status:r};n&&(a.verified_by=n,a.verified_date=new Date().toISOString().slice(0,19).replace("T"," ")),await this.updateRecord("payments",t,a)}catch(a){throw a}}async createBatchAttendance(t){try{const r=[];for(const n of t){const a=await this.createAttendance(n);r.push(a)}return r}catch(r){throw r}}async createBatchPayments(t){try{const r=[];for(const n of t){const a=await this.createPayment(n);r.push(a)}return r}catch(r){throw r}}async createAffectiveDomain(t){const r={student_id:t.student_id,class_id:t.class_id,term:t.term,academic_year:t.academic_year,attentiveness:t.attentiveness,attentiveness_remark:t.attentiveness_remark,honesty:t.honesty,honesty_remark:t.honesty_remark,neatness:t.neatness,neatness_remark:t.neatness_remark,obedience:t.obedience,obedience_remark:t.obedience_remark,sense_of_responsibility:t.sense_of_responsibility,sense_of_responsibility_remark:t.sense_of_responsibility_remark,entered_by:t.entered_by,entered_date:t.entered_date};return{id:await this.insertRecord("affective_domains",r),...t}}async updateAffectiveDomain(t,r){const n={attentiveness:r.attentiveness,attentiveness_remark:r.attentiveness_remark,honesty:r.honesty,honesty_remark:r.honesty_remark,neatness:r.neatness,neatness_remark:r.neatness_remark,obedience:r.obedience,obedience_remark:r.obedience_remark,sense_of_responsibility:r.sense_of_responsibility,sense_of_responsibility_remark:r.sense_of_responsibility_remark,entered_by:r.entered_by,entered_date:r.entered_date};return await this.updateRecord("affective_domains",t,n),{id:t,...r}}async createPsychomotorDomain(t){const r={student_id:t.student_id,class_id:t.class_id,term:t.term,academic_year:t.academic_year,attention_to_direction:t.attention_to_direction,attention_to_direction_remark:t.attention_to_direction_remark,considerate_of_others:t.considerate_of_others,considerate_of_others_remark:t.considerate_of_others_remark,handwriting:t.handwriting,handwriting_remark:t.handwriting_remark,sports:t.sports,sports_remark:t.sports_remark,verbal_fluency:t.verbal_fluency,verbal_fluency_remark:t.verbal_fluency_remark,works_well_independently:t.works_well_independently,works_well_independently_remark:t.works_well_independently_remark,entered_by:t.entered_by,entered_date:t.entered_date};return{id:await this.insertRecord("psychomotor_domains",r),...t}}async updatePsychomotorDomain(t,r){const n={attention_to_direction:r.attention_to_direction,attention_to_direction_remark:r.attention_to_direction_remark,considerate_of_others:r.considerate_of_others,considerate_of_others_remark:r.considerate_of_others_remark,handwriting:r.handwriting,handwriting_remark:r.handwriting_remark,sports:r.sports,sports_remark:r.sports_remark,verbal_fluency:r.verbal_fluency,verbal_fluency_remark:r.verbal_fluency_remark,works_well_independently:r.works_well_independently,works_well_independently_remark:r.works_well_independently_remark,entered_by:r.entered_by,entered_date:r.entered_date};return await this.updateRecord("psychomotor_domains",t,n),{id:t,...r}}async deleteAffectiveDomain(t){await this.deleteRecord("affective_domains",t)}async deletePsychomotorDomain(t){await this.deleteRecord("psychomotor_domains",t)}}const ct=new tU,UN=S.createContext(void 0);function Fs(){const s=S.useContext(UN);if(s===void 0)throw new Error("useSchool must be used within SchoolProvider");return s}function sU({children:s}){const[t,r]=S.useState("First Term"),[n,a]=S.useState("2025/2026"),[i,A]=S.useState(null),[c,d]=S.useState({school_name:"Graceland Royal Academy Gombe",school_motto:"Wisdom & Illumination",principal_name:"Mrs. Grace Okoro"}),[u,m]=S.useState(null),[f,x]=S.useState([]),[g,N]=S.useState([]),[b,j]=S.useState([]),[y,E]=S.useState([]),[U,k]=S.useState([]),[q,G]=S.useState([]),[H,I]=S.useState([]),[D,P]=S.useState([]),[Q,T]=S.useState([]),[$,V]=S.useState([]),[ie,W]=S.useState([]),[ne,M]=S.useState([]),[de,ue]=S.useState([]),[se,O]=S.useState([]),[X,re]=S.useState([]),[me,xe]=S.useState([]),[Z,oe]=S.useState([]),[z,fe]=S.useState([]),[Fe,Ve]=S.useState([]),[qe,st]=S.useState([]),[le,Te]=S.useState([]),[ze,ye]=S.useState([]),[pe,Pe]=S.useState([]),[et,rt]=S.useState([]),[ht,Re]=S.useState([]),Oe=async()=>{try{const _=await ct.executeQuery("SELECT * FROM users ORDER BY created_at DESC");return _&&_.data?(Ve(_.data),!0):!1}catch(_){return console.error("Error loading users:",_),!1}},ft=async()=>{try{const _=await ct.executeQuery(`
        SELECT 
          id,
          actor,
          actor_role as actorRole,
          action,
          target,
          ip_address as ipAddress,
          status,
          details,
          user_id as userId,
          created_at as timestamp
        FROM activity_logs 
        ORDER BY created_at DESC
        LIMIT 1000
      `);return _&&_.data?(oe(_.data),!0):!1}catch(_){return console.error("Error loading activity logs:",_),!1}},_t=async()=>{try{const _=await ct.executeQuery(`
        SELECT 
          id, 
          first_name as firstName, 
          last_name as lastName, 
          other_name as otherName,
          employee_id as employeeId, 
          email, 
          phone, 
          gender, 
          qualification, 
          specialization, 
          status, 
          is_class_teacher as isClassTeacher, 
          department_id as departmentId,
          created_at as createdAt,
          updated_at as updatedAt
        FROM teachers 
        ORDER BY created_at DESC
      `);return _&&_.data?(N(_.data),!0):!1}catch(_){return console.error("Error loading teachers:",_),!1}},xt=async()=>{try{const _=await ct.executeQuery("SELECT * FROM parents ORDER BY created_at DESC");if(_&&_.data){const K=_.data.map(Ae=>({...Ae,firstName:Ae.first_name,lastName:Ae.last_name}));return k(K),!0}return!1}catch(_){return console.error("Error loading parents:",_),!1}},dt=async()=>{try{const _=await ct.executeQuery("SELECT * FROM parent_student_links ORDER BY created_at DESC");return _&&_.data?(Re(_.data),!0):!1}catch(_){return console.error("Error loading parent student links:",_),!1}},Ke=async()=>{try{const _=await ct.executeQuery("SELECT * FROM accountants ORDER BY created_at DESC");return _&&_.data?(re(_.data),!0):!1}catch(_){return console.error("Error loading accountants:",_),!1}},it=async()=>{try{const _=await ct.executeQuery(`
        SELECT 
          s.id, 
          s.first_name as firstName,
          s.last_name as lastName,
          s.other_name as otherName,
          s.admission_number as admissionNumber,
          s.class_id,
          s.level,
          s.parent_id,
          s.date_of_birth as dateOfBirth,
          s.gender,
          s.photo_url as photoUrl,
          s.passport_photo as passportPhoto,
          s.status,
          s.academic_year as academicYear,
          s.admission_date as admissionDate,
          s.created_at as createdAt,
          s.updated_at as updatedAt,
          c.name as className,
          c.category as classCategory
        FROM students s
        LEFT JOIN classes c ON s.class_id = c.id
        ORDER BY s.first_name ASC
      `);return _&&_.data?(console.log("Loaded students from database:",_.data),E(_.data),!0):!1}catch(_){return console.error("Error loading students:",_),!1}},Xt=async()=>{try{const _=await ct.executeQuery(`
        SELECT 
          c.id, 
          c.name, 
          c.level, 
          c.section, 
          c.category, 
          c.capacity, 
          c.current_students as currentStudents, 
          c.class_teacher_id as classTeacherId, 
          CONCAT(t.first_name, ' ', t.last_name) as classTeacher,
          c.academic_year as academicYear, 
          c.status,
          c.created_at as createdAt,
          c.updated_at as updatedAt
        FROM classes c
        LEFT JOIN teachers t ON c.class_teacher_id = t.id
        ORDER BY c.created_at DESC
      `);return _&&_.data?(x(_.data),!0):!1}catch(_){return console.error("Error loading classes:",_),!1}},Lt=async()=>{try{const _=await ct.executeQuery(`
        SELECT 
          id, 
          name, 
          code, 
          category, 
          department, 
          description, 
          is_core as isCore, 
          status,
          created_at as createdAt,
          updated_at as updatedAt
        FROM subjects 
        ORDER BY created_at DESC
      `);return _&&_.data?(j(_.data),!0):!1}catch(_){return console.error("Error loading subjects:",_),!1}},Et=async()=>{try{const _=await ct.executeQuery("SELECT * FROM subject_registrations ORDER BY created_at DESC");return _&&_.data?(G(_.data),!0):!1}catch(_){return console.error("Error loading subject registrations:",_),!1}},Vt=async()=>{try{const _=await ct.executeQuery(`
        SELECT 
          sa.id,
          sa.subject_id,
          sa.class_id,
          sa.teacher_id,
          sa.academic_year,
          sa.term,
          sa.status,
          sa.created_at,
          sa.updated_at,
          s.name as subject_name,
          s.code as subject_code,
          c.name as class_name,
          c.level as class_level,
          CONCAT(t.first_name, ' ', t.last_name) as teacher_name,
          t.first_name as teacher_first_name,
          t.last_name as teacher_last_name
        FROM subject_assignments sa
        JOIN subjects s ON sa.subject_id = s.id
        JOIN classes c ON sa.class_id = c.id
        JOIN teachers t ON sa.teacher_id = t.id
        ORDER BY sa.created_at DESC
      `);return _&&_.data?(console.log("Loaded subject assignments from database:",_.data),I(_.data),!0):!1}catch(_){return console.error("Error loading subject assignments:",_),!1}},Tt=async _=>{try{const K=await ct.createStudent(_);return K&&K.id?(await it(),!0):!1}catch(K){return console.error("Error creating student:",K),!1}},Ft=async(_,K)=>{try{return await ct.updateRecord("students",_,K)?(await it(),!0):!1}catch(Ae){return console.error("Error updating student:",Ae),!1}},ds=async _=>{try{return await ct.deleteRecord("students",_)?(await it(),!0):!1}catch(K){return console.error("Error deleting student:",K),!1}},Pt=async _=>{try{const K=await ct.createTeacher(_);return K&&K.id?(await _t(),!0):!1}catch(K){return console.error("Error creating teacher:",K),!1}},Bt=async(_,K)=>{try{return await ct.updateRecord("teachers",_,K)?(await _t(),!0):!1}catch(Ae){return console.error("Error updating teacher:",Ae),!1}},xs=async _=>{try{return await ct.deleteRecord("teachers",_)?(await _t(),!0):!1}catch(K){return console.error("Error deleting teacher:",K),!1}},bt=async _=>{try{const K=await ct.createParent(_);return K&&K.id?(await xt(),!0):!1}catch(K){return console.error("Error creating parent:",K),!1}},Wt=async(_,K)=>{try{return await ct.updateRecord("parents",_,K)?(await xt(),!0):!1}catch(Ae){return console.error("Error updating parent:",Ae),!1}},Ct=async _=>{try{return await ct.deleteRecord("parents",_)?(await xt(),!0):!1}catch(K){return console.error("Error deleting parent:",K),!1}},Ks=async _=>{try{const K=await ct.createAccountant(_);return K&&K.id?(await Ke(),!0):!1}catch(K){return console.error("Error creating accountant:",K),!1}},_s=async(_,K)=>{try{return await ct.updateRecord("accountants",_,K)?(await Ke(),!0):!1}catch(Ae){return console.error("Error updating accountant:",Ae),!1}},Ys=async _=>{try{return await ct.deleteRecord("accountants",_)?(await Ke(),!0):!1}catch(K){return console.error("Error deleting accountant:",K),!1}},Lr=async _=>{try{const K=await ct.createClass(_);return K&&K.id?(await Xt(),!0):!1}catch(K){return console.error("Error creating class:",K),!1}},Ut=async(_,K)=>{try{return await ct.updateRecord("classes",_,K)?(await Xt(),!0):!1}catch(Ae){return console.error("Error updating class:",Ae),!1}},$s=async _=>{try{return await ct.deleteRecord("classes",_)?(await Xt(),!0):!1}catch(K){return console.error("Error deleting class:",K),!1}},Hr=async _=>{try{const K=await ct.createSubject(_);return K&&K.id?(await Lt(),!0):!1}catch(K){return console.error("Error creating subject:",K),!1}},Vs=async(_,K)=>{try{return await ct.updateRecord("subjects",_,K)?(await Lt(),!0):!1}catch(Ae){return console.error("Error updating subject:",Ae),!1}},tr=async _=>{try{return await ct.deleteRecord("subjects",_)?(await Lt(),!0):!1}catch(K){return console.error("Error deleting subject:",K),!1}},Ts=async(_,K,Ae,Be,Ye=!0)=>{try{const qt=await ct.registerSubjectForClass(K,_,Ae,Be,Ye);return qt&&qt.id?(await Lt(),!0):!1}catch(qt){return console.error("Error registering subject for class:",qt),!1}},Ps=async(_,K,Ae,Be)=>{try{return await ct.removeSubjectRegistration(K,_,Ae,Be)?(await Lt(),!0):!1}catch(Ye){return console.error("Error removing subject registration:",Ye),!1}},hr=async(_,K,Ae)=>{try{let Be="SELECT sr.*, s.name as subject_name, s.code as subject_code, c.name as class_name, c.level as class_level FROM subject_registrations sr JOIN subjects s ON sr.subject_id = s.id JOIN classes c ON sr.class_id = c.id";const Ye=[];if(_||K||Ae){Be+=" WHERE";const Dt=[];_&&(Dt.push(" sr.class_id = ?"),Ye.push(_)),K&&(Dt.push(" sr.academic_year = ?"),Ye.push(K)),Ae&&(Dt.push(" sr.term = ?"),Ye.push(Ae)),Be+=Dt.join(" AND")}return Be+=" ORDER BY sr.academic_year, sr.term, c.name, s.name",(await ct.executeQuery(Be,Ye))?.data||[]}catch(Be){return console.error("Error getting subject registrations:",Be),[]}};S.useEffect(()=>{i&&i.token&&(async()=>(await Oe(),await _t(),await xt(),await dt(),await Ke(),await it(),await Xt(),await Lt(),await Et(),await Vt()))()},[i]),S.useEffect(()=>{Oe(),ft(),it(),Xt(),Lt().catch(_=>{console.log("Subjects loading failed during init (may need authentication):",_)}),_t(),xt(),dt(),Ke()},[]);const ra=async(_,K,Ae)=>{try{console.log("Login attempt:",{username:_,role:Ae});const Be=await ct.authenticateUser(_,K,Ae);return Be?(A(Be),localStorage.setItem("token",Be.token||""),console.log("Login successful, reloading all data..."),await Oe(),await _t(),await xt(),await Ke(),await it(),await Xt(),await Lt(),await Et(),await Vt(),ge.success(`Welcome back, ${Be.firstName||Be.username}!`),Be):null}catch(Be){return console.error("Login error:",Be),ge.error(Be.message||"Login failed"),null}},wa=async _=>{if(await Tt(_)){await it();const Ae=await ct.executeQuery(`
        SELECT 
          s.id, 
          s.first_name as firstName,
          s.last_name as lastName,
          s.other_name as otherName,
          s.admission_number as admissionNumber,
          s.class_id,
          s.level,
          s.parent_id,
          s.date_of_birth as dateOfBirth,
          s.gender,
          s.photo_url as photoUrl,
          s.passport_photo as passportPhoto,
          s.status,
          s.academic_year as academicYear,
          s.admission_date as admissionDate,
          s.created_at as createdAt,
          s.updated_at as updatedAt,
          c.name as className,
          c.category as classCategory
        FROM students s
        LEFT JOIN classes c ON s.class_id = c.id
        ORDER BY s.created_at DESC LIMIT 1
      `);return Ae.data&&Ae.data[0]?Ae.data[0].id:-1}else return await it(),-1},_n=async(_,K)=>{E(Be=>Be.map(Ye=>Ye.id===_?{...Ye,...K}:Ye)),await Ft(_,K)?await it():await it()},He=async _=>{try{E(Ae=>Ae.filter(Ye=>Ye.id!==_)),await ds(_)?(await it(),await xt(),E(Ae=>[...Ae])):await it()}catch(K){throw await it(),K}},us=async _=>{try{if(!_||_.length===0)throw new Error("No student IDs provided for bulk deletion");E(Ae=>Ae.filter(Ye=>!_.includes(Ye.id)));const K=await ct.deleteBulkStudents(_);if(K&&K.success)return await it(),await xt(),E(Ae=>[...Ae]),K;throw await it(),new Error("Bulk deletion failed")}catch(K){throw await it(),K}},ys=_=>(y||[]).filter(K=>K.class_id===_),Ws=async()=>{await it()},je=async _=>{let K=_.employeeId;if(!K||K===""){const Be=new Date().getFullYear(),Ye=(g||[]).length+1;K=`GRA-TCH-${Be}-${String(Ye).padStart(3,"0")}`}if(await Pt({..._,employeeId:K})){await _t();const Be=await ct.executeQuery("SELECT * FROM teachers ORDER BY created_at DESC LIMIT 1");return Be.data&&Be.data[0]?Be.data[0].id:-1}return-1},bs=async(_,K)=>{await Bt(_,K)&&await _t()},Js=async _=>{await xs(_)&&(await _t(),await Xt())},mn=_=>(H||[]).filter(K=>K.teacher_id===_&&K.term===t&&K.academic_year===n),Za=_=>{const K=mn(_),Ae=f.filter(Ye=>Ye.classTeacherId===_),Be=K.reduce((Ye,qt)=>{const Dt=qt.class_id;return Ye[Dt]||(Ye[Dt]={classId:Dt,className:f.find(ks=>ks.id===Dt)?.name||"Unknown",classLevel:f.find(ks=>ks.id===Dt)?.level||"Unknown",subjects:[]}),Ye[Dt].subjects.push({subjectId:qt.subject_id,subjectName:b.find(ks=>ks.id===qt.subject_id)?.name||"Unknown",subjectCode:b.find(ks=>ks.id===qt.subject_id)?.code||"Unknown",assignmentId:qt.id}),Ye},{});return Ae.forEach(Ye=>{Be[Ye.id]||(Be[Ye.id]={classId:Ye.id,className:Ye.name||"Unknown",classLevel:Ye.level||"Unknown",subjects:[]})}),Object.values(Be).map(Ye=>({...Ye,studentCount:y.filter(qt=>qt.class_id===Ye.classId).length}))},Ha=_=>{try{const K=mn(_),Ae=f.filter(Dt=>Dt.classTeacherId===_),Be=K.reduce((Dt,ks)=>(Dt.find(ln=>ln.classId===ks.class_id)||Dt.push({classId:ks.class_id,className:f.find(ln=>ln.id===ks.class_id)?.name||"Unknown",classLevel:f.find(ln=>ln.id===ks.class_id)?.level||"Unknown"}),Dt),[]),Ye=[...Be];Ae.forEach(Dt=>{Ye.find(ks=>ks.classId===Dt.id)||Ye.push({classId:Dt.id,className:Dt.name||"Unknown",classLevel:Dt.level||"Unknown"})});const qt=Ye.reduce((Dt,ks)=>{const ln=y.filter(zr=>zr.class_id===ks.classId);return Dt+ln.length},0);return{isClassTeacher:Ae.length>0,assignedClassesCount:Ye.length,totalStudentsCount:qt,subjectsCount:K.length,canEnterScores:!0,canCompileResults:Ae.length>0,canViewResults:!0,canManageAttendance:Ae.length>0,canManageAffectivePsychomotor:Ae.length>0,canManageTimetable:Ae.length>0,canMessageParents:Ae.length>0,departments:["Academic"],classTeacherClassesCount:Ae.length,subjectAssignedClassesCount:Be.length,classTeacherClassIds:Ae.map(Dt=>Dt.id),subjectAssignedClassIds:Be.map(Dt=>Dt.classId)}}catch(K){return console.error("Error getting teacher responsibilities:",K),{isClassTeacher:!1,assignedClassesCount:0,totalStudentsCount:0,subjectsCount:0,canEnterScores:!1,canCompileResults:!1,canViewResults:!1,canManageAttendance:!1,canManageAffectivePsychomotor:!1,canManageTimetable:!1,canMessageParents:!1,departments:[],classTeacherClassesCount:0,subjectAssignedClassesCount:0,classTeacherClassIds:[],subjectAssignedClassIds:[]}}},rr=async _=>{if(await bt(_)){await xt();const Ae=await ct.executeQuery("SELECT * FROM parents ORDER BY created_at DESC LIMIT 1");return Ae.data&&Ae.data[0]?Ae.data[0].id:-1}else return-1},mr=async(_,K)=>{await Wt(_,K)&&await xt()},PA=async _=>{await Ct(_)&&await xt()},Al=_=>y.filter(K=>K.parent_id===_),na=async _=>{if(await Ks(_)){await Ke();const Ae=await ct.executeQuery("SELECT * FROM accountants ORDER BY created_at DESC LIMIT 1");return Ae.data&&Ae.data[0]?Ae.data[0].id:-1}else return-1},Gi=async(_,K)=>{await _s(_,K)&&await Ke()},RA=async _=>{await Ys(_)&&await Ke()},cl=async _=>{if(await Lr(_)){await Xt();const Ae=await ct.executeQuery("SELECT * FROM classes ORDER BY created_at DESC LIMIT 1");return Ae.data&&Ae.data[0]?Ae.data[0].id:-1}else return-1},wo=async(_,K)=>{await Ut(_,K)&&await Xt()},aa=async _=>{await $s(_)&&await Xt()},DA=async(_,K)=>{await Vs(_,K)&&await Lt()},Mr=async _=>{if(await Hr(_)){await Lt();const Ae=await ct.executeQuery("SELECT * FROM subjects ORDER BY created_at DESC LIMIT 1");return Ae.data&&Ae.data[0]?Ae.data[0].id:-1}else return-1},dl=async _=>{await tr(_)&&await Lt()},Vc=()=>ie.filter(_=>_.status==="Submitted"),Kr=async _=>{r(_);try{await ct.executeQuery("UPDATE school_settings SET setting_value = ? WHERE setting_key = 'current_term'",[_])}catch(K){console.error("Error updating current term in database:",K)}},vo=async _=>{a(_);try{await ct.executeQuery("UPDATE school_settings SET setting_value = ? WHERE setting_key = 'current_academic_year'",[_])}catch(K){console.error("Error updating academic year in database:",K)}},Mn=_=>(f||[]).filter(K=>K.classTeacherId===_).map(K=>K.id),ei=(_,K)=>{const Ae=Mn(_);return Ae.includes(K)?{valid:!1,message:"Teacher is already class teacher for this class"}:Ae.length>=3?{valid:!1,message:"Teacher cannot be class teacher for more than 3 classes. Current assignments: "+Ae.length}:{valid:!0,message:"Valid assignment"}},bo=async _=>{d({...c,..._});try{_.school_name!==void 0&&await ct.executeQuery("UPDATE school_settings SET setting_value = ? WHERE setting_key = 'school_name'",[_.school_name]),_.school_motto!==void 0&&await ct.executeQuery("UPDATE school_settings SET setting_value = ? WHERE setting_key = 'school_motto'",[_.school_motto]),_.principal_name!==void 0&&await ct.executeQuery("UPDATE school_settings SET setting_value = ? WHERE setting_key = 'principal_name'",[_.principal_name])}catch(K){console.error("Error updating school settings in database:",K)}},va=_=>{const K={..._,id:1,updated_date:new Date().toISOString()};if(m(K),i){const Ae=Be=>({admin:"Admin",teacher:"Teacher",accountant:"Accountant",parent:"Parent"})[Be]||"System";ia({id:0,actor:i.username,actor_role:Ae(i.role),action:"update_bank_account",target:_.bank_name,ip_address:"127.0.0.1",status:"Success",timestamp:new Date().toISOString(),details:`Updated bank account to ${_.account_number}`})}},Xr=()=>u,ia=async _=>{try{const{id:K,timestamp:Ae,...Be}=_,Ye=await ct.insertRecord("activity_logs",Be);return Ye&&Ye.insertId?(await ft(),Ye.insertId):0}catch(K){console.error("Error adding activity log:",K);const Ae=Z.length>0?Math.max(...Z.map(Ye=>Ye.id))+1:1,Be={..._,id:Ae,timestamp:new Date().toISOString()};return oe([Be,...Z]),Ae}},ql=(_,K)=>{let Ae=Z;if(i?.role==="teacher"&&i.linked_id){const Be=g.find(Ye=>Ye.id===i.linked_id);if(Be){const qt=mn(Be.id).map(Dt=>Dt.class_id);Ae=Ae.filter(Dt=>{if(Dt.actor===i.username)return!0;const ks=Dt.user_id;if(ks){const ln=y.find(zr=>zr.id===ks);if(ln&&qt.includes(ln.class_id))return!0}return!!(Dt.target&&Dt.target.includes("Class"))})}}else _&&(Ae=Ae.filter(Be=>Be.actor===i?.username));return K&&K!=="all"&&(Ae=Ae.filter(Be=>Be.action===K)),Ae},ul=async _=>{try{const K=await ct.createUser(_);return K?(await Oe(),K):null}catch(K){return console.error("Error creating user:",K),null}},$i=async(_,K)=>{try{return await ct.updateRecord("users",_,K)?(await Oe(),!0):!1}catch(Ae){return console.error("Error updating user:",Ae),!1}},Ma=async _=>{try{return await ct.deleteRecord("users",_)?(await Oe(),!0):!1}catch(K){return console.error("Error deleting user:",K),!1}},yo=async(_,K)=>{try{return await ct.updateRecord("users",_,{status:K})?(await Oe(),!0):!1}catch(Ae){return console.error("Error updating user status:",Ae),!1}},zs=async _=>{try{const K="Temp"+Math.random().toString(36).slice(-8);if(await ct.updateRecord("users",_,{password_hash:K}))return await Oe(),K;throw new Error("Failed to reset password")}catch(K){throw console.error("Error resetting user password:",K),new Error("Failed to reset password")}},No=async(_,K)=>{try{const Ae=K||"Temp"+Math.random().toString(36).slice(-8);if(await ct.updateRecord("users",_,{password_hash:Ae}))return await Oe(),Ae;throw new Error("Failed to reset password")}catch(Ae){throw console.error("Error resetting user password:",Ae),new Error("Failed to reset password")}},Ni=async _=>{try{const K=Fe.find(Be=>Be.id===_);if(!K)return[];const Ae=["create_users","read_users","update_users","delete_users","create_students","read_students","update_students","delete_students","create_teachers","read_teachers","update_teachers","delete_teachers","create_parents","read_parents","update_parents","delete_parents","manage_classes","manage_subjects","manage_fees","view_reports"];return K.role==="admin"?Ae:K.role==="teacher"?["read_students","update_students","manage_classes","manage_subjects"]:K.role==="accountant"?["read_students","manage_fees","view_reports"]:["read_students"]}catch(K){return console.error("Error getting user permissions:",K),[]}},Yl=async(_,K)=>{try{return _==="admin"?!0:_==="teacher"?["create_users","read_users","update_users","delete_users","create_students","read_students","update_students","delete_students","create_teachers","read_teachers","update_teachers","delete_teachers","create_parents","read_parents","update_parents","delete_parents","manage_classes","manage_subjects","manage_fees","view_reports"].includes(K):_==="accountant"?["read_students","manage_fees","view_reports"].includes(K):["read_students"].includes(K)}catch(Ae){return console.error("Error checking user permission:",Ae),!1}},OA=async _=>{try{const K=`
        INSERT INTO compiled_results (
          student_id, class_id, term, academic_year, total_score, average_score, 
          class_average, position, total_students, times_present, times_absent, 
          total_attendance_days, term_begin, term_end, next_term_begin,
          class_teacher_name, class_teacher_comment, principal_name, principal_comment,
          principal_signature, compiled_by, compiled_date, status
        ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
      `,Ae=[_.student_id,_.class_id,_.term,_.academic_year,_.total_score,_.average_score,_.class_average||0,_.position,_.total_students,_.times_present||0,_.times_absent||0,_.total_attendance_days||0,_.term_begin||null,_.term_end||null,_.next_term_begin||null,_.class_teacher_name,_.class_teacher_comment,_.principal_name||"",_.principal_comment,_.principal_signature||"",_.compiled_by||1,_.compiled_date,_.status],Be=await ct.executeQuery(K,Ae);if(Be&&Be.insertId){const Ye={..._,id:Be.insertId};return W([...ie,Ye]),Be.insertId}else throw new Error("No insert ID returned from database")}catch(K){throw console.error("Error saving compiled result to database:",K),K}},HA=async(_,K)=>{W(ie.map(Ae=>Ae.id===_?{...Ae,...K}:Ae))},hl=async _=>{W(ie.filter(K=>K.id!==_))},ml=_=>ie.filter(K=>K.class_id===_),Kn=async _=>{const K=se.length>0?Math.max(...se.map(Be=>Be.id))+1:1,Ae={..._,id:K};O([...se,Ae])},ti=async(_,K)=>{O(se.map(Ae=>Ae.id===_?{...Ae,...K}:Ae))},Vn=async _=>{O(se.map(K=>K.id===_?{...K,status:"Verified"}:K))},ba=_=>se.filter(K=>K.student_id===_),jo=async _=>{const K=ne.length>0?Math.max(...ne.map(Be=>Be.id))+1:1,Ae={..._,id:K};return M([...ne,Ae]),K},hs=async(_,K)=>{M(ne.map(Ae=>Ae.id===_?{...Ae,...K}:Ae))},si=_=>de.find(Ae=>Ae.student_id===_)||null,zc=async(_,K)=>{ue(de.map(Ae=>Ae.student_id===_?{...Ae,...K}:Ae))},MA=async(_,K)=>{try{await ct.createParentStudentLink(_,K,"Parent",!0),await ct.updateRecord("students",K,{parent_id:_}),await it(),await xt(),await dt(),console.log(`Successfully linked parent ${_} to student ${K}`)}catch(Ae){throw console.error("Error linking parent to student:",Ae),Ae}},oa=async(_,K,Ae,Be,Ye)=>{try{console.log(`Registering subject ${K} for class ${_}`);const qt=await Ts(_,K,Ae,Be,Ye);return qt&&await Et(),qt}catch(qt){return console.error("Error registering subject for class:",qt),!1}},Ka=async _=>{try{const K=y.filter(Ae=>Ae.class_id===_).length;await ct.updateRecord("classes",_,{current_students:K}),await Xt()}catch(K){console.error("Error updating class student count:",K)}},Jl=(_,K,Ae)=>{const Be=y.find(qt=>qt.id===_),Ye=f.find(qt=>qt.id===K);!Be||!Ye||(E(y.map(qt=>qt.id===_?{...qt,class_id:K,class_name:Ye.name,level:Ye.level,academic_year:Ae}:qt)),Ka(Be.class_id),Ka(K),i&&ia({id:0,actor:i.username,actor_role:"Admin",action:"Promote Student",target:`${Be.firstName} ${Be.lastName}  ${Ye.name}`,ip_address:"System",status:"Success",timestamp:new Date().toISOString(),details:`Promoted from ${Be.className} to ${Ye.name} for ${Ae}`}))},fl=(_,K,Ae)=>{_.forEach(Be=>{const Ye=K[Be];Ye&&Jl(Be,Ye,Ae)})},Bo=async _=>{const K=z.length>0?Math.max(...z.map(Be=>Be.id))+1:1,Ae={..._,id:K};return fe([...z,Ae]),K},Xl=async(_,K)=>{fe(z.map(Ae=>Ae.id===_?{...Ae,...K}:Ae))},Va=async _=>{fe(z.filter(K=>K.id!==_))},Co=_=>z.filter(K=>K.student_id===_),zn=_=>z.filter(K=>K.class_id===_),pl=_=>z.filter(K=>K.date===_),Zl=async(_,K)=>{try{return console.log(`Changing password from ${_} to ${K}`),!0}catch(Ae){return console.error("Error changing password:",Ae),!1}},eA=async _=>{const K=me.length>0?Math.max(...me.map(Be=>Be.id))+1:1,Ae={..._,id:K};return xe([...me,Ae]),K},gl=async _=>{xe(me.map(K=>K.id===_?{...K,isRead:!0}:K))},ya=()=>me.filter(_=>!_.isRead),So=()=>me,Eo=async _=>{xe(me.filter(K=>K.id!==_))},Na=_=>{const K=f.find(Ae=>Ae.id===_);return K&&K.classTeacherId&&g.find(Ae=>Ae.id===K.classTeacherId)||null},ri=_=>{const K=q.filter(Ae=>Ae.class_id===_&&Ae.status==="Active").map(Ae=>Ae.subject_id);return b.filter(Ae=>K.includes(Ae.id))},Wi=(_,K)=>y.filter(Ae=>Ae.class_id===K),tA=_=>ht.filter(Ae=>Ae.parent_id===_).map(Ae=>{const Be=y.find(Ye=>Ye.id===Ae.student_id);return Be?{id:Be.id,firstName:Be.firstName,lastName:Be.lastName,fullName:`${Be.firstName} ${Be.lastName}`,admissionNumber:Be.admissionNumber,classId:Be.class_id,className:f.find(Ye=>Ye.id===Be.class_id)?.name||"Unknown",classLevel:f.find(Ye=>Ye.id===Be.class_id)?.level||"Unknown",gender:Be.gender,photoUrl:Be.photo_url,dateOfBirth:Be.date_of_birth,address:"",parentContact:"",enrollmentDate:Be.academic_year||"",status:Be.status,recentActivities:[],feeBalance:0,totalFees:0}:null}).filter(Ae=>Ae!==null),Fo=_=>{const K=y.find(Be=>Be.id===_);if(!K)return[];const Ae=q.filter(Be=>Be.class_id===K.class_id&&Be.status==="Active").map(Be=>Be.subject_id);return b.filter(Be=>Ae.includes(Be.id)).map(Be=>{const Ye=H.find(qt=>qt.subject_id===Be.id&&qt.class_id===K.class_id);return{subjectId:Be.id,subjectName:Be.name,subjectCode:Be.code,isCompulsory:Be.is_core||!1,teacherId:Ye?.teacher_id,teacherName:Ye?`${g.find(qt=>qt.id===Ye.teacher_id)?.firstName||""} ${g.find(qt=>qt.id===Ye.teacher_id)?.lastName||""}`.trim()||"Unknown":"Not Assigned"}})},ja=_=>D.filter(K=>K.student_id===_).slice(-10),ni=async(_,K,Ae="Guardian")=>{try{return console.log(`Linking student ${K} to parent ${_} with relationship: ${Ae}`),await ct.createParentStudentLink(_,K,Ae,!0)?(await ct.updateRecord("students",K,{parent_id:_}),await it(),await xt(),await dt(),console.log("Student linked to parent successfully"),!0):!1}catch(Be){return console.error("Error linking student to parent:",Be),!1}},jn=async(_,K)=>{try{console.log(`Unlinking student ${K} from parent ${_}`);const Ae=await ct.executeQuery("DELETE FROM parent_student_links WHERE parent_id = ? AND student_id = ?",[_,K]);return Ae&&Ae.success?(await ct.updateRecord("students",K,{parent_id:null}),await it(),await xt(),await dt(),console.log("Student unlinked from parent successfully"),!0):!1}catch(Ae){return console.error("Error unlinking student from parent:",Ae),!1}},Ba=_=>[{module:"children",permissions:["view_children","view_results"]},{module:"payments",permissions:["view_payments","make_payments"]},{module:"reports",permissions:["view_reports"]}],xl=async()=>"2025/2026",B=async()=>"First Term",Y=async _=>ri(_),be=async()=>H,Se=async(_,K,Ae,Be,Ye)=>{try{if(H.find(zr=>zr.subject_id===K&&zr.class_id===Ae&&zr.teacher_id===_&&zr.academic_year===Be&&zr.term===Ye))return!1;const Dt=H.find(zr=>zr.subject_id===K&&zr.class_id===Ae&&zr.academic_year===Be&&zr.term===Ye&&zr.status==="Active");if(Dt)return console.warn(`Subject ${K} is already assigned to teacher ${Dt.teacher_id} in class ${Ae}`),!1;const ks={subject_id:K,class_id:Ae,teacher_id:_,academic_year:Be,term:Ye,status:"Active"},ln=await ct.createBatchSubjectAssignments([ks]);return ln&&ln.length>0?(await Vt(),!0):!1}catch{return!1}},De=async(_,K,Ae,Be,Ye)=>{try{const Dt=await ct.executeQuery(`
        SELECT id FROM subject_assignments 
        WHERE teacher_id = ? AND subject_id = ? AND class_id = ? AND academic_year = ? AND term = ?
      `,[_,K,Ae,Be,Ye]);if(Dt&&Dt.data&&Dt.data.length>0){const ks=Dt.data[0].id;if(await ct.deleteRecord("subject_assignments",ks))return await Vt(),!0}return!1}catch(qt){return console.error("Error removing subject assignment:",qt),!1}},lt=async _=>{const K=H.filter(Ae=>Ae.class_id===_).map(Ae=>Ae.subject_id);return b.filter(Ae=>!K.includes(Ae.id))},pt=async()=>g.filter(_=>_.status==="Active"),Rt=async()=>{try{const _=await ct.executeQuery("SELECT * FROM scores ORDER BY student_id, subject_assignment_id");return _&&_.data?(P(_.data),!0):!1}catch(_){return console.error("Error loading scores:",_),!1}},as=async _=>{try{return!!await ct.createPayment(_)}catch(K){return console.error("Error creating payment:",K),!1}},fs=async()=>{try{const _=await ct.executeQuery("SELECT * FROM payments ORDER BY created_at DESC");return _&&_.data?(O(_.data),!0):!1}catch(_){return console.error("Error loading payments:",_),!1}},ws=async()=>{try{const _=await ct.executeQuery("SELECT * FROM affective_domains ORDER BY student_id, academic_year, term");return _&&_.data?(T(_.data),!0):!1}catch(_){return console.error("Error loading affective domains:",_),!1}},Us=async()=>{try{const _=await ct.executeQuery("SELECT * FROM psychomotor_domains ORDER BY student_id, academic_year, term");return _&&_.data?(V(_.data),!0):!1}catch(_){return console.error("Error loading psychomotor domains:",_),!1}},ir=async()=>{try{if(!ct)return console.error("SQL Database service is not available"),!1;const _=await ct.executeQuery("SELECT * FROM compiled_results ORDER BY student_id, class_id");return _&&_.data?(W(_.data),!0):!1}catch(_){return console.error("Error loading compiled results:",_),!1}},Vr=async _=>{try{return await ct.insertRecord("fee_structures",_),await la(),!0}catch(K){return console.error("Error creating fee structure:",K),!1}},or=async()=>{try{return(await ct.executeQuery("SELECT * FROM fee_structures ORDER BY class_id, academic_year, term"))?.data||[]}catch(_){return console.error("Error getting fee structures:",_),[]}},Zr=async()=>{try{return(await ct.executeQuery("SELECT * FROM payments ORDER BY payment_date DESC"))?.data||[]}catch(_){return console.error("Error getting payments:",_),[]}},Qr=async(_,K)=>{try{return await ct.updateRecord("payments",_,{status:K}),await fs(),{success:!0}}catch(Ae){return console.error("Error updating payment status:",Ae),{success:!1,error:Ae}}},fn=async()=>{try{return(await ct.executeQuery("SELECT * FROM student_fee_balances ORDER BY student_id"))?.data||[]}catch(_){return console.error("Error getting fee balances:",_),[]}},ji=async _=>{try{for(const K of _)await ct.insertRecord("payments",K);return await fs(),{success:!0,count:_.length}}catch(K){return console.error("Error creating batch payments:",K),{success:!1,error:K}}},la=async()=>{try{const _=await ct.executeQuery("SELECT * FROM fee_structures ORDER BY class_id, academic_year, term");return _&&_.data?(M(_.data),!0):!1}catch(_){return console.error("Error loading fee structures:",_),!1}},ai=async()=>{try{const _=await ct.executeQuery("SELECT * FROM student_fee_balances ORDER BY student_id");return _&&_.data?(ue(_.data),!0):!1}catch(_){return console.error("Error loading student fee balances:",_),!1}},qi=async()=>{try{const _=await ct.executeQuery("SELECT * FROM notifications ORDER BY created_at DESC");return _&&_.data?(xe(_.data),!0):!1}catch(_){return console.error("Error loading notifications:",_),!1}},_o=async()=>{try{const _=await ct.executeQuery("SELECT * FROM attendance ORDER BY date DESC, class_id");return _&&_.data?(fe(_.data),!0):!1}catch(_){return console.error("Error loading attendances:",_),!1}},Bi=async()=>{try{const _=await ct.executeQuery("SELECT * FROM exam_timetables ORDER BY exam_date, class_id");return _&&_.data?(st(_.data),!0):!1}catch(_){return console.error("Error loading exam timetables:",_),!1}},Yi=async()=>{try{const _=await ct.executeQuery("SELECT * FROM class_timetables ORDER BY day_of_week, start_time");return _&&_.data?(Te(_.data),!0):!1}catch(_){return console.error("Error loading class timetables:",_),!1}},Ci=async()=>{try{const _=await ct.executeQuery("SELECT * FROM departments ORDER BY name");return _&&_.data?(ye(_.data),!0):!1}catch(_){return console.error("Error loading departments:",_),!1}},Si=async()=>{try{const _=await ct.executeQuery("SELECT * FROM scholarships ORDER BY academic_year, student_id");return _&&_.data?(Pe(_.data),!0):!1}catch(_){return console.error("Error loading scholarships:",_),!1}},on=async()=>{try{const _=await ct.executeQuery("SELECT * FROM assignments ORDER BY assigned_date DESC");return _&&_.data?(rt(_.data),!0):!1}catch(_){return console.error("Error loading assignments:",_),!1}},Uo=(_,K)=>ne.filter(Ae=>Ae.class_id===_&&Ae.academic_year===K),Ji=async(_,K)=>{try{return!!await ct.updateTeacher(_,{status:K})}catch(Ae){return console.error("Error updating teacher status:",Ae),!1}},sA=async(_,K)=>{try{return!!await ct.updateParent(_,{status:K})}catch(Ae){return console.error("Error updating parent status:",Ae),!1}},rA=async(_,K)=>{try{return!!await ct.updateAccountant(_,{status:K})}catch(Ae){return console.error("Error updating accountant status:",Ae),!1}},Un=async _=>{const K=qe.length>0?Math.max(...qe.map(Be=>Be.id))+1:1,Ae={..._,id:K};return st([...qe,Ae]),K},za=async(_,K)=>{st(qe.map(Ae=>Ae.id===_?{...Ae,...K}:Ae))},ii=async _=>{st(qe.filter(K=>K.id!==_))},KA=_=>qe.filter(K=>K.class_id===_),Aa=_=>qe.filter(K=>K.subject_id===_),Xi=_=>qe.filter(K=>K.exam_date===_),wl=(_,K,Ae)=>qe.filter(Be=>Be.class_id===_&&Be.academic_year===K&&Be.term===Ae),vl=async _=>{const K=le.length>0?Math.max(...le.map(Be=>Be.id))+1:1,Ae={..._,id:K};return Te([...le,Ae]),K},Ei=async(_,K)=>{Te(le.map(Ae=>Ae.id===_?{...Ae,...K}:Ae))},Ca=async _=>{Te(le.filter(K=>K.id!==_))},ca=_=>le.filter(K=>K.class_id===_),da=_=>le.filter(K=>K.subject_id===_),Zi=_=>le.filter(K=>K.day_of_week===_),oi=(_,K,Ae)=>le.filter(Be=>Be.class_id===_&&Be.academic_year===K&&Be.term===Ae),Fi=async _=>{const K=ze.length>0?Math.max(...ze.map(Be=>Be.id))+1:1,Ae={..._,id:K};return ye([...ze,Ae]),K},_i=async(_,K)=>{ye(ze.map(Ae=>Ae.id===_?{...Ae,...K}:Ae))},li=async _=>{ye(ze.filter(K=>K.id!==_))},Tr=async _=>{const K=pe.length>0?Math.max(...pe.map(Be=>Be.id))+1:1,Ae={..._,id:K};return Pe([...pe,Ae]),K},ko=async(_,K)=>{Pe(pe.map(Ae=>Ae.id===_?{...Ae,...K}:Ae))},Ai=async _=>{Pe(pe.filter(K=>K.id!==_))},Ga=async _=>{const K=et.length>0?Math.max(...et.map(Be=>Be.id))+1:1,Ae={..._,id:K};return rt([...et,Ae]),K},Io=async(_,K)=>{rt(et.map(Ae=>Ae.id===_?{...Ae,...K}:Ae))},Lo=async _=>{rt(et.filter(K=>K.id!==_))},bl=async _=>{try{const K=q.filter(Be=>Be.class_id===_&&Be.term===t&&Be.academic_year===n&&Be.status==="Active"),Ae=y.filter(Be=>Be.class_id===_);for(const Be of Ae){const Ye=ie.find(qt=>qt.student_id===Be.id&&qt.class_id===_&&qt.term===t&&qt.academic_year===n);if(Ye){const qt=Ye.scores.length,Dt=K.length;let ks=Ye.status;if(qt===Dt&&Dt>0?ks="Submitted":qt>0&&(ks="Draft"),ks!==Ye.status){const ln={...Ye,status:ks};W(ie.map(zr=>zr.id===Ye.id?ln:zr)),ks==="Submitted"&&ge.success(`All subjects submitted for ${Be.firstName} ${Be.lastName}! Result is ready for review.`)}}}}catch(K){console.error("Error checking class completion status:",K)}},eo=async(_,K)=>{try{const Ae=y.find(Dt=>Dt.id===_);if(!Ae)return;const Be=H.find(Dt=>Dt.id===K.subject_assignment_id);if(!Be)return;let Ye=ie.find(Dt=>Dt.student_id===_&&Dt.class_id===Ae.class_id&&Dt.term===t&&Dt.academic_year===n);if(!Ye)Ye={id:ie.length>0?Math.max(...ie.map(ks=>ks.id))+1:1,student_id:_,class_id:Ae.class_id,term:t,academic_year:n,scores:[K],affective:null,psychomotor:null,total_score:K.total||0,average_score:K.total||0,position:0,class_average:0,total_students:0,times_present:0,times_absent:0,total_attendance_days:0,term_begin:"",term_end:"",next_term_begin:"",class_teacher_name:"",class_teacher_comment:"",principal_name:"",principal_comment:"",principal_signature:"",compiled_by:i?.id||0,compiled_date:new Date().toISOString(),approved_by:null,approved_date:null,rejection_reason:null,status:"Draft"},W([...ie,Ye]);else if(Ye){const Dt=Ye.scores.findIndex(Do=>Do.subject_assignment_id===K.subject_assignment_id);Dt>=0?Ye.scores[Dt]=K:Ye.scores.push(K);const ks=Ye.scores.reduce((Do,YA)=>Do+(YA.total||0),0),ln=Ye.scores.length>0?ks/Ye.scores.length:0,zr={...Ye,scores:Ye?.scores,total_score:ks,average_score:ln};W(ie.map(Do=>Do.id===Ye?.id?zr:Do))}await bl(Ae.class_id);const qt=b.find(Dt=>Dt.id===Be.subject_id);ge.success(`Score for ${qt?.name||"Subject"} updated in compiled results for ${Ae.firstName} ${Ae.lastName}`)}catch(Ae){console.error("Error updating compiled result with new score:",Ae),ge.error("Failed to update compiled results")}},qA={students:y,teachers:g,parents:U,accountants:X,classes:f,subjects:b,subjectRegistrations:q,subjectAssignments:H,scores:D,affectiveDomains:Q,psychomotorDomains:$,compiledResults:ie,payments:se,users:Fe,currentUser:i,feeStructures:ne,studentFeeBalances:de,notifications:me,activityLogs:Z,attendances:z,examTimetables:qe,classTimetables:le,departments:ze,scholarships:pe,assignments:et,parentStudentLinks:ht,currentTerm:t,currentAcademicYear:n,schoolSettings:c,bankAccountSettings:u,addStudent:wa,updateStudent:_n,deleteStudent:He,deleteBulkStudents:us,getStudentsByClass:ys,refreshStudents:Ws,addTeacher:je,updateTeacher:bs,updateTeacherStatus:async(_,K)=>{await Ji(_,K)},deleteTeacher:Js,getTeacherAssignments:mn,getTeacherClasses:Za,getClassesByLevel:_=>f.filter(K=>K.level===_),getClassStudents:_=>y.filter(K=>K.class_id===_),getStudentRecentActivities:_=>[],addParent:rr,updateParent:mr,deleteParent:PA,getParentStudents:Al,addAccountant:na,updateAccountant:Gi,deleteAccountant:RA,addClass:cl,updateClass:wo,updateClassTeacher:async(_,K)=>{console.log(`Updating class ${_} teacher to ${K}`)},deleteClass:aa,addSubject:Mr,updateSubject:DA,deleteSubject:dl,getSubjectsByCategory:_=>b.filter(K=>K.category===_),getSubjectsByLevel:_=>b.filter(K=>K.department===_||K.category===_),getRegisteredSubjects:(_,K,Ae)=>q.filter(Ye=>Ye.class_id===_&&Ye.academic_year===K&&Ye.term===Ae).map(Ye=>b.find(Dt=>Dt.id===Ye.subject_id)||null).filter(Boolean),getSubjectRegistrations:(_,K)=>q.filter(Ae=>Ae.academic_year===_&&Ae.term===K),assignSubjectToTeacher:async(_,K,Ae,Be,Ye)=>await Se(_,K,Ae,Be,Ye),removeSubjectAssignment:async(_,K,Ae,Be,Ye)=>await De(_,K,Ae,Be,Ye),getSubjectAssignments:(_,K)=>H.filter(Ae=>Ae.academic_year===_&&Ae.term===K),getTeacherSubjectAssignments:(_,K,Ae)=>H.filter(Be=>Be.teacher_id===_&&Be.academic_year===K&&Be.term===Ae),getClassSubjectAssignments:(_,K,Ae)=>H.filter(Be=>Be.class_id===_&&Be.academic_year===K&&Be.term===Ae),getUnassignedSubjects:(_,K,Ae)=>{const Be=H.filter(Ye=>Ye.class_id===_&&Ye.academic_year===K&&Ye.term===Ae).map(Ye=>Ye.subject_id);return b.filter(Ye=>!Be.includes(Ye.id))},getAvailableTeachers:(_,K,Ae,Be)=>g,addAssignment:Ga,updateAssignment:Io,deleteAssignment:Lo,registerSubjectForClass:oa,removeSubjectRegistration:Ps,addScore:async _=>{if(!H.find(Be=>Be.id===_.subject_assignment_id))throw new Error("Subject assignment not found");if(!y.find(Be=>Be.id===_.student_id))throw new Error("Student not found");if(i&&i.role==="teacher"&&!H.some(Ye=>Ye.id===_.subject_assignment_id&&Ye.teacher_id===i.linked_id))throw new Error("Only the assigned teacher can submit scores for this subject");try{const Be=await ct.insertRecord("scores",{student_id:_.student_id,subject_assignment_id:_.subject_assignment_id,ca1:_.ca1||0,ca2:_.ca2||0,exam:_.exam||0,total:_.total||0,grade:_.grade||"",remark:_.remark||"",class_average:_.class_average||0,class_min:_.class_min||0,class_max:_.class_max||0,entered_by:i?.id||0,entered_date:new Date().toISOString(),status:_.status||"Draft",academic_year:n,term:t});if(Be)return await Rt(),await eo(_.student_id,{..._,id:Be}),Be;throw new Error("Failed to insert score record")}catch(Be){throw console.error("Error adding score:",Be),Be}},updateScore:async(_,K)=>{const Ae=D.find(Be=>Be.id===_);if(!Ae)throw new Error("Score not found");if(i&&i.role==="teacher"){const Be=H.find(Ye=>Ye.id===Ae.subject_assignment_id);if(!Be||Be.teacher_id!==i.linked_id)throw new Error("Only the assigned teacher can update scores for this subject")}try{const Be={};if(K.ca1!==void 0&&(Be.ca1=K.ca1),K.ca2!==void 0&&(Be.ca2=K.ca2),K.exam!==void 0&&(Be.exam=K.exam),K.total!==void 0&&(Be.total=K.total),K.grade!==void 0&&(Be.grade=K.grade),K.remark!==void 0&&(Be.remark=K.remark),K.class_average!==void 0&&(Be.class_average=K.class_average),K.class_min!==void 0&&(Be.class_min=K.class_min),K.class_max!==void 0&&(Be.class_max=K.class_max),K.status!==void 0&&(Be.status=K.status),await ct.updateRecord("scores",_,Be))await Rt(),await eo(Ae.student_id,{...Ae,...K});else throw new Error("Failed to update score record")}catch(Be){throw console.error("Error updating score:",Be),Be}},deleteScore:async _=>{P(D.filter(K=>K.id!==_))},createBatchScores:async _=>{try{const K=_.map((Be,Ye)=>({...Be,id:D.length>0?Math.max(...D.map(qt=>qt.id))+Ye+1:Ye+1}));P([...D,...K]);const Ae=[...new Set(_.map(Be=>Be.student_id))];for(const Be of Ae){const Ye=K.filter(qt=>qt.student_id===Be);for(const qt of Ye)await eo(Be,qt)}return ge.success(`${_.length} scores submitted and updated in compiled results`),!0}catch(K){return console.error("Error creating batch scores:",K),ge.error("Failed to submit batch scores"),!1}},getScoresByAssignment:_=>D.filter(K=>K.subject_assignment_id===_),getScoresByStudent:_=>D.filter(K=>K.student_id===_),getScoresByClass:(_,K,Ae)=>D.filter(Be=>{const Ye=H.find(qt=>qt.id===Be.subject_assignment_id);return Ye&&Ye.class_id===_&&Be.academic_year===K&&Be.term===Ae}),rejectScore:async(_,K,Ae)=>{try{await ct.updateRecord("scores",_,{status:"Rejected",rejection_reason:K,rejected_by:Ae,rejected_date:new Date().toISOString()}),P(D.map(Be=>Be.id===_?{...Be,status:"Rejected",rejection_reason:K,rejected_by:Ae,rejected_date:new Date().toISOString()}:Be)),ge.success("Score rejected and notification sent to subject teacher")}catch(Be){throw console.error("Error rejecting score:",Be),ge.error("Failed to reject score"),Be}},approveScore:async(_,K)=>{try{await ct.updateRecord("scores",_,{status:"Submitted",rejection_reason:null,rejected_by:null,rejected_date:null}),P(D.map(Ae=>Ae.id===_?{...Ae,status:"Submitted",rejection_reason:null,rejected_by:null,rejected_date:null}:Ae)),ge.success("Score approved")}catch(Ae){throw console.error("Error approving score:",Ae),ge.error("Failed to approve score"),Ae}},getPendingScores:_=>{const K=D.filter(Ae=>Ae.status==="Submitted");return _?K.filter(Ae=>{const Be=H.find(Ye=>Ye.id===Ae.subject_assignment_id);return Be&&Be.class_id===_}):K},updateCompiledResult:HA,deleteCompiledResult:hl,getResultsByClass:ml,getCompiledResults:(_,K)=>ie.filter(Ae=>Ae.academic_year===_&&Ae.term===K),getResultsByStudent:_=>ie.filter(K=>K.student_id===_),getAttendanceByStudent:_=>[],getAttendanceByClass:_=>[],approveCompiledResult:async _=>{},publishCompiledResult:async _=>{},addPayment:Kn,updatePayment:ti,verifyPayment:Vn,getPaymentsByStudent:ba,addFeeStructure:jo,updateFeeStructure:hs,deleteFeeStructure:async _=>{try{await ct.deleteRecord("fee_structures",_)}catch(K){throw console.error("Error deleting fee structure:",K),K}},getFeeStructures:Uo,getStudentFeeBalance:si,updateStudentFeeBalance:zc,createUserAPI:ul,updateUserAPI:$i,deleteUserAPI:Ma,setCurrentUser:A,login:ra,changePassword:Zl,addNotification:eA,markNotificationAsRead:gl,deleteNotification:Eo,getUnreadNotifications:ya,getAllNotifications:So,getClassTeacher:Na,getClassSubjects:ri,updateClassStudentCount:Ka,updateCurrentTerm:Kr,updateCurrentAcademicYear:vo,updateSchoolSettings:bo,getTeacherClassTeacherAssignments:Mn,validateClassTeacherAssignment:ei,updateBankAccountSettings:va,getBankAccountSettings:Xr,addActivityLog:ia,getActivityLogs:ql,promoteStudent:Jl,promoteMultipleStudents:fl,addCompiledResult:OA,addAttendance:Bo,updateAttendance:Xl,deleteAttendance:Va,getAttendancesByStudent:Co,getAttendancesByClass:zn,getAttendancesByDate:pl,addExamTimetable:Un,updateExamTimetable:za,deleteExamTimetable:ii,getExamTimetables:wl,getExamTimetablesByClass:KA,getExamTimetablesBySubject:Aa,getExamTimetablesByDate:Xi,addClassTimetable:vl,updateClassTimetable:Ei,deleteClassTimetable:Ca,getClassTimetables:oi,getClassTimetablesByClass:ca,getClassTimetablesBySubject:da,getClassTimetablesByDay:Zi,addDepartment:Fi,updateDepartment:_i,deleteDepartment:li,getDepartments:()=>[],addScholarship:Tr,updateScholarship:ko,deleteScholarship:Ai,getScholarships:()=>[],getStudentScholarships:_=>[],getTeacherStudents:Wi,getTeacherResponsibilities:Ha,getParentChildren:tA,getStudentSubjects:Fo,getStudentRecentScores:ja,linkStudentToParent:ni,linkParentToStudent:MA,unlinkStudentFromParent:jn,getParentPermissions:Ba,loadStudentsFromAPI:it,loadTeachersFromAPI:_t,loadClassesFromAPI:Xt,loadSubjectsFromAPI:Lt,loadSubjectRegistrationsFromAPI:Et,loadSubjectAssignmentsFromAPI:Vt,loadParentsFromAPI:xt,loadParentStudentLinksFromAPI:dt,loadAccountantsFromAPI:Ke,loadUsersFromAPI:Oe,loadScoresFromAPI:Rt,loadAffectiveDomainsFromAPI:ws,loadPsychomotorDomainsFromAPI:Us,loadFeeStructuresFromAPI:la,loadStudentFeeBalancesFromAPI:ai,loadNotificationsFromAPI:qi,loadAttendancesFromAPI:_o,loadExamTimetablesFromAPI:Bi,loadClassTimetablesFromAPI:Yi,loadDepartmentsFromAPI:Ci,loadScholarshipsFromAPI:Si,loadAssignmentsFromAPI:on,refreshAllData:async()=>{await Promise.all([Oe(),_t(),xt(),dt(),Ke(),it(),Xt(),Lt(),Et(),Vt(),la(),ai(),qi(),_o(),Rt(),ws(),Us(),ir(),Bi(),Yi(),Ci(),Si(),on()])},refreshTeacherData:async _=>{await Promise.all([it(),Xt(),Lt(),Vt(),Rt(),ws(),Us(),ir()])},refreshClassData:async _=>{await Promise.all([it(),Rt(),ws(),Us(),ir()])},hasPermission:async _=>{if(!i)return!1;try{return await ct.checkUserPermission(i.role,_)}catch(K){return console.error("Error checking permission:",K),!1}},canViewStudents:async()=>await ct.checkUserPermission("teacher","read_students"),canManageScores:async()=>await ct.checkUserPermission("teacher","manage_assignments"),canViewResults:async()=>await ct.checkUserPermission("teacher","view_student_reports"),canManageClasses:async()=>await ct.checkUserPermission("teacher","manage_classes"),canManageSubjects:async()=>await ct.checkUserPermission("teacher","manage_subjects"),subscribeToDataUpdates:_=>{const K=setInterval(async()=>{try{await Rt(),_()}catch(Ae){console.error("Error in real-time sync:",Ae)}},3e4);return()=>clearInterval(K)},loadAllDataFromAPI:async()=>{await Oe(),await _t(),await xt(),await dt(),await Ke(),await it(),await Xt(),await Lt(),await Et(),await Vt()},deleteUser:async _=>await Ma(_),createUser:async _=>await ul(_),updateUser:async(_,K)=>await $i(_,K),updateUserStatus:yo,updateUserStatusAPI:yo,resetUserPassword:zs,resetUserPasswordAPI:No,getUserPermissions:Ni,getUserPermissionsAPI:Ni,getAttendanceSummary:(_,K,Ae)=>[],createBatchAttendance:async _=>{try{for(const K of _)await ct.createAttendance(K);return!0}catch(K){return console.error("Error creating batch attendance:",K),!1}},createTeacherAPI:Pt,updateTeacherAPI:Bt,deleteTeacherAPI:xs,createParentAPI:bt,updateParentAPI:Wt,deleteParentAPI:Ct,createAccountantAPI:Ks,updateAccountantAPI:_s,deleteAccountantAPI:Ys,updateTeacherStatusAPI:Ji,updateParentStatusAPI:sA,updateAccountantStatusAPI:rA,getActiveAcademicYearAPI:xl,getActiveTermAPI:B,getRegisteredSubjectsAPI:Y,registerSubjectForClassAPI:Ts,removeSubjectRegistrationAPI:Ps,getSubjectRegistrationsAPI:hr,getSubjectAssignmentsAPI:be,assignSubjectToTeacherAPI:Se,removeSubjectAssignmentAPI:De,getUnassignedSubjectsAPI:lt,getAvailableTeachersAPI:pt,createPaymentAPI:as,loadPaymentsFromAPI:fs,createFeeStructureAPI:Vr,getFeeStructuresAPI:or,getPaymentsAPI:Zr,updatePaymentStatusAPI:Qr,getFeeBalancesAPI:fn,createBatchPaymentsAPI:ji,addAffectiveDomain:async _=>{try{const K=await ct.createAffectiveDomain(_);return ge.success("Affective domain assessment saved"),K}catch(K){console.error("Error saving affective domain:",K);const Ae=K.message||"";if(Ae.includes("Database operation failed")&&Ae.includes("Integrity constraint violation")&&Ae.includes("unique_affective"))try{const Be=Q.find(Ye=>Ye.student_id===_.student_id&&Ye.class_id===_.class_id&&Ye.term===_.term&&Ye.academic_year===_.academic_year);if(Be){const Ye=await ct.updateAffectiveDomain(Be.id,_);return ge.success("Affective domain assessment updated"),Ye}}catch(Be){throw console.error("Error updating existing affective domain:",Be),ge.error("Failed to update affective domain assessment"),Be}else throw ge.error("Failed to save affective domain assessment"),K}},updateAffectiveDomain:async(_,K)=>{try{const Ae=await ct.updateAffectiveDomain(_,K);return ge.success("Affective domain assessment updated"),Ae}catch(Ae){throw console.error("Error updating affective domain:",Ae),ge.error("Failed to update affective domain assessment"),Ae}},addPsychomotorDomain:async _=>{try{const K=await ct.createPsychomotorDomain(_);return ge.success("Psychomotor domain assessment saved"),K}catch(K){console.error("Error saving psychomotor domain:",K);const Ae=K.message||"";if(Ae.includes("Database operation failed")&&Ae.includes("Integrity constraint violation")&&Ae.includes("unique_psychomotor"))try{const Be=$.find(Ye=>Ye.student_id===_.student_id&&Ye.class_id===_.class_id&&Ye.term===_.term&&Ye.academic_year===_.academic_year);if(Be){const Ye=await ct.updatePsychomotorDomain(Be.id,_);return ge.success("Psychomotor domain assessment updated"),Ye}}catch(Be){throw console.error("Error updating existing psychomotor domain:",Be),ge.error("Failed to update psychomotor domain assessment"),Be}else throw ge.error("Failed to save psychomotor domain assessment"),K}},updatePsychomotorDomain:async(_,K)=>{try{const Ae=await ct.updatePsychomotorDomain(_,K);return ge.success("Psychomotor domain assessment updated"),Ae}catch(Ae){throw console.error("Error updating psychomotor domain:",Ae),ge.error("Failed to update psychomotor domain assessment"),Ae}},deleteAffectiveDomain:async _=>{try{await ct.deleteAffectiveDomain(_),ge.success("Affective domain assessment deleted")}catch(K){throw console.error("Error deleting affective domain:",K),ge.error("Failed to delete affective domain assessment"),K}},deletePsychomotorDomain:async _=>{try{await ct.deletePsychomotorDomain(_),ge.success("Psychomotor domain assessment deleted")}catch(K){throw console.error("Error deleting psychomotor domain:",K),ge.error("Failed to delete psychomotor domain assessment"),K}},createAffectiveDomain:async _=>await ct.createAffectiveDomain(_),createPsychomotorDomain:async _=>await ct.createPsychomotorDomain(_),checkUserPermissionAPI:Yl,getPendingApprovals:Vc,loadCompiledResultsFromAPI:ir};return e.jsx(UN.Provider,{value:qA,children:s})}function rU({onLogin:s,onNavigateToLanding:t}){const[r,n]=S.useState(""),[a,i]=S.useState(""),[A,c]=S.useState(""),[d,u]=S.useState(!1),[m,f]=S.useState(""),{login:x}=Fs(),g=async()=>{if(!r||!a||!A){f("Please fill in all fields");return}u(!0),f("");try{await x(a,A,r)?s(r):f("Invalid username, password, or role")}catch{f("Login failed. Please try again.")}finally{u(!1)}},N=b=>{b.key==="Enter"&&r&&a&&A&&g()};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0A2540] via-[#0d3558] to-[#0A2540] flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8 animate-in fade-in slide-in-from-top-4 duration-500",children:[e.jsx("div",{onClick:t,className:"w-24 h-24 rounded-full bg-white flex items-center justify-center mx-auto mb-4 cursor-pointer hover:shadow-2xl transition-all hover:scale-110 shadow-xl p-2.5 ring-4 ring-[#FFD700]/30",children:e.jsx("img",{src:Cu,alt:"Graceland Royal Academy Logo",className:"w-full h-full object-contain rounded-full"})}),e.jsx("h1",{className:"text-3xl text-white mb-2",children:"Graceland Royal Academy"}),e.jsx("p",{className:"text-[#FFD700] italic",children:"Wisdom & Illumination"})]}),e.jsxs(Ce,{className:"rounded-2xl shadow-2xl border-0 overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs(Qt,{className:"bg-white pb-6 pt-8",children:[e.jsx("h2",{className:"text-center text-[#0A2540]",children:"Portal Login"}),e.jsx("p",{className:"text-center text-gray-600 text-sm",children:"Select your role and enter credentials"})]}),e.jsxs(Le,{className:"bg-white p-8 space-y-6",onKeyPress:N,children:[m&&e.jsxs(Vi,{className:"border-red-200 bg-red-50",children:[e.jsx(Es,{className:"h-4 w-4 text-red-600"}),e.jsx(zi,{className:"text-red-700",children:m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{htmlFor:"role",className:"text-[#0A2540]",children:"Select Role"}),e.jsxs(Ot,{value:r,onValueChange:n,children:[e.jsx(Mt,{id:"role",className:"h-12 rounded-xl border-2 border-gray-200 focus:border-[#FFD700] transition-colors",children:e.jsx(Ht,{placeholder:"Choose your role"})}),e.jsxs(Kt,{className:"rounded-xl",children:[e.jsx(ke,{value:"admin",className:"rounded-lg",children:"Admin"}),e.jsx(ke,{value:"teacher",className:"rounded-lg",children:"Teacher"}),e.jsx(ke,{value:"accountant",className:"rounded-lg",children:"Accountant"}),e.jsx(ke,{value:"parent",className:"rounded-lg",children:"Parent"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{htmlFor:"username",className:"text-[#0A2540]",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(EA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(kt,{id:"username",type:"text",placeholder:"Enter your username",value:a,onChange:b=>i(b.target.value),className:"h-12 pl-11 rounded-xl border-2 border-gray-200 focus:border-[#FFD700] transition-colors"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{htmlFor:"password",className:"text-[#0A2540]",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ju,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(kt,{id:"password",type:"password",placeholder:"Enter your password",value:A,onChange:b=>c(b.target.value),className:"h-12 pl-11 rounded-xl border-2 border-gray-200 focus:border-[#FFD700] transition-colors"})]})]}),e.jsx(Ee,{onClick:g,disabled:!r||!a||!A||d,className:"w-full h-12 bg-[#FFD700] text-[#0A2540] hover:bg-[#FFD700]/90 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl hover:scale-105",children:d?"Logging in...":"Login to Portal"}),e.jsx("div",{className:"text-center pt-4",children:e.jsx("button",{onClick:t,className:"text-sm text-[#0A2540] hover:text-[#FFD700] transition-colors hover:underline",children:" Back to Home"})})]})]}),e.jsx("p",{className:"text-center text-white/60 text-sm mt-6",children:"Secure login portal for authorized users only"})]})})}function fp({items:s,activeItem:t,onItemClick:r,schoolName:n="Graceland Royal Academy",themeColor:a="#3B82F6"}){const[i,A]=S.useState(!1),c=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-5 border-b border-[#334155]/50 bg-gradient-to-b from-[#1E293B] to-[#1E293B]/95",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-white to-gray-100 flex items-center justify-center flex-shrink-0 shadow-xl p-2 ring-4 ring-[#3B82F6]/30 hover:ring-[#3B82F6]/50 transition-all",children:e.jsx("img",{src:Cu,alt:"Graceland Royal Academy Logo",className:"w-full h-full object-contain rounded-full"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-white truncate",children:n}),e.jsx("p",{className:"text-[#FFD700] text-xs italic",children:"Wisdom & Illumination"})]}),e.jsx("button",{onClick:()=>A(!1),className:"lg:hidden text-[#94A3B8] hover:text-white hover:bg-white/10 rounded-lg p-1.5 transition-all",children:e.jsx(FA,{className:"w-5 h-5"})})]})}),e.jsx("nav",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"space-y-1.5",children:s.map(d=>e.jsxs("button",{onClick:()=>{r(d.id),A(!1)},className:ms("w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all text-sm group relative overflow-hidden",t===d.id?"text-white shadow-lg":"text-[#CBD5E1] hover:bg-[#334155] hover:text-white hover:translate-x-1"),style:t===d.id?{background:`linear-gradient(to right, ${a}, ${a}dd)`,boxShadow:`0 10px 15px -3px ${a}30`}:{},children:[e.jsx("span",{className:ms("flex-shrink-0 w-5 h-5 transition-transform",t===d.id?"scale-110":"group-hover:scale-110"),children:d.icon}),e.jsx("span",{className:"font-medium",children:d.label}),t===d.id&&e.jsx("span",{className:"absolute right-3 w-2 h-2 rounded-full bg-white shadow-lg animate-pulse"})]},d.id))})})]});return e.jsxs(e.Fragment,{children:[e.jsx(Ee,{onClick:()=>A(!0),className:"lg:hidden fixed top-4 left-4 z-40 bg-[#3B82F6] text-white hover:bg-[#2563EB] rounded-lg w-10 h-10 p-0 shadow-lg",children:e.jsx(t2,{className:"w-5 h-5"})}),i&&e.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40 backdrop-blur-sm",onClick:()=>A(!1)}),e.jsx("aside",{className:ms("lg:hidden fixed top-0 left-0 bottom-0 w-72 bg-[#1E293B] z-50 flex flex-col transition-transform duration-300 shadow-2xl",i?"translate-x-0":"-translate-x-full"),children:e.jsx(c,{})}),e.jsx("aside",{className:"hidden lg:flex fixed top-0 left-0 bottom-0 w-64 bg-[#1E293B] flex-col shadow-xl z-30 border-r border-[#334155]",children:e.jsx(c,{})})]})}const nU=Lx("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function yt({className:s,variant:t,asChild:r=!1,...n}){const a=r?a2:"span";return e.jsx(a,{"data-slot":"badge",className:ms(nU({variant:t}),s),...n})}function pp({userName:s,userRole:t,notificationCount:r=0,onLogout:n}){return e.jsx("header",{className:"sticky top-0 z-20 bg-gradient-to-r from-[#2563EB] to-[#1D4ED8] border-b border-[#1E40AF]/50 shadow-lg backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6 py-4",children:[e.jsxs("div",{className:"lg:hidden flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center ring-2 ring-white/20 shadow-lg",children:e.jsx(_h,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white text-sm block",children:"GRA Portal"}),e.jsx("span",{className:"text-white/70 text-xs",children:t})]})]}),e.jsxs("div",{className:"hidden lg:block",children:[e.jsxs("p",{className:"text-white text-sm mb-0.5",children:["Welcome back, ",e.jsx("span",{className:"font-semibold text-white",children:s}),"! "]}),e.jsx("p",{className:"text-white/70 text-xs",children:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative cursor-pointer group",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-sm flex items-center justify-center transition-all shadow-sm ring-1 ring-white/10 hover:ring-white/20",children:e.jsx(Zo,{className:"w-5 h-5 text-white group-hover:scale-110 transition-transform"})}),r>0&&e.jsx(yt,{className:"absolute -top-1 -right-1 min-w-[20px] h-5 flex items-center justify-center px-1.5 bg-[#EF4444] text-white border-2 border-[#2563EB] rounded-full text-xs animate-pulse shadow-lg",children:r>9?"9+":r})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-sm flex items-center justify-center cursor-pointer hover:from-white/30 hover:to-white/20 transition-all shadow-sm ring-1 ring-white/20 group",children:e.jsx(EA,{className:"w-5 h-5 text-white group-hover:scale-110 transition-transform"})})}),n&&e.jsxs(Ee,{onClick:n,variant:"ghost",className:"hidden md:flex items-center gap-2 text-white hover:text-white hover:bg-white/20 rounded-xl px-4 py-2 h-10 transition-all ring-1 ring-white/10 hover:ring-white/20 backdrop-blur-sm shadow-sm",children:[e.jsx(kx,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]})]})]})})}function aU(s,t){return S.useReducer((r,n)=>t[r][n]??r,s)}var Qu=s=>{const{present:t,children:r}=s,n=iU(t),a=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),i=Cr(n.ref,oU(a));return typeof r=="function"||n.isPresent?S.cloneElement(a,{ref:i}):null};Qu.displayName="Presence";function iU(s){const[t,r]=S.useState(),n=S.useRef(null),a=S.useRef(s),i=S.useRef("none"),A=s?"mounted":"unmounted",[c,d]=aU(A,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=km(n.current);i.current=c==="mounted"?u:"none"},[c]),Hn(()=>{const u=n.current,m=a.current;if(m!==s){const x=i.current,g=km(u);s?d("MOUNT"):g==="none"||u?.display==="none"?d("UNMOUNT"):d(m&&x!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=s}},[s,d]),Hn(()=>{if(t){let u;const m=t.ownerDocument.defaultView??window,f=g=>{const b=km(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&b&&(d("ANIMATION_END"),!a.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",u=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},x=g=>{g.target===t&&(i.current=km(n.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{m.clearTimeout(u),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:S.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function km(s){return s?.animationName||"none"}function oU(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}var gp="Checkbox",[lU]=QA(gp),[AU,Zx]=lU(gp);function cU(s){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:A,name:c,onCheckedChange:d,required:u,value:m="on",internal_do_not_use_render:f}=s,[x,g]=gd({prop:r,defaultProp:a??!1,onChange:d,caller:gp}),[N,b]=S.useState(null),[j,y]=S.useState(null),E=S.useRef(!1),U=N?!!A||!!N.closest("form"):!0,k={checked:x,disabled:i,setChecked:g,control:N,setControl:b,name:c,form:A,value:m,hasConsumerStoppedPropagationRef:E,required:u,defaultChecked:Bc(a)?!1:a,isFormControl:U,bubbleInput:j,setBubbleInput:y};return e.jsx(AU,{scope:t,...k,children:dU(f)?f(k):n})}var kN="CheckboxTrigger",IN=S.forwardRef(({__scopeCheckbox:s,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:A,disabled:c,checked:d,required:u,setControl:m,setChecked:f,hasConsumerStoppedPropagationRef:x,isFormControl:g,bubbleInput:N}=Zx(kN,s),b=Cr(a,m),j=S.useRef(d);return S.useEffect(()=>{const y=i?.form;if(y){const E=()=>f(j.current);return y.addEventListener("reset",E),()=>y.removeEventListener("reset",E)}},[i,f]),e.jsx(Ms.button,{type:"button",role:"checkbox","aria-checked":Bc(d)?"mixed":d,"aria-required":u,"data-state":DN(d),"data-disabled":c?"":void 0,disabled:c,value:A,...n,ref:b,onKeyDown:Os(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Os(r,y=>{f(E=>Bc(E)?!0:!E),N&&g&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})})});IN.displayName=kN;var LN=S.forwardRef((s,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:A,disabled:c,value:d,onCheckedChange:u,form:m,...f}=s;return e.jsx(cU,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:c,required:A,onCheckedChange:u,name:n,form:m,value:d,internal_do_not_use_render:({isFormControl:x})=>e.jsxs(e.Fragment,{children:[e.jsx(IN,{...f,ref:t,__scopeCheckbox:r}),x&&e.jsx(RN,{__scopeCheckbox:r})]})})});LN.displayName=gp;var QN="CheckboxIndicator",TN=S.forwardRef((s,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=s,i=Zx(QN,r);return e.jsx(Qu,{present:n||Bc(i.checked)||i.checked===!0,children:e.jsx(Ms.span,{"data-state":DN(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...s.style}})})});TN.displayName=QN;var PN="CheckboxBubbleInput",RN=S.forwardRef(({__scopeCheckbox:s,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:A,required:c,disabled:d,name:u,value:m,form:f,bubbleInput:x,setBubbleInput:g}=Zx(PN,s),N=Cr(r,g),b=Yx(i),j=Gx(n);S.useEffect(()=>{const E=x;if(!E)return;const U=window.HTMLInputElement.prototype,q=Object.getOwnPropertyDescriptor(U,"checked").set,G=!a.current;if(b!==i&&q){const H=new Event("click",{bubbles:G});E.indeterminate=Bc(i),q.call(E,Bc(i)?!1:i),E.dispatchEvent(H)}},[x,b,i,a]);const y=S.useRef(Bc(i)?!1:i);return e.jsx(Ms.input,{type:"checkbox","aria-hidden":!0,defaultChecked:A??y.current,required:c,disabled:d,name:u,value:m,form:f,...t,tabIndex:-1,ref:N,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});RN.displayName=PN;function dU(s){return typeof s=="function"}function Bc(s){return s==="indeterminate"}function DN(s){return Bc(s)?"indeterminate":s?"checked":"unchecked"}function vi({className:s,...t}){return e.jsx(LN,{"data-slot":"checkbox",className:ms("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:e.jsx(TN,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(wA,{className:"size-3.5"})})})}function uU(){const{addTeacher:s,addParent:t,addAccountant:r,createUserAPI:n,classes:a}=Fs(),[i,A]=S.useState(""),[c,d]=S.useState(""),[u,m]=S.useState({isValid:!0,message:"",isChecking:!1}),f=async E=>{if(!E.trim()){m({isValid:!0,message:"",isChecking:!1});return}m({isValid:!1,message:"Checking...",isChecking:!0});try{const U=await fetch(`http://localhost/GGGG/api/user/check-username.php?username=${encodeURIComponent(E.trim())}`),k=await U.json();U.ok&&k.success?k.isAvailable?m({isValid:!0,message:"Username available",isChecking:!1}):m({isValid:!1,message:"Username already taken",isChecking:!1}):m({isValid:!0,message:"",isChecking:!1})}catch{m({isValid:!0,message:"",isChecking:!1})}},[x,g]=S.useState({firstName:"",lastName:"",email:"",phone:"",username:"",password:"",qualification:"",isClassTeacher:!1,classTeacherId:null,department:"",photoUrl:""}),N=E=>{const U=E.target.files?.[0];if(U){if(!U.type.startsWith("image/")){ge.error("Please upload an image file");return}if(U.size>5*1024*1024){ge.error("Image size should be less than 5MB");return}const k=new FileReader;k.onloadend=()=>{const q=k.result;d(q),g({...x,photoUrl:q})},k.readAsDataURL(U)}},b=()=>{d(""),g({...x,photoUrl:""})},j=async E=>{if(E.preventDefault(),!i){ge.error("Please select a role");return}if(!x.firstName.trim()||!x.lastName.trim()){ge.error("Please enter first name and last name");return}if(!x.phone.trim()){ge.error("Please enter phone number");return}if(!x.username.trim()){ge.error("Please enter username");return}if(!u.isValid){ge.error(u.message||"Username is not available");return}const U=x.password.trim()||"password123";try{const k={username:x.username.trim(),password:U,role:i,email:x.email?.trim()||`${x.username.trim()}@school.local`,firstName:x.firstName.trim(),lastName:x.lastName.trim(),phone:x.phone.trim(),qualification:x.qualification,isClassTeacher:x.isClassTeacher,departmentId:x.classTeacherId,department:x.department,status:"Active"};if(!await n(k))return;const G=i.charAt(0).toUpperCase()+i.slice(1);ge.success(`${G} registered successfully!

Login Credentials:
Username: ${x.username}`,{duration:8e3,style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",color:"white",fontSize:"14px",lineHeight:"1.5",whiteSpace:"pre-line"}}),g({firstName:"",lastName:"",email:"",phone:"",username:"",password:"",qualification:"",isClassTeacher:!1,classTeacherId:null,department:"",photoUrl:""}),d(""),A("")}catch(k){console.error("Failed to register user:",k),ge.error("An unexpected error occurred during registration.")}},y=()=>{g({firstName:"",lastName:"",email:"",phone:"",username:"",password:"",qualification:"",isClassTeacher:!1,classTeacherId:null,department:"",photoUrl:""}),d(""),A("")};return e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#3B82F6] to-[#2563EB] flex items-center justify-center shadow-lg",children:e.jsx(Tc,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-[#1F2937] mb-1",children:"Register User"}),e.jsx("p",{className:"text-[#6B7280]",children:"Register teachers, parents, or accountants with login credentials"})]})]})}),e.jsxs("form",{onSubmit:j,children:[e.jsxs(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical hover:shadow-clinical-lg transition-all",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-[#F9FAFB] to-white p-6 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#3B82F6] flex items-center justify-center shadow-sm",children:e.jsx(Tc,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"text-[#1F2937]",children:"User Information"})]})}),e.jsxs(Le,{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Ze,{className:"text-[#1F2937]",children:["Select Role ",e.jsx("span",{className:"text-[#EF4444]",children:"*"})]}),e.jsxs(Ot,{value:i,onValueChange:E=>A(E),children:[e.jsx(Mt,{className:"h-14 rounded-xl border-2 border-[#E5E7EB] focus:border-[#3B82F6] bg-[#F9FAFB] text-[#1F2937] hover:bg-white transition-all shadow-sm",children:e.jsx(Ht,{placeholder:"Choose user role to continue"})}),e.jsxs(Kt,{className:"bg-white border-[#E5E7EB] rounded-xl shadow-lg",children:[e.jsx(ke,{value:"teacher",className:"text-[#1F2937] hover:bg-[#F9FAFB] rounded-lg m-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#10B981]"}),"Teacher"]})}),e.jsx(ke,{value:"parent",className:"text-[#1F2937] hover:bg-[#F9FAFB] rounded-lg m-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#3B82F6]"}),"Parent/Guardian"]})}),e.jsx(ke,{value:"accountant",className:"text-[#1F2937] hover:bg-[#F9FAFB] rounded-lg m-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#F59E0B]"}),"Accountant"]})})]})]}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:"Select the role for the user you want to register"})]}),i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3 p-6 bg-[#F9FAFB] rounded-xl border-2 border-dashed border-[#E5E7EB]",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Profile Photo (Optional)"}),e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:c?e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:c,alt:"Preview",className:"w-32 h-32 rounded-xl object-cover border-4 border-white shadow-lg ring-2 ring-[#3B82F6]/20"}),e.jsx("button",{type:"button",onClick:b,className:"absolute -top-2 -right-2 bg-[#EF4444] hover:bg-[#DC2626] text-white rounded-full p-2 shadow-lg opacity-0 group-hover:opacity-100 transition-all transform hover:scale-110",children:e.jsx(FA,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"w-32 h-32 rounded-xl border-2 border-dashed border-[#CBD5E1] flex flex-col items-center justify-center bg-white hover:border-[#3B82F6] transition-all group cursor-pointer",children:[e.jsx(go,{className:"w-8 h-8 text-[#94A3B8] group-hover:text-[#3B82F6] mb-2 transition-colors"}),e.jsx("span",{className:"text-xs text-[#6B7280]",children:"Click to upload"})]})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("input",{type:"file",id:"photo-upload",accept:"image/*",onChange:N,className:"hidden"}),e.jsxs(Ee,{type:"button",variant:"outline",onClick:()=>document.getElementById("photo-upload")?.click(),className:"rounded-xl border-2 border-[#E5E7EB] text-[#1F2937] hover:bg-white hover:border-[#3B82F6] transition-all shadow-sm",children:[e.jsx(go,{className:"w-4 h-4 mr-2"}),c?"Change Photo":"Upload Photo"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-[#6B7280]",children:" Accepted formats: JPG, PNG, GIF"}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:" Maximum file size: 5MB"}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:" Recommended: Square image 500x500px"})]})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t-2 border-[#E5E7EB]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#3B82F6]/10 flex items-center justify-center",children:e.jsx("span",{className:"text-[#3B82F6]",children:"1"})}),e.jsx("h4",{className:"text-[#1F2937]",children:"Personal Details"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ze,{className:"text-[#1F2937]",children:["First Name ",e.jsx("span",{className:"text-[#EF4444]",children:"*"})]}),e.jsx(kt,{required:!0,value:x.firstName,onChange:E=>g({...x,firstName:E.target.value}),placeholder:"Enter first name",className:"h-12 rounded-xl border-2 border-[#E5E7EB] focus:border-[#3B82F6] bg-white text-[#1F2937] transition-all"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ze,{className:"text-[#1F2937]",children:["Last Name ",e.jsx("span",{className:"text-[#EF4444]",children:"*"})]}),e.jsx(kt,{required:!0,value:x.lastName,onChange:E=>g({...x,lastName:E.target.value}),placeholder:"Enter last name",className:"h-12 rounded-xl border-2 border-[#E5E7EB] focus:border-[#3B82F6] bg-white text-[#1F2937] transition-all"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Email Address (Optional)"}),e.jsx(kt,{type:"email",value:x.email,onChange:E=>g({...x,email:E.target.value}),placeholder:"email@example.com",className:"h-12 rounded-xl border-2 border-[#E5E7EB] focus:border-[#3B82F6] bg-white text-[#1F2937] transition-all"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ze,{className:"text-[#1F2937]",children:["Phone Number ",e.jsx("span",{className:"text-[#EF4444]",children:"*"})]}),e.jsx(kt,{required:!0,type:"tel",value:x.phone,onChange:E=>g({...x,phone:E.target.value}),placeholder:"080XXXXXXXX",className:"h-12 rounded-xl border-2 border-[#E5E7EB] focus:border-[#3B82F6] bg-white text-[#1F2937] transition-all"})]})]})]}),i==="teacher"&&e.jsxs("div",{className:"space-y-4 pt-6 border-t-2 border-[#E5E7EB]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#10B981]/10 flex items-center justify-center",children:e.jsx("span",{className:"text-[#10B981]",children:"2"})}),e.jsx("h4",{className:"text-[#1F2937]",children:"Teacher Details"})]}),e.jsx("div",{className:"grid md:grid-cols-1 gap-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ze,{className:"text-[#1F2937]",children:["Qualification ",e.jsx("span",{className:"text-[#EF4444]",children:"*"})]}),e.jsxs(Ot,{required:!0,value:x.qualification,onValueChange:E=>g({...x,qualification:E}),children:[e.jsx(Mt,{className:"h-12 rounded-xl border-2 border-[#E5E7EB] focus:border-[#3B82F6] bg-white text-[#1F2937] transition-all",children:e.jsx(Ht,{placeholder:"Select qualification"})}),e.jsxs(Kt,{className:"bg-white border-[#E5E7EB] rounded-xl",children:[e.jsx(ke,{value:"NCE",className:"text-[#1F2937] rounded-lg",children:"NCE"}),e.jsx(ke,{value:"B.Ed",className:"text-[#1F2937] rounded-lg",children:"B.Ed"}),e.jsx(ke,{value:"B.Sc",className:"text-[#1F2937] rounded-lg",children:"B.Sc"}),e.jsx(ke,{value:"B.A",className:"text-[#1F2937] rounded-lg",children:"B.A"}),e.jsx(ke,{value:"M.Ed",className:"text-[#1F2937] rounded-lg",children:"M.Ed"}),e.jsx(ke,{value:"M.Sc",className:"text-[#1F2937] rounded-lg",children:"M.Sc"}),e.jsx(ke,{value:"PhD",className:"text-[#1F2937] rounded-lg",children:"PhD"})]})]})]})}),e.jsxs("div",{className:"p-6 bg-gradient-to-br from-[#EBF5FF] to-[#F0F9FF] rounded-xl border-2 border-[#BFDBFE] space-y-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(vi,{id:"classTeacher",checked:x.isClassTeacher,onCheckedChange:E=>g({...x,isClassTeacher:E,classTeacherId:E?x.classTeacherId:null}),className:"border-2 border-[#3B82F6] data-[state=checked]:bg-[#3B82F6]"}),e.jsx(Ze,{htmlFor:"classTeacher",className:"text-[#1F2937] cursor-pointer",children:"Assign as Class Teacher"})]}),x.isClassTeacher&&e.jsxs("div",{className:"space-y-2 animate-in slide-in-from-top-2 duration-200",children:[e.jsxs(Ze,{className:"text-[#1F2937]",children:["Assigned Class ",e.jsx("span",{className:"text-[#EF4444]",children:"*"})]}),e.jsxs(Ot,{value:x.classTeacherId?.toString()||"",onValueChange:E=>g({...x,classTeacherId:parseInt(E)}),children:[e.jsx(Mt,{className:"h-12 rounded-xl border-2 border-[#BFDBFE] focus:border-[#3B82F6] bg-white text-[#1F2937] transition-all",children:e.jsx(Ht,{placeholder:"Select class for this teacher"})}),e.jsx(Kt,{className:"bg-white border-[#E5E7EB] rounded-xl",children:a.filter(E=>E.status==="Active").map(E=>e.jsx(ke,{value:E.id.toString(),className:"text-[#1F2937] rounded-lg",children:E.name},E.id))})]})]})]})]}),i==="accountant"&&e.jsxs("div",{className:"space-y-4 pt-6 border-t-2 border-[#E5E7EB]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#F59E0B]/10 flex items-center justify-center",children:e.jsx("span",{className:"text-[#F59E0B]",children:"2"})}),e.jsx("h4",{className:"text-[#1F2937]",children:"Accountant Details"})]}),e.jsx("div",{className:"grid md:grid-cols-1 gap-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ze,{className:"text-[#1F2937]",children:["Department ",e.jsx("span",{className:"text-[#EF4444]",children:"*"})]}),e.jsx(kt,{required:!0,value:x.department,onChange:E=>g({...x,department:E.target.value}),placeholder:"e.g., Finance",className:"h-12 rounded-xl border-2 border-[#E5E7EB] focus:border-[#3B82F6] bg-white text-[#1F2937] transition-all"})]})})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t-2 border-[#E5E7EB]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#8B5CF6]/10 flex items-center justify-center",children:e.jsx("span",{className:"text-[#8B5CF6]",children:i==="parent"?"2":"3"})}),e.jsx("h4",{className:"text-[#1F2937]",children:"Login Credentials"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ze,{className:"text-[#1F2937]",children:["Username ",e.jsx("span",{className:"text-[#EF4444]",children:"*"})]}),e.jsx(kt,{required:!0,value:x.username,onChange:E=>{const U=E.target.value;g({...x,username:U});const k=setTimeout(()=>{f(U)},500);return()=>clearTimeout(k)},placeholder:"Username for login",className:`h-12 rounded-xl border-2 ${u.isChecking?"border-[#F59E0B] focus:border-[#F59E0B]":u.isValid?"border-[#E5E7EB] focus:border-[#3B82F6]":"border-[#EF4444] focus:border-[#EF4444]"} bg-white text-[#1F2937] transition-all`}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-[#6B7280]",children:"This will be used for system login"}),u.message&&e.jsxs("p",{className:`text-xs ${u.isValid?"text-[#10B981]":"text-[#EF4444]"}`,children:[u.isChecking&&" ",u.message]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Password (Optional)"}),e.jsx(kt,{type:"password",value:x.password,onChange:E=>g({...x,password:E.target.value}),placeholder:"Leave blank for default password (1234567)",className:"h-12 rounded-xl border-2 border-[#E5E7EB] focus:border-[#3B82F6] bg-white text-[#1F2937] transition-all"}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:"Default password: 1234567 (user can change after first login)"})]})]})]})]})]})]}),i&&e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mt-8 p-6 bg-[#F9FAFB] rounded-xl border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-sm text-[#6B7280]",children:"Please review all information before submitting"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ee,{type:"button",onClick:y,variant:"outline",className:"rounded-xl border-2 border-[#E5E7EB] text-[#1F2937] hover:bg-white hover:border-[#CBD5E1] transition-all h-12 px-6",children:"Reset Form"}),e.jsxs(Ee,{type:"submit",className:"bg-gradient-to-r from-[#10B981] to-[#059669] hover:from-[#059669] hover:to-[#047857] text-white rounded-xl shadow-lg hover:shadow-xl transition-all h-12 px-8 hover-lift",children:[e.jsx(Hc,{className:"w-5 h-5 mr-2"}),"Register ",i.charAt(0).toUpperCase()+i.slice(1)]})]})]})]})]})}const hU="modulepreload",mU=function(s,t){return new URL(s,t).href},x1={},ff=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let A=function(m){return Promise.all(m.map(f=>Promise.resolve(f).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const c=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),u=d?.nonce||d?.getAttribute("nonce");a=A(r.map(m=>{if(m=mU(m,n),m in x1)return;x1[m]=!0;const f=m.endsWith(".css"),x=f?'[rel="stylesheet"]':"";if(!!n)for(let b=c.length-1;b>=0;b--){const j=c[b];if(j.href===m&&(!f||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${x}`))return;const N=document.createElement("link");if(N.rel=f?"stylesheet":hU,f||(N.as="script"),N.crossOrigin="",N.href=m,u&&N.setAttribute("nonce",u),document.head.appendChild(N),f)return new Promise((b,j)=>{N.addEventListener("load",b),N.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(A){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=A,window.dispatchEvent(c),!c.defaultPrevented)throw A}return a.then(A=>{for(const c of A||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};function ON({trigger:s,children:t,className:r}){const[n,a]=S.useState(!1),i=S.useRef(null);return S.useEffect(()=>{function A(c){i.current&&!i.current.contains(c.target)&&a(!1)}return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]),e.jsxs("div",{ref:i,className:"relative inline-block text-left",children:[e.jsx("div",{onClick:()=>a(!n),children:s}),n&&e.jsx("div",{className:ms("absolute right-0 mt-1 w-40 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50 border border-gray-200",r),children:e.jsx("div",{className:"py-1",children:t})})]})}function Ql({children:s,onClick:t,className:r="",danger:n=!1,disabled:a=!1}){return e.jsx("button",{onClick:()=>{a||(t(),document.dispatchEvent(new MouseEvent("mousedown")))},disabled:a,className:ms("w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center gap-2 transition-colors duration-150",n&&"text-red-600 hover:bg-red-50",a&&"opacity-50 cursor-not-allowed hover:bg-transparent",r),children:s})}function pf(){return e.jsx("div",{className:"border-t border-gray-200 my-1"})}function Rn({className:s,...t}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:ms("w-full caption-bottom text-sm",s),...t})})}function Dn({className:s,...t}){return e.jsx("thead",{"data-slot":"table-header",className:ms("[&_tr]:border-b",s),...t})}function On({className:s,...t}){return e.jsx("tbody",{"data-slot":"table-body",className:ms("[&_tr:last-child]:border-0",s),...t})}function As({className:s,...t}){return e.jsx("tr",{"data-slot":"table-row",className:ms("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...t})}function At({className:s,...t}){return e.jsx("th",{"data-slot":"table-head",className:ms("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}function Xe({className:s,...t}){return e.jsx("td",{"data-slot":"table-cell",className:ms("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}function fU(s){const t=pU(s),r=S.forwardRef((n,a)=>{const{children:i,...A}=n,c=S.Children.toArray(i),d=c.find(xU);if(d){const u=d.props.children,m=c.map(f=>f===d?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return e.jsx(t,{...A,ref:a,children:S.isValidElement(u)?S.cloneElement(u,void 0,m):null})}return e.jsx(t,{...A,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}function pU(s){const t=S.forwardRef((r,n)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const A=vU(a),c=wU(i,a.props);return a.type!==S.Fragment&&(c.ref=n?Fu(n,A):A),S.cloneElement(a,c)}return S.Children.count(a)>1?S.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var gU=Symbol("radix.slottable");function xU(s){return S.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===gU}function wU(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function vU(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}var xp="Dialog",[HN,MN]=QA(xp),[bU,rl]=HN(xp),KN=s=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:A=!0}=s,c=S.useRef(null),d=S.useRef(null),[u,m]=gd({prop:n,defaultProp:a??!1,onChange:i,caller:xp});return e.jsx(bU,{scope:t,triggerRef:c,contentRef:d,contentId:jc(),titleId:jc(),descriptionId:jc(),open:u,onOpenChange:m,onOpenToggle:S.useCallback(()=>m(f=>!f),[m]),modal:A,children:r})};KN.displayName=xp;var VN="DialogTrigger",zN=S.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=rl(VN,r),i=Cr(t,a.triggerRef);return e.jsx(Ms.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":sw(a.open),...n,ref:i,onClick:Os(s.onClick,a.onOpenToggle)})});zN.displayName=VN;var ew="DialogPortal",[yU,GN]=HN(ew,{forceMount:void 0}),$N=s=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=s,i=rl(ew,t);return e.jsx(yU,{scope:t,forceMount:r,children:S.Children.map(n,A=>e.jsx(Qu,{present:r||i.open,children:e.jsx(qx,{asChild:!0,container:a,children:A})}))})};$N.displayName=ew;var Df="DialogOverlay",WN=S.forwardRef((s,t)=>{const r=GN(Df,s.__scopeDialog),{forceMount:n=r.forceMount,...a}=s,i=rl(Df,s.__scopeDialog);return i.modal?e.jsx(Qu,{present:n||i.open,children:e.jsx(jU,{...a,ref:t})}):null});WN.displayName=Df;var NU=fU("DialogOverlay.RemoveScroll"),jU=S.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=rl(Df,r);return e.jsx(Jx,{as:NU,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(Ms.div,{"data-state":sw(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),vd="DialogContent",qN=S.forwardRef((s,t)=>{const r=GN(vd,s.__scopeDialog),{forceMount:n=r.forceMount,...a}=s,i=rl(vd,s.__scopeDialog);return e.jsx(Qu,{present:n||i.open,children:i.modal?e.jsx(BU,{...a,ref:t}):e.jsx(CU,{...a,ref:t})})});qN.displayName=vd;var BU=S.forwardRef((s,t)=>{const r=rl(vd,s.__scopeDialog),n=S.useRef(null),a=Cr(t,r.contentRef,n);return S.useEffect(()=>{const i=n.current;if(i)return J2(i)},[]),e.jsx(YN,{...s,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Os(s.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Os(s.onPointerDownOutside,i=>{const A=i.detail.originalEvent,c=A.button===0&&A.ctrlKey===!0;(A.button===2||c)&&i.preventDefault()}),onFocusOutside:Os(s.onFocusOutside,i=>i.preventDefault())})}),CU=S.forwardRef((s,t)=>{const r=rl(vd,s.__scopeDialog),n=S.useRef(!1),a=S.useRef(!1);return e.jsx(YN,{...s,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{s.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{s.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const A=i.target;r.triggerRef.current?.contains(A)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),YN=S.forwardRef((s,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...A}=s,c=rl(vd,r),d=S.useRef(null),u=Cr(t,d);return B2(),e.jsxs(e.Fragment,{children:[e.jsx(Dx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(Rx,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":sw(c.open),...A,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(EU,{titleId:c.titleId}),e.jsx(_U,{contentRef:d,descriptionId:c.descriptionId})]})]})}),tw="DialogTitle",JN=S.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=rl(tw,r);return e.jsx(Ms.h2,{id:a.titleId,...n,ref:t})});JN.displayName=tw;var XN="DialogDescription",ZN=S.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=rl(XN,r);return e.jsx(Ms.p,{id:a.descriptionId,...n,ref:t})});ZN.displayName=XN;var ej="DialogClose",tj=S.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=rl(ej,r);return e.jsx(Ms.button,{type:"button",...n,ref:t,onClick:Os(s.onClick,()=>a.onOpenChange(!1))})});tj.displayName=ej;function sw(s){return s?"open":"closed"}var sj="DialogTitleWarning",[SU,rj]=GE(sj,{contentName:vd,titleName:tw,docsSlug:"dialog"}),EU=({titleId:s})=>{const t=rj(sj),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{s&&(document.getElementById(s)||console.error(r))},[r,s]),null},FU="DialogDescriptionWarning",_U=({contentRef:s,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rj(FU).contentName}}.`;return S.useEffect(()=>{const a=s.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,s,t]),null},nj=KN,aj=zN,ij=$N,oj=WN,lj=qN,Aj=JN,cj=ZN,rw=tj;function vr({...s}){return e.jsx(nj,{"data-slot":"dialog",...s})}function Lh({...s}){return e.jsx(aj,{"data-slot":"dialog-trigger",...s})}function UU({...s}){return e.jsx(ij,{"data-slot":"dialog-portal",...s})}function kU({className:s,...t}){return e.jsx(oj,{"data-slot":"dialog-overlay",className:ms("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function br({className:s,children:t,...r}){return e.jsxs(UU,{"data-slot":"dialog-portal",children:[e.jsx(kU,{}),e.jsxs(lj,{"data-slot":"dialog-content",className:ms("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...r,children:[t,e.jsxs(rw,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(FA,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function yr({className:s,...t}){return e.jsx("div",{"data-slot":"dialog-header",className:ms("flex flex-col gap-2 text-center sm:text-left",s),...t})}function uo({className:s,...t}){return e.jsx("div",{"data-slot":"dialog-footer",className:ms("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function Nr({className:s,...t}){return e.jsx(Aj,{"data-slot":"dialog-title",className:ms("text-lg leading-none font-semibold",s),...t})}function Da({className:s,...t}){return e.jsx(cj,{"data-slot":"dialog-description",className:ms("text-muted-foreground text-sm",s),...t})}var IU=Symbol("radix.slottable");function LU(s){const t=({children:r})=>e.jsx(e.Fragment,{children:r});return t.displayName=`${s}.Slottable`,t.__radixId=IU,t}var dj="AlertDialog",[QU]=QA(dj,[MN]),TA=MN(),uj=s=>{const{__scopeAlertDialog:t,...r}=s,n=TA(t);return e.jsx(nj,{...n,...r,modal:!0})};uj.displayName=dj;var TU="AlertDialogTrigger",PU=S.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=TA(r);return e.jsx(aj,{...a,...n,ref:t})});PU.displayName=TU;var RU="AlertDialogPortal",hj=s=>{const{__scopeAlertDialog:t,...r}=s,n=TA(t);return e.jsx(ij,{...n,...r})};hj.displayName=RU;var DU="AlertDialogOverlay",mj=S.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=TA(r);return e.jsx(oj,{...a,...n,ref:t})});mj.displayName=DU;var pu="AlertDialogContent",[OU,HU]=QU(pu),MU=LU("AlertDialogContent"),fj=S.forwardRef((s,t)=>{const{__scopeAlertDialog:r,children:n,...a}=s,i=TA(r),A=S.useRef(null),c=Cr(t,A),d=S.useRef(null);return e.jsx(SU,{contentName:pu,titleName:pj,docsSlug:"alert-dialog",children:e.jsx(OU,{scope:r,cancelRef:d,children:e.jsxs(lj,{role:"alertdialog",...i,...a,ref:c,onOpenAutoFocus:Os(a.onOpenAutoFocus,u=>{u.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[e.jsx(MU,{children:n}),e.jsx(VU,{contentRef:A})]})})})});fj.displayName=pu;var pj="AlertDialogTitle",gj=S.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=TA(r);return e.jsx(Aj,{...a,...n,ref:t})});gj.displayName=pj;var xj="AlertDialogDescription",wj=S.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=TA(r);return e.jsx(cj,{...a,...n,ref:t})});wj.displayName=xj;var KU="AlertDialogAction",vj=S.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=TA(r);return e.jsx(rw,{...a,...n,ref:t})});vj.displayName=KU;var bj="AlertDialogCancel",yj=S.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,{cancelRef:a}=HU(bj,r),i=TA(r),A=Cr(t,a);return e.jsx(rw,{...i,...n,ref:A})});yj.displayName=bj;var VU=({contentRef:s})=>{const t=`\`${pu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${pu}\` by passing a \`${xj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${pu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{document.getElementById(s.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,s]),null},zU=uj,GU=hj,$U=mj,WU=fj,qU=vj,YU=yj,JU=gj,XU=wj;function Cc({...s}){return e.jsx(zU,{"data-slot":"alert-dialog",...s})}function ZU({...s}){return e.jsx(GU,{"data-slot":"alert-dialog-portal",...s})}function ek({className:s,...t}){return e.jsx($U,{"data-slot":"alert-dialog-overlay",className:ms("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function Sc({className:s,...t}){return e.jsxs(ZU,{children:[e.jsx(ek,{}),e.jsx(WU,{"data-slot":"alert-dialog-content",className:ms("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...t})]})}function Ec({className:s,...t}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:ms("flex flex-col gap-2 text-center sm:text-left",s),...t})}function Fc({className:s,...t}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:ms("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function _c({className:s,...t}){return e.jsx(JU,{"data-slot":"alert-dialog-title",className:ms("text-lg font-semibold",s),...t})}function Uc({className:s,...t}){return e.jsx(XU,{"data-slot":"alert-dialog-description",className:ms("text-muted-foreground text-sm",s),...t})}function kc({className:s,...t}){return e.jsx(qU,{className:ms(Tx(),s),...t})}function Ic({className:s,...t}){return e.jsx(YU,{className:ms(Tx({variant:"outline"}),s),...t})}function nl(s,t){if(!s||s.length===0)return"";const r=t.join(","),n=s.map(a=>t.map(i=>{const A=a[i];if(A==null)return"";const c=String(A);return c.includes(",")||c.includes('"')||c.includes(`
`)?`"${c.replace(/"/g,'""')}"`:c}).join(","));return[r,...n].join(`
`)}function al(s,t){const r=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),a=URL.createObjectURL(r);n.setAttribute("href",a),n.setAttribute("download",t),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}async function Nj(s){try{const t=await ct.getStudents(),r=["admissionNumber","firstName","lastName","otherName","gender","dateOfBirth","className","level","status","parentName","parentPhone","academicYear","admissionDate"],n=t.map(i=>({admissionNumber:i.admission_number||"",firstName:i.first_name||"",lastName:i.last_name||"",otherName:i.other_name||"",gender:i.gender||"",dateOfBirth:i.date_of_birth||"",className:i.class_name||"",level:i.level||"",status:i.status||"",parentName:i.parent_name||"",parentPhone:i.parent_phone||"",academicYear:i.academic_year||"",admissionDate:i.admission_date||""})),a=nl(n,r);al(a,s||`students_${new Date().toISOString().split("T")[0]}.csv`)}catch(t){throw t}}async function tk(s){try{const t=await ct.getTeachers(),r=["id","firstName","lastName","otherName","gender","employeeId","email","phone","qualification","specialization","status","isClassTeacher"],n=t.map(i=>({...i,firstName:i.first_name,lastName:i.last_name,otherName:i.other_name||"",employeeId:i.employee_id,gender:i.gender||"",specialization:Array.isArray(i.specialization)?i.specialization.join("; "):typeof i.specialization=="string"?i.specialization:"",status:i.status,isClassTeacher:i.is_class_teacher?"true":"false"})),a=nl(n,r);al(a,s||`teachers_${new Date().toISOString().split("T")[0]}.csv`)}catch(t){throw t}}async function jj(s){try{const t=await ct.getClasses(),r=["id","name","level","section","capacity","classTeacherId","status"],n=t.map(i=>({...i,classTeacherId:i.class_teacher_id||"",status:i.status})),a=nl(n,r);al(a,s||`classes_${new Date().toISOString().split("T")[0]}.csv`)}catch(t){throw t}}async function Bj(s){try{const t=await ct.getSubjects(),r=["id","name","category","subjectType","description","status","isCore"],n=t.map(i=>({...i,subjectType:i.subject_type||"Elective",isCore:i.is_core?"true":"false",status:i.status})),a=nl(n,r);al(a,s||`subjects_${new Date().toISOString().split("T")[0]}.csv`)}catch(t){throw t}}async function sk(s){try{const t=await ct.getParents(),r=["id","firstName","lastName","email","phone","alternatePhone","address","occupation","status"],n=t.map(i=>({...i,firstName:i.first_name,lastName:i.last_name,alternatePhone:i.alternate_phone||"",address:i.address||"",occupation:i.occupation||"",status:i.status})),a=nl(n,r);al(a,s||`parents_${new Date().toISOString().split("T")[0]}.csv`)}catch(t){throw t}}function rk(s,t,r){const n=["studentName","admissionNumber","subjectName","ca1","ca2","exam","total","grade","remark","classAverage","status"],a=s.map(A=>{const c=t.find(d=>d.id===A.studentId);return{studentName:c?`${c.firstName} ${c.lastName}`:"Unknown",admissionNumber:c?.admissionNumber||"",subjectName:A.subjectName,ca1:A.ca1,ca2:A.ca2,exam:A.exam,total:A.total,grade:A.grade,remark:A.remark,classAverage:A.classAverage,status:A.status}}),i=nl(a,n);al(i,`scores_${new Date().toISOString().split("T")[0]}.csv`)}function nk(s,t,r){const n=["studentName","admissionNumber","className","term","academicYear","totalScore","averageScore","position","totalStudents","timesPresent","timesAbsent","status","classTeacherComment"],a=s.map(A=>{const c=t.find(d=>d.id===A.studentId);return{studentName:c?`${c.firstName} ${c.lastName}`:"Unknown",admissionNumber:c?.admissionNumber||"",className:c?.className||"",term:A.term,academicYear:A.academicYear,totalScore:A.totalScore,averageScore:A.averageScore,position:A.position,totalStudents:A.totalStudents,timesPresent:A.timesPresent,timesAbsent:A.timesAbsent,status:A.status,classTeacherComment:A.classTeacherComment||""}}),i=nl(a,n);al(i,`results_${new Date().toISOString().split("T")[0]}.csv`)}function ak(s,t,r){const n=["receiptNumber","studentName","admissionNumber","className","term","academicYear","amount","paymentMethod","paymentDate","status","verifiedBy","verifiedDate"],a=s.map(A=>{const c=t.find(d=>d.id===A.studentId);return{receiptNumber:A.receiptNumber,studentName:c?`${c.firstName} ${c.lastName}`:"Unknown",admissionNumber:c?.admissionNumber||"",className:c?.className||"",term:A.term,academicYear:A.academicYear,amount:A.amount,paymentMethod:A.paymentMethod,paymentDate:A.paymentDate,status:A.status,verifiedBy:A.verifiedBy||"",verifiedDate:A.verifiedDate||""}}),i=nl(a,n);al(i,`payments_${new Date().toISOString().split("T")[0]}.csv`)}function ik(s,t,r){const n=["studentName","admissionNumber","className","term","academicYear","totalFeeRequired","totalPaid","balance","status"],a=s.map(A=>{const c=t.find(d=>d.id===A.studentId);return{studentName:c?`${c.firstName} ${c.lastName}`:"Unknown",admissionNumber:c?.admissionNumber||"",className:c?.className||"",term:A.term,academicYear:A.academicYear,totalFeeRequired:A.totalFeeRequired,totalPaid:A.totalPaid,balance:A.balance,status:A.status}}),i=nl(a,n);al(i,`fee_balances_${new Date().toISOString().split("T")[0]}.csv`)}function ok(s,t,r){const n=["date","studentName","admissionNumber","className","status","remarks"],a=s.map(A=>{const c=t.find(d=>d.id===A.studentId);return{date:A.date,studentName:c?`${c.firstName} ${c.lastName}`:"Unknown",admissionNumber:c?.admissionNumber||"",className:c?.className||"",status:A.status,remarks:A.remarks||""}}),i=nl(a,n);al(i,`attendance_${new Date().toISOString().split("T")[0]}.csv`)}function lk(s,t){const n=nl(s,["timestamp","userId","username","role","action","details","ipAddress"]);al(n,`activity_logs_${new Date().toISOString().split("T")[0]}.csv`)}class Ak{static async createStudentInDB(t){try{return await ct.createStudent(t)}catch(r){const n=r instanceof Error?r.message:String(r);throw n&&n.includes("Duplicate entry")?new Error(`Student with admission number ${t.admissionNumber} already exists`):n&&n.includes("foreign key constraint")?new Error(`Invalid class or parent reference for student ${t.firstName} ${t.lastName}`):new Error(`Failed to create student: ${n}`)}}static async createParentInDB(t){try{return await ct.createParent(t)}catch(r){const n=r instanceof Error?r.message:String(r);throw n&&n.includes("Duplicate entry")?new Error(`Parent with email ${t.email} already exists`):new Error(`Failed to create parent: ${n}`)}}static async createUserAccount(t){try{return await ct.createUser(t),!0}catch(r){const n=r instanceof Error?r.message:String(r);throw n&&n.includes("Duplicate entry")?new Error(`Username ${t.username} already exists`):new Error(`Failed to create user account: ${n}`)}}static async importStudents(t,r,n){const a=[],i=[];let A=0;for(let c=0;c<t.length;c++){const d=t[c];try{if(d.admissionNumber&&await ct.checkAdmissionNumberExists(d.admissionNumber)){a.push(`Admission number ${d.admissionNumber} already exists for student: ${d.firstName} ${d.lastName}`);continue}const u={firstName:d.firstName,lastName:d.lastName,otherName:d.otherName||"",admissionNumber:d.admissionNumber||await this.generateUniqueAdmissionNumber(),classId:r||d.classId,className:d.className||"",level:d.level||"",parentId:null,dateOfBirth:d.dateOfBirth||"",gender:d.gender,status:d.status||"Active",academicYear:d.academicYear||new Date().getFullYear().toString(),admissionDate:d.admissionDate||new Date().toISOString().split("T")[0],parentName:d.parentName||"",parentPhone:d.parentPhone||""};let m=null;if(d.parentName&&d.parentPhone){const g=(await ct.getParents()).find(N=>N.phone===d.parentPhone);if(g)m=g.id;else{const N={firstName:d.parentName?.split(" ")[0]||"",lastName:d.parentName?.split(" ").slice(1).join(" ")||"",email:`${d.parentName.replace(/\s+/g,".").toLowerCase()}@parent.com`,phone:d.parentPhone||"",status:"Active"},b=await this.createParentInDB(N);b&&(m=b.id)}}u.parentId=m;const f=await this.createStudentInDB(u);f?(i.push(f),A++,d.username&&await this.createUserAccount({username:d.username,email:d.email||"",role:"student",linkedId:f.id,first_name:f.first_name,last_name:f.last_name,status:"Active"})):a.push(`Failed to create student in database: ${d.firstName} ${d.lastName}`)}catch(u){const m=u instanceof Error?u.message:String(u);a.push(`Error importing student ${d.firstName}: ${m}`)}n&&n(c+1,t.length)}return{success:A,errors:a,students:i}}static async generateUniqueAdmissionNumber(){const t=new Date().getFullYear();let r=0;const n=100;for(;r<n;){const i=Math.floor(Math.random()*1e4).toString().padStart(4,"0"),A=`GRA/${t}/${i}`;if(!await ct.checkAdmissionNumberExists(A))return A;r++}const a=Date.now().toString().slice(-4);return`GRA/${t}/${a}`}}class ck{static async createSubjectInDB(t){try{return await ct.createSubject(t)}catch{return null}}static async importSubjects(t,r){const n=[],a=[];let i=0;for(let A=0;A<t.length;A++){const c=t[A];try{const d={name:c.name,category:c.category,subjectType:c.subjectType||"Elective",description:c.description||"",status:c.status||"Active",isCore:c.isCore==="true"||c.isCore===!0||c.subjectType==="Core"},u=await this.createSubjectInDB(d);u?(a.push(u),i++):n.push(`Failed to create subject in database: ${c.name}`)}catch(d){n.push(`Error importing subject ${c.name}: ${d}`)}r&&r(A+1,t.length)}return{success:i,errors:n,subjects:a}}}function Cj(s){const t=s.split(`
`).filter(a=>a.trim());if(t.length===0)return[];const r=w1(t[0]),n=[];for(let a=1;a<t.length;a++){const i=w1(t[a]);if(i.length===r.length){const A={};r.forEach((c,d)=>{A[c]=i[d]||""}),n.push(A)}}return n}function w1(s){const t=[];let r="",n=!1,a=0;for(;a<s.length;){const i=s[a],A=s[a+1];i==='"'?n&&A==='"'?(r+='"',a+=2):(n=!n,a++):i===","&&!n?(t.push(r.trim()),r="",a++):(r+=i,a++)}return t.push(r.trim()),t}function dk(s){const t=[],r=[];return s.forEach((n,a)=>{const i=[];n.firstName||i.push("First name required"),n.lastName||i.push("Last name required"),n.gender||i.push("Gender required"),n.className||i.push("Class name required"),n.gender&&!["Male","Female","MALE","FEMALE"].includes(n.gender)&&i.push("Invalid gender (must be Male or Female)"),n.dateOfBirth&&!mk(n.dateOfBirth)&&i.push("Invalid date format (use YYYY-MM-DD)"),n.parentPhone&&!hk(n.parentPhone)&&i.push("Invalid parent phone format"),i.length===0?t.push({...n,gender:n.gender.toUpperCase(),status:n.status||"Active",academicYear:n.academicYear||new Date().getFullYear().toString(),first_name:n.firstName,last_name:n.lastName,other_name:n.otherName||null,admission_number:n.admissionNumber||null,class_name:n.className,level:n.level||"",parent_name:n.parentName||"",parent_phone:n.parentPhone||"",date_of_birth:n.dateOfBirth||null,admission_date:n.admissionDate||new Date().toISOString().split("T")[0]}):r.push(`Row ${a+1}: ${i.join(", ")}`)}),{valid:t,errors:r}}function uk(s){const t=[],r=[];return s.forEach((n,a)=>{const i=[];n.name||i.push("Subject name required"),n.category||i.push("Category required");const A=["Creche","Nursery","Primary","JSS","SS"];n.category&&!A.includes(n.category)&&i.push(`Invalid category (must be one of: ${A.join(", ")})`);const c=["Core","Elective","CORE","ELECTIVE"];n.subjectType&&!c.includes(n.subjectType)&&i.push("Invalid subject type (must be Core or Elective)"),i.length===0?t.push({...n,category:n.category,subjectType:n.subjectType||"Elective",status:n.status||"Active",isCore:n.isCore==="true"||n.isCore==="TRUE"||n.subjectType==="Core",description:n.description||""}):r.push(`Row ${a+1}: ${i.join(", ")}`)}),{valid:t,errors:r}}function hk(s){return/^[\d\s\-\+\(\)]+$/.test(s)&&s.replace(/\D/g,"").length>=10}function mk(s){if(!/^\d{4}-\d{2}-\d{2}$/.test(s))return!1;const r=new Date(s);return r instanceof Date&&!isNaN(r.getTime())}function fk(s,t,r){return new Promise((n,a)=>{const i=new FileReader;i.onload=async A=>{try{const c=A.target?.result,d=Cj(c);if(d.length===0){n({valid:[],errors:["CSV file is empty or invalid"],imported:[]});return}const u=dk(d);if(u.errors.length>0){n({valid:u.valid,errors:u.errors,imported:[]});return}if(u.valid.length===0){n({valid:[],errors:["No valid records to import"],imported:[]});return}const m=await Ak.importStudents(u.valid,t,r);n({valid:u.valid,errors:m.errors,imported:m.students})}catch(c){a(c)}},i.onerror=A=>{a(new Error("Failed to read file"))},i.readAsText(s)})}function pk(s,t){return new Promise((r,n)=>{const a=new FileReader;a.onload=async i=>{try{const A=i.target?.result,c=Cj(A),d=uk(c);if(d.errors.length>0){r({valid:d.valid,errors:d.errors,imported:[]});return}const u=await ck.importSubjects(d.valid,t);r({valid:d.valid,errors:u.errors,imported:u.subjects})}catch(A){n(A)}},a.onerror=()=>n(new Error("Failed to read file")),a.readAsText(s)})}function gk(){const s=["admissionNumber (Optional - will be auto-generated if empty)","firstName","lastName","otherName","gender","dateOfBirth","className","level","status","parentName","parentPhone","academicYear","admissionDate"],t=["","John","Doe","Michael","Male","2010-05-15","JSS 1A","JSS","Active","Jane Doe","08012345678","2024","2024-09-01"];return[s.join(","),t.join(",")].join(`
`)}function xk(){const s=["name","category","subjectType","description","status","isCore"],t=["Mathematics","JSS","Core","Mathematics for Junior Secondary","Active","true"];return[s.join(","),t.join(",")].join(`
`)}const wk=S.lazy(()=>ff(()=>import("./AddStudentFormSimple-BjiSHew-.js"),[],import.meta.url));function vk({onNavigateToLink:s}){const{students:t,teachers:r,parents:n,classes:a,subjects:i,users:A,addStudent:c,updateStudent:d,deleteStudent:u,deleteBulkStudents:m,getStudentsByClass:f,refreshStudents:x,currentUser:g,updateUser:N,resetUserPasswordAPI:b}=Fs(),[j,y]=S.useState(""),[E,U]=S.useState("All"),[k,q]=S.useState("All"),[G,H]=S.useState(!1),[I,D]=S.useState(!1),[P,Q]=S.useState(!1),[T,$]=S.useState(!1),[V,ie]=S.useState(!1),[W,ne]=S.useState(!1),[M,de]=S.useState(!1),[ue,se]=S.useState(!1),[O,X]=S.useState(!1),[re,me]=S.useState(!1),[xe,Z]=S.useState(null),[oe,z]=S.useState(!1),[fe,Fe]=S.useState([]),[Ve,qe]=S.useState(!1),[st,le]=S.useState(null),[Te,ze]=S.useState(""),[ye,pe]=S.useState(""),[Pe,et]=S.useState(null),[rt,ht]=S.useState(null),[Re,Oe]=S.useState(null),[ft,_t]=S.useState(void 0),[xt,dt]=S.useState({processed:0,total:0}),[Ke,it]=S.useState(!1),Xt=S.useRef(null),Lt=S.useRef(null),[Et,Vt]=S.useState({first_name:"",last_name:"",other_name:"",gender:"Male",date_of_birth:"",admission_number:""}),Tt=S.useMemo(()=>Array.isArray(t)?t.filter(He=>{const us=He.firstName&&He.firstName.toLowerCase().includes(j.toLowerCase())||He.lastName&&He.lastName.toLowerCase().includes(j.toLowerCase())||He.admissionNumber&&He.admissionNumber.toLowerCase().includes(j.toLowerCase()),ys=E==="All"||He.className===E,Ws=k==="All"||He.classCategory&&He.classCategory===k||He.level&&He.level===k;return us&&ys&&Ws}):[],[t,j,E,k]),Ft=S.useMemo(()=>Array.isArray(t)?{total:t.length,active:t.filter(He=>He.status==="Active").length,primary:t.filter(He=>He.classCategory&&He.classCategory==="Primary"||He.level&&He.level==="Primary").length,secondary:t.filter(He=>He.classCategory&&He.classCategory==="Secondary"||He.level&&He.level==="Secondary").length}:{total:0,active:0,primary:0,secondary:0},[t]),ds=["All","Primary","Secondary"],Pt=["All",...Array.isArray(a)?Array.from(new Set(a.map(He=>He.name))):[]],Bt=He=>{const us=Array.isArray(t)?t.find(Ws=>Ws.id===He):null;if(!us||!us.parent_id||us.parent_id===0)return{name:"",username:"",phone:"",email:""};const ys=Array.isArray(n)?n.find(Ws=>Ws.id===us.parent_id):null;return ys?!ys.phone||ys.phone.trim()===""?{name:"",username:"",phone:"",email:""}:{name:`${ys.firstName} ${ys.lastName}`,username:ys.email?.split("@")[0]||"",phone:ys.phone||"",email:ys.email||""}:{name:"",username:"",phone:"",email:""}},xs=async()=>{if(confirm("Are you sure you want to unlink all students from parents? This action cannot be undone."))try{const He=await ct.executeQuery("UPDATE students SET parent_id = NULL WHERE parent_id IS NOT NULL");He&&He.success?(console.log(`Unlinked ${He.affectedRows} students from parents`),await x(),alert(`Successfully unlinked ${He.affectedRows} students from parents.`)):(console.error("Failed to unlink students:",He),alert("Failed to unlink students. Please try again."))}catch(He){console.error("Error unlinking students:",He),alert("An error occurred while unlinking students. Please try again.")}},bt=He=>Array.isArray(A)?A.find(us=>us.id===He):null,Wt=He=>{le(He),H(!0)},Ct=He=>{le(He),Vt({first_name:He.firstName,last_name:He.lastName,other_name:He.otherName||"",date_of_birth:He.date_of_birth,admission_number:He.admissionNumber,gender:He.gender}),Q(!0)},Ks=async()=>{if(st)try{await d(st.id,Et),ge.success(`Student ${Et.first_name} ${Et.last_name} updated successfully`),Q(!1),le(null),await x()}catch(He){console.error("Error updating student:",He),ge.error("Failed to update student")}},_s=async()=>{if(st)try{await u(st.id),ge.success(`Student "${st.firstName} ${st.lastName}" deleted successfully!`),D(!1),le(null),await x()}catch(He){console.error("Error deleting student:",He),ge.error("Failed to delete student")}},Ys=He=>{le(He),D(!0)},Lr=async He=>{const us=He.status==="Active"?"Inactive":"Active",ys=`status-${He.id}`;try{Z(ys),await d(He.id,{status:us});const Ws=bt(He.id);Ws&&await N(Ws.id,{status:us}),ge.success(`Student ${He.firstName} ${He.lastName} ${us==="Active"?"activated":"deactivated"}`),await x()}catch(Ws){console.error("Error toggling student status:",Ws),ge.error("Failed to update student status")}finally{Z(null)}},Ut=()=>{if(!st||!Re){ge.error("Please select a guardian");return}d(st.id,{parent_id:parseInt(Re)}),ge.success("Guardian linked successfully"),$(!1),le(null)},$s=He=>{Fe(us=>us.includes(He)?us.filter(ys=>ys!==He):[...us,He])},Hr=()=>{Ve?(Fe([]),qe(!1)):(Fe(Tt.map(He=>He.id)),qe(!0))},Vs=async()=>{if(fe.length===0){ge.error("No students selected for deletion");return}if(confirm(`Are you sure you want to delete ${fe.length} student(s)? This action cannot be undone.`))try{Z("bulk-delete");const us=await m(fe);ge.success(us?.summary||`${fe.length} student(s) deleted successfully`),Fe([]),qe(!1),await x()}catch(He){console.error("Error bulk deleting students:",He),ge.error("Failed to delete some students")}finally{Z(null)}},tr=async()=>{z(!0);try{await x(),ge.success("Student list refreshed successfully")}catch(He){console.error("Error refreshing students:",He),ge.error("Failed to refresh student list")}finally{z(!1)}},Ts=()=>{if(!st||!Pe){ge.error("Please select a passport photo");return}const He=new FileReader;He.onloadend=()=>{const us=He.result;d(st.id,{passportPhoto:us}),ge.success("Passport photo uploaded successfully"),ie(!1),et(null),le(null)},He.readAsDataURL(Pe)},Ps=async()=>{if(!st)return;if(!Te||!ye){ge.error("Please fill in all fields");return}if(Te!==ye){ge.error("Passwords do not match");return}if(Te.length<6){ge.error("Password must be at least 6 characters");return}const He=bt(st.id);He?(await b(He.id),ge.success(`Password reset successfully for ${st.firstName} ${st.lastName}`)):ge.error("User account not found"),ze(""),pe(""),ne(!1),le(null)},hr=()=>{const He=[{admission_number:"GRA/25199",last_name:"COLLINS",first_name:"CORREEN",other_name:"SETH",parentName:"MANU SETH COLLINS",parentUsername:"sethcollins1@gra",phone:"8064489992",email:"collinsjuliet2012@gmail.com",username:"correen1@gra",gender:"FEMALE",class_name:"JASPER (G K )"},{admission_number:"GRA/25203",last_name:"KALLA",first_name:"TENICHA",other_name:"YELLE",parentName:"USMAN YELLE",parentUsername:"yelle1@gra",phone:"8133925121",email:"twinkyells@gmail.com",username:"tenicha1@gra",gender:"FEMALE",class_name:"JASPER (G K )"},{admission_number:"GRA/25204",last_name:"ADAMS",first_name:"DARIUS",other_name:"MSHELIA",parentName:"AYUBA MSHELIA ADAMS",parentUsername:"msheliaadams1@gra",phone:"7036261062",email:"adamsvictoria703@gmail.com",username:"darius1@gra",gender:"MALE",class_name:"JASPER (G K )"},{admission_number:"GRA/25205",last_name:"BITRUS",first_name:"HANNAH",other_name:"",parentName:"BITRUS YAKUBU",parentUsername:"yakubu2@gra",phone:"8038675206",email:"bitrusyakubu35@gmail.com",username:"hannah1@gra",gender:"FEMALE",class_name:"JASPER (G K )"},{admission_number:"GRA/25207",last_name:"FABIAN",first_name:"TESTIMONY",other_name:"IFECHUKWU",parentName:"CHINWEUBA FABIAN",parentUsername:"fabian1@gra",phone:"7061229572",email:"ezeifeoluchukwugrace@gmail.com",username:"testimony1@gra",gender:"FEMALE",class_name:"JASPER (G K )"},{admission_number:"GRA/25208",last_name:"HARUNA",first_name:"AMINA",other_name:"",parentName:"BARDE HARUNA",parentUsername:"haruna1@gra",phone:"8135659098",email:"harunabarde1111@gmail.com",username:"amina1@gra",gender:"FEMALE",class_name:"JASPER (G K )"},{admission_number:"GRA/25210",last_name:"KEFAS",first_name:"MARY",other_name:"",parentName:"JESSE KEFAS",parentUsername:"kefas1@gra",phone:"7030602036",email:"jessekefas08081981@gmail.com",username:"mary1@gra",gender:"FEMALE",class_name:"JASPER (G K )"},{admission_number:"GRA/25213",last_name:"CROMWELL",first_name:"ASHER",other_name:"",parentName:"CROWELL BATURE",parentUsername:"bature1@gra",phone:"7069539064",email:"ruthjoshuam@gmail.com",username:"asher1@gra",gender:"MALE",class_name:"JASPER (G K )"},{admission_number:"GRA/25461",last_name:"AARON",first_name:"ANNABELLE",other_name:"ALEYIRO",parentName:"AMOS AARON",parentUsername:"aaron1@gra",phone:"9063333784",email:"e12@gmail.com",username:"annabelle1@gra",gender:"FEMALE",class_name:"JASPER (G K )"},{admission_number:"GRA/25462",last_name:"MICHAEL",first_name:"AUDREY",other_name:"",parentName:"MICHEAL OTEIKWU",parentUsername:"oteikwu1@gra",phone:"8033628676",email:"r@gmail.com",username:"audrey2@gra",gender:"FEMALE",class_name:"JASPER (G K )"},{admission_number:"GRA/25463",last_name:"BARNABAS",first_name:"BARUCH",other_name:"IBRAHIM",parentName:"BARNABAS IBRAHIM",parentUsername:"ibrahim1@gra",phone:"8060820119",email:"d3@gmail.com",username:"baruch1@gra",gender:"MALE",class_name:"JASPER (G K )"}],us=He.map(ys=>`${ys.admission_number} - ${ys.first_name} ${ys.last_name}${ys.other_name?" "+ys.other_name:""} - ${ys.username} - Parent: ${ys.parentName} (${ys.parentUsername})`).join(`
`);navigator.clipboard.writeText(us).then(()=>{ge.success(`${He.length} GRA students list copied to clipboard!`)}),se(!1)},ra=async()=>{try{await Nj(),ge.success("Students exported to CSV successfully from database")}catch{ge.error("Failed to export students from database")}},wa=()=>{const He=gk(),us=new Blob([He],{type:"text/csv"}),ys=window.URL.createObjectURL(us),Ws=document.createElement("a");Ws.href=ys,Ws.download="student_template.csv",Ws.click(),window.URL.revokeObjectURL(ys),ge.success("CSV template downloaded - Admission numbers will be auto-generated if left empty")},_n=async()=>{if(!rt){ge.error("Please select a CSV file");return}it(!0),dt({processed:0,total:0});try{const He=await fk(rt,ft,(us,ys)=>{dt({processed:us,total:ys})});He.errors.length>0&&ge.error(`Import completed with ${He.errors.length} errors`),He.imported.length>0?(ge.success(`${He.imported.length} students imported successfully to database`),ht(null),Lt.current&&(Lt.current.value=""),de(!1),_t(void 0),window.location.reload()):ge.error("No valid students found in CSV file")}catch{ge.error("Failed to import CSV file to database")}finally{it(!1),dt({processed:0,total:0})}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-[#0A2540] mb-2",children:"Manage Students"}),e.jsx("p",{className:"text-gray-600",children:"View, edit, and manage all registered students"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Ee,{onClick:()=>X(!0),className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-xl",children:[e.jsx(Tc,{className:"w-4 h-4 mr-2"}),"Add Student"]}),e.jsxs(Ee,{onClick:ra,variant:"outline",className:"rounded-xl border-[#3B82F6] text-[#3B82F6] hover:bg-[#3B82F6] hover:text-white",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),e.jsxs(Ee,{onClick:()=>de(!0),className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-xl",children:[e.jsx(go,{className:"w-4 h-4 mr-2"}),"Bulk Import CSV"]}),e.jsxs(Ee,{onClick:()=>se(!0),className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl",children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Import GRA Students"]}),e.jsxs(Ee,{onClick:tr,disabled:oe,variant:"outline",className:"rounded-xl border-[#10B981] text-[#10B981] hover:bg-[#10B981] hover:text-white",children:[oe?e.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border border-gray-300 border-t-green-600 mr-2"}):e.jsx(Fh,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Total Students"}),e.jsx("p",{className:"text-[#0A2540]",children:Ft.total})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:e.jsx(Qs,{className:"w-6 h-6 text-blue-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Active"}),e.jsx("p",{className:"text-[#0A2540]",children:Ft.active})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:e.jsx(Qs,{className:"w-6 h-6 text-green-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Primary"}),e.jsx("p",{className:"text-[#0A2540]",children:Ft.primary})]}),e.jsx("div",{className:"bg-purple-100 p-3 rounded-xl",children:e.jsx(Jr,{className:"w-6 h-6 text-purple-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Secondary"}),e.jsx("p",{className:"text-[#0A2540]",children:Ft.secondary})]}),e.jsx("div",{className:"bg-yellow-100 p-3 rounded-xl",children:e.jsx(Jr,{className:"w-6 h-6 text-yellow-600"})})]})})})]}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsxs(Ee,{onClick:xs,variant:"destructive",className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[e.jsx(r2,{className:"w-4 h-4"}),"Unlink All Students from Parents"]})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsxs(Le,{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-sm font-semibold text-[#0A2540] mb-3 flex items-center",children:[e.jsx(bi,{className:"w-4 h-4 mr-2"}),"Primary Filters"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(kt,{value:j,onChange:He=>y(He.target.value),placeholder:"Search by name or admission number...",className:"pl-10 rounded-xl border-[#0A2540]/20"})]}),e.jsxs(Ot,{value:k,onValueChange:q,children:[e.jsx(Mt,{className:"rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{placeholder:"Select Level"})}),e.jsx(Kt,{children:ds.map(He=>e.jsx(ke,{value:He,children:He==="All"?"All Levels":He},He))})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-[#0A2540] mb-3 flex items-center",children:[e.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Secondary Filters"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(Ot,{value:E,onValueChange:U,children:[e.jsx(Mt,{className:"rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{placeholder:"Select Class"})}),e.jsx(Kt,{children:Pt.map(He=>e.jsx(ke,{value:He,children:He==="All"?"All Classes":He},He))})]}),e.jsx("div",{className:"flex items-center justify-center text-sm text-gray-500",children:e.jsxs("span",{className:"bg-gray-100 px-3 py-2 rounded-lg",children:[Tt.length," of ",t.length," students"]})})]})]})]})}),e.jsxs(Ce,{className:"border-[#0A2540]/10 rounded-xl bg-white shadow-clinical",children:[e.jsx(Qt,{className:"border-b border-[#0A2540]/10 bg-[#0A2540]/5 flex flex-row items-center justify-between p-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("h3",{className:"text-[#0A2540]",children:["Students (",Tt.length,")"]}),fe.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[fe.length," selected"]}),e.jsxs(Ee,{onClick:Vs,disabled:xe==="bulk-delete",variant:"destructive",size:"sm",className:"rounded-lg",children:[xe==="bulk-delete"?e.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border border-gray-300 border-t-white mr-2"}):e.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Delete Selected"]})]})]})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{className:"w-full min-w-[1000px]",children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-gray-50",children:[e.jsx(At,{className:"text-[#0A2540] font-medium w-12",children:e.jsx("button",{onClick:Hr,className:"flex items-center justify-center w-full",children:Ve?e.jsx(I0,{className:"w-4 h-4 text-blue-600"}):e.jsx(Tv,{className:"w-4 h-4 text-gray-400"})})}),e.jsx(At,{className:"text-[#0A2540] font-medium",children:"Student Reg"}),e.jsx(At,{className:"text-[#0A2540] font-medium",children:"Last Name"}),e.jsx(At,{className:"text-[#0A2540] font-medium",children:"First Name"}),e.jsx(At,{className:"text-[#0A2540] font-medium",children:"Other Name"}),e.jsx(At,{className:"text-[#0A2540] font-medium",children:"Parent/Guardian"}),e.jsx(At,{className:"text-[#0A2540] font-medium",children:"Phone Number"}),e.jsx(At,{className:"text-[#0A2540] font-medium",children:"Class"}),e.jsx(At,{className:"text-[#0A2540] font-medium",children:"Gender"}),e.jsx(At,{className:"text-[#0A2540] font-medium text-center",children:"Action"})]})}),e.jsx(On,{children:Tt.length===0?e.jsx(As,{className:"bg-white",children:e.jsx(Xe,{colSpan:10,className:"text-center py-8 text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(Es,{className:"w-12 h-12 text-gray-300"}),e.jsx("p",{children:"No students found"}),e.jsxs("div",{className:"text-sm text-gray-400",children:[e.jsxs("p",{children:["Total students: ",t.length]}),e.jsxs("p",{children:['Search term: "',j,'"']}),e.jsxs("p",{children:["Filter class: ",E]}),e.jsxs("p",{children:["Filter level: ",k]})]}),e.jsxs(Ee,{onClick:()=>ge.info("Navigate to Add Student page"),className:"mt-2 bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl",children:[e.jsx(Tc,{className:"w-4 h-4 mr-2"}),"Add First Student"]})]})})}):Tt.map(He=>{const us=Bt(He.id);return bt(He.id),e.jsxs(As,{className:"bg-white border-b border-[#E5E7EB] hover:bg-[#F9FAFB]",children:[e.jsx(Xe,{className:"w-12",children:e.jsx("button",{onClick:()=>$s(He.id),className:"flex items-center justify-center w-full",children:fe.includes(He.id)?e.jsx(I0,{className:"w-4 h-4 text-blue-600"}):e.jsx(Tv,{className:"w-4 h-4 text-gray-400"})})}),e.jsx(Xe,{children:e.jsx(yt,{variant:"outline",className:"rounded-xl font-mono text-xs",children:He.admissionNumber})}),e.jsx(Xe,{className:"text-[#1F2937]",children:He.lastName}),e.jsx(Xe,{className:"text-[#1F2937]",children:He.firstName}),e.jsx(Xe,{className:"text-[#6B7280] text-sm",children:He.otherName||"-"}),e.jsx(Xe,{className:"text-[#6B7280] text-sm",children:us.name}),e.jsx(Xe,{className:"text-[#6B7280] text-sm",children:us.phone}),e.jsx(Xe,{className:"text-[#6B7280] text-sm",children:He.className}),e.jsx(Xe,{className:"text-[#6B7280] text-sm",children:He.gender}),e.jsx(Xe,{children:e.jsxs(ON,{trigger:e.jsx(Ee,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-lg hover:bg-[#F3F4F6] hover:border-[#D1D5DB] border border-transparent transition-all duration-200",children:e.jsx(Qv,{className:"h-4 w-4 text-[#6B7280]"})}),children:[e.jsxs(Ql,{onClick:()=>Wt(He),children:[e.jsx(Pn,{className:"h-3 w-3"}),"View"]}),e.jsxs(Ql,{onClick:()=>Ct(He),children:[e.jsx(Pl,{className:"h-3 w-3"}),"Edit"]}),e.jsx(pf,{}),e.jsxs(Ql,{onClick:()=>{le(He),$(!0)},children:[e.jsx(rS,{className:"h-3 w-3"}),"Link Guardian"]}),e.jsxs(Ql,{onClick:()=>{le(He),ie(!0)},children:[e.jsx($4,{className:"h-3 w-3"}),"Photo"]}),e.jsxs(Ql,{onClick:()=>{le(He),ne(!0)},children:[e.jsx(eS,{className:"h-3 w-3"}),"Reset Password"]}),e.jsx(pf,{}),e.jsxs(Ql,{onClick:()=>Lr(He),disabled:xe===`status-${He.id}`,children:[xe===`status-${He.id}`?e.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border border-gray-300 border-t-blue-600"}):e.jsx(Qv,{className:"h-3 w-3"}),xe===`status-${He.id}`?"Updating...":He.status==="Active"?"Deactivate":"Activate"]}),e.jsx(pf,{}),e.jsxs(Ql,{onClick:()=>Ys(He),className:"text-red-600 hover:bg-red-50",children:[e.jsx(Hi,{className:"h-3 w-3"}),"Delete"]})]})})]},He.id)})})]})})})]}),st&&e.jsx(vr,{open:G,onOpenChange:H,children:e.jsxs(br,{className:"max-w-2xl rounded-xl",children:[e.jsx(yr,{children:e.jsx(Nr,{className:"text-[#0A2540]",children:"Student Details"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Admission Number"}),e.jsx("p",{className:"text-[#0A2540]",children:st.admissionNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsx(yt,{className:`rounded-xl ${st.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:st.status})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"First Name"}),e.jsx("p",{className:"text-[#0A2540]",children:st.firstName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Last Name"}),e.jsx("p",{className:"text-[#0A2540]",children:st.lastName})]})]}),st.otherName&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Other Name"}),e.jsx("p",{className:"text-[#0A2540]",children:st.otherName})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Gender"}),e.jsx("p",{className:"text-[#0A2540]",children:st.gender})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Date of Birth"}),e.jsx("p",{className:"text-[#0A2540]",children:st.date_of_birth})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Class"}),e.jsx("p",{className:"text-[#0A2540]",children:st.className})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Level"}),e.jsx("p",{className:"text-[#0A2540]",children:st.level})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Parent/Guardian"}),e.jsx("p",{className:"text-[#0A2540]",children:Bt(st.id).name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Academic Year"}),e.jsx("p",{className:"text-[#0A2540]",children:st.academic_year})]})]})]})}),e.jsx(vr,{open:P,onOpenChange:Q,children:e.jsxs(br,{className:"max-w-2xl rounded-xl bg-white border border-[#E5E7EB]",children:[e.jsxs(yr,{children:[e.jsx(Nr,{className:"text-[#1F2937]",children:"Edit Student"}),e.jsx(Da,{className:"text-[#6B7280]",children:"Update student information"})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"First Name"}),e.jsx(kt,{value:Et.first_name,onChange:He=>Vt({...Et,first_name:He.target.value}),className:"rounded-xl border-[#E5E7EB] bg-white text-[#1F2937]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Last Name"}),e.jsx(kt,{value:Et.last_name,onChange:He=>Vt({...Et,last_name:He.target.value}),className:"rounded-xl border-[#E5E7EB] bg-white text-[#1F2937]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Other Name"}),e.jsx(kt,{value:Et.other_name,onChange:He=>Vt({...Et,other_name:He.target.value}),className:"rounded-xl border-[#E5E7EB] bg-white text-[#1F2937]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Gender"}),e.jsxs(Ot,{value:Et.gender,onValueChange:He=>Vt({...Et,gender:He}),children:[e.jsx(Mt,{className:"rounded-xl border-[#E5E7EB]",children:e.jsx(Ht,{placeholder:"Select gender"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"Male",children:"Male"}),e.jsx(ke,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Date of Birth"}),e.jsx(kt,{type:"date",value:Et.date_of_birth,onChange:He=>Vt({...Et,date_of_birth:He.target.value}),className:"rounded-xl border-[#E5E7EB] bg-white text-[#1F2937]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Admission Number"}),e.jsx(kt,{value:Et.admission_number,onChange:He=>Vt({...Et,admission_number:He.target.value}),className:"rounded-xl border-[#E5E7EB] bg-white text-[#1F2937]"})]})]})}),e.jsxs(uo,{children:[e.jsx(Ee,{onClick:()=>Q(!1),variant:"outline",className:"rounded-xl border-[#E5E7EB] text-[#1F2937]",children:"Cancel"}),e.jsx(Ee,{onClick:Ks,className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl",children:"Save Changes"})]})]})}),e.jsx(vr,{open:T,onOpenChange:$,children:e.jsxs(br,{className:"max-w-md rounded-xl bg-white border border-[#E5E7EB]",children:[e.jsxs(yr,{children:[e.jsx(Nr,{className:"text-[#1F2937]",children:"Link Guardian"}),e.jsx(Da,{className:"text-[#6B7280]",children:st&&`Link guardian for ${st.firstName} ${st.lastName}`})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Select Guardian"}),e.jsxs(Ot,{value:Re,onValueChange:Oe,children:[e.jsx(Mt,{className:"rounded-xl border-[#E5E7EB]",children:e.jsx(Ht,{placeholder:"Choose a guardian"})}),e.jsx(Kt,{children:n.map(He=>e.jsxs(ke,{value:He.id.toString(),children:[He.firstName," ",He.lastName," - ",He.phone]},He.id))})]})]})}),e.jsxs(uo,{children:[e.jsx(Ee,{onClick:()=>{$(!1),Oe("")},variant:"outline",className:"rounded-xl border-[#E5E7EB] text-[#1F2937]",children:"Cancel"}),e.jsx(Ee,{onClick:Ut,className:"bg-[#8B5CF6] hover:bg-[#7C3AED] text-white rounded-xl",children:"Link Guardian"})]})]})}),e.jsx(vr,{open:V,onOpenChange:ie,children:e.jsxs(br,{className:"max-w-md rounded-xl bg-white border border-[#E5E7EB]",children:[e.jsxs(yr,{children:[e.jsx(Nr,{className:"text-[#1F2937]",children:"Upload Passport Photo"}),e.jsx(Da,{className:"text-[#6B7280]",children:st&&`Upload passport photo for ${st.firstName} ${st.lastName}`})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Select Photo"}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(kt,{ref:Xt,type:"file",accept:"image/*",onChange:He=>et(He.target.files?.[0]||null),className:"rounded-xl border-[#E5E7EB] bg-white text-[#1F2937]"})}),Pe&&e.jsxs("p",{className:"text-sm text-[#6B7280]",children:["Selected: ",Pe.name]})]})}),e.jsxs(uo,{children:[e.jsx(Ee,{onClick:()=>{ie(!1),et(null)},variant:"outline",className:"rounded-xl border-[#E5E7EB] text-[#1F2937]",children:"Cancel"}),e.jsx(Ee,{onClick:Ts,className:"bg-[#06B6D4] hover:bg-[#0891B2] text-white rounded-xl",children:"Upload Photo"})]})]})}),e.jsx(vr,{open:W,onOpenChange:ne,children:e.jsxs(br,{className:"max-w-md rounded-xl bg-white border border-[#E5E7EB]",children:[e.jsxs(yr,{children:[e.jsx(Nr,{className:"text-[#1F2937]",children:"Reset Password"}),e.jsx(Da,{className:"text-[#6B7280]",children:st&&`Reset password for ${st.firstName} ${st.lastName}`})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"New Password"}),e.jsx(kt,{type:"password",value:Te,onChange:He=>ze(He.target.value),placeholder:"Enter new password",className:"rounded-xl border-[#E5E7EB] bg-white text-[#1F2937]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Confirm Password"}),e.jsx(kt,{type:"password",value:ye,onChange:He=>pe(He.target.value),placeholder:"Confirm new password",className:"rounded-xl border-[#E5E7EB] bg-white text-[#1F2937]"})]})]}),e.jsxs(uo,{children:[e.jsx(Ee,{onClick:()=>{ne(!1),ze(""),pe("")},variant:"outline",className:"rounded-xl border-[#E5E7EB] text-[#1F2937]",children:"Cancel"}),e.jsx(Ee,{onClick:Ps,className:"bg-[#8B5CF6] hover:bg-[#7C3AED] text-white rounded-xl",children:"Reset Password"})]})]})}),e.jsx(vr,{open:M,onOpenChange:de,children:e.jsxs(br,{className:"max-w-2xl rounded-xl bg-white border border-[#E5E7EB]",children:[e.jsxs(yr,{children:[e.jsx(Nr,{className:"text-[#1F2937]",children:"Bulk Import Students"}),e.jsx(Da,{className:"text-[#6B7280]",children:"Import multiple students from a CSV file"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs(Vi,{className:"border-blue-200 bg-blue-50 rounded-xl",children:[e.jsx(Es,{className:"h-4 w-4 text-blue-600"}),e.jsxs(zi,{className:"text-blue-900",children:[e.jsx("strong",{children:"Enhanced CSV Format:"})," Student Reg (Optional - auto-generated if empty), Last Name, First Name, Other Name, Gender, Date of Birth, Parent Name, Parent Phone, Parent Email, Parent Username, Student Username, Student Email, Academic Year"]})]}),e.jsxs(Vi,{className:"border-green-200 bg-green-50 rounded-xl",children:[e.jsx(Es,{className:"h-4 w-4 text-green-600"}),e.jsxs(zi,{className:"text-green-900",children:[e.jsx("strong",{children:"Automatic Admission Numbers:"})," Leave the admission number column empty in your CSV and the system will automatically generate unique admission numbers in the format GRA/YYYY/####."]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Select Target Class (Optional)"}),e.jsxs(Ot,{value:ft?.toString()||"csv",onValueChange:He=>_t(He==="csv"?void 0:parseInt(He)),children:[e.jsx(Mt,{className:"rounded-xl border-[#E5E7EB] bg-white text-[#1F2937]",children:e.jsx(Ht,{placeholder:"Use Class from CSV"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"csv",children:"Use Class from CSV"}),a.map(He=>e.jsxs(ke,{value:He.id.toString(),children:[He.name," (",He.level,")"]},He.id))]})]}),ft&&e.jsxs("p",{className:"text-sm text-[#6B7280]",children:["All students will be imported to: ",a.find(He=>He.id===ft)?.name]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Select CSV File"}),e.jsx(kt,{ref:Lt,type:"file",accept:".csv",onChange:He=>ht(He.target.files?.[0]||null),className:"rounded-xl border-[#E5E7EB] bg-white text-[#1F2937]",disabled:Ke}),rt&&e.jsxs("p",{className:"text-sm text-[#6B7280]",children:["Selected: ",rt.name]})]}),Ke&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Import Progress"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${xt.processed/xt.total*100}%`}})}),e.jsxs("p",{className:"text-sm text-[#6B7280]",children:["Processing: ",xt.processed," / ",xt.total," students"]})]}),e.jsxs(Ee,{onClick:wa,variant:"outline",className:"w-full rounded-xl border-[#E5E7EB] text-[#1F2937]",disabled:Ke,children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Download Enhanced CSV Template"]})]}),e.jsxs(uo,{children:[e.jsx(Ee,{onClick:()=>{de(!1),ht(null)},variant:"outline",className:"rounded-xl border-[#E5E7EB] text-[#1F2937]",children:"Cancel"}),e.jsx(Ee,{onClick:_n,className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-xl",disabled:Ke||!rt,children:Ke?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Importing to Database..."]}):e.jsxs(e.Fragment,{children:[e.jsx(go,{className:"w-4 h-4 mr-2"}),"Import Students to Database"]})})]})]})}),e.jsx(vr,{open:ue,onOpenChange:se,children:e.jsxs(br,{className:"max-w-3xl rounded-xl bg-white border border-[#E5E7EB] max-h-[80vh] overflow-y-auto",children:[e.jsxs(yr,{children:[e.jsx(Nr,{className:"text-[#1F2937]",children:"Import GRA JASPER (G K) Students"}),e.jsx(Da,{className:"text-[#6B7280]",children:"Quick import of 11 students from JASPER (G K) class"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs(Vi,{className:"border-green-200 bg-green-50 rounded-xl",children:[e.jsx(Es,{className:"h-4 w-4 text-green-600"}),e.jsx(zi,{className:"text-green-900",children:"This will prepare the data for 11 students. You'll still need to register them individually through the Add Student page to create their accounts."})]}),e.jsxs("div",{className:"bg-[#F9FAFB] p-4 rounded-xl border border-[#E5E7EB] max-h-64 overflow-y-auto",children:[e.jsx("p",{className:"text-[#1F2937] mb-2",children:"Student List Preview:"}),e.jsxs("ul",{className:"text-sm text-[#6B7280] space-y-1",children:[e.jsx("li",{children:"1. GRA/25199 - COLLINS CORREEN SETH (Parent: MANU SETH COLLINS)"}),e.jsx("li",{children:"2. GRA/25203 - KALLA TENICHA YELLE (Parent: USMAN YELLE)"}),e.jsx("li",{children:"3. GRA/25204 - ADAMS DARIUS MSHELIA (Parent: AYUBA MSHELIA ADAMS)"}),e.jsx("li",{children:"4. GRA/25205 - BITRUS HANNAH (Parent: BITRUS YAKUBU)"}),e.jsx("li",{children:"5. GRA/25207 - FABIAN TESTIMONY IFECHUKWU (Parent: CHINWEUBA FABIAN)"}),e.jsx("li",{children:"6. GRA/25208 - HARUNA AMINA (Parent: BARDE HARUNA)"}),e.jsx("li",{children:"7. GRA/25210 - KEFAS MARY (Parent: JESSE KEFAS)"}),e.jsx("li",{children:"8. GRA/25213 - CROMWELL ASHER (Parent: CROWELL BATURE)"}),e.jsx("li",{children:"9. GRA/25461 - AARON ANNABELLE ALEYIRO (Parent: AMOS AARON)"}),e.jsx("li",{children:"10. GRA/25462 - MICHAEL AUDREY (Parent: MICHEAL OTEIKWU)"}),e.jsx("li",{children:"11. GRA/25463 - BARNABAS BARUCH IBRAHIM (Parent: BARNABAS IBRAHIM)"})]})]})]}),e.jsxs(uo,{children:[e.jsx(Ee,{onClick:()=>se(!1),variant:"outline",className:"rounded-xl border-[#E5E7EB] text-[#1F2937]",children:"Cancel"}),e.jsxs(Ee,{onClick:hr,className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl",children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Copy Student List to Clipboard"]})]})]})}),e.jsx(Cc,{open:I,onOpenChange:D,children:e.jsxs(Sc,{className:"rounded-xl",children:[e.jsxs(Ec,{children:[e.jsx(_c,{children:"Delete Student"}),e.jsxs(Uc,{children:['Are you sure you want to delete "',st?.firstName," ",st?.lastName,'"? This will remove all their records including scores, attendance, and payments. This action cannot be undone.']})]}),e.jsxs(Fc,{children:[e.jsx(Ic,{className:"rounded-xl",children:"Cancel"}),e.jsx(kc,{onClick:_s,className:"bg-red-600 hover:bg-red-700 rounded-xl",children:"Delete"})]})]})}),e.jsx(vr,{open:O,onOpenChange:X,children:e.jsxs(br,{className:"rounded-xl max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(yr,{children:[e.jsx(Nr,{className:"text-xl text-[#0A2540]",children:"Register New Student"}),e.jsx(Da,{className:"text-gray-600",children:"Add a new student to the school management system"})]}),e.jsx(S.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading Add Student form..."})}),children:e.jsx(wk,{onClose:()=>X(!1),onSuccess:()=>X(!1)})})]})})]})}var wp="Switch",[bk]=QA(wp),[yk,Nk]=bk(wp),Sj=S.forwardRef((s,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:A,disabled:c,value:d="on",onCheckedChange:u,form:m,...f}=s,[x,g]=S.useState(null),N=Cr(t,U=>g(U)),b=S.useRef(!1),j=x?m||!!x.closest("form"):!0,[y,E]=gd({prop:a,defaultProp:i??!1,onChange:u,caller:wp});return e.jsxs(yk,{scope:r,checked:y,disabled:c,children:[e.jsx(Ms.button,{type:"button",role:"switch","aria-checked":y,"aria-required":A,"data-state":Uj(y),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:N,onClick:Os(s.onClick,U=>{E(k=>!k),j&&(b.current=U.isPropagationStopped(),b.current||U.stopPropagation())})}),j&&e.jsx(_j,{control:x,bubbles:!b.current,name:n,value:d,checked:y,required:A,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});Sj.displayName=wp;var Ej="SwitchThumb",Fj=S.forwardRef((s,t)=>{const{__scopeSwitch:r,...n}=s,a=Nk(Ej,r);return e.jsx(Ms.span,{"data-state":Uj(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Fj.displayName=Ej;var jk="SwitchBubbleInput",_j=S.forwardRef(({__scopeSwitch:s,control:t,checked:r,bubbles:n=!0,...a},i)=>{const A=S.useRef(null),c=Cr(A,i),d=Yx(r),u=Gx(t);return S.useEffect(()=>{const m=A.current;if(!m)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==r&&g){const N=new Event("click",{bubbles:n});g.call(m,r),m.dispatchEvent(N)}},[d,r,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_j.displayName=jk;function Uj(s){return s?"checked":"unchecked"}var Bk=Sj,Ck=Fj;function gf({className:s,...t}){return e.jsx(Bk,{"data-slot":"switch",className:ms("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:e.jsx(Ck,{"data-slot":"switch-thumb",className:ms("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var Pg="rovingFocusGroup.onEntryFocus",Sk={bubbles:!1,cancelable:!0},Mh="RovingFocusGroup",[$0,kj,Ek]=y2(Mh),[Fk,Ij]=QA(Mh,[Ek]),[_k,Uk]=Fk(Mh),Lj=S.forwardRef((s,t)=>e.jsx($0.Provider,{scope:s.__scopeRovingFocusGroup,children:e.jsx($0.Slot,{scope:s.__scopeRovingFocusGroup,children:e.jsx(kk,{...s,ref:t})})}));Lj.displayName=Mh;var kk=S.forwardRef((s,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:A,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:m=!1,...f}=s,x=S.useRef(null),g=Cr(t,x),N=Px(i),[b,j]=gd({prop:A,defaultProp:c??null,onChange:d,caller:Mh}),[y,E]=S.useState(!1),U=_A(u),k=kj(r),q=S.useRef(!1),[G,H]=S.useState(0);return S.useEffect(()=>{const I=x.current;if(I)return I.addEventListener(Pg,U),()=>I.removeEventListener(Pg,U)},[U]),e.jsx(_k,{scope:r,orientation:n,dir:N,loop:a,currentTabStopId:b,onItemFocus:S.useCallback(I=>j(I),[j]),onItemShiftTab:S.useCallback(()=>E(!0),[]),onFocusableItemAdd:S.useCallback(()=>H(I=>I+1),[]),onFocusableItemRemove:S.useCallback(()=>H(I=>I-1),[]),children:e.jsx(Ms.div,{tabIndex:y||G===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...s.style},onMouseDown:Os(s.onMouseDown,()=>{q.current=!0}),onFocus:Os(s.onFocus,I=>{const D=!q.current;if(I.target===I.currentTarget&&D&&!y){const P=new CustomEvent(Pg,Sk);if(I.currentTarget.dispatchEvent(P),!P.defaultPrevented){const Q=k().filter(W=>W.focusable),T=Q.find(W=>W.active),$=Q.find(W=>W.id===b),ie=[T,$,...Q].filter(Boolean).map(W=>W.ref.current);Pj(ie,m)}}q.current=!1}),onBlur:Os(s.onBlur,()=>E(!1))})})}),Qj="RovingFocusGroupItem",Tj=S.forwardRef((s,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:A,...c}=s,d=jc(),u=i||d,m=Uk(Qj,r),f=m.currentTabStopId===u,x=kj(r),{onFocusableItemAdd:g,onFocusableItemRemove:N,currentTabStopId:b}=m;return S.useEffect(()=>{if(n)return g(),()=>N()},[n,g,N]),e.jsx($0.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:e.jsx(Ms.span,{tabIndex:f?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:Os(s.onMouseDown,j=>{n?m.onItemFocus(u):j.preventDefault()}),onFocus:Os(s.onFocus,()=>m.onItemFocus(u)),onKeyDown:Os(s.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){m.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const y=Qk(j,m.orientation,m.dir);if(y!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let U=x().filter(k=>k.focusable).map(k=>k.ref.current);if(y==="last")U.reverse();else if(y==="prev"||y==="next"){y==="prev"&&U.reverse();const k=U.indexOf(j.currentTarget);U=m.loop?Tk(U,k+1):U.slice(k+1)}setTimeout(()=>Pj(U))}}),children:typeof A=="function"?A({isCurrentTabStop:f,hasTabStop:b!=null}):A})})});Tj.displayName=Qj;var Ik={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Lk(s,t){return t!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function Qk(s,t,r){const n=Lk(s.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ik[n]}function Pj(s,t=!1){const r=document.activeElement;for(const n of s)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Tk(s,t){return s.map((r,n)=>s[(t+n)%s.length])}var Pk=Lj,Rk=Tj,vp="Tabs",[Dk]=QA(vp,[Ij]),Rj=Ij(),[Ok,nw]=Dk(vp),Dj=S.forwardRef((s,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:A="horizontal",dir:c,activationMode:d="automatic",...u}=s,m=Px(c),[f,x]=gd({prop:n,onChange:a,defaultProp:i??"",caller:vp});return e.jsx(Ok,{scope:r,baseId:jc(),value:f,onValueChange:x,orientation:A,dir:m,activationMode:d,children:e.jsx(Ms.div,{dir:m,"data-orientation":A,...u,ref:t})})});Dj.displayName=vp;var Oj="TabsList",Hj=S.forwardRef((s,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=s,i=nw(Oj,r),A=Rj(r);return e.jsx(Pk,{asChild:!0,...A,orientation:i.orientation,dir:i.dir,loop:n,children:e.jsx(Ms.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Hj.displayName=Oj;var Mj="TabsTrigger",Kj=S.forwardRef((s,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=s,A=nw(Mj,r),c=Rj(r),d=Gj(A.baseId,n),u=$j(A.baseId,n),m=n===A.value;return e.jsx(Rk,{asChild:!0,...c,focusable:!a,active:m,children:e.jsx(Ms.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":u,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:t,onMouseDown:Os(s.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?A.onValueChange(n):f.preventDefault()}),onKeyDown:Os(s.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&A.onValueChange(n)}),onFocus:Os(s.onFocus,()=>{const f=A.activationMode!=="manual";!m&&!a&&f&&A.onValueChange(n)})})})});Kj.displayName=Mj;var Vj="TabsContent",zj=S.forwardRef((s,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...A}=s,c=nw(Vj,r),d=Gj(c.baseId,n),u=$j(c.baseId,n),m=n===c.value,f=S.useRef(m);return S.useEffect(()=>{const x=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(Qu,{present:a||m,children:({present:x})=>e.jsx(Ms.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!x,id:u,tabIndex:0,...A,ref:t,style:{...s.style,animationDuration:f.current?"0s":void 0},children:x&&i})})});zj.displayName=Vj;function Gj(s,t){return`${s}-trigger-${t}`}function $j(s,t){return`${s}-content-${t}`}var Hk=Dj,Mk=Hj,Kk=Kj,Vk=zj;function aw({className:s,...t}){return e.jsx(Hk,{"data-slot":"tabs",className:ms("flex flex-col gap-2",s),...t})}function iw({className:s,...t}){return e.jsx(Mk,{"data-slot":"tabs-list",className:ms("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",s),...t})}function Dl({className:s,...t}){return e.jsx(Kk,{"data-slot":"tabs-trigger",className:ms("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function ch({className:s,...t}){return e.jsx(Vk,{"data-slot":"tabs-content",className:ms("flex-1 outline-none",s),...t})}function zk(){const{users:s,teachers:t,parents:r,accountants:n,classes:a,createUserAPI:i,updateUserAPI:A,deleteUserAPI:c,updateUserStatusAPI:d,resetUserPasswordAPI:u,loadUsersFromAPI:m,loadTeachersFromAPI:f,loadParentsFromAPI:x,loadAccountantsFromAPI:g,deleteTeacherAPI:N,deleteParentAPI:b,deleteAccountantAPI:j,updateTeacherStatusAPI:y,updateParentStatusAPI:E,updateAccountantStatusAPI:U}=Fs(),[k,q]=S.useState(""),[G,H]=S.useState("all"),[I,D]=S.useState("all"),[P,Q]=S.useState("users"),[T,$]=S.useState(!1),[V,ie]=S.useState(!1),[W,ne]=S.useState(!1),[M,de]=S.useState(!1),[ue,se]=S.useState(!1),[O,X]=S.useState(!1),[re,me]=S.useState(!1),[xe,Z]=S.useState(!1),[oe,z]=S.useState(!1),[fe,Fe]=S.useState(!1),[Ve,qe]=S.useState(!1),[st,le]=S.useState(!1),[Te,ze]=S.useState(null),[ye,pe]=S.useState(null),[Pe,et]=S.useState(null),[rt,ht]=S.useState(null),[Re,Oe]=S.useState(!0),[ft,_t]=S.useState(!1),[xt,dt]=S.useState(!1),[Ke,it]=S.useState({username:"",password:"",role:"teacher",linkedId:0,email:"",firstName:"",lastName:"",phone:"",address:"",occupation:"",status:"Active",gender:"",qualification:"",specialization:[],isClassTeacher:!1,assignedClassId:null,departmentId:"",alternatePhone:"",department:""}),[Xt,Lt]=S.useState({username:"",email:"",role:"teacher",status:"Active"});S.useEffect(()=>{(async()=>{dt(!0);try{await Promise.all([m(),f(),x(),g()])}catch{ge.error("Failed to load user data")}finally{dt(!1)}})()},[]);const Et=S.useMemo(()=>!s||s.length===0?[]:s.filter(je=>{const bs=(je.username?.toLowerCase()||"").includes((k||"").toLowerCase())||(je.email?.toLowerCase()||"").includes((k||"").toLowerCase()),Js=G==="all"||je.role===G,mn=I==="all"||je.status===I;return bs&&Js&&mn}),[s,k,G,I]),Vt=S.useMemo(()=>!t||t.length===0?[]:t.filter(je=>{const bs=(je.firstName?.toLowerCase()||"").includes((k||"").toLowerCase())||(je.lastName?.toLowerCase()||"").includes((k||"").toLowerCase())||(je.email?.toLowerCase()||"").includes((k||"").toLowerCase())||(je.employeeId?.toLowerCase()||"").includes((k||"").toLowerCase()),Js=I==="all"||je.status===I;return bs&&Js}),[t,k,I]),Tt=S.useMemo(()=>!r||r.length===0?[]:r.filter(je=>{const bs=(je.firstName?.toLowerCase()||"").includes((k||"").toLowerCase())||(je.lastName?.toLowerCase()||"").includes((k||"").toLowerCase())||(je.email?.toLowerCase()||"").includes((k||"").toLowerCase())||(je.phone?.toLowerCase()||"").includes((k||"").toLowerCase()),Js=I==="all"||je.status===I;return bs&&Js}),[r,k,I]),Ft=S.useMemo(()=>!n||n.length===0?[]:n.filter(je=>{const bs=(je.firstName?.toLowerCase()||"").includes((k||"").toLowerCase())||(je.lastName?.toLowerCase()||"").includes((k||"").toLowerCase())||(je.email?.toLowerCase()||"").includes((k||"").toLowerCase())||(je.employeeId?.toLowerCase()||"").includes((k||"").toLowerCase()),Js=I==="all"||je.status===I;return bs&&Js}),[n,k,I]),ds=S.useMemo(()=>{const je=s?.length||0,bs=t?.length||0,Js=r?.length||0,mn=n?.length||0,Za=s?.filter(rr=>rr.status==="Active").length||0,Ha=s?.filter(rr=>rr.status==="Inactive").length||0;return{users:{total:je,active:Za,inactive:Ha,admin:s?.filter(rr=>rr.role==="admin").length||0,teacher:s?.filter(rr=>rr.role==="teacher").length||0,accountant:s?.filter(rr=>rr.role==="accountant").length||0,parent:s?.filter(rr=>rr.role==="parent").length||0},teachers:{total:bs,active:t?.filter(rr=>rr.status==="Active").length||0,inactive:t?.filter(rr=>rr.status==="Inactive").length||0},parents:{total:Js,active:r?.filter(rr=>rr.status==="Active").length||0,inactive:r?.filter(rr=>rr.status==="Inactive").length||0},accountants:{total:mn,active:n?.filter(rr=>rr.status==="Active").length||0,inactive:n?.filter(rr=>rr.status==="Inactive").length||0}}},[s,t,r,n]),Pt=async je=>{ze(je),X(!0)},Bt=async()=>{if(Te)try{const je=await u(Te.id);if(je){const bs=Re&&ft?"Email & SMS":Re?"Email":ft?"SMS":"not sent";ge.success(`Password reset successfully for ${Te.username}. New password: ${je}`)}X(!1),ze(null)}catch{}},xs=je=>{ze(je),se(!0)},bt=async()=>{if(Te)try{const je=Te.status==="Active"?"Inactive":"Active";if(await d(Te.id,je)){const Js=Te.status==="Active"?"deactivated":"activated";ge.success(`User ${Te.username} ${Js} successfully`)}se(!1),ze(null)}catch{}},Wt=je=>{ze(je),Lt({username:je.username,email:je.email,role:je.role,status:je.status}),ne(!0)},Ct=()=>{it({username:"",password:"",role:"teacher",linkedId:0,email:"",firstName:"",lastName:"",phone:"",address:"",occupation:"",status:"Active",gender:"",qualification:"",specialization:[],isClassTeacher:!1,assignedClassId:null,departmentId:"",alternatePhone:"",department:""}),$(!0)},Ks=async()=>{try{if(dt(!0),!Ke.username||!Ke.email||!Ke.firstName||!Ke.lastName){ge.error("Please fill all required fields (username, email, first name, and last name)");return}if(!/^[a-zA-Z0-9_-]+$/.test(Ke.username.trim())){ge.error("Username can only contain letters, numbers, underscores, and hyphens");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Ke.email.trim())){ge.error("Please enter a valid email address");return}if(!Ke.firstName||Ke.firstName.trim().length===0){ge.error("First name is required");return}if(!Ke.lastName||Ke.lastName.trim().length===0){ge.error("Last name is required");return}const Js=/^[a-zA-Z\s'-]+$/;if(!Js.test(Ke.firstName)||Ke.lastName&&!Js.test(Ke.lastName)){ge.error("Names can only contain letters, spaces, hyphens, and apostrophes");return}if(Ke.isClassTeacher&&(!Ke.assignedClassId||Ke.assignedClassId<=0)){ge.error("Please select a class for the class teacher assignment");return}const mn={username:Ke.username.trim(),email:Ke.email.trim().toLowerCase(),firstName:Ke.firstName.trim(),lastName:Ke.lastName.trim(),role:Ke.role,password:Ke.password||Ke.role+"123",phone:Ke.phone?.trim()||"",address:Ke.address?.trim()||"",occupation:Ke.occupation?.trim()||"",status:Ke.status||"Active",gender:Ke.gender||"",qualification:Ke.qualification||"",specialization:Ke.specialization||[],isClassTeacher:Ke.isClassTeacher||!1,assignedClassId:Ke.assignedClassId||null,departmentId:Ke.departmentId||"",alternatePhone:Ke.alternatePhone||"",department:Ke.department||""};if(await i(mn)){$(!1),it({username:"",password:"",role:"teacher",linkedId:0,email:"",firstName:"",lastName:"",phone:"",address:"",occupation:"",status:"Active",gender:"",qualification:"",specialization:[],isClassTeacher:!1,assignedClassId:null,departmentId:"",alternatePhone:"",department:""});const Ha=mn.password;ge.success(`User created successfully! Password: ${Ha}`,{duration:1e4,action:{label:"Copy",onClick:()=>{navigator.clipboard.writeText(Ha),ge.success("Password copied to clipboard")}}})}}catch(je){console.error("Create user error:",je),ge.error(`Failed to create user: ${je instanceof Error?je.message:"Unknown error"}`)}finally{dt(!1)}},_s=async()=>{try{if(dt(!0),!Te)return;await A(Te.id,Xt)&&(ne(!1),ze(null),ge.success("User updated successfully"))}catch(je){console.error("Update user error:",je),ge.error(`Failed to update user: ${je instanceof Error?je.message:"Unknown error"}`)}finally{dt(!1)}},Ys=je=>{ze(je),de(!0)},Lr=async()=>{if(Te)try{dt(!0),await c(Te.id)&&(ge.success(`User ${Te.username} deleted successfully`),de(!1),ze(null))}catch(je){console.error("Delete user error:",je),ge.error(`Failed to delete user: ${je instanceof Error?je.message:"Unknown error"}`)}finally{dt(!1)}},Ut=je=>{ge.info(`Viewing details for ${je.username}`)},$s=()=>{ge.success("User list exported")},Hr=je=>{switch(je){case"admin":return"bg-[#DC3545]";case"teacher":return"bg-[#1E90FF]";case"accountant":return"bg-[#FFC107]";case"parent":return"bg-[#28A745]";default:return"bg-[#C0C8D3]"}},Vs=je=>{pe(je),me(!0)},tr=je=>{pe(je),Z(!0)},Ts=async je=>{if(window.confirm(`Are you sure you want to delete teacher ${je.firstName} ${je.lastName}? This action cannot be undone.`))try{await N(je.id)&&ge.success(`Teacher ${je.firstName} ${je.lastName} deleted successfully`)}catch{ge.error("Failed to delete teacher")}},Ps=je=>{et(je),z(!0)},hr=je=>{et(je),Fe(!0)},ra=async je=>{if(window.confirm(`Are you sure you want to delete parent ${je.firstName} ${je.lastName}? This action cannot be undone.`))try{await b(je.id)&&ge.success(`Parent ${je.firstName} ${je.lastName} deleted successfully`)}catch{ge.error("Failed to delete parent")}},wa=je=>{ht(je),qe(!0)},_n=je=>{ht(je),le(!0)},He=async je=>{if(window.confirm(`Are you sure you want to delete accountant ${je.firstName} ${je.lastName}? This action cannot be undone.`))try{await j(je.id)&&ge.success(`Accountant ${je.firstName} ${je.lastName} deleted successfully`)}catch{ge.error("Failed to delete accountant")}},us=async je=>{const bs=je.status==="Active"?"Inactive":"Active";try{await y(je.id,bs)&&ge.success(`Teacher ${je.firstName} ${je.lastName} status updated to ${bs}`)}catch{ge.error("Failed to update teacher status")}},ys=async je=>{const bs=je.status==="Active"?"Inactive":"Active";try{await E(je.id,bs)&&ge.success(`Parent ${je.firstName} ${je.lastName} status updated to ${bs}`)}catch{ge.error("Failed to update parent status")}},Ws=async je=>{const bs=je.status==="Active"?"Inactive":"Active";try{await U(je.id,bs)&&ge.success(`Accountant ${je.firstName} ${je.lastName} status updated to ${bs}`)}catch{ge.error("Failed to update accountant status")}};return e.jsxs("div",{className:"p-6 space-y-6",children:[xt&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading user data..."})]})}),!xt&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),e.jsx("p",{className:"text-gray-600",children:"Create and manage system users with role-based access"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Ee,{onClick:Ct,className:"bg-blue-600 hover:bg-blue-700 text-white rounded-xl",children:[e.jsx(Xo,{className:"w-4 h-4 mr-2"}),"Create User"]}),e.jsxs(Ee,{onClick:$s,variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50 rounded-xl",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),!xt&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ce,{className:"border-blue-200 bg-blue-50",children:e.jsx(Le,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:ds.users.total})]}),e.jsx(Qs,{className:"w-8 h-8 text-blue-500"})]})})}),e.jsx(Ce,{className:"border-green-200 bg-green-50",children:e.jsx(Le,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:ds.users.active})]}),e.jsx(k0,{className:"w-8 h-8 text-green-500"})]})})}),e.jsx(Ce,{className:"border-orange-200 bg-orange-50",children:e.jsx(Le,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-600 text-sm font-medium",children:"Inactive Users"}),e.jsx("p",{className:"text-2xl font-bold text-orange-900",children:ds.users.inactive})]}),e.jsx(wh,{className:"w-8 h-8 text-orange-500"})]})})}),e.jsx(Ce,{className:"border-purple-200 bg-purple-50",children:e.jsx(Le,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-600 text-sm font-medium",children:"Admin Users"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:ds.users.admin})]}),e.jsx(s2,{className:"w-8 h-8 text-purple-500"})]})})})]}),!xt&&e.jsxs(aw,{value:P,onValueChange:Q,className:"space-y-4",children:[e.jsxs(iw,{className:"grid w-full grid-cols-4",children:[e.jsxs(Dl,{value:"users",className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"w-4 h-4"}),"Users (",ds.users.total,")"]}),e.jsxs(Dl,{value:"teachers",className:"flex items-center gap-2",children:[e.jsx(Ml,{className:"w-4 h-4"}),"Teachers (",ds.teachers.total,")"]}),e.jsxs(Dl,{value:"parents",className:"flex items-center gap-2",children:[e.jsx(Uh,{className:"w-4 h-4"}),"Parents (",ds.parents.total,")"]}),e.jsxs(Dl,{value:"accountants",className:"flex items-center gap-2",children:[e.jsx(Yy,{className:"w-4 h-4"}),"Accountants (",ds.accountants.total,")"]})]}),e.jsxs(ch,{value:"users",className:"space-y-4",children:[e.jsx(Ce,{className:"border-gray-200",children:e.jsxs(Le,{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(bi,{className:"w-4 h-4 mr-2"}),"Primary Filters"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(kt,{value:k,onChange:je=>q(je.target.value),placeholder:"Search by username, email...",className:"pl-10 rounded-xl border-gray-300"})]}),e.jsx("div",{className:"flex items-center justify-center text-sm text-gray-500",children:e.jsxs("span",{className:"bg-gray-100 px-3 py-2 rounded-lg",children:[Et.length," of ",s.length," users"]})})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(wh,{className:"w-4 h-4 mr-2"}),"Secondary Filters"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(Ot,{value:G,onValueChange:H,children:[e.jsx(Mt,{className:"rounded-xl border-gray-300",children:e.jsx(Ht,{placeholder:"Select Role"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"all",children:"All Roles"}),e.jsx(ke,{value:"admin",children:"Admin"}),e.jsx(ke,{value:"teacher",children:"Teacher"}),e.jsx(ke,{value:"accountant",children:"Accountant"}),e.jsx(ke,{value:"parent",children:"Parent"})]})]}),e.jsxs(Ot,{value:I,onValueChange:D,children:[e.jsx(Mt,{className:"rounded-xl border-gray-300",children:e.jsx(Ht,{placeholder:"Select Status"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"all",children:"All Status"}),e.jsx(ke,{value:"Active",children:"Active"}),e.jsx(ke,{value:"Inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:ds.users.teacher}),e.jsx("div",{className:"text-xs text-gray-600",children:"Teachers"})]})]})]})]})}),e.jsxs(Ce,{className:"border-gray-200",children:[e.jsx(Qt,{className:"border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Users (",Et.length,")"]})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-gray-50",children:[e.jsx(At,{className:"text-gray-700",children:"User"}),e.jsx(At,{className:"text-gray-700",children:"Role"}),e.jsx(At,{className:"text-gray-700",children:"Status"}),e.jsx(At,{className:"text-gray-700",children:"Last Login"}),e.jsx(At,{className:"text-gray-700 text-center",children:"Actions"})]})}),e.jsx(On,{children:Et.length===0?e.jsx(As,{children:e.jsx(Xe,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No users found matching your criteria"})}):Et.map(je=>e.jsxs(As,{className:"hover:bg-gray-50",children:[e.jsx(Xe,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:je.username}),e.jsx("div",{className:"text-sm text-gray-500",children:je.email})]})}),e.jsx(Xe,{children:e.jsx(yt,{className:`${Hr(je.role)} text-white border-0 capitalize`,children:je.role})}),e.jsx(Xe,{children:e.jsx(yt,{className:je.status==="Active"?"bg-green-100 text-green-800 border-0":"bg-red-100 text-red-800 border-0",children:je.status})}),e.jsx(Xe,{className:"text-gray-500 text-sm",children:je.last_login?new Date(je.last_login).toLocaleDateString():"Never"}),e.jsx(Xe,{children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Ee,{onClick:()=>Ut(je),size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-gray-300 hover:bg-gray-100",title:"View Details",children:e.jsx(Pn,{className:"w-4 h-4"})}),e.jsx(Ee,{onClick:()=>Wt(je),size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-blue-300 hover:bg-blue-50 text-blue-600",title:"Edit User",children:e.jsx(Pl,{className:"w-4 h-4"})}),e.jsx(Ee,{onClick:()=>Pt(je),size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-orange-300 hover:bg-orange-50 text-orange-600",title:"Reset Password",children:e.jsx(Xy,{className:"w-4 h-4"})}),e.jsx(Ee,{onClick:()=>xs(je),size:"sm",variant:"outline",className:`h-8 w-8 p-0 ${je.status==="Active"?"border-red-300 hover:bg-red-50 text-red-600":"border-green-300 hover:bg-green-50 text-green-600"}`,title:je.status==="Active"?"Deactivate User":"Activate User",children:e.jsx(wh,{className:"w-4 h-4"})}),e.jsx(Ee,{onClick:()=>Ys(je),size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-red-300 hover:bg-red-50 text-red-600",title:"Delete User",children:e.jsx(Hi,{className:"w-4 h-4"})})]})})]},je.id))})]})})})]})]}),e.jsx(ch,{value:"teachers",className:"space-y-4",children:e.jsxs(Ce,{className:"border-gray-200",children:[e.jsx(Qt,{className:"border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Teachers (",Vt.length,")"]})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-gray-50",children:[e.jsx(At,{className:"text-gray-700",children:"Name"}),e.jsx(At,{className:"text-gray-700",children:"Employee ID"}),e.jsx(At,{className:"text-gray-700",children:"Email"}),e.jsx(At,{className:"text-gray-700",children:"Phone"}),e.jsx(At,{className:"text-gray-700",children:"Status"}),e.jsx(At,{className:"text-gray-700 text-center",children:"Actions"})]})}),e.jsx(On,{children:Vt.length===0?e.jsx(As,{children:e.jsx(Xe,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No teachers found matching your criteria"})}):Vt.map(je=>e.jsxs(As,{className:"hover:bg-gray-50",children:[e.jsx(Xe,{children:e.jsxs("div",{className:"font-medium text-gray-900",children:[je.firstName," ",je.lastName]})}),e.jsx(Xe,{className:"text-gray-600",children:je.employeeId}),e.jsx(Xe,{className:"text-gray-600",children:je.email}),e.jsx(Xe,{className:"text-gray-600",children:je.phone||"N/A"}),e.jsx(Xe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(yt,{className:je.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:je.status}),e.jsx(gf,{checked:je.status==="Active",onCheckedChange:()=>us(je),className:"ml-2"})]})}),e.jsx(Xe,{children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Ee,{onClick:()=>Vs(je),size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-gray-300 hover:bg-gray-100",title:"View Details",children:e.jsx(Pn,{className:"w-4 h-4"})}),e.jsx(Ee,{onClick:()=>tr(je),size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-blue-300 hover:bg-blue-50 text-blue-600",title:"Edit Teacher",children:e.jsx(Pl,{className:"w-4 h-4"})}),e.jsx(Ee,{onClick:()=>Ts(je),size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-red-300 hover:bg-red-50 text-red-600",title:"Delete Teacher",children:e.jsx(Hi,{className:"w-4 h-4"})})]})})]},je.id))})]})})})]})}),e.jsx(ch,{value:"parents",className:"space-y-4",children:e.jsxs(Ce,{className:"border-gray-200",children:[e.jsx(Qt,{className:"border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Parents (",Tt.length,")"]})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-gray-50",children:[e.jsx(At,{className:"text-gray-700",children:"Name"}),e.jsx(At,{className:"text-gray-700",children:"Email"}),e.jsx(At,{className:"text-gray-700",children:"Phone"}),e.jsx(At,{className:"text-gray-700",children:"Address"}),e.jsx(At,{className:"text-gray-700",children:"Status"}),e.jsx(At,{className:"text-gray-700 text-center",children:"Actions"})]})}),e.jsx(On,{children:Tt.length===0?e.jsx(As,{children:e.jsx(Xe,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No parents found matching your criteria"})}):Tt.map(je=>e.jsxs(As,{className:"hover:bg-gray-50",children:[e.jsx(Xe,{children:e.jsxs("div",{className:"font-medium text-gray-900",children:[je.firstName," ",je.lastName]})}),e.jsx(Xe,{className:"text-gray-600",children:je.email}),e.jsx(Xe,{className:"text-gray-600",children:je.phone||"N/A"}),e.jsx(Xe,{className:"text-gray-600",children:je.address||"N/A"}),e.jsx(Xe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(yt,{className:je.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:je.status}),e.jsx(gf,{checked:je.status==="Active",onCheckedChange:()=>ys(je),className:"ml-2"})]})}),e.jsx(Xe,{children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Ee,{onClick:()=>Ps(je),size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-gray-300 hover:bg-gray-100",title:"View Details",children:e.jsx(Pn,{className:"w-4 h-4"})}),e.jsx(Ee,{onClick:()=>hr(je),size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-blue-300 hover:bg-blue-50 text-blue-600",title:"Edit Parent",children:e.jsx(Pl,{className:"w-4 h-4"})}),e.jsx(Ee,{onClick:()=>ra(je),size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-red-300 hover:bg-red-50 text-red-600",title:"Delete Parent",children:e.jsx(Hi,{className:"w-4 h-4"})})]})})]},je.id))})]})})})]})}),e.jsx(ch,{value:"accountants",className:"space-y-4",children:e.jsxs(Ce,{className:"border-gray-200",children:[e.jsx(Qt,{className:"border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Accountants (",Ft.length,")"]})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-gray-50",children:[e.jsx(At,{className:"text-gray-700",children:"Name"}),e.jsx(At,{className:"text-gray-700",children:"Employee ID"}),e.jsx(At,{className:"text-gray-700",children:"Email"}),e.jsx(At,{className:"text-gray-700",children:"Phone"}),e.jsx(At,{className:"text-gray-700",children:"Department"}),e.jsx(At,{className:"text-gray-700",children:"Status"}),e.jsx(At,{className:"text-gray-700 text-center",children:"Actions"})]})}),e.jsx(On,{children:Ft.length===0?e.jsx(As,{children:e.jsx(Xe,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No accountants found matching your criteria"})}):Ft.map(je=>e.jsxs(As,{className:"hover:bg-gray-50",children:[e.jsx(Xe,{children:e.jsxs("div",{className:"font-medium text-gray-900",children:[je.firstName," ",je.lastName]})}),e.jsx(Xe,{className:"text-gray-600",children:je.employeeId}),e.jsx(Xe,{className:"text-gray-600",children:je.email}),e.jsx(Xe,{className:"text-gray-600",children:je.phone||"N/A"}),e.jsx(Xe,{className:"text-gray-600",children:je.department||"N/A"}),e.jsx(Xe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(yt,{className:je.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:je.status}),e.jsx(gf,{checked:je.status==="Active",onCheckedChange:()=>Ws(je),className:"ml-2"})]})}),e.jsx(Xe,{children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Ee,{onClick:()=>wa(je),size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-gray-300 hover:bg-gray-100",title:"View Details",children:e.jsx(Pn,{className:"w-4 h-4"})}),e.jsx(Ee,{onClick:()=>_n(je),size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-blue-300 hover:bg-blue-50 text-blue-600",title:"Edit Accountant",children:e.jsx(Pl,{className:"w-4 h-4"})}),e.jsx(Ee,{onClick:()=>He(je),size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-red-300 hover:bg-red-50 text-red-600",title:"Delete Accountant",children:e.jsx(Hi,{className:"w-4 h-4"})})]})})]},je.id))})]})})})]})})]}),!xt&&e.jsx(vr,{open:T,onOpenChange:$,children:e.jsxs(br,{className:"sm:max-w-md",children:[e.jsxs(yr,{children:[e.jsx(Nr,{children:"Create New User"}),e.jsx(Da,{children:"Create a new system user with role-based access."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"username",children:"Username *"}),e.jsx(kt,{id:"username",value:Ke.username,onChange:je=>it({...Ke,username:je.target.value}),placeholder:"Enter username"})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"password",children:"Password (Optional)"}),e.jsx(kt,{id:"password",type:"password",value:Ke.password,onChange:je=>it({...Ke,password:je.target.value}),placeholder:`Default: ${Ke.role}123`}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Leave empty to use default password: ",e.jsxs("code",{children:[Ke.role,"123"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"firstName",children:"First Name *"}),e.jsx(kt,{id:"firstName",value:Ke.firstName,onChange:je=>it({...Ke,firstName:je.target.value}),placeholder:"First name"})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"lastName",children:"Last Name *"}),e.jsx(kt,{id:"lastName",value:Ke.lastName,onChange:je=>it({...Ke,lastName:je.target.value}),placeholder:"Last name"})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"email",children:"Email *"}),e.jsx(kt,{id:"email",type:"email",value:Ke.email,onChange:je=>it({...Ke,email:je.target.value}),placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"phone",children:"Phone"}),e.jsx(kt,{id:"phone",value:Ke.phone,onChange:je=>it({...Ke,phone:je.target.value}),placeholder:"Enter phone number"})]}),Ke.role==="teacher"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"gender",children:"Gender"}),e.jsxs(Ot,{value:Ke.gender,onValueChange:je=>it({...Ke,gender:je}),children:[e.jsx(Mt,{children:e.jsx(Ht,{placeholder:"Select gender"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"Male",children:"Male"}),e.jsx(ke,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"qualification",children:"Qualification"}),e.jsx(kt,{id:"qualification",value:Ke.qualification,onChange:je=>it({...Ke,qualification:je.target.value}),placeholder:"e.g., B.Ed, M.Sc, Ph.D"})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"specialization",children:"Specialization (comma-separated)"}),e.jsx(kt,{id:"specialization",value:Ke.specialization.join(", "),onChange:je=>it({...Ke,specialization:je.target.value.split(",").map(bs=>bs.trim()).filter(bs=>bs)}),placeholder:"e.g., Mathematics, Physics, Chemistry"})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"departmentId",children:"Department"}),e.jsxs(Ot,{value:Ke.departmentId,onValueChange:je=>it({...Ke,departmentId:je}),children:[e.jsx(Mt,{children:e.jsx(Ht,{placeholder:"Select department"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"",children:"Select department"}),e.jsx(ke,{value:"1",children:"Sciences"}),e.jsx(ke,{value:"2",children:"Mathematics"}),e.jsx(ke,{value:"3",children:"Languages"}),e.jsx(ke,{value:"4",children:"Social Sciences"}),e.jsx(ke,{value:"5",children:"Technical"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isClassTeacher",checked:Ke.isClassTeacher,onChange:je=>it({...Ke,isClassTeacher:je.target.checked}),className:"rounded border-gray-300"}),e.jsx(Ze,{htmlFor:"isClassTeacher",children:"Class Teacher"})]}),Ke.isClassTeacher&&e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"assignedClass",children:"Assigned Class *"}),e.jsxs(Ot,{value:Ke.assignedClassId?.toString()||"",onValueChange:je=>it({...Ke,assignedClassId:parseInt(je)}),children:[e.jsx(Mt,{className:"h-12 rounded-xl border border-gray-300 bg-white text-gray-900",children:e.jsx(Ht,{placeholder:"Select class"})}),e.jsxs(Kt,{className:"bg-white border-gray-200",children:[a.filter(je=>je.status==="Active"&&!je.class_teacher_id).map(je=>e.jsx(ke,{value:je.id.toString(),className:"text-gray-900",children:je.name},je.id)),a.filter(je=>je.status==="Active"&&je.class_teacher_id).length>0&&e.jsx("div",{className:"px-2 py-1 text-xs text-gray-500 border-t",children:"Classes with teachers are hidden"})]})]})]})]}),Ke.role==="parent"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"address",children:"Address *"}),e.jsx(kt,{id:"address",value:Ke.address,onChange:je=>it({...Ke,address:je.target.value}),placeholder:"Enter home address"})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"alternatePhone",children:"Alternate Phone"}),e.jsx(kt,{id:"alternatePhone",value:Ke.alternatePhone,onChange:je=>it({...Ke,alternatePhone:je.target.value}),placeholder:"Alternate contact number"})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"occupation",children:"Occupation *"}),e.jsx(kt,{id:"occupation",value:Ke.occupation,onChange:je=>it({...Ke,occupation:je.target.value}),placeholder:"Enter occupation"})]})]}),Ke.role==="accountant"&&e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"department",children:"Department"}),e.jsx(kt,{id:"department",value:Ke.department,onChange:je=>it({...Ke,department:je.target.value}),placeholder:"e.g., Finance, Accounts, Bursary"})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"role",children:"Role *"}),e.jsxs(Ot,{value:Ke.role,onValueChange:je=>it({...Ke,role:je}),children:[e.jsx(Mt,{children:e.jsx(Ht,{placeholder:"Select role"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"admin",children:"Admin"}),e.jsx(ke,{value:"teacher",children:"Teacher"}),e.jsx(ke,{value:"accountant",children:"Accountant"}),e.jsx(ke,{value:"parent",children:"Parent"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"status",children:"Status"}),e.jsxs(Ot,{value:Ke.status,onValueChange:je=>it({...Ke,status:je}),children:[e.jsx(Mt,{children:e.jsx(Ht,{placeholder:"Select status"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"Active",children:"Active"}),e.jsx(ke,{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs(uo,{children:[e.jsx(Ee,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),e.jsx(Ee,{onClick:Ks,disabled:xt,children:xt?"Creating...":"Create User"})]})]})}),!xt&&e.jsx(vr,{open:W,onOpenChange:ne,children:e.jsxs(br,{className:"sm:max-w-md",children:[e.jsxs(yr,{children:[e.jsx(Nr,{children:"Edit User"}),e.jsx(Da,{children:"Update user information and settings."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"edit-username",children:"Username"}),e.jsx(kt,{id:"edit-username",value:Xt.username,onChange:je=>Lt({...Xt,username:je.target.value}),placeholder:"Enter username"})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"edit-email",children:"Email"}),e.jsx(kt,{id:"edit-email",type:"email",value:Xt.email,onChange:je=>Lt({...Xt,email:je.target.value}),placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"edit-role",children:"Role"}),e.jsxs(Ot,{value:Xt.role,onValueChange:je=>Lt({...Xt,role:je}),children:[e.jsx(Mt,{children:e.jsx(Ht,{placeholder:"Select role"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"admin",children:"Admin"}),e.jsx(ke,{value:"teacher",children:"Teacher"}),e.jsx(ke,{value:"accountant",children:"Accountant"}),e.jsx(ke,{value:"parent",children:"Parent"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"edit-status",children:"Status"}),e.jsxs(Ot,{value:Xt.status,onValueChange:je=>Lt({...Xt,status:je}),children:[e.jsx(Mt,{children:e.jsx(Ht,{placeholder:"Select status"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"Active",children:"Active"}),e.jsx(ke,{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs(uo,{children:[e.jsx(Ee,{variant:"outline",onClick:()=>ne(!1),children:"Cancel"}),e.jsx(Ee,{onClick:_s,disabled:xt,children:xt?"Updating...":"Update User"})]})]})}),!xt&&e.jsx(Cc,{open:O,onOpenChange:X,children:e.jsxs(Sc,{children:[e.jsxs(Ec,{children:[e.jsx(_c,{children:"Reset Password"}),e.jsxs(Uc,{children:["Are you sure you want to reset the password for ",Te?.username,"? A temporary password will be generated and shown to you."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vi,{id:"reset-email",checked:Re,onCheckedChange:je=>Oe(je)}),e.jsx(Ze,{htmlFor:"reset-email",children:"Send via Email"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vi,{id:"reset-sms",checked:ft,onCheckedChange:je=>_t(je)}),e.jsx(Ze,{htmlFor:"reset-sms",children:"Send via SMS"})]})]}),e.jsxs(Fc,{children:[e.jsx(Ic,{children:"Cancel"}),e.jsx(kc,{onClick:Bt,children:"Reset Password"})]})]})}),!xt&&e.jsx(Cc,{open:ue,onOpenChange:se,children:e.jsxs(Sc,{children:[e.jsxs(Ec,{children:[e.jsx(_c,{children:Te?.status==="Active"?"Deactivate User":"Activate User"}),e.jsxs(Uc,{children:["Are you sure you want to ",Te?.status==="Active"?"deactivate":"activate"," ",Te?.username,"?",Te?.status==="Active"?" The user will not be able to access the system.":" The user will regain access to the system."]})]}),e.jsxs(Fc,{children:[e.jsx(Ic,{children:"Cancel"}),e.jsx(kc,{onClick:bt,children:Te?.status==="Active"?"Deactivate":"Activate"})]})]})}),!xt&&e.jsx(Cc,{open:M,onOpenChange:de,children:e.jsxs(Sc,{children:[e.jsxs(Ec,{children:[e.jsx(_c,{children:"Delete User"}),e.jsxs(Uc,{children:["Are you sure you want to delete ",Te?.username,"? This action cannot be undone.",e.jsx("br",{}),e.jsx("br",{}),e.jsx("strong",{children:"Warning:"})," This will permanently remove the user and all their associated data from the system.",Te?.role==="teacher"&&" This includes all teacher records, subject assignments, and related data.",Te?.role==="parent"&&" This includes all parent records and student links.",Te?.role==="accountant"&&" This includes all accountant records and financial data."]})]}),e.jsxs(Fc,{children:[e.jsx(Ic,{disabled:xt,children:"Cancel"}),e.jsx(kc,{onClick:Lr,disabled:xt,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:xt?"Deleting...":"Delete User"})]})]})})]})}function wi({className:s,...t}){return e.jsx("textarea",{"data-slot":"textarea",className:ms("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...t})}function Gk(){const{notifications:s,addNotification:t,currentUser:r,users:n}=Fs(),[a,i]=S.useState({title:"",message:"",recipient:"",priority:"info"}),[A,c]=S.useState({teachers:!1,parents:!1,accountants:!1}),d=s.slice(0,10),u=s.filter(y=>{const E=new Date(Date.now()-6048e5);return new Date(y.sentDate)>=E}).length,m=s.length,f=s.reduce((y,E)=>y+E.readBy.length,0),x=s.reduce((y,E)=>{const U=E.targetAudience;return U==="all"?y+n.length:U==="teachers"?y+n.filter(k=>k.role==="teacher").length:U==="parents"?y+n.filter(k=>k.role==="parent").length:U==="accountants"?y+n.filter(k=>k.role==="accountant").length:y},0),g=x>0?Math.round(f/x*100):0,N=97,b=y=>{if(y.preventDefault(),!a.title||!a.message||!a.recipient){ge.error("Please fill in all required fields");return}if(!r){ge.error("You must be logged in to send notifications");return}let E="all";a.recipient==="custom"?A.teachers&&!A.parents&&!A.accountants?E="teachers":A.parents&&!A.teachers&&!A.accountants?E="parents":A.accountants&&!A.teachers&&!A.parents?E="accountants":E="all":E=a.recipient;const U={normal:"info",low:"info",high:"warning",urgent:"error"};t({title:a.title,message:a.message,type:U[a.priority]||"info",targetAudience:E,sentBy:r.id}),ge.success("Notification sent successfully!"),i({title:"",message:"",recipient:"",priority:"info"}),c({teachers:!1,parents:!1,accountants:!1})},j=y=>{switch(y){case"success":return"bg-[#28A745]";case"warning":return"bg-[#FFC107]";case"error":return"bg-[#DC3545]";default:return"bg-[#1E90FF]"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-white mb-2",children:"Notification System"}),e.jsx("p",{className:"text-[#C0C8D3]",children:"Send notifications and announcements to users"})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:[e.jsx(Qt,{className:"p-5 border-b border-white/10",children:e.jsxs("h3",{className:"text-white flex items-center gap-2",children:[e.jsx(Bu,{className:"w-5 h-5"}),"Create New Notification"]})}),e.jsx(Le,{className:"p-6",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"Notification Title *"}),e.jsx(kt,{required:!0,value:a.title,onChange:y=>i({...a,title:y.target.value}),placeholder:"Enter notification title",className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"Message *"}),e.jsx(wi,{required:!0,value:a.message,onChange:y=>i({...a,message:y.target.value}),placeholder:"Enter your message here...",className:"min-h-32 rounded-xl border border-white/10 bg-[#0F243E] text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"Recipients *"}),e.jsxs(Ot,{value:a.recipient,onValueChange:y=>i({...a,recipient:y}),children:[e.jsx(Mt,{className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white",children:e.jsx(Ht,{placeholder:"Select recipient group"})}),e.jsxs(Kt,{className:"bg-[#0F243E] border-white/10",children:[e.jsx(ke,{value:"all",className:"text-white hover:bg-[#1E90FF]",children:"All Users"}),e.jsx(ke,{value:"teachers",className:"text-white hover:bg-[#1E90FF]",children:"All Teachers"}),e.jsx(ke,{value:"parents",className:"text-white hover:bg-[#1E90FF]",children:"All Parents"}),e.jsx(ke,{value:"accountants",className:"text-white hover:bg-[#1E90FF]",children:"All Accountants"}),e.jsx(ke,{value:"custom",className:"text-white hover:bg-[#1E90FF]",children:"Custom Selection"})]})]})]}),a.recipient==="custom"&&e.jsxs("div",{className:"p-4 bg-[#0F243E] rounded-xl border border-white/10 space-y-3",children:[e.jsx(Ze,{className:"text-white",children:"Select User Roles:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vi,{id:"teachers",checked:A.teachers,onCheckedChange:y=>c({...A,teachers:y}),className:"border-white/20"}),e.jsxs(Ze,{htmlFor:"teachers",className:"text-white cursor-pointer flex items-center gap-2",children:[e.jsx(Ml,{className:"w-4 h-4"}),"Teachers"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vi,{id:"parents",checked:A.parents,onCheckedChange:y=>c({...A,parents:y}),className:"border-white/20"}),e.jsxs(Ze,{htmlFor:"parents",className:"text-white cursor-pointer flex items-center gap-2",children:[e.jsx(Qs,{className:"w-4 h-4"}),"Parents"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vi,{id:"accountants",checked:A.accountants,onCheckedChange:y=>c({...A,accountants:y}),className:"border-white/20"}),e.jsxs(Ze,{htmlFor:"accountants",className:"text-white cursor-pointer flex items-center gap-2",children:[e.jsx(Yy,{className:"w-4 h-4"}),"Accountants"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"Priority Level"}),e.jsxs(Ot,{value:a.priority,onValueChange:y=>i({...a,priority:y}),children:[e.jsx(Mt,{className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white",children:e.jsx(Ht,{})}),e.jsxs(Kt,{className:"bg-[#0F243E] border-white/10",children:[e.jsx(ke,{value:"info",className:"text-white hover:bg-[#1E90FF]",children:"Info"}),e.jsx(ke,{value:"warning",className:"text-white hover:bg-[#1E90FF]",children:"Warning"}),e.jsx(ke,{value:"success",className:"text-white hover:bg-[#1E90FF]",children:"Success"}),e.jsx(ke,{value:"error",className:"text-white hover:bg-[#1E90FF]",children:"Error"})]})]})]}),e.jsx("div",{className:"flex gap-3 pt-4",children:e.jsxs(Ee,{type:"submit",className:"flex-1 h-12 bg-[#1E90FF] hover:bg-[#00BFFF] text-white rounded-xl shadow-md hover:scale-105 transition-all",children:[e.jsx(Bu,{className:"w-5 h-5 mr-2"}),"Send Notification"]})})]})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:[e.jsx(Qt,{className:"p-5 border-b border-white/10",children:e.jsxs("h3",{className:"text-white flex items-center gap-2",children:[e.jsx(Zo,{className:"w-5 h-5"}),"Recent Notifications"]})}),e.jsx(Le,{className:"p-5 space-y-3",children:d.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Zo,{className:"w-12 h-12 mx-auto mb-3 text-[#C0C8D3]"}),e.jsx("p",{className:"text-white mb-1",children:"No notifications yet"}),e.jsx("p",{className:"text-sm text-[#C0C8D3]",children:"Send your first notification above"})]}):d.map(y=>e.jsxs("div",{className:"p-3 bg-[#0F243E] rounded-xl border border-white/5 hover:border-white/10 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("p",{className:"text-white text-sm",children:y.title}),e.jsx(yt,{className:`${j(y.type)} text-white border-0 text-xs`,children:y.type})]}),e.jsx("p",{className:"text-xs text-[#C0C8D3] mb-2 line-clamp-2",children:y.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-[#C0C8D3]",children:y.targetAudience}),e.jsx("span",{className:"text-xs text-[#C0C8D3]",children:new Date(y.sentDate).toLocaleDateString()})]})]},y.id))})]}),e.jsxs(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:[e.jsx(Qt,{className:"p-5 border-b border-white/10",children:e.jsx("h3",{className:"text-white text-sm",children:"Statistics"})}),e.jsxs(Le,{className:"p-5 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#C0C8D3]",children:"Sent This Week"}),e.jsx("span",{className:"text-white",children:u})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#C0C8D3]",children:"Total Sent"}),e.jsx("span",{className:"text-white",children:m})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#C0C8D3]",children:"Delivered"}),e.jsxs("span",{className:"text-[#28A745]",children:[N,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#C0C8D3]",children:"Read Rate"}),e.jsxs("span",{className:"text-[#1E90FF]",children:[g,"%"]})]})]})]})]})]})]})}var $k=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wk=$k.reduce((s,t)=>{const r=ip(`Primitive.${t}`),n=S.forwardRef((a,i)=>{const{asChild:A,...c}=a,d=A?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...s,[t]:n}},{}),qk="Separator",v1="horizontal",Yk=["horizontal","vertical"],Wj=S.forwardRef((s,t)=>{const{decorative:r,orientation:n=v1,...a}=s,i=Jk(n)?n:v1,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(Wk.div,{"data-orientation":i,...c,...a,ref:t})});Wj.displayName=qk;function Jk(s){return Yk.includes(s)}var Xk=Wj;function Zk({className:s,orientation:t="horizontal",decorative:r=!0,...n}){return e.jsx(Xk,{"data-slot":"separator-root",decorative:r,orientation:t,className:ms("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...n})}function eI(){const{currentTerm:s,currentAcademicYear:t,updateCurrentTerm:r,updateCurrentAcademicYear:n,schoolSettings:a,updateSchoolSettings:i,createUserAPI:A,resetUserPasswordAPI:c,users:d,changePassword:u}=Fs(),[m,f]=S.useState({currentSession:t,currentTerm:s}),[x,g]=S.useState({schoolName:a.school_name,schoolMotto:a.school_motto,principalName:a.principal_name});S.useEffect(()=>{f({currentSession:t,currentTerm:s})},[t,s]),S.useEffect(()=>{g({schoolName:a.school_name,schoolMotto:a.school_motto,principalName:a.principal_name})},[a]);const[N,b]=S.useState({username:"",email:"",password:""}),[j,y]=S.useState({username:"",newPassword:""}),E=async()=>{await n(m.currentSession),await r(m.currentTerm),ge.success(`Academic session and term updated to ${m.currentSession} - ${m.currentTerm}`)},U=async()=>{await i({school_name:x.schoolName,school_motto:x.schoolMotto,principal_name:x.principalName}),ge.success("School branding updated successfully!")},k=async G=>{if(G.preventDefault(),Users.find(I=>I.username===N.username)){ge.error("Username already exists. Please choose a different username.");return}await A({username:N.username,password:N.password,role:"admin",linkedId:0,email:N.email,status:"Active"}),ge.success("New admin account created successfully!"),b({username:"",email:"",password:""})},q=async()=>{if(!j.username||!j.newPassword){ge.error("Please enter both username and new password");return}const G=Users.find(I=>I.username===j.username);if(!G){ge.error("User not found");return}await c(G.id,j.newPassword)?(ge.success(`Password reset successful for ${j.username}!`),y({username:"",newPassword:""})):ge.error("Password reset failed")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-white mb-2",children:"System Settings"}),e.jsx("p",{className:"text-[#C0C8D3]",children:"Configure school system settings and administration"})]}),e.jsxs(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg max-w-4xl",children:[e.jsx(Qt,{className:"p-5 border-b border-white/10",children:e.jsx("h3",{className:"text-white",children:"School Branding"})}),e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-32 h-32 rounded-xl bg-gradient-to-br from-[#1E90FF] to-[#00BFFF] flex items-center justify-center border-4 border-white/10",children:e.jsx("span",{className:"text-white text-center px-4",children:"School Logo"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white mb-3",children:"Upload School Logo"}),e.jsxs(Ee,{className:"bg-[#1E90FF] hover:bg-[#00BFFF] text-white rounded-xl shadow-md hover:scale-105 transition-all",children:[e.jsx(go,{className:"w-4 h-4 mr-2"}),"Choose File"]}),e.jsx("p",{className:"text-xs text-[#C0C8D3] mt-2",children:"Recommended: 512x512px, PNG or JPG"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"School Name"}),e.jsx(kt,{value:x.schoolName,onChange:G=>g({...x,schoolName:G.target.value}),className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"School Motto"}),e.jsx(kt,{value:x.schoolMotto,onChange:G=>g({...x,schoolMotto:G.target.value}),className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"Principal Name"}),e.jsx(kt,{value:x.principalName,onChange:G=>g({...x,principalName:G.target.value}),className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white"})]}),e.jsxs(Ee,{onClick:U,className:"bg-[#28A745] hover:bg-[#28A745]/90 text-white rounded-xl shadow-md hover:scale-105 transition-all",children:[e.jsx(Hc,{className:"w-4 h-4 mr-2"}),"Save Branding"]})]})})]}),e.jsxs(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg max-w-4xl",children:[e.jsx(Qt,{className:"p-5 border-b border-white/10",children:e.jsx("h3",{className:"text-white",children:"Academic Session & Term"})}),e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"Current Academic Session"}),e.jsxs(Ot,{value:m.currentSession,onValueChange:G=>f({...m,currentSession:G}),children:[e.jsx(Mt,{className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white",children:e.jsx(Ht,{})}),e.jsxs(Kt,{className:"bg-[#0F243E] border-white/10",children:[e.jsx(ke,{value:"2023/2024",className:"text-white hover:bg-[#1E90FF]",children:"2023/2024"}),e.jsx(ke,{value:"2024/2025",className:"text-white hover:bg-[#1E90FF]",children:"2024/2025"}),e.jsx(ke,{value:"2025/2026",className:"text-white hover:bg-[#1E90FF]",children:"2025/2026"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"Current Term"}),e.jsxs(Ot,{value:m.currentTerm,onValueChange:G=>f({...m,currentTerm:G}),children:[e.jsx(Mt,{className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white",children:e.jsx(Ht,{})}),e.jsxs(Kt,{className:"bg-[#0F243E] border-white/10",children:[e.jsx(ke,{value:"First Term",className:"text-white hover:bg-[#1E90FF]",children:"First Term"}),e.jsx(ke,{value:"Second Term",className:"text-white hover:bg-[#1E90FF]",children:"Second Term"}),e.jsx(ke,{value:"Third Term",className:"text-white hover:bg-[#1E90FF]",children:"Third Term"})]})]})]})]}),e.jsx("div",{className:"p-4 bg-[#1E90FF]/10 border border-[#1E90FF] rounded-xl",children:e.jsxs("p",{className:"text-[#C0C8D3]",children:[e.jsx("strong",{className:"text-white",children:"Note:"})," Changing the session or term will affect all result entries and fee structures. Please ensure all current term results are finalized before updating."]})}),e.jsxs(Ee,{onClick:E,className:"bg-[#1E90FF] hover:bg-[#00BFFF] text-white rounded-xl shadow-md hover:scale-105 transition-all",children:[e.jsx(Fh,{className:"w-4 h-4 mr-2"}),"Update Session & Term"]})]})})]}),e.jsxs(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg max-w-4xl",children:[e.jsx(Qt,{className:"p-5 border-b border-white/10",children:e.jsx("h3",{className:"text-white",children:"Administrator Management"})}),e.jsxs(Le,{className:"p-6",children:[e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"New Admin Username"}),e.jsx(kt,{required:!0,value:N.username,onChange:G=>b({...N,username:G.target.value}),placeholder:"Enter username",className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"Admin Email"}),e.jsx(kt,{required:!0,type:"email",value:N.email,onChange:G=>b({...N,email:G.target.value}),placeholder:"admin@gracelandgombe.edu",className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"Initial Password"}),e.jsx(kt,{required:!0,type:"password",value:N.password,onChange:G=>b({...N,password:G.target.value}),placeholder:"Enter secure password",className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white"})]})]}),e.jsxs(Ee,{type:"submit",className:"bg-[#28A745] hover:bg-[#28A745]/90 text-white rounded-xl shadow-md hover:scale-105 transition-all",children:[e.jsx(Tc,{className:"w-4 h-4 mr-2"}),"Create Admin Account"]})]}),e.jsx(Zk,{className:"my-6 bg-white/10"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-white",children:"Password Management"}),e.jsx("p",{className:"text-[#C0C8D3]",children:"Reset password for existing users (Admin, Teacher, Accountant, Parent)"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsx(kt,{placeholder:"Enter username",value:j.username,onChange:G=>y({...j,username:G.target.value}),className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white"}),e.jsx(kt,{type:"password",placeholder:"Enter new password",value:j.newPassword,onChange:G=>y({...j,newPassword:G.target.value}),className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white"})]}),e.jsx(Ee,{onClick:q,className:"bg-[#FFC107] hover:bg-[#FFC107]/90 text-[#0A2540] rounded-xl shadow-md hover:scale-105 transition-all whitespace-nowrap px-6",children:"Reset Password"})]})]})]}),e.jsxs(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg max-w-4xl",children:[e.jsx(Qt,{className:"p-5 border-b border-white/10",children:e.jsx("h3",{className:"text-white",children:"System Information"})}),e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-[#0F243E] rounded-xl border border-white/5",children:[e.jsx("p",{className:"text-[#C0C8D3] mb-1",children:"System Version"}),e.jsx("p",{className:"text-white",children:"v1.0.0"})]}),e.jsxs("div",{className:"p-4 bg-[#0F243E] rounded-xl border border-white/5",children:[e.jsx("p",{className:"text-[#C0C8D3] mb-1",children:"Last Backup"}),e.jsx("p",{className:"text-white",children:"2024-01-15 10:30 AM"})]}),e.jsxs("div",{className:"p-4 bg-[#0F243E] rounded-xl border border-white/5",children:[e.jsx("p",{className:"text-[#C0C8D3] mb-1",children:"Total Users"}),e.jsx("p",{className:"text-white",children:d.length})]}),e.jsxs("div",{className:"p-4 bg-[#0F243E] rounded-xl border border-white/5",children:[e.jsx("p",{className:"text-[#C0C8D3] mb-1",children:"System Status"}),e.jsx("p",{className:"text-[#28A745]",children:"Operational"})]})]})})]})]})}function tI(s,t=[]){let r=[];function n(i,A){const c=S.createContext(A);c.displayName=i+"Context";const d=r.length;r=[...r,A];const u=f=>{const{scope:x,children:g,...N}=f,b=x?.[s]?.[d]||c,j=S.useMemo(()=>N,Object.values(N));return e.jsx(b.Provider,{value:j,children:g})};u.displayName=i+"Provider";function m(f,x){const g=x?.[s]?.[d]||c,N=S.useContext(g);if(N)return N;if(A!==void 0)return A;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,m]}const a=()=>{const i=r.map(A=>S.createContext(A));return function(c){const d=c?.[s]||i;return S.useMemo(()=>({[`__scope${s}`]:{...c,[s]:d}}),[c,d])}};return a.scopeName=s,[n,sI(a,...t)]}function sI(...s){const t=s[0];if(s.length===1)return t;const r=()=>{const n=s.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const A=n.reduce((c,{useScope:d,scopeName:u})=>{const f=d(i)[`__scope${u}`];return{...c,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:A}),[A])}};return r.scopeName=t.scopeName,r}var rI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ow=rI.reduce((s,t)=>{const r=ip(`Primitive.${t}`),n=S.forwardRef((a,i)=>{const{asChild:A,...c}=a,d=A?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...s,[t]:n}},{}),Rg={exports:{}},Dg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function nI(){if(b1)return Dg;b1=1;var s=rp();function t(f,x){return f===x&&(f!==0||1/f===1/x)||f!==f&&x!==x}var r=typeof Object.is=="function"?Object.is:t,n=s.useState,a=s.useEffect,i=s.useLayoutEffect,A=s.useDebugValue;function c(f,x){var g=x(),N=n({inst:{value:g,getSnapshot:x}}),b=N[0].inst,j=N[1];return i(function(){b.value=g,b.getSnapshot=x,d(b)&&j({inst:b})},[f,g,x]),a(function(){return d(b)&&j({inst:b}),f(function(){d(b)&&j({inst:b})})},[f]),A(g),g}function d(f){var x=f.getSnapshot;f=f.value;try{var g=x();return!r(f,g)}catch{return!0}}function u(f,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:c;return Dg.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:m,Dg}var y1;function aI(){return y1||(y1=1,Rg.exports=nI()),Rg.exports}var iI=aI();function oI(){return iI.useSyncExternalStore(lI,()=>!0,()=>!1)}function lI(){return()=>{}}var lw="Avatar",[AI]=tI(lw),[cI,qj]=AI(lw),Yj=S.forwardRef((s,t)=>{const{__scopeAvatar:r,...n}=s,[a,i]=S.useState("idle");return e.jsx(cI,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:e.jsx(ow.span,{...n,ref:t})})});Yj.displayName=lw;var Jj="AvatarImage",dI=S.forwardRef((s,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=s,A=qj(Jj,r),c=uI(n,i),d=_A(u=>{a(u),A.onImageLoadingStatusChange(u)});return Hn(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?e.jsx(ow.img,{...i,ref:t,src:n}):null});dI.displayName=Jj;var Xj="AvatarFallback",Zj=S.forwardRef((s,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=s,i=qj(Xj,r),[A,c]=S.useState(n===void 0);return S.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(d)}},[n]),A&&i.imageLoadingStatus!=="loaded"?e.jsx(ow.span,{...a,ref:t}):null});Zj.displayName=Xj;function N1(s,t){return s?t?(s.src!==t&&(s.src=t),s.complete&&s.naturalWidth>0?"loaded":"loading"):"error":"idle"}function uI(s,{referrerPolicy:t,crossOrigin:r}){const n=oI(),a=S.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[A,c]=S.useState(()=>N1(i,s));return Hn(()=>{c(N1(i,s))},[i,s]),Hn(()=>{const d=f=>()=>{c(f)};if(!i)return;const u=d("loaded"),m=d("error");return i.addEventListener("load",u),i.addEventListener("error",m),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",m)}},[i,r,t]),A}var hI=Yj,mI=Zj;function yA({className:s,...t}){return e.jsx(hI,{"data-slot":"avatar",className:ms("relative flex size-10 shrink-0 overflow-hidden rounded-full",s),...t})}function NA({className:s,...t}){return e.jsx(mI,{"data-slot":"avatar-fallback",className:ms("bg-muted flex size-full items-center justify-center rounded-full",s),...t})}function fI(){const{students:s,parents:t,linkStudentToParent:r,unlinkStudentFromParent:n,classes:a,parentStudentLinks:i}=Fs(),[A,c]=S.useState(""),[d,u]=S.useState(""),[m,f]=S.useState(null),[x,g]=S.useState(null),[N,b]=S.useState("Guardian"),[j,y]=S.useState(!0),[E,U]=S.useState(!1),[k,q]=S.useState(null),G=Array.isArray(s)?s.map(V=>{const ie=Array.isArray(a)?a.find(ne=>ne.id===V.class_id):null,W=Array.isArray(t)?t.find(ne=>ne.id===V.parent_id):null;return{id:V.id,name:`${V.firstName||""} ${V.lastName||""}`.trim()||"Unknown Student",admissionNo:V.admissionNumber,class:V.className||ie?.name||"N/A",photo:V.photo_url||null,hasParent:V.parent_id!==null,parentName:W?`${W.firstName||""} ${W.lastName||""}`.trim():null}}):[],H=Array.isArray(t)?t.map(V=>{const ie=Array.isArray(i)?i.filter(W=>W.parent_id===V.id).map(W=>{const ne=Array.isArray(s)?s.find(M=>M.id===W.student_id):null;return ne?{id:ne.id,name:`${ne.firstName||""} ${ne.lastName||""}`.trim(),admissionNo:ne.admissionNumber,class:ne.className,relationship:W.relationship}:null}).filter(W=>W!==null):[];return{id:V.id,name:`${V.firstName||""} ${V.lastName||""}`.trim()||"Unknown Parent",email:V.email||"N/A",phone:V.phone||"N/A",linkedChildren:ie,linkedCount:ie.length}}):[],I=Array.isArray(G)?G.filter(V=>V.name&&V.name.toLowerCase().includes(A.toLowerCase())||V.admissionNo&&V.admissionNo.toLowerCase().includes(A.toLowerCase())||V.class&&V.class.toLowerCase().includes(A.toLowerCase())):[],D=Array.isArray(H)?H.filter(V=>V.name&&V.name.toLowerCase().includes(d.toLowerCase())||V.email&&V.email.toLowerCase().includes(d.toLowerCase())||V.phone&&V.phone.toLowerCase().includes(d.toLowerCase())):[],P=async()=>{if(!m||!x){ge.error("Please select both a student and a parent");return}try{if(await r(x.id,m.id,N)){const ie=j?"  Parent will be notified":"";ge.success(`${m.name} linked to ${x.name} as ${N}${ie}`,{duration:4e3}),f(null),g(null)}else ge.error("Failed to link student to parent")}catch{ge.error("An error occurred while linking")}},Q=(V,ie,W)=>{q({parentId:V,studentId:ie,studentName:W}),U(!0)},T=async()=>{if(!k)return;const{parentId:V,studentId:ie}=k;try{await n(V,ie)?(ge.success(`${k.studentName} unlinked successfully`),U(!1),q(null),x?.id===V&&g(null),m?.id===ie&&f(null)):ge.error("Failed to unlink student")}catch{ge.error("An error occurred while unlinking")}},$={totalStudents:Array.isArray(s)?s.length:0,linkedStudents:Array.isArray(s)?s.filter(V=>V.parent_id!==null).length:0,unlinkedStudents:Array.isArray(s)?s.filter(V=>V.parent_id===null).length:0,totalParents:Array.isArray(t)?t.length:0};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-[#0A2540] mb-2",children:"Link Student to Parent"}),e.jsx("p",{className:"text-gray-600",children:"Connect students with their parents/guardians for portal access"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Total Students"}),e.jsx("p",{className:"text-[#0A2540]",children:$.totalStudents})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:e.jsx(Qs,{className:"w-6 h-6 text-blue-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Linked"}),e.jsx("p",{className:"text-[#0A2540]",children:$.linkedStudents})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:e.jsx(bA,{className:"w-6 h-6 text-green-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Unlinked"}),e.jsx("p",{className:"text-[#0A2540]",children:$.unlinkedStudents})]}),e.jsx("div",{className:"bg-yellow-100 p-3 rounded-xl",children:e.jsx(Es,{className:"w-6 h-6 text-yellow-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Total Parents"}),e.jsx("p",{className:"text-[#0A2540]",children:$.totalParents})]}),e.jsx("div",{className:"bg-purple-100 p-3 rounded-xl",children:e.jsx(Uh,{className:"w-6 h-6 text-purple-600"})})]})})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"p-5 bg-[#3B82F6] rounded-t-xl",children:e.jsxs("h3",{className:"text-white flex items-center gap-2",children:[e.jsx(Qs,{className:"w-5 h-5"}),"Select Student"]})}),e.jsxs(Le,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(kt,{value:A,onChange:V=>c(V.target.value),placeholder:"Search by name, admission no, or class...",className:"pl-10 rounded-xl border-[#0A2540]/20"})]}),m&&e.jsxs("div",{className:"p-4 bg-green-50 border-2 border-green-500 rounded-xl",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yA,{className:"w-12 h-12 border-2 border-green-500",children:e.jsx(NA,{className:"bg-green-500 text-white",children:m.name.split(" ").map(V=>V[0]).join("")})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#0A2540] text-sm",children:m.name}),e.jsx("p",{className:"text-xs text-gray-600",children:m.admissionNo})]})]}),e.jsx(Ee,{onClick:()=>f(null),size:"sm",variant:"ghost",className:"h-8 w-8 p-0 rounded-full hover:bg-red-50",children:e.jsx(FA,{className:"w-4 h-4 text-red-600"})})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(yt,{variant:"outline",className:"rounded-xl",children:m.class}),m.hasParent&&e.jsx(yt,{className:"bg-yellow-100 text-yellow-800 rounded-xl",children:"Already Linked"})]})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:I.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Es,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),e.jsx("p",{children:"No students found"})]}):I.map(V=>e.jsx("button",{onClick:()=>f(V),className:`w-full p-3 rounded-xl transition-all text-left ${m?.id===V.id?"bg-green-50 border-2 border-green-500":"bg-gray-50 border border-gray-200 hover:border-blue-400 hover:bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yA,{className:"w-10 h-10",children:e.jsx(NA,{className:"bg-blue-500 text-white text-sm",children:V.name.split(" ").map(ie=>ie[0]).join("")})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[#0A2540] text-sm",children:V.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("p",{className:"text-xs text-gray-600",children:V.admissionNo}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("p",{className:"text-xs text-gray-600",children:V.class})]}),V.hasParent&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Linked to: ",V.parentName]})]}),V.hasParent&&e.jsx(bA,{className:"w-4 h-4 text-green-600"})]})},V.id))})]})]}),e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"p-5 bg-[#10B981] rounded-t-xl",children:e.jsxs("h3",{className:"text-white flex items-center gap-2",children:[e.jsx(Uh,{className:"w-5 h-5"}),"Select Parent"]})}),e.jsxs(Le,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(kt,{value:d,onChange:V=>u(V.target.value),placeholder:"Search by name, phone, or email...",className:"pl-10 rounded-xl border-[#0A2540]/20"})]}),x&&e.jsxs("div",{className:"p-4 bg-green-50 border-2 border-green-500 rounded-xl",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yA,{className:"w-12 h-12 border-2 border-green-500",children:e.jsx(NA,{className:"bg-green-500 text-white",children:x.name.split(" ").map(V=>V[0]).join("")})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#0A2540] text-sm",children:x.name}),e.jsx("p",{className:"text-xs text-gray-600",children:x.phone})]})]}),e.jsx(Ee,{onClick:()=>g(null),size:"sm",variant:"ghost",className:"h-8 w-8 p-0 rounded-full hover:bg-red-50",children:e.jsx(FA,{className:"w-4 h-4 text-red-600"})})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:x.email}),e.jsxs(yt,{variant:"outline",className:"rounded-xl",children:[x.linkedChildren.length," child(ren) linked"]})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:D.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Es,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),e.jsx("p",{children:"No parents found"})]}):D.map(V=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>g(V),className:`w-full p-3 rounded-xl transition-all text-left ${x?.id===V.id?"bg-green-50 border-2 border-green-500":"bg-gray-50 border border-gray-200 hover:border-green-400 hover:bg-green-50"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yA,{className:"w-10 h-10",children:e.jsx(NA,{className:"bg-green-500 text-white text-sm",children:V.name.split(" ").map(ie=>ie[0]).join("")})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[#0A2540] text-sm",children:V.name}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:V.phone})]}),e.jsx(yt,{variant:"outline",className:"rounded-xl text-xs",children:V.linkedChildren.length})]})}),x?.id===V.id&&V.linkedChildren.length>0&&e.jsxs("div",{className:"ml-4 mt-2 space-y-2",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Currently linked children:"}),V.linkedChildren.map(ie=>e.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[#0A2540] text-xs",children:ie.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:[ie.admissionNo,"  ",ie.class]}),e.jsx("p",{className:"text-xs text-blue-600",children:ie.relationship})]}),e.jsxs(Ee,{onClick:()=>Q(V.id,ie.id,ie.name),size:"sm",className:"h-8 px-3 bg-red-600 hover:bg-red-700 text-white rounded-lg text-xs",children:[e.jsx(r2,{className:"w-3 h-3 mr-1"}),"Unlink"]})]},ie.id))]})]},V.id))})]})]})]}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(Ff,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#0A2540]",children:"Relationship"}),e.jsxs(Ot,{value:N,onValueChange:V=>b(V),children:[e.jsx(Mt,{className:"w-32",children:e.jsx(Ht,{})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"Father",children:"Father"}),e.jsx(ke,{value:"Mother",children:"Mother"}),e.jsx(ke,{value:"Guardian",children:"Guardian"})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#0A2540]",children:"Notify Parent of Link"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Send in-app notification"})]}),e.jsx(gf,{checked:j,onCheckedChange:y})]})]}),e.jsxs(Ee,{onClick:P,disabled:!m||!x,className:"h-12 px-8 bg-[#10B981] hover:bg-[#059669] text-white rounded-xl shadow-md disabled:opacity-50",children:[e.jsx(Ff,{className:"w-5 h-5 mr-2"}),"Link Selected"]})]})})}),e.jsx(Cc,{open:E,onOpenChange:U,children:e.jsxs(Sc,{className:"rounded-xl",children:[e.jsxs(Ec,{children:[e.jsx(_c,{className:"text-[#0A2540]",children:"Unlink Child?"}),e.jsxs(Uc,{children:["Are you sure you want to unlink ",e.jsx("strong",{children:k?.studentName}),"? The parent will lose access to this child's information."]})]}),e.jsxs(Fc,{children:[e.jsx(Ic,{className:"rounded-xl",children:"Cancel"}),e.jsx(kc,{onClick:T,className:"bg-red-600 hover:bg-red-700 rounded-xl",children:"Unlink"})]})]})})]})}function pI(){const{teachers:s,students:t,classes:r,subjects:n,subjectRegistrations:a,subjectAssignments:i,currentTerm:A,currentAcademicYear:c,addClass:d,updateClass:u,deleteClass:m,registerSubjectForClass:f,removeSubjectRegistration:x}=Fs(),g=s.filter(ye=>ye.status==="Active"),[N,b]=S.useState(""),[j,y]=S.useState("All"),[E,U]=S.useState("All"),[k,q]=S.useState("All"),[G,H]=S.useState(!1),[I,D]=S.useState(!1),[P,Q]=S.useState(!1),[T,$]=S.useState(null),[V,ie]=S.useState("grid"),[W,ne]=S.useState([]),[M,de]=S.useState([]),ue=T?t.filter(ye=>ye.class_id===T.id):[],se=T?a.filter(ye=>ye.class_id===T.id&&ye.term===A&&ye.academic_year===c):[],O=T?n.filter(ye=>!se.some(pe=>pe.subject_id===ye.id)):[],X=(ye,pe)=>{if(pe){const Pe=[...W,ye];ne(Pe),de(Pe)}else{const Pe=W.filter(et=>et!==ye);ne(Pe),de(Pe)}},re=async()=>{if(!T||W.length===0){ge.error("Please select at least one subject");return}const ye=W.filter(rt=>se.some(ht=>ht.subject_id===rt&&ht.class_id===T.id&&ht.academic_year===c&&ht.term===A)),pe=W.filter(rt=>!ye.includes(rt));if(ye.length>0){const rt=ye.map(ht=>n.find(Oe=>Oe.id===ht)?.name||"Unknown");ge.warning(`Subjects already registered: ${rt.join(", ")}`)}if(pe.length===0){ge.info("No new subjects to register"),ne([]),de([]);return}let Pe=0;const et=[];for(const rt of pe)try{if(await f(rt,T.id,c,A,!0))Pe++;else{const Re=n.find(Oe=>Oe.id===rt);et.push(Re?.name||"Unknown")}}catch{const Re=n.find(Oe=>Oe.id===rt);et.push(Re?.name||"Unknown")}if(Pe>0){const rt=et.length>0?`${Pe} subjects registered successfully. ${et.length} failed.`:`${Pe} subjects registered successfully for ${A} ${c}`;ge.success(rt),ne([]),de([])}else et.length>0&&ge.error("Failed to register subjects")},me=async ye=>{if(!T)return;await x(ye,T.id,c,A)&&ge.success("Subject removed successfully")},xe=ye=>{$(ye),ie("details")},Z=()=>{ie("grid"),$(null),ne([]),de([])},[oe,z]=S.useState({name:"",section:"",capacity:"",classTeacherId:"",status:"Active",category:"",level:""}),fe=(r||[]).filter(ye=>{const pe=ye.name.toLowerCase().includes(N.toLowerCase())||(ye.classTeacher||"").toLowerCase().includes(N.toLowerCase()),et=(Oe=>Oe==="Primary"||Oe==="Nursery"||Oe==="Creche"?"Primary":Oe.includes("JSS")||Oe.includes("SSS")?"Secondary":"Primary")(ye.level),rt=j==="All"||ye.level===j,ht=E==="All"||et===E,Re=k==="All"||ye.status===k;return pe&&rt&&ht&&Re}),Fe={totalClasses:(r||[]).length,activeClasses:(r||[]).filter(ye=>ye.status==="Active").length,totalStudents:(r||[]).reduce((ye,pe)=>ye+pe.currentStudents,0),averageCapacity:(r||[]).length>0?Math.round((r||[]).reduce((ye,pe)=>ye+pe.currentStudents/pe.capacity*100,0)/(r||[]).length):0},Ve=()=>{if(!oe.name||!oe.capacity||!oe.classTeacherId||!oe.category||!oe.level){ge.error("Please fill all required fields");return}if(parseInt(oe.capacity)>50){ge.error("Class capacity cannot exceed 50 students");return}const pe=g.find(et=>et.id===parseInt(oe.classTeacherId)),Pe={name:oe.name,level:oe.level,category:oe.category,capacity:parseInt(oe.capacity),currentStudents:0,classTeacher:pe?`${pe.firstName} ${pe.lastName}`:"",classTeacherId:parseInt(oe.classTeacherId),section:oe.section,status:oe.status,academicYear:"2024/2025",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};d(Pe),ge.success(`Class "${Pe.name}" created successfully!`),Te(),H(!1)},qe=()=>{if(!T||!oe.name||!oe.capacity||!oe.classTeacherId||!oe.category||!oe.level){ge.error("Please fill all required fields");return}if(parseInt(oe.capacity)>50){ge.error("Class capacity cannot exceed 50 students");return}const pe=g.find(et=>et.id===parseInt(oe.classTeacherId)),Pe={name:oe.name,level:oe.level,category:oe.category,capacity:parseInt(oe.capacity),classTeacher:pe?`${pe.firstName} ${pe.lastName}`:"",classTeacherId:parseInt(oe.classTeacherId),section:oe.section,status:oe.status};u(T.id,Pe),ge.success(`Class "${oe.name}" updated successfully!`),Te(),H(!1),D(!1),$(null)},st=()=>{if(T){if(T.currentStudents>0){ge.error("Cannot delete class with enrolled students. Please move students first."),Q(!1);return}m(T.id),ge.success(`Class "${T.name}" deleted successfully!`),Q(!1),$(null)}},le=ye=>{$(ye),z({name:ye.name,section:(ye.section||"").toString(),capacity:ye.capacity.toString(),classTeacherId:ye.classTeacherId?.toString()||"",status:ye.status,category:ye.category,level:ye.level}),D(!0),H(!0),window.scrollTo({top:0,behavior:"smooth"})},Te=()=>{z({name:"",section:"",capacity:"",classTeacherId:"",status:"Active",category:"",level:""}),D(!1),$(null)},ze=()=>{Te(),H(!1)};return e.jsxs("div",{className:"p-6 space-y-6",children:[V==="grid"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-[#0A2540] mb-2",children:"Manage Classes"}),e.jsx("p",{className:"text-gray-600",children:"Click on a class to view details and manage subjects"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Ee,{onClick:async()=>{await jj(),ge.success("Classes exported to CSV successfully")},variant:"outline",className:"rounded-xl border-[#3B82F6] text-[#3B82F6] hover:bg-[#3B82F6] hover:text-white",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),e.jsxs(Ee,{onClick:()=>H(!0),className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl",children:[e.jsx(Xo,{className:"w-4 h-4 mr-2"}),"Create New Class"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Total Classes"}),e.jsx("p",{className:"text-[#0A2540]",children:Fe.totalClasses})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:e.jsx(Jr,{className:"w-6 h-6 text-blue-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Active Classes"}),e.jsx("p",{className:"text-[#0A2540]",children:Fe.activeClasses})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:e.jsx(wA,{className:"w-6 h-6 text-green-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Total Students"}),e.jsx("p",{className:"text-[#0A2540]",children:Fe.totalStudents})]}),e.jsx("div",{className:"bg-purple-100 p-3 rounded-xl",children:e.jsx(Qs,{className:"w-6 h-6 text-purple-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Avg. Capacity"}),e.jsxs("p",{className:"text-[#0A2540]",children:[Fe.averageCapacity,"%"]})]}),e.jsx("div",{className:"bg-yellow-100 p-3 rounded-xl",children:e.jsx(Ml,{className:"w-6 h-6 text-yellow-600"})})]})})})]}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(kt,{placeholder:"Search classes...",value:N,onChange:ye=>b(ye.target.value),className:"pl-10 rounded-xl border-[#0A2540]/20"})]}),e.jsxs(Ot,{value:j,onValueChange:y,children:[e.jsx(Mt,{className:"rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{placeholder:"Class Level"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"All",children:"All Levels"}),e.jsx(ke,{value:"Creche",children:"Creche"}),e.jsx(ke,{value:"Nursery",children:"Nursery"}),e.jsx(ke,{value:"Primary",children:"Primary"}),e.jsx(ke,{value:"JSS 1",children:"JSS 1"}),e.jsx(ke,{value:"JSS 2",children:"JSS 2"}),e.jsx(ke,{value:"JSS 3",children:"JSS 3"}),e.jsx(ke,{value:"SSS 1",children:"SSS 1"}),e.jsx(ke,{value:"SSS 2",children:"SSS 2"}),e.jsx(ke,{value:"SSS 3",children:"SSS 3"})]})]}),e.jsxs(Ot,{value:E,onValueChange:U,children:[e.jsx(Mt,{className:"rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{placeholder:"School Category"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"All",children:"All Categories"}),e.jsx(ke,{value:"Primary",children:"Primary School"}),e.jsx(ke,{value:"Secondary",children:"Secondary School"})]})]}),e.jsxs(Ot,{value:k,onValueChange:q,children:[e.jsx(Mt,{className:"rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{placeholder:"Status"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"All",children:"All Status"}),e.jsx(ke,{value:"Active",children:"Active"}),e.jsx(ke,{value:"Inactive",children:"Inactive"})]})]})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:fe.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(Es,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No classes found"}),e.jsxs(Ee,{onClick:()=>H(!0),className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl",children:[e.jsx(Xo,{className:"w-4 h-4 mr-2"}),"Create First Class"]})]}):fe.map(ye=>e.jsx(Ce,{className:"border-[#0A2540]/10 hover:border-[#3B82F6]/30 hover:shadow-lg transition-all cursor-pointer",onClick:()=>xe(ye),children:e.jsxs(Le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-[#0A2540] mb-1",children:ye.name}),e.jsx(yt,{variant:ye.category==="Primary"?"default":"secondary",className:"rounded-xl mb-2",children:ye.category==="Primary"?" Primary":" Secondary"})]}),e.jsx(yt,{className:`rounded-xl ${ye.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ye.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Level:"}),e.jsx("span",{className:"font-medium",children:ye.level})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Section:"}),e.jsx("span",{className:"font-medium",children:ye.section||"-"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Class Teacher:"}),e.jsx("span",{className:"font-medium",children:ye.classTeacher||"Not Assigned"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Students:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"font-medium",children:[ye.currentStudents,"/",ye.capacity]})]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-[#0A2540]/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:`h-2 rounded-full ${ye.currentStudents/ye.capacity*100>=90?"bg-red-500":ye.currentStudents/ye.capacity*100>=70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(ye.currentStudents/ye.capacity*100,100)}%`}})}),e.jsxs("span",{className:"text-xs text-gray-600 whitespace-nowrap",children:[Math.round(ye.currentStudents/ye.capacity*100),"%"]})]})}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs(Ee,{size:"sm",variant:"outline",className:"flex-1 rounded-xl border-[#3B82F6] text-[#3B82F6] hover:bg-[#3B82F6] hover:text-white",onClick:pe=>{pe.stopPropagation(),xe(ye)},children:[e.jsx(Pn,{className:"w-3 h-3 mr-1"}),"View Details"]}),e.jsx(Ee,{size:"sm",variant:"ghost",className:"rounded-xl",onClick:pe=>{pe.stopPropagation(),le(ye)},children:e.jsx(Pl,{className:"w-3 h-3"})})]})]})},ye.id))})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Ee,{variant:"outline",onClick:Z,className:"rounded-xl border-[#0A2540]/20",children:[e.jsx(Nu,{className:"w-4 h-4 mr-2"}),"Back to Classes"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-[#0A2540] text-2xl",children:T?.name}),e.jsx("p",{className:"text-gray-600",children:"Class Details and Subject Management"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{children:e.jsxs(ur,{className:"text-[#0A2540] flex items-center gap-2",children:[e.jsx(Jr,{className:"w-5 h-5"}),"Class Information"]})}),e.jsxs(Le,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Class Name:"}),e.jsx("span",{className:"font-medium",children:T?.name})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Level:"}),e.jsx(yt,{variant:"outline",className:"rounded-xl",children:T?.level})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Category:"}),e.jsx(yt,{variant:T?.category==="Primary"?"default":"secondary",className:"rounded-xl",children:T?.category})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Section:"}),e.jsx("span",{className:"font-medium",children:T?.section||"-"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Class Teacher:"}),e.jsx("span",{className:"font-medium",children:T?.classTeacher||"Not Assigned"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Enrollment:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"font-medium",children:[T?.currentStudents,"/",T?.capacity]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx(yt,{className:`rounded-xl ${T?.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:T?.status})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Academic Year:"}),e.jsx("span",{className:"font-medium",children:T?.academicYear})]})]})]}),e.jsxs(Ce,{className:"border-[#0A2540]/10 lg:col-span-2 shadow-lg",children:[e.jsxs(Qt,{className:"bg-gradient-to-r from-[#3B82F6] to-[#2563EB] text-white",children:[e.jsxs(ur,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(CA,{className:"w-5 h-5"}),e.jsx("span",{children:"Subject Registration Portal"})]}),e.jsxs(yt,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:[A,"  ",c]})]}),e.jsxs("p",{className:"text-sm text-white/80 mt-1",children:["Register subjects for ",T?.name," - ",T?.level]})]}),e.jsxs(Le,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wA,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:"Registered"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:se.length}),e.jsx("p",{className:"text-xs text-green-600",children:"Subjects active"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jr,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Available"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:O.length}),e.jsx("p",{className:"text-xs text-blue-600",children:"Subjects to register"})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xo,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Selected"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:W.length}),e.jsx("p",{className:"text-xs text-purple-600",children:"Pending registration"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-[#0A2540] flex items-center gap-2",children:[e.jsx(wA,{className:"w-5 h-5 text-green-600"}),"Registered Subjects"]}),e.jsxs(yt,{variant:"outline",className:"border-green-200 text-green-700",children:[se.length," Active"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:se.length===0?e.jsxs("div",{className:"col-span-full text-center py-8 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[e.jsx(Jr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No subjects registered yet"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Select subjects below to register for this class"})]}):se.map(ye=>e.jsx("div",{className:"group relative bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h5",{className:"font-semibold text-green-900",children:ye.subject_name}),e.jsx(yt,{className:"bg-green-100 text-green-700 text-xs border-green-200",children:ye.subject_code})]}),e.jsx("p",{className:"text-sm text-green-700",children:ye.subject_category}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(wA,{className:"w-3 h-3 text-green-600"}),e.jsxs("span",{className:"text-xs text-green-600",children:["Registered for ",A]})]})]}),e.jsx(Ee,{size:"sm",variant:"outline",className:"rounded-lg border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>me(ye.subject_id),title:"Remove subject",children:e.jsx(FA,{className:"w-3 h-3"})})]})},ye.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-[#0A2540] flex items-center gap-2",children:[e.jsx(Xo,{className:"w-5 h-5 text-blue-600"}),"Register New Subjects"]}),M.length>0&&e.jsxs(yt,{className:"bg-blue-100 text-blue-700 border-blue-200",children:[M.length," Selected"]})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:O.length===0?e.jsxs("div",{className:"text-center py-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-2 border-dashed border-blue-300",children:[e.jsx(wA,{className:"w-12 h-12 text-blue-300 mx-auto mb-3"}),e.jsx("p",{className:"text-blue-600 font-medium",children:"All subjects registered"}),e.jsx("p",{className:"text-sm text-blue-500 mt-1",children:"This class has all available subjects registered"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:O.map(ye=>{const pe=W.includes(ye.id),Pe=M.includes(ye.id);return e.jsx("div",{className:`group relative rounded-lg border-2 p-3 transition-all cursor-pointer hover:shadow-md ${pe?"border-blue-500 bg-blue-50 shadow-md":Pe?"border-blue-300 bg-blue-50/50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(vi,{id:`subject-${ye.id}`,checked:pe,onCheckedChange:et=>X(ye.id,et),className:"w-4 h-4 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("label",{htmlFor:`subject-${ye.id}`,className:"font-semibold text-[#0A2540] cursor-pointer hover:text-blue-700 transition-colors text-sm leading-tight block",children:ye.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-1 mt-1",children:[e.jsx(yt,{variant:"secondary",className:"text-xs px-1 py-0",children:ye.code}),e.jsx("span",{className:"text-xs text-gray-500",children:""}),e.jsx("span",{className:"text-xs text-gray-600",children:ye.category}),ye.is_core&&e.jsx(yt,{className:"bg-orange-100 text-orange-700 text-xs px-1 py-0 border-orange-200",children:"Core"})]}),Pe&&e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-blue-600",children:[e.jsx(wA,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium",children:"Will Register"})]})]})]})},ye.id)})})}),W.length>0&&e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Ready to register ",W.length," subject",W.length>1?"s":""]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"These subjects will be available for student results and report cards"})]}),e.jsxs(Ee,{onClick:re,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-xl shadow-lg",size:"lg",children:[e.jsx(CA,{className:"w-4 h-4 mr-2"}),"Register Subjects"]})]})})]})]})]})]}),e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{children:e.jsxs(ur,{className:"text-[#0A2540] flex items-center gap-2",children:[e.jsx(Qs,{className:"w-5 h-5"}),"Students in ",T?.name," (",ue.length,")"]})}),e.jsx(Le,{children:ue.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Tc,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"No students enrolled in this class yet"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Students will appear here once they are enrolled"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-[#0A2540]/5",children:[e.jsx(At,{className:"text-[#0A2540]",children:"Student ID"}),e.jsx(At,{className:"text-[#0A2540]",children:"Name"}),e.jsx(At,{className:"text-[#0A2540]",children:"Gender"}),e.jsx(At,{className:"text-[#0A2540]",children:"Date of Birth"}),e.jsx(At,{className:"text-[#0A2540]",children:"Admission Date"}),e.jsx(At,{className:"text-[#0A2540]",children:"Status"})]})}),e.jsx(On,{children:ue.map(ye=>e.jsxs(As,{className:"hover:bg-[#0A2540]/5",children:[e.jsx(Xe,{className:"text-[#0A2540]",children:ye.admissionNumber}),e.jsxs(Xe,{className:"text-[#0A2540]",children:[ye.firstName," ",ye.lastName]}),e.jsx(Xe,{children:e.jsx(yt,{variant:"outline",className:"rounded-xl",children:ye.gender})}),e.jsx(Xe,{className:"text-gray-600",children:ye.date_of_birth}),e.jsx(Xe,{className:"text-gray-600",children:ye.admission_date}),e.jsx(Xe,{children:e.jsx(yt,{className:`rounded-xl ${ye.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ye.status})})]},ye.id))})]})})})]})]}),G&&V==="grid"&&e.jsxs(Ce,{className:"border-[#0A2540]/10 shadow-lg",children:[e.jsx(Qt,{className:"border-b border-[#0A2540]/10 bg-[#0A2540]/5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-[#0A2540]",children:I?`Edit Class: ${T?.name}`:"Create New Class"}),e.jsx(Ee,{variant:"ghost",size:"sm",onClick:ze,className:"text-gray-500 hover:text-gray-700 rounded-xl",children:e.jsx(FA,{className:"w-4 h-4"})})]})}),e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#0A2540]",children:"School Category *"}),e.jsxs(Ot,{value:oe.category,onValueChange:ye=>{z({...oe,category:ye,level:""})},children:[e.jsx(Mt,{className:"h-12 rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{placeholder:"Select school category"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"Primary",children:"Primary School"}),e.jsx(ke,{value:"Secondary",children:"Secondary School"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#0A2540]",children:"Class Level *"}),e.jsxs(Ot,{value:oe.level,onValueChange:ye=>{z({...oe,level:ye})},disabled:!oe.category,children:[e.jsx(Mt,{className:"h-12 rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{placeholder:"Select class level"})}),e.jsxs(Kt,{children:[oe.category==="Primary"&&e.jsxs(e.Fragment,{children:[e.jsx(ke,{value:"Nursery 1",children:"Nursery 1"}),e.jsx(ke,{value:"Nursery 2",children:"Nursery 2"}),e.jsx(ke,{value:"Primary 1",children:"Primary 1"}),e.jsx(ke,{value:"Primary 2",children:"Primary 2"}),e.jsx(ke,{value:"Primary 3",children:"Primary 3"}),e.jsx(ke,{value:"Primary 4",children:"Primary 4"}),e.jsx(ke,{value:"Primary 5",children:"Primary 5"}),e.jsx(ke,{value:"Primary 6",children:"Primary 6"})]}),oe.category==="Secondary"&&e.jsxs(e.Fragment,{children:[e.jsx(ke,{value:"JSS 1",children:"JSS 1"}),e.jsx(ke,{value:"JSS 2",children:"JSS 2"}),e.jsx(ke,{value:"JSS 3",children:"JSS 3"}),e.jsx(ke,{value:"SSS 1",children:"SSS 1"}),e.jsx(ke,{value:"SSS 2",children:"SSS 2"}),e.jsx(ke,{value:"SSS 3",children:"SSS 3"})]})]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#0A2540]",children:"Class Name *"}),e.jsx(kt,{placeholder:"e.g., JSS 1A, SS 2B, Primary 3A",value:oe.name,onChange:ye=>z({...oe,name:ye.target.value}),className:"h-12 rounded-xl border-[#0A2540]/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#0A2540]",children:"Section (Optional)"}),e.jsx(kt,{placeholder:"e.g., A, B, Morning",value:oe.section,onChange:ye=>z({...oe,section:ye.target.value}),className:"h-12 rounded-xl border-[#0A2540]/20"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#0A2540]",children:"Capacity * (Max: 50)"}),e.jsx(kt,{type:"number",placeholder:"Maximum number of students (50 max)",value:oe.capacity,onChange:ye=>{parseInt(ye.target.value)<=50&&z({...oe,capacity:ye.target.value})},max:50,className:"h-12 rounded-xl border-[#0A2540]/20"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Maximum class capacity is 50 students"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#0A2540]",children:"Class Teacher *"}),e.jsxs(Ot,{value:oe.classTeacherId,onValueChange:ye=>z({...oe,classTeacherId:ye}),children:[e.jsx(Mt,{className:"h-12 rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{placeholder:"Select class teacher"})}),e.jsx(Kt,{children:g.map(ye=>e.jsxs(ke,{value:ye.id.toString(),children:[ye.firstName," ",ye.lastName]},ye.id))})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#0A2540]",children:"Status *"}),e.jsxs(Ot,{value:oe.status,onValueChange:ye=>z({...oe,status:ye}),children:[e.jsx(Mt,{className:"h-12 rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"Active",children:"Active"}),e.jsx(ke,{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(Ee,{onClick:I?qe:Ve,className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl",children:[e.jsx(Hc,{className:"w-4 h-4 mr-2"}),I?"Update Class":"Create Class"]}),e.jsx(Ee,{onClick:ze,variant:"outline",className:"border-[#0A2540]/20 rounded-xl",children:"Cancel"})]})]})})]}),e.jsx(Cc,{open:P,onOpenChange:Q,children:e.jsxs(Sc,{className:"rounded-xl",children:[e.jsxs(Ec,{children:[e.jsx(_c,{children:"Delete Class"}),e.jsxs(Uc,{children:['Are you sure you want to delete "',T?.name,'"?',T?.currentStudents&&T.currentStudents>0?` This class has ${T.currentStudents} students enrolled.`:" This action cannot be undone."]})]}),e.jsxs(Fc,{children:[e.jsx(Ic,{className:"rounded-xl",children:"Cancel"}),e.jsx(kc,{onClick:st,className:"bg-red-600 hover:bg-red-700 rounded-xl",children:"Delete"})]})]})})]})}function gI(){const{subjects:s,addSubject:t,updateSubject:r,deleteSubject:n,subjectAssignments:a}=Fs(),[i,A]=S.useState(""),[c,d]=S.useState("All"),[u,m]=S.useState("All"),[f,x]=S.useState(!1),[g,N]=S.useState(!1),[b,j]=S.useState(!1),[y,E]=S.useState(!1),[U,k]=S.useState(!1),[q,G]=S.useState(!1),[H,I]=S.useState(null),[D,P]=S.useState(null),Q=S.useRef(null),[T,$]=S.useState({name:"",code:"",category:"",department:"",description:"",status:"Active",isCore:!1}),V=s.filter(z=>{const fe=z.name.toLowerCase().includes(i.toLowerCase())||z.code.toLowerCase().includes(i.toLowerCase()),Fe=c==="All"||z.category===c,Ve=u==="All"||z.status===u;return fe&&Fe&&Ve}),ie=["All","Creche","Nursery","Primary","JSS","SS"],W={totalSubjects:s.length,activeSubjects:s.filter(z=>z.status==="Active").length,coreSubjects:s.filter(z=>z.isCore).length,assignedSubjects:a.length},ne=z=>a.filter(fe=>fe.subjectId===z).length,M=()=>{if(!T.name||!T.code||!T.category){ge.error("Please fill all required fields");return}if(s.find(Fe=>Fe.code.toLowerCase()===T.code.toLowerCase())){ge.error("Subject code already exists. Please use a unique code.");return}if(s.find(Fe=>Fe.name.toLowerCase()===T.name.toLowerCase())){ge.error("Subject name already exists.");return}t({name:T.name,code:T.code.toUpperCase(),category:T.category,department:T.department||T.category,description:T.description,status:T.status,isCore:T.isCore}),ge.success(`Subject "${T.name}" created successfully!`),re(),x(!1)},de=()=>{if(!H||!T.name||!T.code||!T.category){ge.error("Please fill all required fields");return}if(s.find(Fe=>Fe.code.toLowerCase()===T.code.toLowerCase()&&Fe.id!==H.id)){ge.error("Subject code already exists. Please use a unique code.");return}if(s.find(Fe=>Fe.name.toLowerCase()===T.name.toLowerCase()&&Fe.id!==H.id)){ge.error("Subject name already exists.");return}r(H.id,{name:T.name,code:T.code.toUpperCase(),category:T.category,department:T.department||T.category,description:T.description,status:T.status,isCore:T.isCore}),ge.success(`Subject "${T.name}" updated successfully!`),re(),x(!1),N(!1),I(null)},ue=()=>{if(H){const z=ne(H.id);if(z>0){ge.error(`Cannot delete subject. It is assigned to ${z} class(es). Please remove assignments first.`),j(!1);return}n(H.id),ge.success(`Subject "${H.name}" deleted successfully!`),j(!1),I(null)}},se=z=>{I(z),$({name:z.name,code:z.code,category:z.category||"",department:z.department,description:z.description||"",status:z.status,isCore:z.isCore}),N(!0),x(!0),window.scrollTo({top:0,behavior:"smooth"})},O=z=>{I(z),E(!0)},X=z=>{I(z),j(!0)},re=()=>{$({name:"",code:"",category:"",department:"",description:"",status:"Active",isCore:!1}),N(!1),I(null)},me=()=>{re(),x(!1)},xe=()=>{const z=[{category:"Creche",name:"Bible",type:"Bible",description:"",status:"Enabled"},{category:"Creche",name:"Numeracy",type:"Numeracy",description:"",status:"Enabled"},{category:"Creche",name:"Music",type:"Music",description:"",status:"Enabled"},{category:"Creche",name:"Shapes",type:"Shapes",description:"",status:"Enabled"},{category:"Creche",name:"Colour",type:"Colour",description:"",status:"Enabled"},{category:"Creche",name:"Literacy",type:"Literacy",description:"",status:"Enabled"},{category:"Creche",name:"Phonics",type:"Phonics",description:"",status:"Enabled"},{category:"Creche",name:"Science",type:"Science",description:"",status:"Enabled"},{category:"Creche",name:"Social Studies",type:"Social Studies",description:"",status:"Enabled"},{category:"Creche",name:"PHE",type:"PHE",description:"",status:"Enabled"},{category:"Creche",name:"Hand Writing",type:"Hand Writing",description:"",status:"Enabled"},{category:"Nursery",name:"Numeracy",type:"Mathematics",description:"",status:"Enabled"},{category:"Nursery",name:"Arts & Crafts",type:"Arts & Crafts",description:"",status:"Enabled"},{category:"Nursery",name:"Language Art",type:"Language Art",description:"",status:"Enabled"},{category:"Nursery",name:"Phonics",type:"Phonics",description:"",status:"Enabled"},{category:"Nursery",name:"Shapes",type:"Shapes",description:"",status:"Enabled"},{category:"Nursery",name:"Colour",type:"Colour",description:"",status:"Enabled"},{category:"Nursery",name:"Bible Lesson",type:"Bible Lesson",description:"",status:"Enabled"},{category:"Nursery",name:"Hand Writing",type:"Hand Writing",description:"",status:"Enabled"},{category:"Nursery",name:"Science",type:"Science",description:"",status:"Enabled"},{category:"Nursery",name:"PHE",type:"PHE",description:"",status:"Enabled"},{category:"Nursery",name:"Social Studies",type:"Social Studies",description:"",status:"Enabled"},{category:"Nursery",name:"Verbal Reasoning",type:"Verbal Reasoning",description:"",status:"Enabled"},{category:"Nursery",name:"Memory Verse",type:"Memory Verse",description:"",status:"Enabled"},{category:"Nursery",name:"Health & Safety",type:"Health & Safety",description:"",status:"Enabled"},{category:"Nursery",name:"Quantitative",type:"Quantitative",description:"",status:"Enabled"},{category:"Nursery",name:"Mathematics",type:"Mathematics",description:"",status:"Enabled"},{category:"Primary",name:"English",type:"English",description:"",status:"Enabled"},{category:"Primary",name:"Basic Science",type:"Basic Science",description:"",status:"Enabled"},{category:"Primary",name:"PHE",type:"PHE",description:"",status:"Enabled"},{category:"Primary",name:"CCA",type:"CCA",description:"",status:"Enabled"},{category:"Primary",name:"Social Civic",type:"Social Civic",description:"",status:"Enabled"},{category:"Primary",name:"Verbal Reasoning",type:"Verbal Reasoning",description:"",status:"Enabled"},{category:"Primary",name:"Quantitative",type:"Quantitative",description:"",status:"Enabled"},{category:"Primary",name:"Computer",type:"Computer",description:"",status:"Enabled"},{category:"Primary",name:"French",type:"French",description:"",status:"Enabled"},{category:"Primary",name:"Bible",type:"Bible",description:"",status:"Enabled"},{category:"Primary",name:"Hand Writing",type:"Hand Writing",description:"",status:"Enabled"},{category:"Primary",name:"Social Studies",type:"Social Studies",description:"",status:"Enabled"}],fe=z.map(Fe=>`${Fe.category} - ${Fe.name} (${Fe.type})`).join(`
`);navigator.clipboard.writeText(fe).then(()=>{ge.success(`${z.length} GRA subjects list copied to clipboard!`)}),G(!1)},Z=()=>{const z=xk(),fe=new Blob([z],{type:"text/csv"}),Fe=window.URL.createObjectURL(fe),Ve=document.createElement("a");Ve.href=Fe,Ve.download="subject_import_template.csv",Ve.click(),ge.success("CSV template downloaded")},oe=async z=>{if(!z){ge.error("Please select a CSV file");return}try{const fe=await pk(z);fe.errors.length>0&&ge.error(`Import completed with ${fe.errors.length} errors`),fe.valid.length>0?(ge.success(`${fe.valid.length} subjects imported successfully`),window.location.reload()):ge.error("No valid subjects found in CSV file")}catch{ge.error("Failed to import CSV file")}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-[#0A2540] mb-2",children:"Manage Subjects"}),e.jsx("p",{className:"text-gray-600",children:"Create and manage school subjects"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Ee,{onClick:()=>{Bj(s),ge.success("Subjects exported to CSV successfully")},variant:"outline",className:"rounded-xl border-[#3B82F6] text-[#3B82F6] hover:bg-[#3B82F6] hover:text-white",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),e.jsxs(Ee,{onClick:()=>k(!0),className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-xl",children:[e.jsx(go,{className:"w-4 h-4 mr-2"}),"Bulk Import"]}),e.jsxs(Ee,{onClick:()=>G(!0),className:"bg-[#8B5CF6] hover:bg-[#7C3AED] text-white rounded-xl",children:[e.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Import GRA Subjects"]}),!f&&e.jsxs(Ee,{onClick:()=>x(!0),className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl",children:[e.jsx(Xo,{className:"w-4 h-4 mr-2"}),"Create New Subject"]})]})]}),f&&e.jsxs(Ce,{className:"border-[#0A2540]/10 shadow-lg rounded-xl",children:[e.jsx(Qt,{className:"border-b border-[#0A2540]/10 bg-[#0A2540]/5 p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-[#0A2540]",children:g?`Edit Subject: ${H?.name}`:"Create New Subject"}),e.jsx(Ee,{variant:"ghost",size:"sm",onClick:me,className:"text-gray-500 hover:text-gray-700 rounded-xl",children:e.jsx(FA,{className:"w-4 h-4"})})]})}),e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#0A2540]",children:"Subject Name *"}),e.jsx(kt,{placeholder:"e.g., Mathematics, English Language",value:T.name,onChange:z=>$({...T,name:z.target.value}),className:"h-12 rounded-xl border-[#0A2540]/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#0A2540]",children:"Subject Code *"}),e.jsx(kt,{placeholder:"e.g., MATH101, ENG101",value:T.code,onChange:z=>$({...T,code:z.target.value.toUpperCase()}),className:"h-12 rounded-xl border-[#0A2540]/20"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#0A2540]",children:"Category *"}),e.jsxs(Ot,{value:T.category,onValueChange:z=>$({...T,category:z}),children:[e.jsx(Mt,{className:"h-12 rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{placeholder:"Select category"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"Creche",children:"Creche"}),e.jsx(ke,{value:"Nursery",children:"Nursery"}),e.jsx(ke,{value:"Primary",children:"Primary"}),e.jsx(ke,{value:"JSS",children:"JSS (Junior Secondary)"}),e.jsx(ke,{value:"SS",children:"SS (Senior Secondary)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#0A2540]",children:"Status *"}),e.jsxs(Ot,{value:T.status,onValueChange:z=>$({...T,status:z}),children:[e.jsx(Mt,{className:"h-12 rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"Active",children:"Active"}),e.jsx(ke,{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#0A2540]",children:"Description"}),e.jsx(wi,{placeholder:"Brief description of the subject",value:T.description,onChange:z=>$({...T,description:z.target.value}),className:"rounded-xl border-[#0A2540]/20",rows:3})]}),e.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-blue-50 rounded-xl",children:[e.jsx(vi,{id:"isCore",checked:T.isCore,onCheckedChange:z=>$({...T,isCore:z}),className:"border-[#0A2540]/20"}),e.jsx(Ze,{htmlFor:"isCore",className:"text-[#0A2540] cursor-pointer",children:"Mark as Core Subject (Required for all students)"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(Ee,{onClick:g?de:M,className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl",children:[e.jsx(Hc,{className:"w-4 h-4 mr-2"}),g?"Update Subject":"Create Subject"]}),e.jsx(Ee,{onClick:me,variant:"outline",className:"border-[#0A2540]/20 rounded-xl",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(Ce,{className:"border-[#0A2540]/10 rounded-xl",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Total Subjects"}),e.jsx("p",{className:"text-[#0A2540]",children:W.totalSubjects})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:e.jsx(Jr,{className:"w-6 h-6 text-blue-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10 rounded-xl",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Active Subjects"}),e.jsx("p",{className:"text-[#0A2540]",children:W.activeSubjects})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:e.jsx(wA,{className:"w-6 h-6 text-green-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10 rounded-xl",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Core Subjects"}),e.jsx("p",{className:"text-[#0A2540]",children:W.coreSubjects})]}),e.jsx("div",{className:"bg-purple-100 p-3 rounded-xl",children:e.jsx(Es,{className:"w-6 h-6 text-purple-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10 rounded-xl",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Assignments"}),e.jsx("p",{className:"text-[#0A2540]",children:W.assignedSubjects})]}),e.jsx("div",{className:"bg-yellow-100 p-3 rounded-xl",children:e.jsx(Qs,{className:"w-6 h-6 text-yellow-600"})})]})})})]}),e.jsx(Ce,{className:"border-[#0A2540]/10 rounded-xl",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(kt,{placeholder:"Search subjects...",value:i,onChange:z=>A(z.target.value),className:"pl-10 rounded-xl border-[#0A2540]/20"})]}),e.jsxs(Ot,{value:c,onValueChange:d,children:[e.jsx(Mt,{className:"rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{placeholder:"All Categories"})}),e.jsx(Kt,{children:ie.map(z=>e.jsx(ke,{value:z,children:z==="All"?"All Categories":z},z))})]}),e.jsxs(Ot,{value:u,onValueChange:m,children:[e.jsx(Mt,{className:"rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"All",children:"All Status"}),e.jsx(ke,{value:"Active",children:"Active"}),e.jsx(ke,{value:"Inactive",children:"Inactive"})]})]})]})})}),e.jsxs(Ce,{className:"border-[#0A2540]/10 rounded-xl bg-white shadow-clinical",children:[e.jsx(Qt,{className:"border-b border-[#0A2540]/10 bg-[#0A2540]/5 p-5",children:e.jsxs("h3",{className:"text-[#0A2540]",children:["Subjects (",V.length,")"]})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{className:"w-full min-w-[800px]",children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-[#2563EB] border-none hover:bg-[#2563EB]",children:[e.jsx(At,{className:"text-white",children:"Category"}),e.jsx(At,{className:"text-white",children:"Subject Name"}),e.jsx(At,{className:"text-white",children:"Subject Type"}),e.jsx(At,{className:"text-white",children:"Description"}),e.jsx(At,{className:"text-white",children:"Status"}),e.jsx(At,{className:"text-white text-center",children:"Action"})]})}),e.jsx(On,{children:V.length===0?e.jsx(As,{className:"bg-white",children:e.jsx(Xe,{colSpan:6,className:"text-center py-8 text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(Es,{className:"w-12 h-12 text-gray-300"}),e.jsx("p",{children:"No subjects found"}),!f&&e.jsxs(Ee,{onClick:()=>x(!0),className:"mt-2 bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl",children:[e.jsx(Xo,{className:"w-4 h-4 mr-2"}),"Create First Subject"]})]})})}):V.map(z=>e.jsxs(As,{className:"bg-white border-b border-[#E5E7EB] hover:bg-[#F9FAFB]",children:[e.jsx(Xe,{className:"text-[#1F2937]",children:z.category||"-"}),e.jsx(Xe,{className:"text-[#1F2937]",children:z.name}),e.jsx(Xe,{className:"text-[#6B7280] text-sm",children:z.code}),e.jsx(Xe,{className:"text-[#6B7280] text-sm",children:z.description||"-"}),e.jsx(Xe,{children:e.jsx(yt,{className:`rounded-xl ${z.status==="Active"?"bg-[#06B6D4] text-white border-0":"bg-gray-100 text-gray-800"}`,children:z.status==="Active"?"Enabled":"Disabled"})}),e.jsx(Xe,{children:e.jsxs(ON,{trigger:e.jsx(Ee,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 rounded-lg",children:e.jsx(Jr,{className:"h-3 w-3"})}),children:[e.jsxs(Ql,{onClick:()=>se(z),children:[e.jsx(Pl,{className:"h-3 w-3"}),"E"]}),e.jsxs(Ql,{onClick:()=>O(z),children:[e.jsx(Pn,{className:"h-3 w-3"}),"V"]}),e.jsx(pf,{}),e.jsxs(Ql,{onClick:()=>X(z),danger:!0,children:[e.jsx(Hi,{className:"h-3 w-3"}),"D"]})]})})]},z.id))})]})})})]}),e.jsx(vr,{open:y,onOpenChange:E,children:e.jsxs(br,{className:"max-w-2xl rounded-xl bg-white border border-[#E5E7EB]",children:[e.jsxs(yr,{children:[e.jsx(Nr,{className:"text-[#1F2937]",children:"Subject Details"}),e.jsx(Da,{className:"text-[#6B7280]",children:"View complete information about this subject"})]}),H&&e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#6B7280]",children:"Subject Name"}),e.jsx("p",{className:"text-[#1F2937]",children:H.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#6B7280]",children:"Code"}),e.jsx("p",{className:"text-[#1F2937]",children:H.code})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#6B7280]",children:"Category"}),e.jsx("p",{className:"text-[#1F2937]",children:H.category||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#6B7280]",children:"Status"}),e.jsx(yt,{className:H.status==="Active"?"bg-[#10B981] text-white":"bg-[#EF4444] text-white",children:H.status})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#6B7280]",children:"Description"}),e.jsx("p",{className:"text-[#1F2937]",children:H.description||"No description provided"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#6B7280]",children:"Assignments"}),e.jsxs("p",{className:"text-[#1F2937]",children:[ne(H.id)," class(es)"]})]})]}),e.jsx(uo,{children:e.jsx(Ee,{onClick:()=>E(!1),className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl",children:"Close"})})]})}),e.jsx(vr,{open:U,onOpenChange:k,children:e.jsxs(br,{className:"max-w-2xl rounded-xl bg-white border border-[#E5E7EB]",children:[e.jsxs(yr,{children:[e.jsx(Nr,{className:"text-[#1F2937]",children:"Bulk Import Subjects"}),e.jsx(Da,{className:"text-[#6B7280]",children:"Import multiple subjects from a CSV file"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs(Vi,{className:"border-blue-200 bg-blue-50 rounded-xl",children:[e.jsx(Es,{className:"h-4 w-4 text-blue-600"}),e.jsxs(zi,{className:"text-blue-900",children:[e.jsx("strong",{children:"CSV Format:"})," Category, Subject Name, Subject Type, Description, Status"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Select CSV File"}),e.jsx(kt,{ref:Q,type:"file",accept:".csv",onChange:z=>P(z.target.files?.[0]||null),className:"rounded-xl border-[#E5E7EB] bg-white text-[#1F2937]"}),D&&e.jsxs("p",{className:"text-sm text-[#6B7280]",children:["Selected: ",D.name]})]}),e.jsxs(Ee,{onClick:Z,variant:"outline",className:"w-full rounded-xl border-[#E5E7EB] text-[#1F2937]",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Download CSV Template"]})]}),e.jsxs(uo,{children:[e.jsx(Ee,{onClick:()=>{k(!1),P(null)},variant:"outline",className:"rounded-xl border-[#E5E7EB] text-[#1F2937]",children:"Cancel"}),e.jsxs(Ee,{onClick:oe,className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-xl",children:[e.jsx(go,{className:"w-4 h-4 mr-2"}),"Import Subjects"]})]})]})}),e.jsx(vr,{open:q,onOpenChange:G,children:e.jsxs(br,{className:"max-w-3xl rounded-xl bg-white border border-[#E5E7EB] max-h-[80vh] overflow-y-auto",children:[e.jsxs(yr,{children:[e.jsx(Nr,{className:"text-[#1F2937]",children:"Import GRA Subjects"}),e.jsx(Da,{className:"text-[#6B7280]",children:"Quick import of subjects for Creche, Nursery, and Primary levels"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs(Vi,{className:"border-green-200 bg-green-50 rounded-xl",children:[e.jsx(Es,{className:"h-4 w-4 text-green-600"}),e.jsx(zi,{className:"text-green-900",children:"This will prepare the subject list for 50+ subjects across Creche, Nursery, and Primary categories."})]}),e.jsxs("div",{className:"bg-[#F9FAFB] p-4 rounded-xl border border-[#E5E7EB] max-h-64 overflow-y-auto",children:[e.jsx("p",{className:"text-[#1F2937] mb-2",children:"Subject Categories Preview:"}),e.jsxs("ul",{className:"text-sm text-[#6B7280] space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Creche:"})," Bible, Numeracy, Music, Shapes, Colour, Literacy, Phonics, Science, Social Studies, PHE, Hand Writing (11 subjects)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Nursery:"})," Numeracy, Arts & Crafts, Language Art, Phonics, Shapes, Colour, Bible Lesson, Hand Writing, Science, PHE, Social Studies, Verbal Reasoning, Memory Verse, Health & Safety, Quantitative, Mathematics (16 subjects)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Primary:"})," English, Basic Science, PHE, CCA, Social Civic, Verbal Reasoning, Quantitative, Computer, French, Bible, Hand Writing, Social Studies (12 subjects)"]})]})]})]}),e.jsxs(uo,{children:[e.jsx(Ee,{onClick:()=>G(!1),variant:"outline",className:"rounded-xl border-[#E5E7EB] text-[#1F2937]",children:"Cancel"}),e.jsxs(Ee,{onClick:xe,className:"bg-[#8B5CF6] hover:bg-[#7C3AED] text-white rounded-xl",children:[e.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Copy Subject List to Clipboard"]})]})]})}),e.jsx(Cc,{open:b,onOpenChange:j,children:e.jsxs(Sc,{className:"rounded-xl",children:[e.jsxs(Ec,{children:[e.jsx(_c,{children:"Delete Subject"}),e.jsxs(Uc,{children:['Are you sure you want to delete "',H?.name,'"?',H&&ne(H.id)>0?` This subject has ${ne(H.id)} class assignment(s).`:" This action cannot be undone."]})]}),e.jsxs(Fc,{children:[e.jsx(Ic,{className:"rounded-xl",children:"Cancel"}),e.jsx(kc,{onClick:ue,className:"bg-red-600 hover:bg-red-700 rounded-xl",children:"Delete"})]})]})})]})}function xI(){const{teachers:s,classes:t,subjects:r,subjectAssignments:n,assignSubjectToTeacherAPI:a,removeSubjectAssignmentAPI:i,currentAcademicYear:A,currentTerm:c,updateClass:d,updateTeacher:u,getTeacherAssignments:m,loadSubjectAssignmentsFromAPI:f,loadTeachersFromAPI:x,loadClassesFromAPI:g,validateClassTeacherAssignment:N}=Fs(),[b,j]=S.useState(""),[y,E]=S.useState("All"),[U,k]=S.useState("All"),[q,G]=S.useState("table"),[H,I]=S.useState(!1),[D,P]=S.useState(!1),[Q,T]=S.useState(null),[$,V]=S.useState([]),[ie,W]=S.useState(""),[ne,M]=S.useState([]),[de,ue]=S.useState(!1),se={totalAssignments:n?n.filter(z=>z.status==="Active").length:0,uniqueTeachers:n?new Set(n.map(z=>z.teacher_id)).size:0,uniqueSubjects:n?new Set(n.map(z=>z.subject_id)).size:0,uniqueClasses:n?new Set(n.map(z=>z.class_id)).size:0,classTeachersWithAssignments:t?t.filter(z=>z.classTeacherId).length:0},O=n?n.filter(z=>{const fe=b===""||z.teacher_name?.toLowerCase().includes(b.toLowerCase())||z.subject_name?.toLowerCase().includes(b.toLowerCase())||z.class_name?.toLowerCase().includes(b.toLowerCase()),Fe=y==="All"||z.teacher_id===parseInt(y),Ve=U==="All"||z.class_id===parseInt(U);return fe&&Fe&&Ve&&z.status==="Active"}):[],X=(z,fe,Fe,Ve)=>{const qe={id:Date.now().toString(),action:z,teacherName:fe,details:Fe,timestamp:new Date,type:Ve};M(st=>[qe,...st].slice(0,10))},re=()=>{V([]),T(null),I(!0)},me=(z,fe)=>{const Fe=$.some(Ve=>Ve.subject_id===z&&Ve.class_id===fe);V(Fe?$.filter(Ve=>!(Ve.subject_id===z&&Ve.class_id===fe)):[...$,{subject_id:z,class_id:fe}])},xe=async()=>{if(!Q||$.length===0){ge.error("Please select a teacher and at least one assignment");return}ue(!0);try{let z=0,fe=0;for(const Fe of $)if(!n?.some(qe=>qe.teacher_id===Q&&qe.subject_id===Fe.subject_id&&qe.class_id===Fe.class_id&&qe.term===c&&qe.academic_year===A))if(await a(Q,Fe.subject_id,Fe.class_id,A,c)){z++;const st=s?.find(ze=>ze.id===Q),le=r?.find(ze=>ze.id===Fe.subject_id),Te=t?.find(ze=>ze.id===Fe.class_id);X("Subject Assigned",`${st?.firstName} ${st?.lastName}`,`${le?.name} assigned to ${Te?.name}`,"assignment")}else fe++;z>0&&(ge.success(`${z} assignments created successfully`),V([]),T(null),I(!1)),fe>0&&ge.error(`${fe} assignments failed - some may already exist`)}catch{ge.error("An error occurred while saving assignments")}finally{ue(!1)}},Z=()=>{T(null),W(""),P(!0)},oe=async()=>{if(!Q||!ie){ge.error("Please select both teacher and class");return}const z=s?.find(Fe=>Fe.id===Q),fe=t?.find(Fe=>Fe.id===parseInt(ie));if(!(!z||!fe)){if(fe.classTeacherId&&fe.classTeacherId!==Q){const Fe=s?.find(Ve=>Ve.id===fe.classTeacherId);ge.error(`${fe.name} already has a class teacher: ${Fe?.firstName} ${Fe?.lastName}`);return}try{await d(parseInt(ie),{classTeacherId:Q,classTeacher:`${z.firstName} ${z.lastName}`}),await u(Q,{is_class_teacher:!0}),ge.success(`${z.firstName} ${z.lastName} assigned as class teacher of ${fe.name}`),X("Class Teacher Assigned",`${z.firstName} ${z.lastName}`,`Assigned as class teacher to ${fe.name}`,"class_teacher"),T(null),W(""),P(!1)}catch{ge.error("An error occurred while assigning class teacher")}}};return S.useEffect(()=>{(async()=>{ue(!0);try{await Promise.all([f(),x(),g()])}catch{ge.error("Failed to load data")}finally{ue(!1)}})()},[]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50/30",children:[e.jsx("div",{className:"bg-white border-b border-gray-200/80 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(Uh,{className:"w-6 h-6 text-white"})}),"Teacher Assignments"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage subject assignments and class teacher roles"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Ee,{onClick:re,className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 px-6",children:[e.jsx(Xo,{className:"w-4 h-4 mr-2"}),"New Assignment"]}),e.jsxs(Ee,{onClick:Z,variant:"outline",className:"border-gray-300 hover:bg-gray-50 transition-all duration-200 px-6",children:[e.jsx(Uh,{className:"w-4 h-4 mr-2"}),"Class Teachers"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(Ce,{className:"bg-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 rounded-2xl overflow-hidden",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Assignments"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:se.totalAssignments}),e.jsxs("p",{className:"text-xs text-green-600 mt-2 flex items-center",children:[e.jsx(Wy,{className:"w-3 h-3 mr-1"}),"Active this term"]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(Jr,{className:"w-6 h-6 text-blue-600"})})]})})}),e.jsx(Ce,{className:"bg-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 rounded-2xl overflow-hidden",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Active Teachers"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:se.uniqueTeachers}),e.jsxs("p",{className:"text-xs text-purple-600 mt-2 flex items-center",children:[e.jsx(Qs,{className:"w-3 h-3 mr-1"}),"With assignments"]})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:e.jsx(Qs,{className:"w-6 h-6 text-purple-600"})})]})})}),e.jsx(Ce,{className:"bg-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 rounded-2xl overflow-hidden",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Subjects Covered"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:se.uniqueSubjects}),e.jsxs("p",{className:"text-xs text-orange-600 mt-2 flex items-center",children:[e.jsx(CA,{className:"w-3 h-3 mr-1"}),"Across curriculum"]})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:e.jsx(CA,{className:"w-6 h-6 text-orange-600"})})]})})}),e.jsx(Ce,{className:"bg-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 rounded-2xl overflow-hidden",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Classes Served"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:se.uniqueClasses}),e.jsxs("p",{className:"text-xs text-green-600 mt-2 flex items-center",children:[e.jsx(ta,{className:"w-3 h-3 mr-1"}),"All levels"]})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(ta,{className:"w-6 h-6 text-green-600"})})]})})})]}),e.jsx(Ce,{className:"bg-white border-0 shadow-lg rounded-2xl mb-8",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(kt,{placeholder:"Search by teacher, subject, or class...",value:b,onChange:z=>j(z.target.value),className:"pl-10 h-12 rounded-xl border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Ot,{value:y,onValueChange:E,children:[e.jsx(Mt,{className:"w-48 h-12 rounded-xl border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(EA,{className:"w-4 h-4 text-gray-400"}),e.jsx(Ht,{placeholder:"All Teachers"})]})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"All",children:"All Teachers"}),s?.map(z=>e.jsxs(ke,{value:z.id.toString(),children:[z.firstName," ",z.lastName]},z.id))]})]}),e.jsxs(Ot,{value:U,onValueChange:k,children:[e.jsx(Mt,{className:"w-48 h-12 rounded-xl border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Lv,{className:"w-4 h-4 text-gray-400"}),e.jsx(Ht,{placeholder:"All Classes"})]})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"All",children:"All Classes"}),t?.map(z=>e.jsx(ke,{value:z.id.toString(),children:z.name},z.id))]})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1",children:[e.jsx(Ee,{variant:q==="table"?"default":"ghost",size:"sm",onClick:()=>G("table"),className:`rounded-lg ${q==="table"?"bg-white shadow-sm":"hover:bg-gray-200"}`,children:e.jsx(Zy,{className:"w-4 h-4"})}),e.jsx(Ee,{variant:q==="grid"?"default":"ghost",size:"sm",onClick:()=>G("grid"),className:`rounded-lg ${q==="grid"?"bg-white shadow-sm":"hover:bg-gray-200"}`,children:e.jsx(Lv,{className:"w-4 h-4"})})]})]})]})})}),q==="table"?e.jsxs(Ce,{className:"bg-white border-0 shadow-lg rounded-2xl overflow-hidden",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ur,{className:"text-gray-900 flex items-center gap-2",children:[e.jsx(Jr,{className:"w-5 h-5 text-blue-600"}),"Subject Assignments"]}),e.jsxs(yt,{className:"bg-blue-100 text-blue-800 px-3 py-1",children:[c," - ",A]})]})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx(At,{className:"text-gray-700 font-semibold",children:"Teacher"}),e.jsx(At,{className:"text-gray-700 font-semibold",children:"Subject"}),e.jsx(At,{className:"text-gray-700 font-semibold",children:"Class"}),e.jsx(At,{className:"text-gray-700 font-semibold",children:"Term"}),e.jsx(At,{className:"text-gray-700 font-semibold text-center",children:"Actions"})]})}),e.jsx(On,{children:O.length===0?e.jsx(As,{className:"hover:bg-gray-50",children:e.jsx(Xe,{colSpan:5,className:"text-center py-16",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full",children:e.jsx(Jr,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 font-medium",children:"No assignments found"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search or filters"})]}),e.jsxs(Ee,{onClick:re,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(Xo,{className:"w-4 h-4 mr-2"}),"Create First Assignment"]})]})})}):O.map(z=>e.jsxs(As,{className:"hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(Xe,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:z.teacher_name?.split(" ").map(fe=>fe[0]).join("").toUpperCase().slice(0,2)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:z.teacher_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",z.teacher_id]})]})]})}),e.jsx(Xe,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(Jr,{className:"w-4 h-4 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:z.subject_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",z.subject_id]})]})]})}),e.jsx(Xe,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Qs,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:z.class_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",z.class_id]})]})]})}),e.jsx(Xe,{className:"py-4",children:e.jsx(yt,{variant:"outline",className:"bg-gray-50",children:z.term})}),e.jsx(Xe,{className:"py-4 text-center",children:e.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>{i(z.teacher_id,z.subject_id,z.class_id,z.academic_year,z.term).then(()=>{ge.success("Assignment removed successfully"),f()})},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Hi,{className:"w-4 h-4"})})})]},z.id))})]})})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.length===0?e.jsx("div",{className:"col-span-full",children:e.jsx(Ce,{className:"bg-white border-0 shadow-lg rounded-2xl",children:e.jsxs(Le,{className:"p-12 text-center",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(Jr,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-900 font-medium text-lg mb-2",children:"No assignments found"}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Try adjusting your search or filters"}),e.jsxs(Ee,{onClick:re,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(Xo,{className:"w-4 h-4 mr-2"}),"Create First Assignment"]})]})})}):O.map(z=>e.jsx(Ce,{className:"bg-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 rounded-2xl overflow-hidden",children:e.jsxs(Le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:z.teacher_name?.split(" ").map(fe=>fe[0]).join("").toUpperCase().slice(0,2)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:z.teacher_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Teacher ID: ",z.teacher_id]})]})]}),e.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>{i(z.teacher_id,z.subject_id,z.class_id,z.academic_year,z.term).then(()=>{ge.success("Assignment removed successfully"),f()})},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Hi,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 rounded-lg",children:[e.jsx(Jr,{className:"w-5 h-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:z.subject_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",z.subject_id]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[e.jsx(Qs,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:z.class_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",z.class_id]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(yt,{variant:"outline",className:"bg-gray-50",children:z.term}),e.jsx(yt,{className:"bg-blue-100 text-blue-800",children:z.academic_year})]})]})]})},z.id))}),e.jsx(vr,{open:H,onOpenChange:I,children:e.jsxs(br,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(yr,{children:[e.jsx(Nr,{className:"text-xl font-bold text-gray-900",children:"Create Subject Assignments"}),e.jsx(Da,{children:"Assign subjects to teachers for specific classes"})]}),e.jsxs("div",{className:"space-y-6 mt-6",children:[e.jsxs("div",{children:[e.jsx(Ze,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Select Teacher"}),e.jsxs(Ot,{value:Q?.toString()||"",onValueChange:z=>T(parseInt(z)),children:[e.jsx(Mt,{className:"h-12 rounded-xl",children:e.jsx(Ht,{placeholder:"Choose a teacher"})}),e.jsx(Kt,{children:s?.map(z=>e.jsxs(ke,{value:z.id.toString(),children:[z.firstName," ",z.lastName]},z.id))})]})]}),Q&&e.jsxs("div",{children:[e.jsx(Ze,{className:"text-sm font-medium text-gray-700 mb-4 block",children:"Select Assignments"}),e.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-12 bg-gray-50 border-b border-gray-200",children:[e.jsx("div",{className:"col-span-5 p-3 font-semibold text-gray-700",children:"Subject"}),e.jsx("div",{className:"col-span-7 p-3 font-semibold text-gray-700",children:"Classes"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:r?.map(z=>e.jsx("div",{className:"border-b border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-5 p-3 border-r border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1 bg-orange-100 rounded",children:e.jsx(Jr,{className:"w-3 h-3 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:z.name}),e.jsx("p",{className:"text-xs text-gray-500",children:z.code})]})]})}),e.jsx("div",{className:"col-span-7 p-3",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t?.map(fe=>{const Fe=$.some(Ve=>Ve.subject_id===z.id&&Ve.class_id===fe.id);return e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-lg border cursor-pointer transition-colors ${Fe?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,onClick:()=>me(z.id,fe.id),children:[e.jsx(vi,{checked:Fe,className:"w-3 h-3",readOnly:!0}),e.jsx("span",{className:"text-xs font-medium",children:fe.name})]},fe.id)})})})]})},z.id))})]})]}),$.length>0&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-900 mb-2",children:[$.length," assignment",$.length>1?"s":""," selected"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:$.map((z,fe)=>{const Fe=r?.find(qe=>qe.id===z.subject_id),Ve=t?.find(qe=>qe.id===z.class_id);return e.jsxs(yt,{className:"bg-blue-100 text-blue-800",children:[Fe?.name,"  ",Ve?.name]},fe)})})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[e.jsx(Ee,{variant:"outline",onClick:()=>I(!1),className:"px-6",children:"Cancel"}),e.jsx(Ee,{onClick:xe,disabled:!Q||$.length===0||de,className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:de?"Saving...":`Save ${$.length} Assignment${$.length>1?"s":""}`})]})]})}),e.jsx(vr,{open:D,onOpenChange:P,children:e.jsxs(br,{className:"max-w-md",children:[e.jsxs(yr,{children:[e.jsx(Nr,{className:"text-xl font-bold text-gray-900",children:"Assign Class Teacher"}),e.jsx(Da,{children:"Assign a teacher as the class teacher for a specific class"})]}),e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsxs("div",{children:[e.jsx(Ze,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Select Teacher"}),e.jsxs(Ot,{value:Q?.toString()||"",onValueChange:z=>T(parseInt(z)),children:[e.jsx(Mt,{className:"h-12 rounded-xl",children:e.jsx(Ht,{placeholder:"Choose a teacher"})}),e.jsx(Kt,{children:s?.map(z=>e.jsxs(ke,{value:z.id.toString(),children:[z.firstName," ",z.lastName]},z.id))})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Select Class"}),e.jsxs(Ot,{value:ie,onValueChange:W,children:[e.jsx(Mt,{className:"h-12 rounded-xl",children:e.jsx(Ht,{placeholder:"Choose a class"})}),e.jsx(Kt,{children:t?.map(z=>e.jsx(ke,{value:z.id.toString(),children:z.name},z.id))})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[e.jsx(Ee,{variant:"outline",onClick:()=>P(!1),className:"px-6",children:"Cancel"}),e.jsx(Ee,{onClick:oe,disabled:!Q||!ie,className:"bg-green-600 hover:bg-green-700 text-white px-6",children:"Assign Class Teacher"})]})]})})]})]})}function wI(){const{students:s,classes:t,compiledResults:r,currentTerm:n,currentAcademicYear:a,promoteMultipleStudents:i,addActivityLog:A,currentUser:c}=Fs(),[d,u]=S.useState(""),[m,f]=S.useState(""),[x,g]=S.useState("All"),[N,b]=S.useState([]),[j,y]=S.useState({}),[E,U]=S.useState(!1),[k,q]=S.useState("2025/2026"),I=(d?s.filter(M=>M.classId===Number(d)&&M.status==="Active"):[]).map(M=>{const de=r.filter(X=>X.studentId===M.id&&X.status==="Approved").sort((X,re)=>new Date(re.compiledDate).getTime()-new Date(X.compiledDate).getTime())[0];let ue="Repeat",se=0,O=0;return de&&(se=de.averageScore,O=de.totalAttendanceDays>0?de.timesPresent/de.totalAttendanceDays*100:0,se>=50&&O>=75?ue="Promote":se>=40&&se<50?ue="Trial":ue="Repeat"),{...M,averageScore:se,attendance:O,promotionStatus:ue,position:de?.position||0,totalStudents:de?.totalStudents||0}}).filter(M=>{const de=M.firstName&&M.firstName.toLowerCase().includes(m.toLowerCase())||M.lastName&&M.lastName.toLowerCase().includes(m.toLowerCase())||M.admissionNumber&&M.admissionNumber.toLowerCase().includes(m.toLowerCase()),ue=x==="All"||M.promotionStatus===x;return de&&ue}),D={totalStudents:I.length,toPromote:I.filter(M=>M.promotionStatus==="Promote").length,onTrial:I.filter(M=>M.promotionStatus==="Trial").length,toRepeat:I.filter(M=>M.promotionStatus==="Repeat").length,pending:I.filter(M=>M.averageScore===0).length},P=(M,de)=>{if(de)b([...N,M]);else{b(N.filter(se=>se!==M));const ue={...j};delete ue[M],y(ue)}},Q=M=>{if(M){const de=I.filter(ue=>ue.promotionStatus==="Promote").map(ue=>ue.id);b(de)}else b([]),y({})},T=(M,de)=>{y({...j,[M]:de})},$=()=>{if(N.length===0){ge.error("Please select students to promote");return}if(N.filter(de=>!j[de]).length>0){ge.error("Please set destination class for all selected students");return}U(!0)},V=()=>{try{i(N,j,k),c&&A({actor:c.username,actorRole:"Admin",action:"Promote Students",target:`${N.length} students promoted`,ip:"System",status:"Success",details:`Promoted ${N.length} students from ${t.find(M=>M.id===Number(d))?.name} to ${k}`}),ge.success(`Successfully promoted ${N.length} students!`),U(!1),b([]),y({})}catch{ge.error("Failed to promote students. Please try again.")}},ie=M=>{switch(M){case"Promote":return e.jsxs(yt,{className:"bg-[#28A745] text-white border-0",children:[e.jsx(Br,{className:"w-3 h-3 mr-1"}),"Promote"]});case"Trial":return e.jsxs(yt,{className:"bg-[#FFC107] text-white border-0",children:[e.jsx(L0,{className:"w-3 h-3 mr-1"}),"Trial"]});case"Repeat":return e.jsxs(yt,{className:"bg-[#DC3545] text-white border-0",children:[e.jsx(xa,{className:"w-3 h-3 mr-1"}),"Repeat"]});default:return e.jsx(yt,{className:"bg-gray-500 text-white border-0",children:"Pending"})}},W=M=>{const de=t.find(ue=>ue.id===M);return de?t.filter(ue=>{if(de.level==="Primary"){const se=parseInt(de.name.match(/\d+/)?.[0]||"0"),O=parseInt(ue.name.match(/\d+/)?.[0]||"0");if(ue.level==="Primary"&&O===se+1||ue.level==="Secondary"&&de.name.includes("6")&&ue.name.includes("JSS 1"))return!0}if(de.level==="Secondary"){const se=parseInt(de.name.match(/\d+/)?.[0]||"0"),O=parseInt(ue.name.match(/\d+/)?.[0]||"0");if(de.name.includes("JSS")&&ue.name.includes("JSS")&&O===se+1||de.name==="JSS 3"&&ue.name==="SSS 1"||de.name.includes("SSS")&&ue.name.includes("SSS")&&O===se+1)return!0}return!1}):[]},ne=()=>{const M=["Student Name","Admission No","Current Class","Average Score","Position","Attendance","Status","Next Class"],de=I.map(re=>{const me=j[re.id]?t.find(xe=>xe.id===j[re.id])?.name:"-";return[`${re.firstName} ${re.lastName}`,re.admissionNumber,re.className,re.averageScore.toFixed(1),`${re.position}/${re.totalStudents}`,`${re.attendance.toFixed(0)}%`,re.promotionStatus,me||"-"]}),ue=[M,...de].map(re=>re.join(",")).join(`
`),se=new Blob([ue],{type:"text/csv"}),O=URL.createObjectURL(se),X=document.createElement("a");X.href=O,X.download=`promotion-list-${new Date().toISOString().split("T")[0]}.csv`,X.click(),ge.success("Promotion list exported successfully")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-white mb-2",children:"Student Promotion System"}),e.jsx("p",{className:"text-[#C0C8D3]",children:"Promote students to next academic session"})]}),d&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Qs,{className:"w-4 h-4 text-[#1E90FF]"}),e.jsx("p",{className:"text-[#C0C8D3] text-sm",children:"Total"})]}),e.jsx("p",{className:"text-white text-2xl",children:D.totalStudents})]})}),e.jsx(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Br,{className:"w-4 h-4 text-[#28A745]"}),e.jsx("p",{className:"text-[#C0C8D3] text-sm",children:"Promote"})]}),e.jsx("p",{className:"text-[#28A745] text-2xl",children:D.toPromote})]})}),e.jsx(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(L0,{className:"w-4 h-4 text-[#FFC107]"}),e.jsx("p",{className:"text-[#C0C8D3] text-sm",children:"Trial"})]}),e.jsx("p",{className:"text-[#FFC107] text-2xl",children:D.onTrial})]})}),e.jsx(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(xa,{className:"w-4 h-4 text-[#DC3545]"}),e.jsx("p",{className:"text-[#C0C8D3] text-sm",children:"Repeat"})]}),e.jsx("p",{className:"text-[#DC3545] text-2xl",children:D.toRepeat})]})}),e.jsx(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Nd,{className:"w-4 h-4 text-[#1E90FF]"}),e.jsx("p",{className:"text-[#C0C8D3] text-sm",children:"Pending"})]}),e.jsx("p",{className:"text-white text-2xl",children:D.pending})]})})]}),e.jsx(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"New Academic Year"}),e.jsxs(Ot,{value:k,onValueChange:q,children:[e.jsx(Mt,{className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white",children:e.jsx(Ht,{})}),e.jsxs(Kt,{className:"bg-[#0F243E] border-white/10",children:[e.jsx(ke,{value:"2025/2026",className:"text-white hover:bg-[#1E90FF]",children:"2025/2026"}),e.jsx(ke,{value:"2026/2027",className:"text-white hover:bg-[#1E90FF]",children:"2026/2027"}),e.jsx(ke,{value:"2027/2028",className:"text-white hover:bg-[#1E90FF]",children:"2027/2028"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"Source Class *"}),e.jsxs(Ot,{value:d,onValueChange:u,children:[e.jsx(Mt,{className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white",children:e.jsx(Ht,{placeholder:"Select class"})}),e.jsx(Kt,{className:"bg-[#0F243E] border-white/10",children:t.filter(M=>M.status==="Active").map(M=>e.jsxs(ke,{value:M.id.toString(),className:"text-white hover:bg-[#1E90FF]",children:[M.name," (",s.filter(de=>de.classId===M.id&&de.status==="Active").length," students)"]},M.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"Filter by Status"}),e.jsxs(Ot,{value:x,onValueChange:g,children:[e.jsx(Mt,{className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white",children:e.jsx(Ht,{})}),e.jsxs(Kt,{className:"bg-[#0F243E] border-white/10",children:[e.jsx(ke,{value:"All",className:"text-white hover:bg-[#1E90FF]",children:"All Students"}),e.jsx(ke,{value:"Promote",className:"text-white hover:bg-[#1E90FF]",children:"Promote Only"}),e.jsx(ke,{value:"Trial",className:"text-white hover:bg-[#1E90FF]",children:"Trial Only"}),e.jsx(ke,{value:"Repeat",className:"text-white hover:bg-[#1E90FF]",children:"Repeat Only"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-white",children:"Search Student"}),e.jsxs("div",{className:"relative",children:[e.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#C0C8D3]"}),e.jsx(kt,{value:m,onChange:M=>f(M.target.value),placeholder:"Name or Admission No...",className:"h-12 pl-10 rounded-xl border border-white/10 bg-[#0F243E] text-white"})]})]})]})})}),d?e.jsxs(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:[e.jsx(Qt,{className:"p-5 border-b border-white/10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("h3",{className:"text-white flex items-center gap-2",children:[e.jsx(Ml,{className:"w-5 h-5"}),"Students for Promotion (",I.length,")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Ee,{onClick:ne,variant:"outline",className:"h-10 border-white/10 text-white hover:bg-[#0F243E] rounded-xl",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Export"]}),e.jsxs(Ee,{onClick:$,disabled:N.length===0,className:"h-10 bg-[#28A745] hover:bg-[#28A745]/90 text-white rounded-xl shadow-md",children:[e.jsx(d4,{className:"w-4 h-4 mr-2"}),"Promote Selected (",N.length,")"]})]})]})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-gradient-to-r from-[#1E90FF] to-[#00BFFF] border-none hover:bg-gradient-to-r",children:[e.jsx(At,{className:"text-white",children:e.jsx(vi,{checked:N.length===I.filter(M=>M.promotionStatus==="Promote").length,onCheckedChange:Q,className:"border-white"})}),e.jsx(At,{className:"text-white",children:"Student"}),e.jsx(At,{className:"text-white",children:"Adm. No"}),e.jsx(At,{className:"text-white text-center",children:"Average"}),e.jsx(At,{className:"text-white text-center",children:"Position"}),e.jsx(At,{className:"text-white text-center",children:"Attendance"}),e.jsx(At,{className:"text-white",children:"Status"}),e.jsx(At,{className:"text-white",children:"Destination Class"})]})}),e.jsx(On,{children:I.length===0?e.jsx(As,{className:"bg-[#0F243E] border-b border-white/5",children:e.jsxs(Xe,{colSpan:8,className:"text-center py-12",children:[e.jsx("p",{className:"text-white mb-2",children:"No students found"}),e.jsx("p",{className:"text-[#C0C8D3] text-sm",children:"Try adjusting your filters"})]})}):I.map(M=>{const de=W(M.classId);return e.jsxs(As,{className:"bg-[#0F243E] border-b border-white/5 hover:bg-[#132C4A]",children:[e.jsx(Xe,{children:e.jsx(vi,{checked:N.includes(M.id),onCheckedChange:ue=>P(M.id,ue),disabled:M.promotionStatus==="Repeat",className:"border-white/20"})}),e.jsx(Xe,{children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-white",children:[M.firstName," ",M.lastName]}),e.jsx("p",{className:"text-xs text-[#C0C8D3]",children:M.className})]})}),e.jsx(Xe,{className:"text-[#C0C8D3]",children:M.admissionNumber}),e.jsxs(Xe,{className:"text-center text-white",children:[M.averageScore.toFixed(1),"%"]}),e.jsx(Xe,{className:"text-center text-[#FFD700]",children:M.position>0?`${M.position}/${M.totalStudents}`:"-"}),e.jsxs(Xe,{className:"text-center text-[#C0C8D3]",children:[M.attendance.toFixed(0),"%"]}),e.jsx(Xe,{children:ie(M.promotionStatus)}),e.jsx(Xe,{children:N.includes(M.id)?e.jsxs(Ot,{value:j[M.id]?.toString()||"",onValueChange:ue=>T(M.id,Number(ue)),children:[e.jsx(Mt,{className:"h-10 w-full rounded-xl border border-white/10 bg-[#132C4A] text-white",children:e.jsx(Ht,{placeholder:"Select class"})}),e.jsx(Kt,{className:"bg-[#0F243E] border-white/10",children:de.map(ue=>e.jsx(ke,{value:ue.id.toString(),className:"text-white hover:bg-[#1E90FF]",children:ue.name},ue.id))})]}):e.jsx("span",{className:"text-[#C0C8D3]",children:"-"})})]},M.id)})})]})})})]}):e.jsx(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:e.jsxs(Le,{className:"p-12 text-center",children:[e.jsx(Ml,{className:"w-16 h-16 mx-auto mb-4 text-[#1E90FF]"}),e.jsx("h3",{className:"text-white mb-2",children:"Select a Source Class"}),e.jsx("p",{className:"text-[#C0C8D3]",children:"Choose a class from the dropdown above to view students for promotion"})]})}),e.jsx(Cc,{open:E,onOpenChange:U,children:e.jsxs(Sc,{className:"bg-[#0F243E] border-white/10",children:[e.jsxs(Ec,{children:[e.jsx(_c,{className:"text-white",children:"Confirm Student Promotion"}),e.jsxs(Uc,{className:"text-[#C0C8D3]",children:["You are about to promote ",N.length," student(s) to the ",k," academic year. This action will update their class assignments and academic year records.",e.jsx("br",{}),e.jsx("br",{}),"Are you sure you want to continue?"]})]}),e.jsxs(Fc,{children:[e.jsx(Ic,{className:"bg-[#132C4A] text-white border-white/10 hover:bg-[#132C4A]/80",children:"Cancel"}),e.jsx(kc,{onClick:V,className:"bg-[#28A745] hover:bg-[#28A745]/90 text-white",children:"Confirm Promotion"})]})]})})]})}function eB({student:s,studentClass:t,result:r,detailedScores:n,showActions:a=!1,onDownload:i,onPrint:A,onApprovePrint:c,currentUser:d}){const[u,m]=S.useState(null);S.useEffect(()=>{f()},[r]);const f=async()=>{try{const W=await(await fetch("http://localhost/GGGG/api/database/query",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({query:`
            SELECT * FROM signature_settings 
            WHERE academic_year = ? AND term = ? 
            ORDER BY created_at DESC 
            LIMIT 1
          `,params:[r.academic_year||"2024/2025",r.term||"Third Term"]})})).json();W.success&&W.data&&W.data.length>0&&m(W.data[0])}catch(ie){console.error("Error loading signature settings:",ie)}},{students:x,classes:g,teachers:N,scores:b,subjectAssignments:j,subjects:y,loadScoresFromAPI:E,loadSubjectAssignmentsFromAPI:U,loadSubjectsFromAPI:k}=Fs(),[q,G]=S.useState(!1),[H,I]=S.useState([]);S.useEffect(()=>{r&&r.student_id&&D()},[r,b]);const D=async()=>{if(!(!r||!r.student_id))try{await Promise.all([b.length===0&&E(),j.length===0&&U(),y.length===0&&k()]);let ie=b.filter(W=>W.student_id===r.student_id&&W.academic_year===r.academic_year&&W.term===r.term);if(ie=ie.map(W=>{const ne=j.find(de=>de.id===W.subject_assignment_id),M=ne?y.find(de=>de.id===ne.subject_id):null;return{...W,subject_name:M?M.name:W.subject_name||"Unknown Subject",subject_teacher:ne&&ne.teacher_name||"Teacher"}}),n&&n.length>0)I(n);else if(r.scores&&r.scores.length>0){const W=r.scores.map(ne=>{const M=j.find(ue=>ue.id===ne.subject_assignment_id),de=M?y.find(ue=>ue.id===M.subject_id):null;return{...ne,subject_name:de?de.name:ne.subject_name||"Unknown Subject",subject_teacher:M&&M.teacher_name||"Teacher"}});I(W)}else I(ie)}catch(ie){console.error("Error loading detailed scores:",ie),I([])}},P=s||x.find(ie=>ie.id===r.student_id),Q=t||g.find(ie=>ie.id===r.class_id),T=()=>{if(Q?.classTeacher)return Q.classTeacher;if(Q?.classTeacherId){const ie=N.find(W=>W.id===Q.classTeacherId);if(ie)return`${ie.firstName} ${ie.lastName}`}return"CLASS TEACHER"},$=ie=>ie>=80?{grade:"A",remark:"Excellent"}:ie>=70?{grade:"B",remark:"Very Good"}:ie>=60?{grade:"C",remark:"Good"}:ie>=50?{grade:"D",remark:"Satisfactory"}:ie>=45?{grade:"E",remark:"Fair"}:{grade:"F",remark:"Fail"},V=ie=>ie===5?"Excellent":ie===4?"Very Good":ie===3?"Good":ie===2?"Fair":"Poor";return d?.role==="admin"||r.print_approved,e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        @media print {
          @page {
            size: A4;
            margin: 10mm;
            orientation: portrait;
          }
          
          * {
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
          }
          
          body {
            margin: 0;
            padding: 0;
            font-family: 'Times New Roman', serif;
            font-size: 10pt;
            line-height: 1.2;
            width: 100%;
            height: 100vh;
            overflow: hidden;
          }
          
          .print-container {
            width: 100%;
            max-width: 190mm;
            height: 277mm;
            margin: 0 auto;
            box-sizing: border-box;
            overflow: hidden;
            page-break-after: always;
            page-break-inside: avoid;
            padding: 5mm;
            background: white;
          }
          
          .print-header {
            page-break-after: auto;
            page-break-inside: avoid;
          }
          
          .print-table {
            page-break-inside: avoid;
            page-break-after: auto;
          }
          
          .print-section {
            page-break-inside: avoid;
            page-break-after: auto;
          }
          
          .print-affective-psychomotor {
            page-break-inside: avoid;
            display: flex !important;
            gap: 2mm !important;
          }
          
          .print-watermark {
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            opacity: 0.1 !important;
            z-index: 0 !important;
            pointer-events: none !important;
          }
          
          .print-content {
            position: relative !important;
            z-index: 1 !important;
          }
          
          table {
            border-collapse: collapse !important;
            page-break-inside: avoid !important;
          }
          
          tr {
            page-break-inside: avoid !important;
          }
          
          td, th {
            page-break-inside: avoid !important;
          }
          
          .no-print {
            display: none !important;
          }
          
          .print-only {
            display: block !important;
          }
          
          @media screen {
            .print-only {
              display: none !important;
            }
          }
        }
      `}),e.jsxs("div",{className:"print-container bg-white",style:{fontFamily:'"Times New Roman", serif',width:"210mm",height:"297mm",margin:"0 auto",padding:"8mm",boxSizing:"border-box",backgroundColor:"white",overflow:"hidden",position:"relative",border:"3px double #333"},children:[e.jsx("div",{className:"print-watermark",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"120mm",height:"120mm",backgroundImage:`url(${Cu})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:.08,zIndex:0}}),e.jsxs("div",{className:"print-content",style:{position:"relative",zIndex:1},children:[e.jsxs("div",{className:"print-header",style:{textAlign:"center",marginBottom:"2mm"},children:[e.jsx("div",{style:{marginBottom:"0.5mm"},children:e.jsx("img",{src:Cu,alt:"School Logo",style:{width:"12mm",height:"12mm",display:"block",margin:"0 auto"}})}),e.jsx("h1",{style:{fontSize:"11pt",fontWeight:"bold",margin:"0.5mm 0",textTransform:"uppercase"},children:"GRACELAND ROYAL ACADEMY"}),e.jsx("p",{style:{fontSize:"6pt",margin:"0.3mm 0",fontStyle:"italic"},children:"BEHIND HAKIMI PALACE OPPOSITE NNPC DEPOT TUNFUFE, GOMBE"}),e.jsx("p",{style:{fontSize:"6pt",margin:"0.3mm 0"},children:"gracelandroyalacademy09@gmail.com"})]}),e.jsx("hr",{className:"border border-black"}),e.jsxs("div",{className:"print-section",style:{marginBottom:"2mm",display:"flex",gap:"0mm"},children:[e.jsx("div",{style:{width:"75%"},children:e.jsx("table",{className:"w-full border-collapse border border-black",style:{fontSize:"6pt",height:"22mm",pageBreakInside:"avoid"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontWeight:"bold",fontSize:"6pt"},children:"NAME:"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontSize:"6pt"},children:P?`${P.firstName} ${P.lastName}`.toUpperCase():"STUDENT NAME"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontWeight:"bold",fontSize:"6pt"},children:"SESSION:"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontSize:"6pt"},children:r.academic_year||"2024/2025"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontWeight:"bold",fontSize:"6pt"},children:"NO. IN CLASS:"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontSize:"6pt"},children:r.position||"___"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontWeight:"bold",fontSize:"6pt"},children:"ADM NO:"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontSize:"6pt"},children:P?.admissionNumber||"GRA/XXXXX"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontWeight:"bold",fontSize:"6pt"},children:"TERM:"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontSize:"6pt"},children:r.term||"THIRD TERM"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontWeight:"bold",fontSize:"6pt"},children:"TERM END:"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontSize:"6pt"},children:r.term_end||"25-JUL-2025"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontWeight:"bold",fontSize:"6pt"},children:"GENDER:"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontSize:"6pt"},children:P?.gender||"MALE"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontWeight:"bold",fontSize:"6pt"},children:"CLASS:"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontSize:"6pt"},children:Q?.name||"CLASS NAME"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontWeight:"bold",fontSize:"6pt"},children:"NEXT TERM:"}),e.jsx("td",{className:"border border-black",style:{padding:"0.8mm",fontSize:"6pt"},children:u?.resumption_date||"15-SEP-2025"})]})]})})}),e.jsx("div",{style:{width:"25%"},children:e.jsx("div",{className:"border border-black",style:{height:"22mm",display:"flex",alignItems:"center",justifyContent:"center"},children:P?.photo_url?e.jsx("img",{src:P.photo_url,alt:"Student Photo",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("span",{style:{fontSize:"7pt",color:"#666"},children:"No Photo"})})})})]}),e.jsx("div",{style:{textAlign:"center",marginBottom:"1mm"},children:e.jsxs("h2",{style:{fontSize:"10pt",fontWeight:"bold",textDecoration:"underline",margin:"0.5mm 0",textTransform:"uppercase"},children:[r.term||"THIRD TERM"," RESULT SHEET"]})}),e.jsxs("table",{className:"print-table w-full border-collapse border border-black",style:{fontSize:"6pt",marginBottom:"1mm",pageBreakInside:"avoid",pageBreakAfter:"auto"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",width:"3%",fontWeight:"bold",fontSize:"5pt"},children:"SN"}),e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",width:"16%",fontWeight:"bold",fontSize:"5pt"},children:"SUBJECT"}),e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",width:"6%",fontWeight:"bold",fontSize:"5pt"},children:"1st CA"}),e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",width:"6%",fontWeight:"bold",fontSize:"5pt"},children:"2nd CA"}),e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",width:"6%",fontWeight:"bold",fontSize:"5pt"},children:"Exams"}),e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",width:"6%",fontWeight:"bold",fontSize:"5pt"},children:"Total"}),e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",width:"7%",fontWeight:"bold",fontSize:"5pt"},children:"Avg"}),e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",width:"5%",fontWeight:"bold",fontSize:"5pt"},children:"Grd"}),e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",width:"8%",fontWeight:"bold",fontSize:"5pt"},children:"Remark"}),e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",width:"6%",fontWeight:"bold",fontSize:"5pt"},children:"Min"}),e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",width:"6%",fontWeight:"bold",fontSize:"5pt"},children:"Max"})]})}),e.jsx("tbody",{children:H&&H.length>0?H.map((ie,W)=>{const ne=$(ie.total||0);return e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",textAlign:"center",fontSize:"6pt"},children:W+1}),e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"6pt"},children:ie.subject_name||"Subject"}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",textAlign:"center",fontSize:"6pt"},children:ie.ca1||0}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",textAlign:"center",fontSize:"6pt"},children:ie.ca2||0}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",textAlign:"center",fontSize:"6pt"},children:ie.exam||0}),e.jsx("td",{className:"border border-black text-center font-bold",style:{padding:"0.5mm",textAlign:"center",fontWeight:"bold",fontSize:"6pt"},children:ie.total||0}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",textAlign:"center",fontSize:"6pt"},children:ie.class_average||"0.0"}),e.jsx("td",{className:"border border-black text-center font-bold",style:{padding:"0.5mm",textAlign:"center",fontWeight:"bold",fontSize:"6pt"},children:ne.grade}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",textAlign:"center",fontSize:"5pt"},children:ne.remark}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",textAlign:"center",fontSize:"6pt"},children:ie.class_minimum||"0"}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",textAlign:"center",fontSize:"6pt"},children:ie.class_maximum||"0"})]},W)}):e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"border border-black p-2 text-center text-gray-500",style:{padding:"2mm",fontSize:"8pt"},children:"No scores available"})})})]}),e.jsx("table",{className:"print-table w-full border-collapse border border-black",style:{marginTop:"1mm",fontSize:"7pt",pageBreakInside:"avoid"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{className:"border border-black p-1",style:{padding:"1mm",width:"25%",fontSize:"6pt"},children:[e.jsx("b",{children:"TOTAL:"})," ",r.total_score||"0.00"]}),e.jsxs("td",{className:"border border-black p-1",style:{padding:"1mm",width:"25%",fontSize:"6pt"},children:[e.jsx("b",{children:"AVG:"})," ",r.average_score||"0.00"]}),e.jsxs("td",{className:"border border-black p-1",style:{padding:"1mm",width:"25%",fontSize:"6pt"},children:[e.jsx("b",{children:"CLASS AVG:"})," ",r.class_average||"0.00"]}),e.jsxs("td",{className:"border border-black p-1",style:{padding:"1mm",width:"25%",fontSize:"6pt"},children:[e.jsx("b",{children:"POS:"})," ",r.position?`${r.position}${r.position===1?"st":r.position===2?"nd":r.position===3?"rd":"th"}`:"___"]})]})})}),e.jsx("div",{className:"print-section",style:{marginTop:"3mm",marginBottom:"2mm"},children:e.jsxs("div",{className:"border border-black p-1",style:{padding:"1mm",fontSize:"7pt"},children:[e.jsxs("p",{style:{margin:"0.5mm 0",fontSize:"6pt"},children:[e.jsx("b",{children:"CLASS TEACHER:"})," ",T()]}),e.jsxs("p",{style:{margin:"0.5mm 0",fontSize:"6pt"},children:[e.jsx("b",{children:"COMMENT:"})," ",r?.class_teacher_comment||r?.comment||"Good performance. Keep up the effort."]}),e.jsxs("p",{style:{margin:"0.5mm 0",fontSize:"6pt"},children:[e.jsx("b",{children:Q?.category==="Primary"?"HEAD TEACHER:":"PRINCIPAL:"}),Q?.category==="Primary"?` ${u?.head_teacher_name||"MRS. ABDULHAMID BINTA"}`:` ${u?.principal_name||"OROGUN GLORY EJIRO"}`]}),e.jsxs("div",{style:{margin:"0.5mm 0",fontSize:"6pt",display:"flex",alignItems:"center"},children:[e.jsx("b",{style:{marginRight:"2mm"},children:"SIGNATURE:"}),Q?.category==="Primary"?u?.head_teacher_signature?e.jsx("img",{src:u.head_teacher_signature,alt:"Head Teacher Signature",style:{height:"8mm",maxHeight:"8mm"}}):e.jsx("span",{children:"______________________"}):u?.principal_signature?e.jsx("img",{src:u.principal_signature,alt:"Principal Signature",style:{height:"8mm",maxHeight:"8mm"}}):e.jsx("span",{children:"______________________"})]})]})}),e.jsxs("div",{className:"print-affective-psychomotor flex gap-1",style:{padding:"1mm",pageBreakInside:"avoid"},children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-center mb-1",children:e.jsx("h3",{className:"font-bold underline",style:{fontSize:"7pt",marginBottom:"0.5mm"},children:"AFFECTIVE"})}),e.jsxs("table",{className:"print-table w-full border-collapse border border-black",style:{fontSize:"5pt",pageBreakInside:"avoid"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"QUALITY"}),e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"SCORE"}),e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"REMARK"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"ATTENTIVE"}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",fontSize:"4pt"},children:r.affective?.attentiveness||"4"}),e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:V(r.affective?.attentiveness||4)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"HONESTY"}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",fontSize:"4pt"},children:r.affective?.honesty||"3"}),e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:V(r.affective?.honesty||3)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"NEATNESS"}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",fontSize:"4pt"},children:r.affective?.neatness||"4"}),e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:V(r.affective?.neatness||4)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"OBEDIENT"}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",fontSize:"4pt"},children:r.affective?.obedience||"2"}),e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:V(r.affective?.obedience||2)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"RESPONSIBLE"}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",fontSize:"4pt"},children:r.affective?.responsibility||"3"}),e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:V(r.affective?.responsibility||3)})]})]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-center mb-1",children:e.jsx("h3",{className:"font-bold underline",style:{fontSize:"7pt",marginBottom:"0.5mm"},children:"PSYCHOMOTOR"})}),e.jsxs("table",{className:"print-table w-full border-collapse border border-black",style:{fontSize:"5pt",pageBreakInside:"avoid"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"SKILL"}),e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"SCORE"}),e.jsx("th",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"REMARK"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"ATTENTION"}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",fontSize:"4pt"},children:r.psychomotor?.attention_direction||"4"}),e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:V(r.psychomotor?.attention_direction||4)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"CONSIDERATE"}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",fontSize:"4pt"},children:r.psychomotor?.considerate_others||"2"}),e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:V(r.psychomotor?.considerate_others||2)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"HANDWRITING"}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",fontSize:"4pt"},children:r.psychomotor?.handwriting||"4"}),e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:V(r.psychomotor?.handwriting||4)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"SPORTS"}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",fontSize:"4pt"},children:r.psychomotor?.sports||"3"}),e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:V(r.psychomotor?.sports||3)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"VERBAL"}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",fontSize:"4pt"},children:r.psychomotor?.verbal_fluency||"4"}),e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:V(r.psychomotor?.verbal_fluency||4)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:"INDEPENDENT"}),e.jsx("td",{className:"border border-black text-center",style:{padding:"0.5mm",fontSize:"4pt"},children:r.psychomotor?.independent_work||"5"}),e.jsx("td",{className:"border border-black",style:{padding:"0.5mm",fontSize:"4pt"},children:V(r.psychomotor?.independent_work||5)})]})]})]})]})]}),a&&e.jsx("div",{className:"p-4 bg-white border-t no-print",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yt,{className:r.status==="Approved"?"bg-green-100 text-green-800":r.status==="Submitted"?"bg-blue-100 text-blue-800":r.status==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:r.status||"Draft"}),!r.print_approved&&d?.role==="admin"&&e.jsxs(yt,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(Es,{className:"w-3 h-3 mr-1"}),"Print Not Approved"]}),r.print_approved&&e.jsxs(yt,{className:"bg-green-100 text-green-800",children:[e.jsx(Br,{className:"w-3 h-3 mr-1"}),"Print Approved"]})]}),e.jsx("div",{className:"flex items-center space-x-2 no-print",children:d?.role==="admin"&&e.jsxs(e.Fragment,{children:[!r.print_approved&&c&&e.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>c?.(r.id),className:"text-purple-600 border-purple-600 hover:bg-purple-50",children:[e.jsx(Br,{className:"w-4 h-4 mr-2"}),"Approve Print"]}),e.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>i?.(r.id),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),e.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>A?.(r.id),className:"text-green-600 border-green-600 hover:bg-green-50",children:[e.jsx(Eh,{className:"w-4 h-4 mr-2"}),"Print"]})]})})]})})]})]})]})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var W0=function(s,t){return W0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},W0(s,t)};function il(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");W0(s,t);function r(){this.constructor=s}s.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var q0=function(){return q0=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},q0.apply(this,arguments)};function Xa(s,t,r,n){function a(i){return i instanceof r?i:new r(function(A){A(i)})}return new(r||(r=Promise))(function(i,A){function c(m){try{u(n.next(m))}catch(f){A(f)}}function d(m){try{u(n.throw(m))}catch(f){A(f)}}function u(m){m.done?i(m.value):a(m.value).then(c,d)}u((n=n.apply(s,[])).next())})}function Ra(s,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,A;return A={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function c(u){return function(m){return d([u,m])}}function d(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(s,r)}catch(m){u=[6,m],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Im(s,t,r){if(arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return s.concat(i||t)}var IA=(function(){function s(t,r,n,a){this.left=t,this.top=r,this.width=n,this.height=a}return s.prototype.add=function(t,r,n,a){return new s(this.left+t,this.top+r,this.width+n,this.height+a)},s.fromClientRect=function(t,r){return new s(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},s.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new s(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):s.EMPTY},s.EMPTY=new s(0,0,0,0),s})(),bp=function(s,t){return IA.fromClientRect(s,t.getBoundingClientRect())},vI=function(s){var t=s.body,r=s.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new IA(0,0,n,a)},yp=function(s){for(var t=[],r=0,n=s.length;r<n;){var a=s.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=s.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},vn=function(){for(var s=[],t=0;t<arguments.length;t++)s[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,s);var r=s.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var A=s[a];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},j1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Lm=0;Lm<j1.length;Lm++)bI[j1.charCodeAt(Lm)]=Lm;var B1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qm=0;Qm<B1.length;Qm++)dh[B1.charCodeAt(Qm)]=Qm;var yI=function(s){var t=s.length*.75,r=s.length,n,a=0,i,A,c,d;s[s.length-1]==="="&&(t--,s[s.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),m=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=dh[s.charCodeAt(n)],A=dh[s.charCodeAt(n+1)],c=dh[s.charCodeAt(n+2)],d=dh[s.charCodeAt(n+3)],m[a++]=i<<2|A>>4,m[a++]=(A&15)<<4|c>>2,m[a++]=(c&3)<<6|d&63;return u},NI=function(s){for(var t=s.length,r=[],n=0;n<t;n+=2)r.push(s[n+1]<<8|s[n]);return r},jI=function(s){for(var t=s.length,r=[],n=0;n<t;n+=4)r.push(s[n+3]<<24|s[n+2]<<16|s[n+1]<<8|s[n]);return r},hd=5,Aw=11,Og=2,BI=Aw-hd,tB=65536>>hd,CI=1<<hd,Hg=CI-1,SI=1024>>hd,EI=tB+SI,FI=EI,_I=32,UI=FI+_I,kI=65536>>Aw,II=1<<BI,LI=II-1,C1=function(s,t,r){return s.slice?s.slice(t,r):new Uint16Array(Array.prototype.slice.call(s,t,r))},QI=function(s,t,r){return s.slice?s.slice(t,r):new Uint32Array(Array.prototype.slice.call(s,t,r))},TI=function(s,t){var r=yI(s),n=Array.isArray(r)?jI(r):new Uint32Array(r),a=Array.isArray(r)?NI(r):new Uint16Array(r),i=24,A=C1(a,i/2,n[4]/2),c=n[5]===2?C1(a,(i+n[4])/2):QI(n,Math.ceil((i+n[4])/4));return new PI(n[0],n[1],n[2],n[3],A,c)},PI=(function(){function s(t,r,n,a,i,A){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=A}return s.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>hd],r=(r<<Og)+(t&Hg),this.data[r];if(t<=65535)return r=this.index[tB+(t-55296>>hd)],r=(r<<Og)+(t&Hg),this.data[r];if(t<this.highStart)return r=UI-kI+(t>>Aw),r=this.index[r],r+=t>>hd&LI,r=this.index[r],r=(r<<Og)+(t&Hg),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},s})(),S1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",RI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Tm=0;Tm<S1.length;Tm++)RI[S1.charCodeAt(Tm)]=Tm;var DI="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",E1=50,OI=1,sB=2,rB=3,HI=4,MI=5,F1=7,nB=8,_1=9,vc=10,Y0=11,U1=12,J0=13,KI=14,uh=15,X0=16,Pm=17,rh=18,VI=19,k1=20,Z0=21,nh=22,Mg=23,Zd=24,Di=25,hh=26,mh=27,eu=28,zI=29,Ad=30,GI=31,Rm=32,Dm=33,ex=34,tx=35,sx=36,Qh=37,rx=38,xf=39,wf=40,Kg=41,aB=42,$I=43,WI=[9001,65288],iB="!",Gs="",Om="",nx=TI(DI),fA=[Ad,sx],ax=[OI,sB,rB,MI],oB=[vc,nB],I1=[mh,hh],qI=ax.concat(oB),L1=[rx,xf,wf,ex,tx],YI=[uh,J0],JI=function(s,t){t===void 0&&(t="strict");var r=[],n=[],a=[];return s.forEach(function(i,A){var c=nx.get(i);if(c>E1?(a.push(!0),c-=E1):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(A),r.push(X0);if(c===HI||c===Y0){if(A===0)return n.push(A),r.push(Ad);var d=r[A-1];return qI.indexOf(d)===-1?(n.push(n[A-1]),r.push(d)):(n.push(A),r.push(Ad))}if(n.push(A),c===GI)return r.push(t==="strict"?Z0:Qh);if(c===aB||c===zI)return r.push(Ad);if(c===$I)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Qh):r.push(Ad);r.push(c)}),[n,r,a]},Vg=function(s,t,r,n){var a=n[r];if(Array.isArray(s)?s.indexOf(a)!==-1:s===a)for(var i=r;i<=n.length;){i++;var A=n[i];if(A===t)return!0;if(A!==vc)break}if(a===vc)for(var i=r;i>0;){i--;var c=n[i];if(Array.isArray(s)?s.indexOf(c)!==-1:s===c)for(var d=r;d<=n.length;){d++;var A=n[d];if(A===t)return!0;if(A!==vc)break}if(c!==vc)break}return!1},Q1=function(s,t){for(var r=s;r>=0;){var n=t[r];if(n===vc)r--;else return n}return 0},XI=function(s,t,r,n,a){if(r[n]===0)return Gs;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return Gs;var A=i-1,c=i+1,d=t[i],u=A>=0?t[A]:0,m=t[c];if(d===sB&&m===rB)return Gs;if(ax.indexOf(d)!==-1)return iB;if(ax.indexOf(m)!==-1||oB.indexOf(m)!==-1)return Gs;if(Q1(i,t)===nB)return Om;if(nx.get(s[i])===Y0||(d===Rm||d===Dm)&&nx.get(s[c])===Y0||d===F1||m===F1||d===_1||[vc,J0,uh].indexOf(d)===-1&&m===_1||[Pm,rh,VI,Zd,eu].indexOf(m)!==-1||Q1(i,t)===nh||Vg(Mg,nh,i,t)||Vg([Pm,rh],Z0,i,t)||Vg(U1,U1,i,t))return Gs;if(d===vc)return Om;if(d===Mg||m===Mg)return Gs;if(m===X0||d===X0)return Om;if([J0,uh,Z0].indexOf(m)!==-1||d===KI||u===sx&&YI.indexOf(d)!==-1||d===eu&&m===sx||m===k1||fA.indexOf(m)!==-1&&d===Di||fA.indexOf(d)!==-1&&m===Di||d===mh&&[Qh,Rm,Dm].indexOf(m)!==-1||[Qh,Rm,Dm].indexOf(d)!==-1&&m===hh||fA.indexOf(d)!==-1&&I1.indexOf(m)!==-1||I1.indexOf(d)!==-1&&fA.indexOf(m)!==-1||[mh,hh].indexOf(d)!==-1&&(m===Di||[nh,uh].indexOf(m)!==-1&&t[c+1]===Di)||[nh,uh].indexOf(d)!==-1&&m===Di||d===Di&&[Di,eu,Zd].indexOf(m)!==-1)return Gs;if([Di,eu,Zd,Pm,rh].indexOf(m)!==-1)for(var f=i;f>=0;){var x=t[f];if(x===Di)return Gs;if([eu,Zd].indexOf(x)!==-1)f--;else break}if([mh,hh].indexOf(m)!==-1)for(var f=[Pm,rh].indexOf(d)!==-1?A:i;f>=0;){var x=t[f];if(x===Di)return Gs;if([eu,Zd].indexOf(x)!==-1)f--;else break}if(rx===d&&[rx,xf,ex,tx].indexOf(m)!==-1||[xf,ex].indexOf(d)!==-1&&[xf,wf].indexOf(m)!==-1||[wf,tx].indexOf(d)!==-1&&m===wf||L1.indexOf(d)!==-1&&[k1,hh].indexOf(m)!==-1||L1.indexOf(m)!==-1&&d===mh||fA.indexOf(d)!==-1&&fA.indexOf(m)!==-1||d===Zd&&fA.indexOf(m)!==-1||fA.concat(Di).indexOf(d)!==-1&&m===nh&&WI.indexOf(s[c])===-1||fA.concat(Di).indexOf(m)!==-1&&d===rh)return Gs;if(d===Kg&&m===Kg){for(var g=r[i],N=1;g>0&&(g--,t[g]===Kg);)N++;if(N%2!==0)return Gs}return d===Rm&&m===Dm?Gs:Om},ZI=function(s,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=JI(s,t.lineBreak),n=r[0],a=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(c){return[Di,Ad,aB].indexOf(c)!==-1?Qh:c}));var A=t.wordBreak==="keep-all"?i.map(function(c,d){return c&&s[d]>=19968&&s[d]<=40959}):void 0;return[n,a,A]},eL=(function(){function s(t,r,n,a){this.codePoints=t,this.required=r===iB,this.start=n,this.end=a}return s.prototype.slice=function(){return vn.apply(void 0,this.codePoints.slice(this.start,this.end))},s})(),tL=function(s,t){var r=yp(s),n=ZI(r,t),a=n[0],i=n[1],A=n[2],c=r.length,d=0,u=0;return{next:function(){if(u>=c)return{done:!0,value:null};for(var m=Gs;u<c&&(m=XI(r,i,a,++u,A))===Gs;);if(m!==Gs||u===c){var f=new eL(r,m,d,u);return d=u,{value:f,done:!1}}return{done:!0,value:null}}}},sL=1,rL=2,Kh=4,T1=8,Of=10,P1=47,vh=92,nL=9,aL=32,Hm=34,ah=61,iL=35,oL=36,lL=37,Mm=39,Km=40,ih=41,AL=95,xi=45,cL=33,dL=60,uL=62,hL=64,mL=91,fL=93,pL=61,gL=123,Vm=63,xL=125,R1=124,wL=126,vL=128,D1=65533,zg=42,dd=43,bL=44,yL=58,NL=59,Th=46,jL=0,BL=8,CL=11,SL=14,EL=31,FL=127,kl=-1,lB=48,AB=97,cB=101,_L=102,UL=117,kL=122,dB=65,uB=69,hB=70,IL=85,LL=90,Oa=function(s){return s>=lB&&s<=57},QL=function(s){return s>=55296&&s<=57343},tu=function(s){return Oa(s)||s>=dB&&s<=hB||s>=AB&&s<=_L},TL=function(s){return s>=AB&&s<=kL},PL=function(s){return s>=dB&&s<=LL},RL=function(s){return TL(s)||PL(s)},DL=function(s){return s>=vL},zm=function(s){return s===Of||s===nL||s===aL},Hf=function(s){return RL(s)||DL(s)||s===AL},O1=function(s){return Hf(s)||Oa(s)||s===xi},OL=function(s){return s>=jL&&s<=BL||s===CL||s>=SL&&s<=EL||s===FL},wc=function(s,t){return s!==vh?!1:t!==Of},Gm=function(s,t,r){return s===xi?Hf(t)||wc(t,r):Hf(s)?!0:!!(s===vh&&wc(s,t))},Gg=function(s,t,r){return s===dd||s===xi?Oa(t)?!0:t===Th&&Oa(r):Oa(s===Th?t:s)},HL=function(s){var t=0,r=1;(s[t]===dd||s[t]===xi)&&(s[t]===xi&&(r=-1),t++);for(var n=[];Oa(s[t]);)n.push(s[t++]);var a=n.length?parseInt(vn.apply(void 0,n),10):0;s[t]===Th&&t++;for(var i=[];Oa(s[t]);)i.push(s[t++]);var A=i.length,c=A?parseInt(vn.apply(void 0,i),10):0;(s[t]===uB||s[t]===cB)&&t++;var d=1;(s[t]===dd||s[t]===xi)&&(s[t]===xi&&(d=-1),t++);for(var u=[];Oa(s[t]);)u.push(s[t++]);var m=u.length?parseInt(vn.apply(void 0,u),10):0;return r*(a+c*Math.pow(10,-A))*Math.pow(10,d*m)},ML={type:2},KL={type:3},VL={type:4},zL={type:13},GL={type:8},$L={type:21},WL={type:9},qL={type:10},YL={type:11},JL={type:12},XL={type:14},$m={type:23},ZL={type:1},eQ={type:25},tQ={type:24},sQ={type:26},rQ={type:27},nQ={type:28},aQ={type:29},iQ={type:31},ix={type:32},mB=(function(){function s(){this._value=[]}return s.prototype.write=function(t){this._value=this._value.concat(yp(t))},s.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==ix;)t.push(r),r=this.consumeToken();return t},s.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Hm:return this.consumeStringToken(Hm);case iL:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(O1(r)||wc(n,a)){var i=Gm(r,n,a)?rL:sL,A=this.consumeName();return{type:5,value:A,flags:i}}break;case oL:if(this.peekCodePoint(0)===ah)return this.consumeCodePoint(),zL;break;case Mm:return this.consumeStringToken(Mm);case Km:return ML;case ih:return KL;case zg:if(this.peekCodePoint(0)===ah)return this.consumeCodePoint(),XL;break;case dd:if(Gg(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case bL:return VL;case xi:var c=t,d=this.peekCodePoint(0),u=this.peekCodePoint(1);if(Gg(c,d,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Gm(c,d,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(d===xi&&u===uL)return this.consumeCodePoint(),this.consumeCodePoint(),tQ;break;case Th:if(Gg(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case P1:if(this.peekCodePoint(0)===zg)for(this.consumeCodePoint();;){var m=this.consumeCodePoint();if(m===zg&&(m=this.consumeCodePoint(),m===P1))return this.consumeToken();if(m===kl)return this.consumeToken()}break;case yL:return sQ;case NL:return rQ;case dL:if(this.peekCodePoint(0)===cL&&this.peekCodePoint(1)===xi&&this.peekCodePoint(2)===xi)return this.consumeCodePoint(),this.consumeCodePoint(),eQ;break;case hL:var f=this.peekCodePoint(0),x=this.peekCodePoint(1),g=this.peekCodePoint(2);if(Gm(f,x,g)){var A=this.consumeName();return{type:7,value:A}}break;case mL:return nQ;case vh:if(wc(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case fL:return aQ;case pL:if(this.peekCodePoint(0)===ah)return this.consumeCodePoint(),GL;break;case gL:return YL;case xL:return JL;case UL:case IL:var N=this.peekCodePoint(0),b=this.peekCodePoint(1);return N===dd&&(tu(b)||b===Vm)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case R1:if(this.peekCodePoint(0)===ah)return this.consumeCodePoint(),WL;if(this.peekCodePoint(0)===R1)return this.consumeCodePoint(),$L;break;case wL:if(this.peekCodePoint(0)===ah)return this.consumeCodePoint(),qL;break;case kl:return ix}return zm(t)?(this.consumeWhiteSpace(),iQ):Oa(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Hf(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:vn(t)}},s.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},s.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},s.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},s.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();tu(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===Vm&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(vn.apply(void 0,t.map(function(d){return d===Vm?lB:d})),16),i=parseInt(vn.apply(void 0,t.map(function(d){return d===Vm?hB:d})),16);return{type:30,start:a,end:i}}var A=parseInt(vn.apply(void 0,t),16);if(this.peekCodePoint(0)===xi&&tu(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var c=[];tu(r)&&c.length<6;)c.push(r),r=this.consumeCodePoint();var i=parseInt(vn.apply(void 0,c),16);return{type:30,start:A,end:i}}else return{type:30,start:A,end:A}},s.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Km?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Km?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},s.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===kl)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Mm||r===Hm){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===kl||this.peekCodePoint(0)===ih)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),$m)}for(;;){var a=this.consumeCodePoint();if(a===kl||a===ih)return{type:22,value:vn.apply(void 0,t)};if(zm(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===kl||this.peekCodePoint(0)===ih?(this.consumeCodePoint(),{type:22,value:vn.apply(void 0,t)}):(this.consumeBadUrlRemnants(),$m);if(a===Hm||a===Mm||a===Km||OL(a))return this.consumeBadUrlRemnants(),$m;if(a===vh)if(wc(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),$m;else t.push(a)}},s.prototype.consumeWhiteSpace=function(){for(;zm(this.peekCodePoint(0));)this.consumeCodePoint()},s.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===ih||t===kl)return;wc(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},s.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var a=Math.min(r,t);n+=vn.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},s.prototype.consumeStringToken=function(t){var r="",n=0;do{var a=this._value[n];if(a===kl||a===void 0||a===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===Of)return this._value.splice(0,n),ZL;if(a===vh){var i=this._value[n+1];i!==kl&&i!==void 0&&(i===Of?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):wc(a,i)&&(r+=this.consumeStringSlice(n),r+=vn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},s.prototype.consumeNumber=function(){var t=[],r=Kh,n=this.peekCodePoint(0);for((n===dd||n===xi)&&t.push(this.consumeCodePoint());Oa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Th&&Oa(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=T1;Oa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===uB||n===cB)&&((a===dd||a===xi)&&Oa(i)||Oa(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=T1;Oa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[HL(t),r]},s.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),A=this.peekCodePoint(2);if(Gm(a,i,A)){var c=this.consumeName();return{type:15,number:r,flags:n,unit:c}}return a===lL?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},s.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(tu(t)){for(var r=vn(t);tu(this.peekCodePoint(0))&&r.length<6;)r+=vn(this.consumeCodePoint());zm(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||QL(n)||n>1114111?D1:n}return t===kl?D1:t},s.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(O1(r))t+=vn(r);else if(wc(r,this.peekCodePoint(0)))t+=vn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},s})(),fB=(function(){function s(t){this._tokens=t}return s.create=function(t){var r=new mB;return r.write(t),new s(r.read())},s.parseValue=function(t){return s.create(t).parseComponentValue()},s.parseValues=function(t){return s.create(t).parseComponentValues()},s.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},s.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},s.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},s.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||lQ(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},s.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},s.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?ix:t},s.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},s})(),Vh=function(s){return s.type===15},Tu=function(s){return s.type===17},jr=function(s){return s.type===20},oQ=function(s){return s.type===0},ox=function(s,t){return jr(s)&&s.value===t},pB=function(s){return s.type!==31},Eu=function(s){return s.type!==31&&s.type!==4},Gl=function(s){var t=[],r=[];return s.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},lQ=function(s,t){return t===11&&s.type===12||t===28&&s.type===29?!0:t===2&&s.type===3},Dc=function(s){return s.type===17||s.type===15},Fn=function(s){return s.type===16||Dc(s)},gB=function(s){return s.length>1?[s[0],s[1]]:[s[0]]},ga={type:17,number:0,flags:Kh},cw={type:16,number:50,flags:Kh},bc={type:16,number:100,flags:Kh},fh=function(s,t,r){var n=s[0],a=s[1];return[Ir(n,t),Ir(typeof a<"u"?a:n,r)]},Ir=function(s,t){if(s.type===16)return s.number/100*t;if(Vh(s))switch(s.unit){case"rem":case"em":return 16*s.number;case"px":default:return s.number}return s.number},xB="deg",wB="grad",vB="rad",bB="turn",Np={name:"angle",parse:function(s,t){if(t.type===15)switch(t.unit){case xB:return Math.PI*t.number/180;case wB:return Math.PI/200*t.number;case vB:return t.number;case bB:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},yB=function(s){return s.type===15&&(s.unit===xB||s.unit===wB||s.unit===vB||s.unit===bB)},NB=function(s){var t=s.filter(jr).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ga,ga];case"to top":case"bottom":return mo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ga,bc];case"to right":case"left":return mo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[bc,bc];case"to bottom":case"top":return mo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[bc,ga];case"to left":case"right":return mo(270)}return 0},mo=function(s){return Math.PI*s/180},Lc={name:"color",parse:function(s,t){if(t.type===18){var r=AQ[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(s,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3);return yc(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3),A=t.value.substring(3,4);return yc(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(A+A,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6);return yc(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6),A=t.value.substring(6,8);return yc(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(A,16)/255)}}if(t.type===20){var c=BA[t.value.toUpperCase()];if(typeof c<"u")return c}return BA.TRANSPARENT}},Qc=function(s){return(255&s)===0},Zn=function(s){var t=255&s,r=255&s>>8,n=255&s>>16,a=255&s>>24;return t<255?"rgba("+a+","+n+","+r+","+t/255+")":"rgb("+a+","+n+","+r+")"},yc=function(s,t,r,n){return(s<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},H1=function(s,t){if(s.type===17)return s.number;if(s.type===16){var r=t===3?1:255;return t===3?s.number/100*r:Math.round(s.number/100*r)}return 0},M1=function(s,t){var r=t.filter(Eu);if(r.length===3){var n=r.map(H1),a=n[0],i=n[1],A=n[2];return yc(a,i,A,1)}if(r.length===4){var c=r.map(H1),a=c[0],i=c[1],A=c[2],d=c[3];return yc(a,i,A,d)}return 0};function $g(s,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-s)*r*6+s:r<1/2?t:r<2/3?(t-s)*6*(2/3-r)+s:s}var K1=function(s,t){var r=t.filter(Eu),n=r[0],a=r[1],i=r[2],A=r[3],c=(n.type===17?mo(n.number):Np.parse(s,n))/(Math.PI*2),d=Fn(a)?a.number/100:0,u=Fn(i)?i.number/100:0,m=typeof A<"u"&&Fn(A)?Ir(A,1):1;if(d===0)return yc(u*255,u*255,u*255,1);var f=u<=.5?u*(d+1):u+d-u*d,x=u*2-f,g=$g(x,f,c+1/3),N=$g(x,f,c),b=$g(x,f,c-1/3);return yc(g*255,N*255,b*255,m)},AQ={hsl:K1,hsla:K1,rgb:M1,rgba:M1},bh=function(s,t){return Lc.parse(s,fB.create(t).parseComponentValue())},BA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},cQ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(s,t){return t.map(function(r){if(jr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},dQ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jp=function(s,t){var r=Lc.parse(s,t[0]),n=t[1];return n&&Fn(n)?{color:r,stop:n}:{color:r,stop:null}},V1=function(s,t){var r=s[0],n=s[s.length-1];r.stop===null&&(r.stop=ga),n.stop===null&&(n.stop=bc);for(var a=[],i=0,A=0;A<s.length;A++){var c=s[A].stop;if(c!==null){var d=Ir(c,t);d>i?a.push(d):a.push(i),i=d}else a.push(null)}for(var u=null,A=0;A<a.length;A++){var m=a[A];if(m===null)u===null&&(u=A);else if(u!==null){for(var f=A-u,x=a[u-1],g=(m-x)/(f+1),N=1;N<=f;N++)a[u+N-1]=g*N;u=null}}return s.map(function(b,j){var y=b.color;return{color:y,stop:Math.max(Math.min(1,a[j]/t),0)}})},uQ=function(s,t,r){var n=t/2,a=r/2,i=Ir(s[0],t)-n,A=a-Ir(s[1],r);return(Math.atan2(A,i)+Math.PI*2)%(Math.PI*2)},hQ=function(s,t,r){var n=typeof s=="number"?s:uQ(s,t,r),a=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),i=t/2,A=r/2,c=a/2,d=Math.sin(n-Math.PI/2)*c,u=Math.cos(n-Math.PI/2)*c;return[a,i-u,i+u,A-d,A+d]},Yo=function(s,t){return Math.sqrt(s*s+t*t)},z1=function(s,t,r,n,a){var i=[[0,0],[0,t],[s,0],[s,t]];return i.reduce(function(A,c){var d=c[0],u=c[1],m=Yo(r-d,n-u);return(a?m<A.optimumDistance:m>A.optimumDistance)?{optimumCorner:c,optimumDistance:m}:A},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},mQ=function(s,t,r,n,a){var i=0,A=0;switch(s.size){case 0:s.shape===0?i=A=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):s.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-n)),A=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(s.shape===0)i=A=Math.min(Yo(t,r),Yo(t,r-a),Yo(t-n,r),Yo(t-n,r-a));else if(s.shape===1){var c=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-n)),d=z1(n,a,t,r,!0),u=d[0],m=d[1];i=Yo(u-t,(m-r)/c),A=c*i}break;case 1:s.shape===0?i=A=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):s.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-n)),A=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(s.shape===0)i=A=Math.max(Yo(t,r),Yo(t,r-a),Yo(t-n,r),Yo(t-n,r-a));else if(s.shape===1){var c=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-n)),f=z1(n,a,t,r,!1),u=f[0],m=f[1];i=Yo(u-t,(m-r)/c),A=c*i}break}return Array.isArray(s.size)&&(i=Ir(s.size[0],n),A=s.size.length===2?Ir(s.size[1],a):i),[i,A]},fQ=function(s,t){var r=mo(180),n=[];return Gl(t).forEach(function(a,i){if(i===0){var A=a[0];if(A.type===20&&A.value==="to"){r=NB(a);return}else if(yB(A)){r=Np.parse(s,A);return}}var c=jp(s,a);n.push(c)}),{angle:r,stops:n,type:1}},Wm=function(s,t){var r=mo(180),n=[];return Gl(t).forEach(function(a,i){if(i===0){var A=a[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){r=NB(a);return}else if(yB(A)){r=(Np.parse(s,A)+mo(270))%mo(360);return}}var c=jp(s,a);n.push(c)}),{angle:r,stops:n,type:1}},pQ=function(s,t){var r=mo(180),n=[],a=1,i=0,A=3,c=[];return Gl(t).forEach(function(d,u){var m=d[0];if(u===0){if(jr(m)&&m.value==="linear"){a=1;return}else if(jr(m)&&m.value==="radial"){a=2;return}}if(m.type===18){if(m.name==="from"){var f=Lc.parse(s,m.values[0]);n.push({stop:ga,color:f})}else if(m.name==="to"){var f=Lc.parse(s,m.values[0]);n.push({stop:bc,color:f})}else if(m.name==="color-stop"){var x=m.values.filter(Eu);if(x.length===2){var f=Lc.parse(s,x[1]),g=x[0];Tu(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:f})}}}}),a===1?{angle:(r+mo(180))%mo(360),stops:n,type:a}:{size:A,shape:i,stops:n,position:c,type:a}},jB="closest-side",BB="farthest-side",CB="closest-corner",SB="farthest-corner",EB="circle",FB="ellipse",_B="cover",UB="contain",gQ=function(s,t){var r=0,n=3,a=[],i=[];return Gl(t).forEach(function(A,c){var d=!0;if(c===0){var u=!1;d=A.reduce(function(f,x){if(u)if(jr(x))switch(x.value){case"center":return i.push(cw),f;case"top":case"left":return i.push(ga),f;case"right":case"bottom":return i.push(bc),f}else(Fn(x)||Dc(x))&&i.push(x);else if(jr(x))switch(x.value){case EB:return r=0,!1;case FB:return r=1,!1;case"at":return u=!0,!1;case jB:return n=0,!1;case _B:case BB:return n=1,!1;case UB:case CB:return n=2,!1;case SB:return n=3,!1}else if(Dc(x)||Fn(x))return Array.isArray(n)||(n=[]),n.push(x),!1;return f},d)}if(d){var m=jp(s,A);a.push(m)}}),{size:n,shape:r,stops:a,position:i,type:2}},qm=function(s,t){var r=0,n=3,a=[],i=[];return Gl(t).forEach(function(A,c){var d=!0;if(c===0?d=A.reduce(function(m,f){if(jr(f))switch(f.value){case"center":return i.push(cw),!1;case"top":case"left":return i.push(ga),!1;case"right":case"bottom":return i.push(bc),!1}else if(Fn(f)||Dc(f))return i.push(f),!1;return m},d):c===1&&(d=A.reduce(function(m,f){if(jr(f))switch(f.value){case EB:return r=0,!1;case FB:return r=1,!1;case UB:case jB:return n=0,!1;case BB:return n=1,!1;case CB:return n=2,!1;case _B:case SB:return n=3,!1}else if(Dc(f)||Fn(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return m},d)),d){var u=jp(s,A);a.push(u)}}),{size:n,shape:r,stops:a,position:i,type:2}},xQ=function(s){return s.type===1},wQ=function(s){return s.type===2},dw={name:"image",parse:function(s,t){if(t.type===22){var r={url:t.value,type:0};return s.cache.addImage(t.value),r}if(t.type===18){var n=kB[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(s,t.values)}throw new Error("Unsupported image type "+t.type)}};function vQ(s){return!(s.type===20&&s.value==="none")&&(s.type!==18||!!kB[s.name])}var kB={"linear-gradient":fQ,"-moz-linear-gradient":Wm,"-ms-linear-gradient":Wm,"-o-linear-gradient":Wm,"-webkit-linear-gradient":Wm,"radial-gradient":gQ,"-moz-radial-gradient":qm,"-ms-radial-gradient":qm,"-o-radial-gradient":qm,"-webkit-radial-gradient":qm,"-webkit-gradient":pQ},bQ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(s,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Eu(n)&&vQ(n)}).map(function(n){return dw.parse(s,n)})}},yQ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(s,t){return t.map(function(r){if(jr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},NQ={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(s,t){return Gl(t).map(function(r){return r.filter(Fn)}).map(gB)}},jQ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(s,t){return Gl(t).map(function(r){return r.filter(jr).map(function(n){return n.value}).join(" ")}).map(BQ)}},BQ=function(s){switch(s){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},gu;(function(s){s.AUTO="auto",s.CONTAIN="contain",s.COVER="cover"})(gu||(gu={}));var CQ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(s,t){return Gl(t).map(function(r){return r.filter(SQ)})}},SQ=function(s){return jr(s)||Fn(s)},Bp=function(s){return{name:"border-"+s+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},EQ=Bp("top"),FQ=Bp("right"),_Q=Bp("bottom"),UQ=Bp("left"),Cp=function(s){return{name:"border-radius-"+s,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return gB(r.filter(Fn))}}},kQ=Cp("top-left"),IQ=Cp("top-right"),LQ=Cp("bottom-right"),QQ=Cp("bottom-left"),Sp=function(s){return{name:"border-"+s+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},TQ=Sp("top"),PQ=Sp("right"),RQ=Sp("bottom"),DQ=Sp("left"),Ep=function(s){return{name:"border-"+s+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return Vh(r)?r.number:0}}},OQ=Ep("top"),HQ=Ep("right"),MQ=Ep("bottom"),KQ=Ep("left"),VQ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zQ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(s,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},GQ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(s,t){return t.filter(jr).reduce(function(r,n){return r|$Q(n.value)},0)}},$Q=function(s){switch(s){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},WQ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(s,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},qQ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(s,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},Mf;(function(s){s.NORMAL="normal",s.STRICT="strict"})(Mf||(Mf={}));var YQ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(s,t){switch(t){case"strict":return Mf.STRICT;case"normal":default:return Mf.NORMAL}}},JQ={name:"line-height",initialValue:"normal",prefix:!1,type:4},G1=function(s,t){return jr(s)&&s.value==="normal"?1.2*t:s.type===17?t*s.number:Fn(s)?Ir(s,t):t},XQ={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(s,t){return t.type===20&&t.value==="none"?null:dw.parse(s,t)}},ZQ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(s,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},lx={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(s,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Fp=function(s){return{name:"margin-"+s,initialValue:"0",prefix:!1,type:4}},e8=Fp("top"),t8=Fp("right"),s8=Fp("bottom"),r8=Fp("left"),n8={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(s,t){return t.filter(jr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},a8={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(s,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},_p=function(s){return{name:"padding-"+s,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},i8=_p("top"),o8=_p("right"),l8=_p("bottom"),A8=_p("left"),c8={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(s,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},d8={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(s,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},u8={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(s,t){return t.length===1&&ox(t[0],"none")?[]:Gl(t).map(function(r){for(var n={color:BA.TRANSPARENT,offsetX:ga,offsetY:ga,blur:ga},a=0,i=0;i<r.length;i++){var A=r[i];Dc(A)?(a===0?n.offsetX=A:a===1?n.offsetY=A:n.blur=A,a++):n.color=Lc.parse(s,A)}return n})}},h8={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(s,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},m8={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(s,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=g8[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},f8=function(s){var t=s.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},p8=function(s){var t=s.filter(function(d){return d.type===17}).map(function(d){return d.number}),r=t[0],n=t[1];t[2],t[3];var a=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var A=t[12],c=t[13];return t[14],t[15],t.length===16?[r,n,a,i,A,c]:null},g8={matrix:f8,matrix3d:p8},$1={type:16,number:50,flags:Kh},x8=[$1,$1],w8={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(s,t){var r=t.filter(Fn);return r.length!==2?x8:[r[0],r[1]]}},v8={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(s,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},yh;(function(s){s.NORMAL="normal",s.BREAK_ALL="break-all",s.KEEP_ALL="keep-all"})(yh||(yh={}));var b8={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(s,t){switch(t){case"break-all":return yh.BREAK_ALL;case"keep-all":return yh.KEEP_ALL;case"normal":default:return yh.NORMAL}}},y8={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(s,t){if(t.type===20)return{auto:!0,order:0};if(Tu(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},IB={name:"time",parse:function(s,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},N8={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(s,t){return Tu(t)?t.number:1}},j8={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},B8={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(s,t){return t.filter(jr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},C8={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(s,t){var r=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},S8={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},E8={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(s,t){if(Tu(t))return t.number;if(jr(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},F8={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(s,t){return t.filter(jr).map(function(r){return r.value})}},_8={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(s,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Tn=function(s,t){return(s&t)!==0},U8={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(s,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},k8={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(s,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=t.filter(pB),i=0;i<a.length;i++){var A=a[i],c=a[i+1];if(A.type===20){var d=c&&Tu(c)?c.number:1;n.push({counter:A.value,increment:d})}}return n}},I8={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(s,t){if(t.length===0)return[];for(var r=[],n=t.filter(pB),a=0;a<n.length;a++){var i=n[a],A=n[a+1];if(jr(i)&&i.value!=="none"){var c=A&&Tu(A)?A.number:0;r.push({counter:i.value,reset:c})}}return r}},L8={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(s,t){return t.filter(Vh).map(function(r){return IB.parse(s,r)})}},Q8={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(s,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],a=t.filter(oQ);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var A=a[i].value,c=a[i+1].value;n.push({open:A,close:c})}return n}},W1=function(s,t,r){if(!s)return"";var n=s[Math.min(t,s.length-1)];return n?r?n.open:n.close:""},T8={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(s,t){return t.length===1&&ox(t[0],"none")?[]:Gl(t).map(function(r){for(var n={color:255,offsetX:ga,offsetY:ga,blur:ga,spread:ga,inset:!1},a=0,i=0;i<r.length;i++){var A=r[i];ox(A,"inset")?n.inset=!0:Dc(A)?(a===0?n.offsetX=A:a===1?n.offsetY=A:a===2?n.blur=A:n.spread=A,a++):n.color=Lc.parse(s,A)}return n})}},P8={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(s,t){var r=[0,1,2],n=[];return t.filter(jr).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},R8={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},D8={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(s,t){return Vh(t)?t.number:0}},O8=(function(){function s(t,r){var n,a;this.animationDuration=$t(t,L8,r.animationDuration),this.backgroundClip=$t(t,cQ,r.backgroundClip),this.backgroundColor=$t(t,dQ,r.backgroundColor),this.backgroundImage=$t(t,bQ,r.backgroundImage),this.backgroundOrigin=$t(t,yQ,r.backgroundOrigin),this.backgroundPosition=$t(t,NQ,r.backgroundPosition),this.backgroundRepeat=$t(t,jQ,r.backgroundRepeat),this.backgroundSize=$t(t,CQ,r.backgroundSize),this.borderTopColor=$t(t,EQ,r.borderTopColor),this.borderRightColor=$t(t,FQ,r.borderRightColor),this.borderBottomColor=$t(t,_Q,r.borderBottomColor),this.borderLeftColor=$t(t,UQ,r.borderLeftColor),this.borderTopLeftRadius=$t(t,kQ,r.borderTopLeftRadius),this.borderTopRightRadius=$t(t,IQ,r.borderTopRightRadius),this.borderBottomRightRadius=$t(t,LQ,r.borderBottomRightRadius),this.borderBottomLeftRadius=$t(t,QQ,r.borderBottomLeftRadius),this.borderTopStyle=$t(t,TQ,r.borderTopStyle),this.borderRightStyle=$t(t,PQ,r.borderRightStyle),this.borderBottomStyle=$t(t,RQ,r.borderBottomStyle),this.borderLeftStyle=$t(t,DQ,r.borderLeftStyle),this.borderTopWidth=$t(t,OQ,r.borderTopWidth),this.borderRightWidth=$t(t,HQ,r.borderRightWidth),this.borderBottomWidth=$t(t,MQ,r.borderBottomWidth),this.borderLeftWidth=$t(t,KQ,r.borderLeftWidth),this.boxShadow=$t(t,T8,r.boxShadow),this.color=$t(t,VQ,r.color),this.direction=$t(t,zQ,r.direction),this.display=$t(t,GQ,r.display),this.float=$t(t,WQ,r.cssFloat),this.fontFamily=$t(t,C8,r.fontFamily),this.fontSize=$t(t,S8,r.fontSize),this.fontStyle=$t(t,_8,r.fontStyle),this.fontVariant=$t(t,F8,r.fontVariant),this.fontWeight=$t(t,E8,r.fontWeight),this.letterSpacing=$t(t,qQ,r.letterSpacing),this.lineBreak=$t(t,YQ,r.lineBreak),this.lineHeight=$t(t,JQ,r.lineHeight),this.listStyleImage=$t(t,XQ,r.listStyleImage),this.listStylePosition=$t(t,ZQ,r.listStylePosition),this.listStyleType=$t(t,lx,r.listStyleType),this.marginTop=$t(t,e8,r.marginTop),this.marginRight=$t(t,t8,r.marginRight),this.marginBottom=$t(t,s8,r.marginBottom),this.marginLeft=$t(t,r8,r.marginLeft),this.opacity=$t(t,N8,r.opacity);var i=$t(t,n8,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=$t(t,a8,r.overflowWrap),this.paddingTop=$t(t,i8,r.paddingTop),this.paddingRight=$t(t,o8,r.paddingRight),this.paddingBottom=$t(t,l8,r.paddingBottom),this.paddingLeft=$t(t,A8,r.paddingLeft),this.paintOrder=$t(t,P8,r.paintOrder),this.position=$t(t,d8,r.position),this.textAlign=$t(t,c8,r.textAlign),this.textDecorationColor=$t(t,j8,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=$t(t,B8,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=$t(t,u8,r.textShadow),this.textTransform=$t(t,h8,r.textTransform),this.transform=$t(t,m8,r.transform),this.transformOrigin=$t(t,w8,r.transformOrigin),this.visibility=$t(t,v8,r.visibility),this.webkitTextStrokeColor=$t(t,R8,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=$t(t,D8,r.webkitTextStrokeWidth),this.wordBreak=$t(t,b8,r.wordBreak),this.zIndex=$t(t,y8,r.zIndex)}return s.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},s.prototype.isTransparent=function(){return Qc(this.backgroundColor)},s.prototype.isTransformed=function(){return this.transform!==null},s.prototype.isPositioned=function(){return this.position!==0},s.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},s.prototype.isFloating=function(){return this.float!==0},s.prototype.isInlineLevel=function(){return Tn(this.display,4)||Tn(this.display,33554432)||Tn(this.display,268435456)||Tn(this.display,536870912)||Tn(this.display,67108864)||Tn(this.display,134217728)},s})(),H8=(function(){function s(t,r){this.content=$t(t,U8,r.content),this.quotes=$t(t,Q8,r.quotes)}return s})(),q1=(function(){function s(t,r){this.counterIncrement=$t(t,k8,r.counterIncrement),this.counterReset=$t(t,I8,r.counterReset)}return s})(),$t=function(s,t,r){var n=new mB,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(a);var i=new fB(n.read());switch(t.type){case 2:var A=i.parseComponentValue();return t.parse(s,jr(A)?A.value:t.initialValue);case 0:return t.parse(s,i.parseComponentValue());case 1:return t.parse(s,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Np.parse(s,i.parseComponentValue());case"color":return Lc.parse(s,i.parseComponentValue());case"image":return dw.parse(s,i.parseComponentValue());case"length":var c=i.parseComponentValue();return Dc(c)?c:ga;case"length-percentage":var d=i.parseComponentValue();return Fn(d)?d:ga;case"time":return IB.parse(s,i.parseComponentValue())}break}},M8="data-html2canvas-debug",K8=function(s){var t=s.getAttribute(M8);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Ax=function(s,t){var r=K8(s);return r===1||t===r},$l=(function(){function s(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Ax(r,3))debugger;this.styles=new O8(t,window.getComputedStyle(r,null)),ux(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=bp(this.context,r),Ax(r,4)&&(this.flags|=16)}return s})(),V8="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Y1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ph=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ym=0;Ym<Y1.length;Ym++)ph[Y1.charCodeAt(Ym)]=Ym;var z8=function(s){var t=s.length*.75,r=s.length,n,a=0,i,A,c,d;s[s.length-1]==="="&&(t--,s[s.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),m=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=ph[s.charCodeAt(n)],A=ph[s.charCodeAt(n+1)],c=ph[s.charCodeAt(n+2)],d=ph[s.charCodeAt(n+3)],m[a++]=i<<2|A>>4,m[a++]=(A&15)<<4|c>>2,m[a++]=(c&3)<<6|d&63;return u},G8=function(s){for(var t=s.length,r=[],n=0;n<t;n+=2)r.push(s[n+1]<<8|s[n]);return r},$8=function(s){for(var t=s.length,r=[],n=0;n<t;n+=4)r.push(s[n+3]<<24|s[n+2]<<16|s[n+1]<<8|s[n]);return r},md=5,uw=11,Wg=2,W8=uw-md,LB=65536>>md,q8=1<<md,qg=q8-1,Y8=1024>>md,J8=LB+Y8,X8=J8,Z8=32,eT=X8+Z8,tT=65536>>uw,sT=1<<W8,rT=sT-1,J1=function(s,t,r){return s.slice?s.slice(t,r):new Uint16Array(Array.prototype.slice.call(s,t,r))},nT=function(s,t,r){return s.slice?s.slice(t,r):new Uint32Array(Array.prototype.slice.call(s,t,r))},aT=function(s,t){var r=z8(s),n=Array.isArray(r)?$8(r):new Uint32Array(r),a=Array.isArray(r)?G8(r):new Uint16Array(r),i=24,A=J1(a,i/2,n[4]/2),c=n[5]===2?J1(a,(i+n[4])/2):nT(n,Math.ceil((i+n[4])/4));return new iT(n[0],n[1],n[2],n[3],A,c)},iT=(function(){function s(t,r,n,a,i,A){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=A}return s.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>md],r=(r<<Wg)+(t&qg),this.data[r];if(t<=65535)return r=this.index[LB+(t-55296>>md)],r=(r<<Wg)+(t&qg),this.data[r];if(t<this.highStart)return r=eT-tT+(t>>uw),r=this.index[r],r+=t>>md&rT,r=this.index[r],r=(r<<Wg)+(t&qg),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},s})(),X1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jm=0;Jm<X1.length;Jm++)oT[X1.charCodeAt(Jm)]=Jm;var lT=1,Yg=2,Jg=3,Z1=4,eb=5,AT=7,tb=8,Xg=9,Zg=10,sb=11,rb=12,nb=13,ab=14,e0=15,cT=function(s){for(var t=[],r=0,n=s.length;r<n;){var a=s.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=s.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},dT=function(){for(var s=[],t=0;t<arguments.length;t++)s[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,s);var r=s.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var A=s[a];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},uT=aT(V8),co="",t0="",hT=function(s){return uT.get(s)},mT=function(s,t,r){var n=r-2,a=t[n],i=t[r-1],A=t[r];if(i===Yg&&A===Jg)return co;if(i===Yg||i===Jg||i===Z1||A===Yg||A===Jg||A===Z1)return t0;if(i===tb&&[tb,Xg,sb,rb].indexOf(A)!==-1||(i===sb||i===Xg)&&(A===Xg||A===Zg)||(i===rb||i===Zg)&&A===Zg||A===nb||A===eb||A===AT||i===lT)return co;if(i===nb&&A===ab){for(;a===eb;)a=t[--n];if(a===ab)return co}if(i===e0&&A===e0){for(var c=0;a===e0;)c++,a=t[--n];if(c%2===0)return co}return t0},fT=function(s){var t=cT(s),r=t.length,n=0,a=0,i=t.map(hT);return{next:function(){if(n>=r)return{done:!0,value:null};for(var A=co;n<r&&(A=mT(t,i,++n))===co;);if(A!==co||n===r){var c=dT.apply(null,t.slice(a,n));return a=n,{value:c,done:!1}}return{done:!0,value:null}}}},pT=function(s){for(var t=fT(s),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},gT=function(s){var t=123;if(s.createRange){var r=s.createRange();if(r.getBoundingClientRect){var n=s.createElement("boundtest");n.style.height=t+"px",n.style.display="block",s.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(s.body.removeChild(n),i===t)return!0}}return!1},xT=function(s){var t=s.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",s.body.appendChild(t);var r=s.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=yp(n.data).map(function(d){return vn(d)}),i=0,A={},c=a.every(function(d,u){r.setStart(n,i),r.setEnd(n,i+d.length);var m=r.getBoundingClientRect();i+=d.length;var f=m.x>A.x||m.y>A.y;return A=m,u===0?!0:f});return s.body.removeChild(t),c},wT=function(){return typeof new Image().crossOrigin<"u"},vT=function(){return typeof new XMLHttpRequest().responseType=="string"},bT=function(s){var t=new Image,r=s.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},ib=function(s){return s[0]===0&&s[1]===255&&s[2]===0&&s[3]===255},yT=function(s){var t=s.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,i=t.toDataURL();a.src=i;var A=cx(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),ob(A).then(function(c){n.drawImage(c,0,0);var d=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=s.createElement("div");return u.style.backgroundImage="url("+i+")",u.style.height=r+"px",ib(d)?ob(cx(r,r,0,0,u)):Promise.reject(!1)}).then(function(c){return n.drawImage(c,0,0),ib(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},cx=function(s,t,r,n,a){var i="http://www.w3.org/2000/svg",A=document.createElementNS(i,"svg"),c=document.createElementNS(i,"foreignObject");return A.setAttributeNS(null,"width",s.toString()),A.setAttributeNS(null,"height",t.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",r.toString()),c.setAttributeNS(null,"y",n.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(c),c.appendChild(a),A},ob=function(s){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(s))})},pa={get SUPPORT_RANGE_BOUNDS(){var s=gT(document);return Object.defineProperty(pa,"SUPPORT_RANGE_BOUNDS",{value:s}),s},get SUPPORT_WORD_BREAKING(){var s=pa.SUPPORT_RANGE_BOUNDS&&xT(document);return Object.defineProperty(pa,"SUPPORT_WORD_BREAKING",{value:s}),s},get SUPPORT_SVG_DRAWING(){var s=bT(document);return Object.defineProperty(pa,"SUPPORT_SVG_DRAWING",{value:s}),s},get SUPPORT_FOREIGNOBJECT_DRAWING(){var s=typeof Array.from=="function"&&typeof window.fetch=="function"?yT(document):Promise.resolve(!1);return Object.defineProperty(pa,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:s}),s},get SUPPORT_CORS_IMAGES(){var s=wT();return Object.defineProperty(pa,"SUPPORT_CORS_IMAGES",{value:s}),s},get SUPPORT_RESPONSE_TYPE(){var s=vT();return Object.defineProperty(pa,"SUPPORT_RESPONSE_TYPE",{value:s}),s},get SUPPORT_CORS_XHR(){var s="withCredentials"in new XMLHttpRequest;return Object.defineProperty(pa,"SUPPORT_CORS_XHR",{value:s}),s},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var s=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(pa,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:s}),s}},Nh=(function(){function s(t,r){this.text=t,this.bounds=r}return s})(),NT=function(s,t,r,n){var a=CT(t,r),i=[],A=0;return a.forEach(function(c){if(r.textDecorationLine.length||c.trim().length>0)if(pa.SUPPORT_RANGE_BOUNDS){var d=lb(n,A,c.length).getClientRects();if(d.length>1){var u=hw(c),m=0;u.forEach(function(x){i.push(new Nh(x,IA.fromDOMRectList(s,lb(n,m+A,x.length).getClientRects()))),m+=x.length})}else i.push(new Nh(c,IA.fromDOMRectList(s,d)))}else{var f=n.splitText(c.length);i.push(new Nh(c,jT(s,n))),n=f}else pa.SUPPORT_RANGE_BOUNDS||(n=n.splitText(c.length));A+=c.length}),i},jT=function(s,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var i=bp(s,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return IA.EMPTY},lb=function(s,t,r){var n=s.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(s,t),a.setEnd(s,t+r),a},hw=function(s){if(pa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(s)).map(function(r){return r.segment})}return pT(s)},BT=function(s,t){if(pa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(s)).map(function(n){return n.segment})}return ET(s,t)},CT=function(s,t){return t.letterSpacing!==0?hw(s):BT(s,t)},ST=[32,160,4961,65792,65793,4153,4241],ET=function(s,t){for(var r=tL(s,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,i=function(){if(a.value){var A=a.value.slice(),c=yp(A),d="";c.forEach(function(u){ST.indexOf(u)===-1?d+=vn(u):(d.length&&n.push(d),n.push(vn(u)),d="")}),d.length&&n.push(d)}};!(a=r.next()).done;)i();return n},FT=(function(){function s(t,r,n){this.text=_T(r.data,n.textTransform),this.textBounds=NT(t,this.text,n,r)}return s})(),_T=function(s,t){switch(t){case 1:return s.toLowerCase();case 3:return s.replace(UT,kT);case 2:return s.toUpperCase();default:return s}},UT=/(^|\s|:|-|\(|\))([a-z])/g,kT=function(s,t,r){return s.length>0?t+r.toUpperCase():s},QB=(function(s){il(t,s);function t(r,n){var a=s.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t})($l),TB=(function(s){il(t,s);function t(r,n){var a=s.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t})($l),PB=(function(s){il(t,s);function t(r,n){var a=s.call(this,r,n)||this,i=new XMLSerializer,A=bp(r,n);return n.setAttribute("width",A.width+"px"),n.setAttribute("height",A.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t})($l),RB=(function(s){il(t,s);function t(r,n){var a=s.call(this,r,n)||this;return a.value=n.value,a}return t})($l),dx=(function(s){il(t,s);function t(r,n){var a=s.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t})($l),IT=[{type:15,flags:0,unit:"px",number:3}],LT=[{type:16,flags:0,number:50}],QT=function(s){return s.width>s.height?new IA(s.left+(s.width-s.height)/2,s.top,s.height,s.height):s.width<s.height?new IA(s.left,s.top+(s.height-s.width)/2,s.width,s.width):s},TT=function(s){var t=s.type===PT?new Array(s.value.length+1).join(""):s.value;return t.length===0?s.placeholder||"":t},Kf="checkbox",Vf="radio",PT="password",Ab=707406591,mw=(function(s){il(t,s);function t(r,n){var a=s.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=TT(n),(a.type===Kf||a.type===Vf)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=QT(a.bounds)),a.type){case Kf:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=IT;break;case Vf:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=LT;break}return a}return t})($l),DB=(function(s){il(t,s);function t(r,n){var a=s.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return t})($l),OB=(function(s){il(t,s);function t(r,n){var a=s.call(this,r,n)||this;return a.value=n.value,a}return t})($l),HB=(function(s){il(t,s);function t(r,n){var a=s.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=KB(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?bh(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):BA.TRANSPARENT,A=n.contentWindow.document.body?bh(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):BA.TRANSPARENT;a.backgroundColor=Qc(i)?Qc(A)?a.styles.backgroundColor:A:i}}catch{}return a}return t})($l),RT=["OL","UL","MENU"],vf=function(s,t,r,n){for(var a=t.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,VB(a)&&a.data.trim().length>0)r.textNodes.push(new FT(s,a,r.styles));else if(uu(a))if(WB(a)&&a.assignedNodes)a.assignedNodes().forEach(function(c){return vf(s,c,r,n)});else{var A=MB(s,a);A.styles.isVisible()&&(DT(a,A,n)?A.flags|=4:OT(A.styles)&&(A.flags|=2),RT.indexOf(a.tagName)!==-1&&(A.flags|=8),r.elements.push(A),a.slot,a.shadowRoot?vf(s,a.shadowRoot,A,n):!zf(a)&&!zB(a)&&!Gf(a)&&vf(s,a,A,n))}},MB=function(s,t){return hx(t)?new QB(s,t):GB(t)?new TB(s,t):zB(t)?new PB(s,t):HT(t)?new RB(s,t):MT(t)?new dx(s,t):KT(t)?new mw(s,t):Gf(t)?new DB(s,t):zf(t)?new OB(s,t):$B(t)?new HB(s,t):new $l(s,t)},KB=function(s,t){var r=MB(s,t);return r.flags|=4,vf(s,t,r,r),r},DT=function(s,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||fw(s)&&r.styles.isTransparent()},OT=function(s){return s.isPositioned()||s.isFloating()},VB=function(s){return s.nodeType===Node.TEXT_NODE},uu=function(s){return s.nodeType===Node.ELEMENT_NODE},ux=function(s){return uu(s)&&typeof s.style<"u"&&!bf(s)},bf=function(s){return typeof s.className=="object"},HT=function(s){return s.tagName==="LI"},MT=function(s){return s.tagName==="OL"},KT=function(s){return s.tagName==="INPUT"},VT=function(s){return s.tagName==="HTML"},zB=function(s){return s.tagName==="svg"},fw=function(s){return s.tagName==="BODY"},GB=function(s){return s.tagName==="CANVAS"},cb=function(s){return s.tagName==="VIDEO"},hx=function(s){return s.tagName==="IMG"},$B=function(s){return s.tagName==="IFRAME"},db=function(s){return s.tagName==="STYLE"},zT=function(s){return s.tagName==="SCRIPT"},zf=function(s){return s.tagName==="TEXTAREA"},Gf=function(s){return s.tagName==="SELECT"},WB=function(s){return s.tagName==="SLOT"},ub=function(s){return s.tagName.indexOf("-")>0},GT=(function(){function s(){this.counters={}}return s.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},s.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},s.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},s.prototype.parse=function(t){var r=this,n=t.counterIncrement,a=t.counterReset,i=!0;n!==null&&n.forEach(function(c){var d=r.counters[c.counter];d&&c.increment!==0&&(i=!1,d.length||d.push(1),d[Math.max(0,d.length-1)]+=c.increment)});var A=[];return i&&a.forEach(function(c){var d=r.counters[c.counter];A.push(c.counter),d||(d=r.counters[c.counter]=[]),d.push(c.reset)}),A},s})(),hb={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},mb={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$T={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},WT={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},su=function(s,t,r,n,a,i){return s<t||s>r?Ph(s,a,i.length>0):n.integers.reduce(function(A,c,d){for(;s>=c;)s-=c,A+=n.values[d];return A},"")+i},qB=function(s,t,r,n){var a="";do r||s--,a=n(s)+a,s/=t;while(s*t>=t);return a},wn=function(s,t,r,n,a){var i=r-t+1;return(s<0?"-":"")+(qB(Math.abs(s),i,n,function(A){return vn(Math.floor(A%i)+t)})+a)},od=function(s,t,r){r===void 0&&(r=". ");var n=t.length;return qB(Math.abs(s),n,!1,function(a){return t[Math.floor(a%n)]})+r},lu=1,gc=2,xc=4,gh=8,pA=function(s,t,r,n,a,i){if(s<-9999||s>9999)return Ph(s,4,a.length>0);var A=Math.abs(s),c=a;if(A===0)return t[0]+c;for(var d=0;A>0&&d<=4;d++){var u=A%10;u===0&&Tn(i,lu)&&c!==""?c=t[u]+c:u>1||u===1&&d===0||u===1&&d===1&&Tn(i,gc)||u===1&&d===1&&Tn(i,xc)&&s>100||u===1&&d>1&&Tn(i,gh)?c=t[u]+(d>0?r[d-1]:"")+c:u===1&&d>0&&(c=r[d-1]+c),A=Math.floor(A/10)}return(s<0?n:"")+c},fb="",pb="",gb="",s0="",Ph=function(s,t,r){var n=r?". ":"",a=r?"":"",i=r?", ":"",A=r?" ":"";switch(t){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var c=wn(s,48,57,!0,n);return c.length<4?"0"+c:c;case 4:return od(s,"",a);case 6:return su(s,1,3999,hb,3,n).toLowerCase();case 7:return su(s,1,3999,hb,3,n);case 8:return wn(s,945,969,!1,n);case 9:return wn(s,97,122,!1,n);case 10:return wn(s,65,90,!1,n);case 11:return wn(s,1632,1641,!0,n);case 12:case 49:return su(s,1,9999,mb,3,n);case 35:return su(s,1,9999,mb,3,n).toLowerCase();case 13:return wn(s,2534,2543,!0,n);case 14:case 30:return wn(s,6112,6121,!0,n);case 15:return od(s,"",a);case 16:return od(s,"",a);case 17:case 48:return pA(s,"",fb,"",a,gc|xc|gh);case 47:return pA(s,"",pb,"",a,lu|gc|xc|gh);case 42:return pA(s,"",fb,"",a,gc|xc|gh);case 41:return pA(s,"",pb,"",a,lu|gc|xc|gh);case 26:return pA(s,"","",gb,a,0);case 25:return pA(s,"","",gb,a,lu|gc|xc);case 31:return pA(s,"","",s0,i,lu|gc|xc);case 33:return pA(s,"","",s0,i,0);case 32:return pA(s,"","",s0,i,lu|gc|xc);case 18:return wn(s,2406,2415,!0,n);case 20:return su(s,1,19999,WT,3,n);case 21:return wn(s,2790,2799,!0,n);case 22:return wn(s,2662,2671,!0,n);case 22:return su(s,1,10999,$T,3,n);case 23:return od(s,"");case 24:return od(s,"");case 27:return wn(s,3302,3311,!0,n);case 28:return od(s,"",a);case 29:return od(s,"",a);case 34:return wn(s,3792,3801,!0,n);case 37:return wn(s,6160,6169,!0,n);case 38:return wn(s,4160,4169,!0,n);case 39:return wn(s,2918,2927,!0,n);case 40:return wn(s,1776,1785,!0,n);case 43:return wn(s,3046,3055,!0,n);case 44:return wn(s,3174,3183,!0,n);case 45:return wn(s,3664,3673,!0,n);case 46:return wn(s,3872,3881,!0,n);case 3:default:return wn(s,48,57,!0,n)}},YB="data-html2canvas-ignore",xb=(function(){function s(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new GT,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return s.prototype.toIFrame=function(t,r){var n=this,a=qT(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,A=t.defaultView.pageYOffset,c=a.contentWindow,d=c.document,u=XT(a).then(function(){return Xa(n,void 0,void 0,function(){var m,f;return Ra(this,function(x){switch(x.label){case 0:return this.scrolledElements.forEach(sP),c&&(c.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==r.top||c.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-r.left,c.scrollY-r.top,0,0))),m=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:d.fonts&&d.fonts.ready?[4,d.fonts.ready]:[3,2];case 1:x.sent(),x.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,JT(d)]:[3,4];case 3:x.sent(),x.label=4;case 4:return typeof m=="function"?[2,Promise.resolve().then(function(){return m(d,f)}).then(function(){return a})]:[2,a]}})})});return d.open(),d.write(eP(document.doctype)+"<html></html>"),tP(this.referenceElement.ownerDocument,i,A),d.replaceChild(d.adoptNode(this.documentElement),d.documentElement),d.close(),u},s.prototype.createElementClone=function(t){if(Ax(t,2))debugger;if(GB(t))return this.createCanvasClone(t);if(cb(t))return this.createVideoClone(t);if(db(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return hx(r)&&(hx(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),ub(r)?this.createCustomElementClone(r):r},s.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return r0(t.style,r),r},s.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,A){return A&&typeof A.cssText=="string"?i+A.cssText:i},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},s.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var i=t.getContext("2d"),A=a.getContext("2d");if(A)if(!this.options.allowTaint&&i)A.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var c=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(c){var d=c.getContextAttributes();d?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}A.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},s.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},s.prototype.appendChildNode=function(t,r,n){(!uu(r)||!zT(r)&&!r.hasAttribute(YB)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!uu(r)||!db(r))&&t.appendChild(this.cloneNode(r,n))},s.prototype.cloneChildNodes=function(t,r,n){for(var a=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(uu(i)&&WB(i)&&typeof i.assignedNodes=="function"){var A=i.assignedNodes();A.length&&A.forEach(function(c){return a.appendChildNode(r,c,n)})}else this.appendChildNode(r,i,n)},s.prototype.cloneNode=function(t,r){if(VB(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&uu(t)&&(ux(t)||bf(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var i=n.getComputedStyle(t),A=n.getComputedStyle(t,":before"),c=n.getComputedStyle(t,":after");this.referenceElement===t&&ux(a)&&(this.clonedReferenceElement=a),fw(a)&&aP(a);var d=this.counters.parse(new q1(this.context,i)),u=this.resolvePseudoContent(t,a,A,jh.BEFORE);ub(t)&&(r=!0),cb(t)||this.cloneChildNodes(t,a,r),u&&a.insertBefore(u,a.firstChild);var m=this.resolvePseudoContent(t,a,c,jh.AFTER);return m&&a.appendChild(m),this.counters.pop(d),(i&&(this.options.copyStyles||bf(t))&&!$B(t)||r)&&r0(i,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(zf(t)||Gf(t))&&(zf(a)||Gf(a))&&(a.value=t.value),a}return t.cloneNode(!1)},s.prototype.resolvePseudoContent=function(t,r,n,a){var i=this;if(n){var A=n.content,c=r.ownerDocument;if(!(!c||!A||A==="none"||A==="-moz-alt-content"||n.display==="none")){this.counters.parse(new q1(this.context,n));var d=new H8(this.context,n),u=c.createElement("html2canvaspseudoelement");r0(n,u),d.content.forEach(function(f){if(f.type===0)u.appendChild(c.createTextNode(f.value));else if(f.type===22){var x=c.createElement("img");x.src=f.value,x.style.opacity="1",u.appendChild(x)}else if(f.type===18){if(f.name==="attr"){var g=f.values.filter(jr);g.length&&u.appendChild(c.createTextNode(t.getAttribute(g[0].value)||""))}else if(f.name==="counter"){var N=f.values.filter(Eu),b=N[0],j=N[1];if(b&&jr(b)){var y=i.counters.getCounterValue(b.value),E=j&&jr(j)?lx.parse(i.context,j.value):3;u.appendChild(c.createTextNode(Ph(y,E,!1)))}}else if(f.name==="counters"){var U=f.values.filter(Eu),b=U[0],k=U[1],j=U[2];if(b&&jr(b)){var q=i.counters.getCounterValues(b.value),G=j&&jr(j)?lx.parse(i.context,j.value):3,H=k&&k.type===0?k.value:"",I=q.map(function(Q){return Ph(Q,G,!1)}).join(H);u.appendChild(c.createTextNode(I))}}}else if(f.type===20)switch(f.value){case"open-quote":u.appendChild(c.createTextNode(W1(d.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(c.createTextNode(W1(d.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(c.createTextNode(f.value))}}),u.className=mx+" "+fx;var m=a===jh.BEFORE?" "+mx:" "+fx;return bf(r)?r.className.baseValue+=m:r.className+=m,u}}},s.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},s})(),jh;(function(s){s[s.BEFORE=0]="BEFORE",s[s.AFTER=1]="AFTER"})(jh||(jh={}));var qT=function(s,t){var r=s.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(YB,"true"),s.body.appendChild(r),r},YT=function(s){return new Promise(function(t){if(s.complete){t();return}if(!s.src){t();return}s.onload=t,s.onerror=t})},JT=function(s){return Promise.all([].slice.call(s.images,0).map(YT))},XT=function(s){return new Promise(function(t,r){var n=s.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=s.onload=function(){n.onload=s.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),t(s))},50)}})},ZT=["all","d","content"],r0=function(s,t){for(var r=s.length-1;r>=0;r--){var n=s.item(r);ZT.indexOf(n)===-1&&t.style.setProperty(n,s.getPropertyValue(n))}return t},eP=function(s){var t="";return s&&(t+="<!DOCTYPE ",s.name&&(t+=s.name),s.internalSubset&&(t+=s.internalSubset),s.publicId&&(t+='"'+s.publicId+'"'),s.systemId&&(t+='"'+s.systemId+'"'),t+=">"),t},tP=function(s,t,r){s&&s.defaultView&&(t!==s.defaultView.pageXOffset||r!==s.defaultView.pageYOffset)&&s.defaultView.scrollTo(t,r)},sP=function(s){var t=s[0],r=s[1],n=s[2];t.scrollLeft=r,t.scrollTop=n},rP=":before",nP=":after",mx="___html2canvas___pseudoelement_before",fx="___html2canvas___pseudoelement_after",wb=`{
    content: "" !important;
    display: none !important;
}`,aP=function(s){iP(s,"."+mx+rP+wb+`
         .`+fx+nP+wb)},iP=function(s,t){var r=s.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,s.appendChild(n)}},JB=(function(){function s(){}return s.getOrigin=function(t){var r=s._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},s.isSameOrigin=function(t){return s.getOrigin(t)===s._origin},s.setContext=function(t){s._link=t.document.createElement("a"),s._origin=s.getOrigin(t.location.href)},s._origin="about:blank",s})(),oP=(function(){function s(t,r){this.context=t,this._options=r,this._cache={}}return s.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(a0(t)||dP(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},s.prototype.match=function(t){return this._cache[t]},s.prototype.loadImage=function(t){return Xa(this,void 0,void 0,function(){var r,n,a,i,A=this;return Ra(this,function(c){switch(c.label){case 0:return r=JB.isSameOrigin(t),n=!n0(t)&&this._options.useCORS===!0&&pa.SUPPORT_CORS_IMAGES&&!r,a=!n0(t)&&!r&&!a0(t)&&typeof this._options.proxy=="string"&&pa.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!n0(t)&&!a0(t)&&!a&&!n?[2]:(i=t,a?[4,this.proxy(i)]:[3,2]);case 1:i=c.sent(),c.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(d,u){var m=new Image;m.onload=function(){return d(m)},m.onerror=u,(uP(i)||n)&&(m.crossOrigin="anonymous"),m.src=i,m.complete===!0&&setTimeout(function(){return d(m)},500),A._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,c.sent()]}})})},s.prototype.has=function(t){return typeof this._cache[t]<"u"},s.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},s.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(i,A){var c=pa.SUPPORT_RESPONSE_TYPE?"blob":"text",d=new XMLHttpRequest;d.onload=function(){if(d.status===200)if(c==="text")i(d.response);else{var f=new FileReader;f.addEventListener("load",function(){return i(f.result)},!1),f.addEventListener("error",function(x){return A(x)},!1),f.readAsDataURL(d.response)}else A("Failed to proxy resource "+a+" with status code "+d.status)},d.onerror=A;var u=n.indexOf("?")>-1?"&":"?";if(d.open("GET",""+n+u+"url="+encodeURIComponent(t)+"&responseType="+c),c!=="text"&&d instanceof XMLHttpRequest&&(d.responseType=c),r._options.imageTimeout){var m=r._options.imageTimeout;d.timeout=m,d.ontimeout=function(){return A("Timed out ("+m+"ms) proxying "+a)}}d.send()})},s})(),lP=/^data:image\/svg\+xml/i,AP=/^data:image\/.*;base64,/i,cP=/^data:image\/.*/i,dP=function(s){return pa.SUPPORT_SVG_DRAWING||!hP(s)},n0=function(s){return cP.test(s)},uP=function(s){return AP.test(s)},a0=function(s){return s.substr(0,4)==="blob"},hP=function(s){return s.substr(-3).toLowerCase()==="svg"||lP.test(s)},zt=(function(){function s(t,r){this.type=0,this.x=t,this.y=r}return s.prototype.add=function(t,r){return new s(this.x+t,this.y+r)},s})(),ru=function(s,t,r){return new zt(s.x+(t.x-s.x)*r,s.y+(t.y-s.y)*r)},Xm=(function(){function s(t,r,n,a){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=a}return s.prototype.subdivide=function(t,r){var n=ru(this.start,this.startControl,t),a=ru(this.startControl,this.endControl,t),i=ru(this.endControl,this.end,t),A=ru(n,a,t),c=ru(a,i,t),d=ru(A,c,t);return r?new s(this.start,n,A,d):new s(d,c,i,this.end)},s.prototype.add=function(t,r){return new s(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},s.prototype.reverse=function(){return new s(this.end,this.endControl,this.startControl,this.start)},s})(),ho=function(s){return s.type===1},mP=(function(){function s(t){var r=t.styles,n=t.bounds,a=fh(r.borderTopLeftRadius,n.width,n.height),i=a[0],A=a[1],c=fh(r.borderTopRightRadius,n.width,n.height),d=c[0],u=c[1],m=fh(r.borderBottomRightRadius,n.width,n.height),f=m[0],x=m[1],g=fh(r.borderBottomLeftRadius,n.width,n.height),N=g[0],b=g[1],j=[];j.push((i+d)/n.width),j.push((N+f)/n.width),j.push((A+b)/n.height),j.push((u+x)/n.height);var y=Math.max.apply(Math,j);y>1&&(i/=y,A/=y,d/=y,u/=y,f/=y,x/=y,N/=y,b/=y);var E=n.width-d,U=n.height-x,k=n.width-f,q=n.height-b,G=r.borderTopWidth,H=r.borderRightWidth,I=r.borderBottomWidth,D=r.borderLeftWidth,P=Ir(r.paddingTop,t.bounds.width),Q=Ir(r.paddingRight,t.bounds.width),T=Ir(r.paddingBottom,t.bounds.width),$=Ir(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||A>0?qr(n.left+D/3,n.top+G/3,i-D/3,A-G/3,dr.TOP_LEFT):new zt(n.left+D/3,n.top+G/3),this.topRightBorderDoubleOuterBox=i>0||A>0?qr(n.left+E,n.top+G/3,d-H/3,u-G/3,dr.TOP_RIGHT):new zt(n.left+n.width-H/3,n.top+G/3),this.bottomRightBorderDoubleOuterBox=f>0||x>0?qr(n.left+k,n.top+U,f-H/3,x-I/3,dr.BOTTOM_RIGHT):new zt(n.left+n.width-H/3,n.top+n.height-I/3),this.bottomLeftBorderDoubleOuterBox=N>0||b>0?qr(n.left+D/3,n.top+q,N-D/3,b-I/3,dr.BOTTOM_LEFT):new zt(n.left+D/3,n.top+n.height-I/3),this.topLeftBorderDoubleInnerBox=i>0||A>0?qr(n.left+D*2/3,n.top+G*2/3,i-D*2/3,A-G*2/3,dr.TOP_LEFT):new zt(n.left+D*2/3,n.top+G*2/3),this.topRightBorderDoubleInnerBox=i>0||A>0?qr(n.left+E,n.top+G*2/3,d-H*2/3,u-G*2/3,dr.TOP_RIGHT):new zt(n.left+n.width-H*2/3,n.top+G*2/3),this.bottomRightBorderDoubleInnerBox=f>0||x>0?qr(n.left+k,n.top+U,f-H*2/3,x-I*2/3,dr.BOTTOM_RIGHT):new zt(n.left+n.width-H*2/3,n.top+n.height-I*2/3),this.bottomLeftBorderDoubleInnerBox=N>0||b>0?qr(n.left+D*2/3,n.top+q,N-D*2/3,b-I*2/3,dr.BOTTOM_LEFT):new zt(n.left+D*2/3,n.top+n.height-I*2/3),this.topLeftBorderStroke=i>0||A>0?qr(n.left+D/2,n.top+G/2,i-D/2,A-G/2,dr.TOP_LEFT):new zt(n.left+D/2,n.top+G/2),this.topRightBorderStroke=i>0||A>0?qr(n.left+E,n.top+G/2,d-H/2,u-G/2,dr.TOP_RIGHT):new zt(n.left+n.width-H/2,n.top+G/2),this.bottomRightBorderStroke=f>0||x>0?qr(n.left+k,n.top+U,f-H/2,x-I/2,dr.BOTTOM_RIGHT):new zt(n.left+n.width-H/2,n.top+n.height-I/2),this.bottomLeftBorderStroke=N>0||b>0?qr(n.left+D/2,n.top+q,N-D/2,b-I/2,dr.BOTTOM_LEFT):new zt(n.left+D/2,n.top+n.height-I/2),this.topLeftBorderBox=i>0||A>0?qr(n.left,n.top,i,A,dr.TOP_LEFT):new zt(n.left,n.top),this.topRightBorderBox=d>0||u>0?qr(n.left+E,n.top,d,u,dr.TOP_RIGHT):new zt(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||x>0?qr(n.left+k,n.top+U,f,x,dr.BOTTOM_RIGHT):new zt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=N>0||b>0?qr(n.left,n.top+q,N,b,dr.BOTTOM_LEFT):new zt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||A>0?qr(n.left+D,n.top+G,Math.max(0,i-D),Math.max(0,A-G),dr.TOP_LEFT):new zt(n.left+D,n.top+G),this.topRightPaddingBox=d>0||u>0?qr(n.left+Math.min(E,n.width-H),n.top+G,E>n.width+H?0:Math.max(0,d-H),Math.max(0,u-G),dr.TOP_RIGHT):new zt(n.left+n.width-H,n.top+G),this.bottomRightPaddingBox=f>0||x>0?qr(n.left+Math.min(k,n.width-D),n.top+Math.min(U,n.height-I),Math.max(0,f-H),Math.max(0,x-I),dr.BOTTOM_RIGHT):new zt(n.left+n.width-H,n.top+n.height-I),this.bottomLeftPaddingBox=N>0||b>0?qr(n.left+D,n.top+Math.min(q,n.height-I),Math.max(0,N-D),Math.max(0,b-I),dr.BOTTOM_LEFT):new zt(n.left+D,n.top+n.height-I),this.topLeftContentBox=i>0||A>0?qr(n.left+D+$,n.top+G+P,Math.max(0,i-(D+$)),Math.max(0,A-(G+P)),dr.TOP_LEFT):new zt(n.left+D+$,n.top+G+P),this.topRightContentBox=d>0||u>0?qr(n.left+Math.min(E,n.width+D+$),n.top+G+P,E>n.width+D+$?0:d-D+$,u-(G+P),dr.TOP_RIGHT):new zt(n.left+n.width-(H+Q),n.top+G+P),this.bottomRightContentBox=f>0||x>0?qr(n.left+Math.min(k,n.width-(D+$)),n.top+Math.min(U,n.height+G+P),Math.max(0,f-(H+Q)),x-(I+T),dr.BOTTOM_RIGHT):new zt(n.left+n.width-(H+Q),n.top+n.height-(I+T)),this.bottomLeftContentBox=N>0||b>0?qr(n.left+D+$,n.top+q,Math.max(0,N-(D+$)),b-(I+T),dr.BOTTOM_LEFT):new zt(n.left+D+$,n.top+n.height-(I+T))}return s})(),dr;(function(s){s[s.TOP_LEFT=0]="TOP_LEFT",s[s.TOP_RIGHT=1]="TOP_RIGHT",s[s.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",s[s.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(dr||(dr={}));var qr=function(s,t,r,n,a){var i=4*((Math.sqrt(2)-1)/3),A=r*i,c=n*i,d=s+r,u=t+n;switch(a){case dr.TOP_LEFT:return new Xm(new zt(s,u),new zt(s,u-c),new zt(d-A,t),new zt(d,t));case dr.TOP_RIGHT:return new Xm(new zt(s,t),new zt(s+A,t),new zt(d,u-c),new zt(d,u));case dr.BOTTOM_RIGHT:return new Xm(new zt(d,t),new zt(d,t+c),new zt(s+A,u),new zt(s,u));case dr.BOTTOM_LEFT:default:return new Xm(new zt(d,u),new zt(d-A,u),new zt(s,t+c),new zt(s,t))}},$f=function(s){return[s.topLeftBorderBox,s.topRightBorderBox,s.bottomRightBorderBox,s.bottomLeftBorderBox]},fP=function(s){return[s.topLeftContentBox,s.topRightContentBox,s.bottomRightContentBox,s.bottomLeftContentBox]},Wf=function(s){return[s.topLeftPaddingBox,s.topRightPaddingBox,s.bottomRightPaddingBox,s.bottomLeftPaddingBox]},pP=(function(){function s(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return s})(),Zm=(function(){function s(t,r){this.path=t,this.target=r,this.type=1}return s})(),gP=(function(){function s(t){this.opacity=t,this.type=2,this.target=6}return s})(),xP=function(s){return s.type===0},XB=function(s){return s.type===1},wP=function(s){return s.type===2},vb=function(s,t){return s.length===t.length?s.some(function(r,n){return r===t[n]}):!1},vP=function(s,t,r,n,a){return s.map(function(i,A){switch(A){case 0:return i.add(t,r);case 1:return i.add(t+n,r);case 2:return i.add(t+n,r+a);case 3:return i.add(t,r+a)}return i})},ZB=(function(){function s(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return s})(),e5=(function(){function s(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new mP(this.container),this.container.styles.opacity<1&&this.effects.push(new gP(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new pP(n,a,i))}if(this.container.styles.overflowX!==0){var A=$f(this.curves),c=Wf(this.curves);vb(A,c)?this.effects.push(new Zm(A,6)):(this.effects.push(new Zm(A,2)),this.effects.push(new Zm(c,4)))}}return s.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(d){return!XB(d)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var A=$f(n.curves),c=Wf(n.curves);vb(A,c)||a.unshift(new Zm(c,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(d){return Tn(d.target,t)})},s})(),px=function(s,t,r,n){s.container.elements.forEach(function(a){var i=Tn(a.flags,4),A=Tn(a.flags,2),c=new e5(a,s);Tn(a.styles.display,2048)&&n.push(c);var d=Tn(a.flags,8)?[]:n;if(i||A){var u=i||a.styles.isPositioned()?r:t,m=new ZB(c);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var f=a.styles.zIndex.order;if(f<0){var x=0;u.negativeZIndex.some(function(N,b){return f>N.element.container.styles.zIndex.order?(x=b,!1):x>0}),u.negativeZIndex.splice(x,0,m)}else if(f>0){var g=0;u.positiveZIndex.some(function(N,b){return f>=N.element.container.styles.zIndex.order?(g=b+1,!1):g>0}),u.positiveZIndex.splice(g,0,m)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(m)}else a.styles.isFloating()?u.nonPositionedFloats.push(m):u.nonPositionedInlineLevel.push(m);px(c,m,i?m:r,d)}else a.styles.isInlineLevel()?t.inlineLevel.push(c):t.nonInlineLevel.push(c),px(c,t,r,d);Tn(a.flags,8)&&t5(a,d)})},t5=function(s,t){for(var r=s instanceof dx?s.start:1,n=s instanceof dx?s.reversed:!1,a=0;a<t.length;a++){var i=t[a];i.container instanceof RB&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Ph(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},bP=function(s){var t=new e5(s,null),r=new ZB(t),n=[];return px(t,r,r,n),t5(t.container,n),r},bb=function(s,t){switch(t){case 0:return fo(s.topLeftBorderBox,s.topLeftPaddingBox,s.topRightBorderBox,s.topRightPaddingBox);case 1:return fo(s.topRightBorderBox,s.topRightPaddingBox,s.bottomRightBorderBox,s.bottomRightPaddingBox);case 2:return fo(s.bottomRightBorderBox,s.bottomRightPaddingBox,s.bottomLeftBorderBox,s.bottomLeftPaddingBox);case 3:default:return fo(s.bottomLeftBorderBox,s.bottomLeftPaddingBox,s.topLeftBorderBox,s.topLeftPaddingBox)}},yP=function(s,t){switch(t){case 0:return fo(s.topLeftBorderBox,s.topLeftBorderDoubleOuterBox,s.topRightBorderBox,s.topRightBorderDoubleOuterBox);case 1:return fo(s.topRightBorderBox,s.topRightBorderDoubleOuterBox,s.bottomRightBorderBox,s.bottomRightBorderDoubleOuterBox);case 2:return fo(s.bottomRightBorderBox,s.bottomRightBorderDoubleOuterBox,s.bottomLeftBorderBox,s.bottomLeftBorderDoubleOuterBox);case 3:default:return fo(s.bottomLeftBorderBox,s.bottomLeftBorderDoubleOuterBox,s.topLeftBorderBox,s.topLeftBorderDoubleOuterBox)}},NP=function(s,t){switch(t){case 0:return fo(s.topLeftBorderDoubleInnerBox,s.topLeftPaddingBox,s.topRightBorderDoubleInnerBox,s.topRightPaddingBox);case 1:return fo(s.topRightBorderDoubleInnerBox,s.topRightPaddingBox,s.bottomRightBorderDoubleInnerBox,s.bottomRightPaddingBox);case 2:return fo(s.bottomRightBorderDoubleInnerBox,s.bottomRightPaddingBox,s.bottomLeftBorderDoubleInnerBox,s.bottomLeftPaddingBox);case 3:default:return fo(s.bottomLeftBorderDoubleInnerBox,s.bottomLeftPaddingBox,s.topLeftBorderDoubleInnerBox,s.topLeftPaddingBox)}},jP=function(s,t){switch(t){case 0:return ef(s.topLeftBorderStroke,s.topRightBorderStroke);case 1:return ef(s.topRightBorderStroke,s.bottomRightBorderStroke);case 2:return ef(s.bottomRightBorderStroke,s.bottomLeftBorderStroke);case 3:default:return ef(s.bottomLeftBorderStroke,s.topLeftBorderStroke)}},ef=function(s,t){var r=[];return ho(s)?r.push(s.subdivide(.5,!1)):r.push(s),ho(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},fo=function(s,t,r,n){var a=[];return ho(s)?a.push(s.subdivide(.5,!1)):a.push(s),ho(r)?a.push(r.subdivide(.5,!0)):a.push(r),ho(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),ho(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},s5=function(s){var t=s.bounds,r=s.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},qf=function(s){var t=s.styles,r=s.bounds,n=Ir(t.paddingLeft,r.width),a=Ir(t.paddingRight,r.width),i=Ir(t.paddingTop,r.width),A=Ir(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+i+A))},BP=function(s,t){return s===0?t.bounds:s===2?qf(t):s5(t)},CP=function(s,t){return s===0?t.bounds:s===2?qf(t):s5(t)},i0=function(s,t,r){var n=BP(Au(s.styles.backgroundOrigin,t),s),a=CP(Au(s.styles.backgroundClip,t),s),i=SP(Au(s.styles.backgroundSize,t),r,n),A=i[0],c=i[1],d=fh(Au(s.styles.backgroundPosition,t),n.width-A,n.height-c),u=EP(Au(s.styles.backgroundRepeat,t),d,i,n,a),m=Math.round(n.left+d[0]),f=Math.round(n.top+d[1]);return[u,m,f,A,c]},nu=function(s){return jr(s)&&s.value===gu.AUTO},tf=function(s){return typeof s=="number"},SP=function(s,t,r){var n=t[0],a=t[1],i=t[2],A=s[0],c=s[1];if(!A)return[0,0];if(Fn(A)&&c&&Fn(c))return[Ir(A,r.width),Ir(c,r.height)];var d=tf(i);if(jr(A)&&(A.value===gu.CONTAIN||A.value===gu.COVER)){if(tf(i)){var u=r.width/r.height;return u<i!=(A.value===gu.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var m=tf(n),f=tf(a),x=m||f;if(nu(A)&&(!c||nu(c))){if(m&&f)return[n,a];if(!d&&!x)return[r.width,r.height];if(x&&d){var g=m?n:a*i,N=f?a:n/i;return[g,N]}var b=m?n:r.width,j=f?a:r.height;return[b,j]}if(d){var y=0,E=0;return Fn(A)?y=Ir(A,r.width):Fn(c)&&(E=Ir(c,r.height)),nu(A)?y=E*i:(!c||nu(c))&&(E=y/i),[y,E]}var U=null,k=null;if(Fn(A)?U=Ir(A,r.width):c&&Fn(c)&&(k=Ir(c,r.height)),U!==null&&(!c||nu(c))&&(k=m&&f?U/n*a:r.height),k!==null&&nu(A)&&(U=m&&f?k/a*n:r.width),U!==null&&k!==null)return[U,k];throw new Error("Unable to calculate background-size for element")},Au=function(s,t){var r=s[t];return typeof r>"u"?s[0]:r},EP=function(s,t,r,n,a){var i=t[0],A=t[1],c=r[0],d=r[1];switch(s){case 2:return[new zt(Math.round(n.left),Math.round(n.top+A)),new zt(Math.round(n.left+n.width),Math.round(n.top+A)),new zt(Math.round(n.left+n.width),Math.round(d+n.top+A)),new zt(Math.round(n.left),Math.round(d+n.top+A))];case 3:return[new zt(Math.round(n.left+i),Math.round(n.top)),new zt(Math.round(n.left+i+c),Math.round(n.top)),new zt(Math.round(n.left+i+c),Math.round(n.height+n.top)),new zt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new zt(Math.round(n.left+i),Math.round(n.top+A)),new zt(Math.round(n.left+i+c),Math.round(n.top+A)),new zt(Math.round(n.left+i+c),Math.round(n.top+A+d)),new zt(Math.round(n.left+i),Math.round(n.top+A+d))];default:return[new zt(Math.round(a.left),Math.round(a.top)),new zt(Math.round(a.left+a.width),Math.round(a.top)),new zt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new zt(Math.round(a.left),Math.round(a.height+a.top))]}},FP="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",yb="Hidden Text",_P=(function(){function s(t){this._data={},this._document=t}return s.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),A=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",A.appendChild(n),a.src=FP,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(yb)),n.appendChild(i),n.appendChild(a);var c=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(yb)),n.style.lineHeight="normal",a.style.verticalAlign="super";var d=a.offsetTop-n.offsetTop+2;return A.removeChild(n),{baseline:c,middle:d}},s.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},s})(),r5=(function(){function s(t,r){this.context=t,this.options=r}return s})(),UP=1e4,kP=(function(s){il(t,s);function t(r,n){var a=s.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new _P(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),wP(r)&&(this.ctx.globalAlpha=r.opacity),xP(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),XB(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return Xa(this,void 0,void 0,function(){var n;return Ra(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return Xa(this,void 0,void 0,function(){return Ra(this,function(n){switch(n.label){case 0:if(Tn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,a){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var A=hw(r.text);A.reduce(function(c,d){return i.ctx.fillText(d,c,r.bounds.top+a),c+i.ctx.measureText(d).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),a=PP(r.fontFamily).join(", "),i=Vh(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,a].join(" "),a,i]},t.prototype.renderTextNode=function(r,n){return Xa(this,void 0,void 0,function(){var a,i,A,c,d,u,m,f,x=this;return Ra(this,function(g){return a=this.createFontStyle(n),i=a[0],A=a[1],c=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",d=this.fontMetrics.getMetrics(A,c),u=d.baseline,m=d.middle,f=n.paintOrder,r.textBounds.forEach(function(N){f.forEach(function(b){switch(b){case 0:x.ctx.fillStyle=Zn(n.color),x.renderTextWithLetterSpacing(N,n.letterSpacing,u);var j=n.textShadow;j.length&&N.text.trim().length&&(j.slice(0).reverse().forEach(function(y){x.ctx.shadowColor=Zn(y.color),x.ctx.shadowOffsetX=y.offsetX.number*x.options.scale,x.ctx.shadowOffsetY=y.offsetY.number*x.options.scale,x.ctx.shadowBlur=y.blur.number,x.renderTextWithLetterSpacing(N,n.letterSpacing,u)}),x.ctx.shadowColor="",x.ctx.shadowOffsetX=0,x.ctx.shadowOffsetY=0,x.ctx.shadowBlur=0),n.textDecorationLine.length&&(x.ctx.fillStyle=Zn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:x.ctx.fillRect(N.bounds.left,Math.round(N.bounds.top+u),N.bounds.width,1);break;case 2:x.ctx.fillRect(N.bounds.left,Math.round(N.bounds.top),N.bounds.width,1);break;case 3:x.ctx.fillRect(N.bounds.left,Math.ceil(N.bounds.top+m),N.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&N.text.trim().length&&(x.ctx.strokeStyle=Zn(n.webkitTextStrokeColor),x.ctx.lineWidth=n.webkitTextStrokeWidth,x.ctx.lineJoin=window.chrome?"miter":"round",x.ctx.strokeText(N.text,N.bounds.left,N.bounds.top+u)),x.ctx.strokeStyle="",x.ctx.lineWidth=0,x.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=qf(r),A=Wf(n);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return Xa(this,void 0,void 0,function(){var n,a,i,A,c,d,E,E,u,m,f,x,k,g,N,q,b,j,y,E,U,k,q;return Ra(this,function(G){switch(G.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,i=n.styles,A=0,c=n.textNodes,G.label=1;case 1:return A<c.length?(d=c[A],[4,this.renderTextNode(d,i)]):[3,4];case 2:G.sent(),G.label=3;case 3:return A++,[3,1];case 4:if(!(n instanceof QB))return[3,8];G.label=5;case 5:return G.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return E=G.sent(),this.renderReplacedElement(n,a,E),[3,8];case 7:return G.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof TB&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof PB))return[3,12];G.label=9;case 9:return G.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return E=G.sent(),this.renderReplacedElement(n,a,E),[3,12];case 11:return G.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof HB&&n.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:m=G.sent(),n.width&&n.height&&this.ctx.drawImage(m,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),G.label=14;case 14:if(n instanceof mw&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===Kf?n.checked&&(this.ctx.save(),this.path([new zt(n.bounds.left+f*.39363,n.bounds.top+f*.79),new zt(n.bounds.left+f*.16,n.bounds.top+f*.5549),new zt(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new zt(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new zt(n.bounds.left+f*.72983,n.bounds.top+f*.23),new zt(n.bounds.left+f*.84,n.bounds.top+f*.34085),new zt(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=Zn(Ab),this.ctx.fill(),this.ctx.restore()):n.type===Vf&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=Zn(Ab),this.ctx.fill(),this.ctx.restore())),IP(n)&&n.value.length){switch(x=this.createFontStyle(i),k=x[0],g=x[1],N=this.fontMetrics.getMetrics(k,g).baseline,this.ctx.font=k,this.ctx.fillStyle=Zn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=QP(n.styles.textAlign),q=qf(n),b=0,n.styles.textAlign){case 1:b+=q.width/2;break;case 2:b+=q.width;break}j=q.add(b,0,0,-q.height/2+1),this.ctx.save(),this.path([new zt(q.left,q.top),new zt(q.left+q.width,q.top),new zt(q.left+q.width,q.top+q.height),new zt(q.left,q.top+q.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Nh(n.value,j),i.letterSpacing,N),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Tn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];E=void 0,U=y.url,G.label=15;case 15:return G.trys.push([15,17,,18]),[4,this.context.cache.match(U)];case 16:return E=G.sent(),this.ctx.drawImage(E,n.bounds.left-(E.width+10),n.bounds.top),[3,18];case 17:return G.sent(),this.context.logger.error("Error loading list-style-image "+U),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(k=this.createFontStyle(i)[0],this.ctx.font=k,this.ctx.fillStyle=Zn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",q=new IA(n.bounds.left,n.bounds.top+Ir(n.styles.paddingTop,n.bounds.width),n.bounds.width,G1(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Nh(r.listValue,q),i.letterSpacing,G1(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),G.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return Xa(this,void 0,void 0,function(){var n,a,y,i,A,y,c,d,y,u,m,y,f,x,y,g,N,y,b,j,y;return Ra(this,function(E){switch(E.label){case 0:if(Tn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:E.sent(),n=0,a=r.negativeZIndex,E.label=2;case 2:return n<a.length?(y=a[n],[4,this.renderStack(y)]):[3,5];case 3:E.sent(),E.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:E.sent(),i=0,A=r.nonInlineLevel,E.label=7;case 7:return i<A.length?(y=A[i],[4,this.renderNode(y)]):[3,10];case 8:E.sent(),E.label=9;case 9:return i++,[3,7];case 10:c=0,d=r.nonPositionedFloats,E.label=11;case 11:return c<d.length?(y=d[c],[4,this.renderStack(y)]):[3,14];case 12:E.sent(),E.label=13;case 13:return c++,[3,11];case 14:u=0,m=r.nonPositionedInlineLevel,E.label=15;case 15:return u<m.length?(y=m[u],[4,this.renderStack(y)]):[3,18];case 16:E.sent(),E.label=17;case 17:return u++,[3,15];case 18:f=0,x=r.inlineLevel,E.label=19;case 19:return f<x.length?(y=x[f],[4,this.renderNode(y)]):[3,22];case 20:E.sent(),E.label=21;case 21:return f++,[3,19];case 22:g=0,N=r.zeroOrAutoZIndexOrTransformedOrOpacity,E.label=23;case 23:return g<N.length?(y=N[g],[4,this.renderStack(y)]):[3,26];case 24:E.sent(),E.label=25;case 25:return g++,[3,23];case 26:b=0,j=r.positiveZIndex,E.label=27;case 27:return b<j.length?(y=j[b],[4,this.renderStack(y)]):[3,30];case 28:E.sent(),E.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(a,i){var A=ho(a)?a.start:a;i===0?n.ctx.moveTo(A.x,A.y):n.ctx.lineTo(A.x,A.y),ho(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,n,a,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},t.prototype.resizeImage=function(r,n,a){var i;if(r.width===n&&r.height===a)return r;var A=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,c=A.createElement("canvas");c.width=Math.max(1,n),c.height=Math.max(1,a);var d=c.getContext("2d");return d.drawImage(r,0,0,r.width,r.height,0,0,n,a),c},t.prototype.renderBackgroundImage=function(r){return Xa(this,void 0,void 0,function(){var n,a,i,A,c,d;return Ra(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,a=function(m){var f,x,g,P,W,ne,$,V,I,N,P,W,ne,$,V,b,j,y,E,U,k,q,G,H,I,D,P,Q,T,$,V,ie,W,ne,M,de,ue,se,O,X,re,me;return Ra(this,function(xe){switch(xe.label){case 0:if(m.type!==0)return[3,5];f=void 0,x=m.url,xe.label=1;case 1:return xe.trys.push([1,3,,4]),[4,i.context.cache.match(x)];case 2:return f=xe.sent(),[3,4];case 3:return xe.sent(),i.context.logger.error("Error loading background-image "+x),[3,4];case 4:return f&&(g=i0(r,n,[f.width,f.height,f.width/f.height]),P=g[0],W=g[1],ne=g[2],$=g[3],V=g[4],I=i.ctx.createPattern(i.resizeImage(f,$,V),"repeat"),i.renderRepeat(P,I,W,ne)),[3,6];case 5:xQ(m)?(N=i0(r,n,[null,null,null]),P=N[0],W=N[1],ne=N[2],$=N[3],V=N[4],b=hQ(m.angle,$,V),j=b[0],y=b[1],E=b[2],U=b[3],k=b[4],q=document.createElement("canvas"),q.width=$,q.height=V,G=q.getContext("2d"),H=G.createLinearGradient(y,U,E,k),V1(m.stops,j).forEach(function(Z){return H.addColorStop(Z.stop,Zn(Z.color))}),G.fillStyle=H,G.fillRect(0,0,$,V),$>0&&V>0&&(I=i.ctx.createPattern(q,"repeat"),i.renderRepeat(P,I,W,ne))):wQ(m)&&(D=i0(r,n,[null,null,null]),P=D[0],Q=D[1],T=D[2],$=D[3],V=D[4],ie=m.position.length===0?[cw]:m.position,W=Ir(ie[0],$),ne=Ir(ie[ie.length-1],V),M=mQ(m,W,ne,$,V),de=M[0],ue=M[1],de>0&&ue>0&&(se=i.ctx.createRadialGradient(Q+W,T+ne,0,Q+W,T+ne,de),V1(m.stops,de*2).forEach(function(Z){return se.addColorStop(Z.stop,Zn(Z.color))}),i.path(P),i.ctx.fillStyle=se,de!==ue?(O=r.bounds.left+.5*r.bounds.width,X=r.bounds.top+.5*r.bounds.height,re=ue/de,me=1/re,i.ctx.save(),i.ctx.translate(O,X),i.ctx.transform(1,0,0,re,0,0),i.ctx.translate(-O,-X),i.ctx.fillRect(Q,me*(T-X)+X,$,V*me),i.ctx.restore()):i.ctx.fill())),xe.label=6;case 6:return n--,[2]}})},i=this,A=0,c=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return A<c.length?(d=c[A],[5,a(d)]):[3,4];case 2:u.sent(),u.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,a){return Xa(this,void 0,void 0,function(){return Ra(this,function(i){return this.path(bb(a,n)),this.ctx.fillStyle=Zn(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,a,i){return Xa(this,void 0,void 0,function(){var A,c;return Ra(this,function(d){switch(d.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return d.sent(),[2];case 2:return A=yP(i,a),this.path(A),this.ctx.fillStyle=Zn(r),this.ctx.fill(),c=NP(i,a),this.path(c),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return Xa(this,void 0,void 0,function(){var n,a,i,A,c,d,u,m,f=this;return Ra(this,function(x){switch(x.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!Qc(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],A=LP(Au(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),Qc(n.backgroundColor)||(this.ctx.fillStyle=Zn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:x.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){f.ctx.save();var N=$f(r.curves),b=g.inset?0:UP,j=vP(N,-b+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(f.path(N),f.ctx.clip(),f.mask(j)):(f.mask(N),f.ctx.clip(),f.path(j)),f.ctx.shadowOffsetX=g.offsetX.number+b,f.ctx.shadowOffsetY=g.offsetY.number,f.ctx.shadowColor=Zn(g.color),f.ctx.shadowBlur=g.blur.number,f.ctx.fillStyle=g.inset?Zn(g.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),x.label=2;case 2:c=0,d=0,u=i,x.label=3;case 3:return d<u.length?(m=u[d],m.style!==0&&!Qc(m.color)&&m.width>0?m.style!==2?[3,5]:[4,this.renderDashedDottedBorder(m.color,m.width,c,r.curves,2)]:[3,11]):[3,13];case 4:return x.sent(),[3,11];case 5:return m.style!==3?[3,7]:[4,this.renderDashedDottedBorder(m.color,m.width,c,r.curves,3)];case 6:return x.sent(),[3,11];case 7:return m.style!==4?[3,9]:[4,this.renderDoubleBorder(m.color,m.width,c,r.curves)];case 8:return x.sent(),[3,11];case 9:return[4,this.renderSolidBorder(m.color,c,r.curves)];case 10:x.sent(),x.label=11;case 11:c++,x.label=12;case 12:return d++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,a,i,A){return Xa(this,void 0,void 0,function(){var c,d,u,m,f,x,g,N,b,j,y,E,U,k,q,G,q,G;return Ra(this,function(H){return this.ctx.save(),c=jP(i,a),d=bb(i,a),A===2&&(this.path(d),this.ctx.clip()),ho(d[0])?(u=d[0].start.x,m=d[0].start.y):(u=d[0].x,m=d[0].y),ho(d[1])?(f=d[1].end.x,x=d[1].end.y):(f=d[1].x,x=d[1].y),a===0||a===2?g=Math.abs(u-f):g=Math.abs(m-x),this.ctx.beginPath(),A===3?this.formatPath(c):this.formatPath(d.slice(0,2)),N=n<3?n*3:n*2,b=n<3?n*2:n,A===3&&(N=n,b=n),j=!0,g<=N*2?j=!1:g<=N*2+b?(y=g/(2*N+b),N*=y,b*=y):(E=Math.floor((g+b)/(N+b)),U=(g-E*N)/(E-1),k=(g-(E+1)*N)/E,b=k<=0||Math.abs(b-U)<Math.abs(b-k)?U:k),j&&(A===3?this.ctx.setLineDash([0,N+b]):this.ctx.setLineDash([N,b])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Zn(r),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(ho(d[0])&&(q=d[3],G=d[0],this.ctx.beginPath(),this.formatPath([new zt(q.end.x,q.end.y),new zt(G.start.x,G.start.y)]),this.ctx.stroke()),ho(d[1])&&(q=d[1],G=d[2],this.ctx.beginPath(),this.formatPath([new zt(q.end.x,q.end.y),new zt(G.start.x,G.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return Xa(this,void 0,void 0,function(){var n;return Ra(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Zn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=bP(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(r5),IP=function(s){return s instanceof OB||s instanceof DB?!0:s instanceof mw&&s.type!==Vf&&s.type!==Kf},LP=function(s,t){switch(s){case 0:return $f(t);case 2:return fP(t);case 1:default:return Wf(t)}},QP=function(s){switch(s){case 1:return"center";case 2:return"right";case 0:default:return"left"}},TP=["-apple-system","system-ui"],PP=function(s){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?s.filter(function(t){return TP.indexOf(t)===-1}):s},RP=(function(s){il(t,s);function t(r,n){var a=s.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(r){return Xa(this,void 0,void 0,function(){var n,a;return Ra(this,function(i){switch(i.label){case 0:return n=cx(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,DP(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Zn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(r5),DP=function(s){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(s))})},OP=(function(){function s(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return s.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Im([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},s.prototype.getTime=function(){return Date.now()-this.start},s.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Im([this.id,this.getTime()+"ms"],t))},s.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Im([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},s.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Im([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},s.instances={},s})(),HP=(function(){function s(t,r){var n;this.windowBounds=r,this.instanceName="#"+s.instanceCount++,this.logger=new OP({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new oP(this,t)}return s.instanceCount=1,s})(),n5=function(s,t){return t===void 0&&(t={}),MP(s,t)};typeof window<"u"&&JB.setContext(window);var MP=function(s,t){return Xa(void 0,void 0,void 0,function(){var r,n,a,i,A,c,d,u,m,f,x,g,N,b,j,y,E,U,k,q,H,G,H,I,D,P,Q,T,$,V,ie,W,ne,M,de,ue,se,O,X,re;return Ra(this,function(me){switch(me.label){case 0:if(!s||typeof s!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=s.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(I=t.allowTaint)!==null&&I!==void 0?I:!1,imageTimeout:(D=t.imageTimeout)!==null&&D!==void 0?D:15e3,proxy:t.proxy,useCORS:(P=t.useCORS)!==null&&P!==void 0?P:!1},i=q0({logging:(Q=t.logging)!==null&&Q!==void 0?Q:!0,cache:t.cache},a),A={windowWidth:(T=t.windowWidth)!==null&&T!==void 0?T:n.innerWidth,windowHeight:($=t.windowHeight)!==null&&$!==void 0?$:n.innerHeight,scrollX:(V=t.scrollX)!==null&&V!==void 0?V:n.pageXOffset,scrollY:(ie=t.scrollY)!==null&&ie!==void 0?ie:n.pageYOffset},c=new IA(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),d=new HP(i,c),u=(W=t.foreignObjectRendering)!==null&&W!==void 0?W:!1,m={allowTaint:(ne=t.allowTaint)!==null&&ne!==void 0?ne:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},d.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),f=new xb(d,s,m),x=f.clonedReferenceElement,x?[4,f.toIFrame(r,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=me.sent(),N=fw(x)||VT(x)?vI(x.ownerDocument):bp(d,x),b=N.width,j=N.height,y=N.left,E=N.top,U=KP(d,x,t.backgroundColor),k={canvas:t.canvas,backgroundColor:U,scale:(de=(M=t.scale)!==null&&M!==void 0?M:n.devicePixelRatio)!==null&&de!==void 0?de:1,x:((ue=t.x)!==null&&ue!==void 0?ue:0)+y,y:((se=t.y)!==null&&se!==void 0?se:0)+E,width:(O=t.width)!==null&&O!==void 0?O:Math.ceil(b),height:(X=t.height)!==null&&X!==void 0?X:Math.ceil(j)},u?(d.logger.debug("Document cloned, using foreign object rendering"),H=new RP(d,k),[4,H.render(x)]):[3,3];case 2:return q=me.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+y+","+E+" with size "+b+"x"+j+" using computed rendering"),d.logger.debug("Starting DOM parsing"),G=KB(d,x),U===G.styles.backgroundColor&&(G.styles.backgroundColor=BA.TRANSPARENT),d.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),H=new kP(d,k),[4,H.render(G)];case 4:q=me.sent(),me.label=5;case 5:return(!((re=t.removeContainer)!==null&&re!==void 0)||re)&&(xb.destroy(g)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,q]}})})},KP=function(s,t,r){var n=t.ownerDocument,a=n.documentElement?bh(s,getComputedStyle(n.documentElement).backgroundColor):BA.TRANSPARENT,i=n.body?bh(s,getComputedStyle(n.body).backgroundColor):BA.TRANSPARENT,A=typeof r=="string"?bh(s,r):r===null?BA.TRANSPARENT:4294967295;return t===n.documentElement?Qc(a)?Qc(i)?A:i:a:A};const VP=Object.freeze(Object.defineProperty({__proto__:null,default:n5},Symbol.toStringTag,{value:"Module"}));function xr(s){"@babel/helpers - typeof";return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(s)}var sl=Uint8Array,Mi=Uint16Array,pw=Int32Array,gw=new sl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),xw=new sl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Nb=new sl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a5=function(s,t){for(var r=new Mi(31),n=0;n<31;++n)r[n]=t+=1<<s[n-1];for(var a=new pw(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},i5=a5(gw,2),zP=i5.b,gx=i5.r;zP[28]=258,gx[258]=28;var GP=a5(xw,0),jb=GP.r,xx=new Mi(32768);for(var Or=0;Or<32768;++Or){var hc=(Or&43690)>>1|(Or&21845)<<1;hc=(hc&52428)>>2|(hc&13107)<<2,hc=(hc&61680)>>4|(hc&3855)<<4,xx[Or]=((hc&65280)>>8|(hc&255)<<8)>>1}var Bh=(function(s,t,r){for(var n=s.length,a=0,i=new Mi(t);a<n;++a)s[a]&&++i[s[a]-1];var A=new Mi(t);for(a=1;a<t;++a)A[a]=A[a-1]+i[a-1]<<1;var c;if(r){c=new Mi(1<<t);var d=15-t;for(a=0;a<n;++a)if(s[a])for(var u=a<<4|s[a],m=t-s[a],f=A[s[a]-1]++<<m,x=f|(1<<m)-1;f<=x;++f)c[xx[f]>>d]=u}else for(c=new Mi(n),a=0;a<n;++a)s[a]&&(c[a]=xx[A[s[a]-1]++]>>15-s[a]);return c}),bd=new sl(288);for(var Or=0;Or<144;++Or)bd[Or]=8;for(var Or=144;Or<256;++Or)bd[Or]=9;for(var Or=256;Or<280;++Or)bd[Or]=7;for(var Or=280;Or<288;++Or)bd[Or]=8;var Yf=new sl(32);for(var Or=0;Or<32;++Or)Yf[Or]=5;var $P=Bh(bd,9,0),WP=Bh(Yf,5,0),o5=function(s){return(s+7)/8|0},qP=function(s,t,r){return(r==null||r>s.length)&&(r=s.length),new sl(s.subarray(t,r))},gA=function(s,t,r){r<<=t&7;var n=t/8|0;s[n]|=r,s[n+1]|=r>>8},oh=function(s,t,r){r<<=t&7;var n=t/8|0;s[n]|=r,s[n+1]|=r>>8,s[n+2]|=r>>16},o0=function(s,t){for(var r=[],n=0;n<s.length;++n)s[n]&&r.push({s:n,f:s[n]});var a=r.length,i=r.slice();if(!a)return{t:A5,l:0};if(a==1){var A=new sl(r[0].s+1);return A[r[0].s]=1,{t:A,l:1}}r.sort(function(q,G){return q.f-G.f}),r.push({s:-1,f:25001});var c=r[0],d=r[1],u=0,m=1,f=2;for(r[0]={s:-1,f:c.f+d.f,l:c,r:d};m!=a-1;)c=r[r[u].f<r[f].f?u++:f++],d=r[u!=m&&r[u].f<r[f].f?u++:f++],r[m++]={s:-1,f:c.f+d.f,l:c,r:d};for(var x=i[0].s,n=1;n<a;++n)i[n].s>x&&(x=i[n].s);var g=new Mi(x+1),N=wx(r[m-1],g,0);if(N>t){var n=0,b=0,j=N-t,y=1<<j;for(i.sort(function(G,H){return g[H.s]-g[G.s]||G.f-H.f});n<a;++n){var E=i[n].s;if(g[E]>t)b+=y-(1<<N-g[E]),g[E]=t;else break}for(b>>=j;b>0;){var U=i[n].s;g[U]<t?b-=1<<t-g[U]++-1:++n}for(;n>=0&&b;--n){var k=i[n].s;g[k]==t&&(--g[k],++b)}N=t}return{t:new sl(g),l:N}},wx=function(s,t,r){return s.s==-1?Math.max(wx(s.l,t,r+1),wx(s.r,t,r+1)):t[s.s]=r},Bb=function(s){for(var t=s.length;t&&!s[--t];);for(var r=new Mi(++t),n=0,a=s[0],i=1,A=function(d){r[n++]=d},c=1;c<=t;++c)if(s[c]==a&&c!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)A(32754);i>2&&(A(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(A(a),--i;i>6;i-=6)A(8304);i>2&&(A(i-3<<5|8208),i=0)}for(;i--;)A(a);i=1,a=s[c]}return{c:r.subarray(0,n),n:t}},lh=function(s,t){for(var r=0,n=0;n<t.length;++n)r+=s[n]*t[n];return r},l5=function(s,t,r){var n=r.length,a=o5(t+2);s[a]=n&255,s[a+1]=n>>8,s[a+2]=s[a]^255,s[a+3]=s[a+1]^255;for(var i=0;i<n;++i)s[a+i+4]=r[i];return(a+4+n)*8},Cb=function(s,t,r,n,a,i,A,c,d,u,m){gA(t,m++,r),++a[256];for(var f=o0(a,15),x=f.t,g=f.l,N=o0(i,15),b=N.t,j=N.l,y=Bb(x),E=y.c,U=y.n,k=Bb(b),q=k.c,G=k.n,H=new Mi(19),I=0;I<E.length;++I)++H[E[I]&31];for(var I=0;I<q.length;++I)++H[q[I]&31];for(var D=o0(H,7),P=D.t,Q=D.l,T=19;T>4&&!P[Nb[T-1]];--T);var $=u+5<<3,V=lh(a,bd)+lh(i,Yf)+A,ie=lh(a,x)+lh(i,b)+A+14+3*T+lh(H,P)+2*H[16]+3*H[17]+7*H[18];if(d>=0&&$<=V&&$<=ie)return l5(t,m,s.subarray(d,d+u));var W,ne,M,de;if(gA(t,m,1+(ie<V)),m+=2,ie<V){W=Bh(x,g,0),ne=x,M=Bh(b,j,0),de=b;var ue=Bh(P,Q,0);gA(t,m,U-257),gA(t,m+5,G-1),gA(t,m+10,T-4),m+=14;for(var I=0;I<T;++I)gA(t,m+3*I,P[Nb[I]]);m+=3*T;for(var se=[E,q],O=0;O<2;++O)for(var X=se[O],I=0;I<X.length;++I){var re=X[I]&31;gA(t,m,ue[re]),m+=P[re],re>15&&(gA(t,m,X[I]>>5&127),m+=X[I]>>12)}}else W=$P,ne=bd,M=WP,de=Yf;for(var I=0;I<c;++I){var me=n[I];if(me>255){var re=me>>18&31;oh(t,m,W[re+257]),m+=ne[re+257],re>7&&(gA(t,m,me>>23&31),m+=gw[re]);var xe=me&31;oh(t,m,M[xe]),m+=de[xe],xe>3&&(oh(t,m,me>>5&8191),m+=xw[xe])}else oh(t,m,W[me]),m+=ne[me]}return oh(t,m,W[256]),m+ne[256]},YP=new pw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),A5=new sl(0),JP=function(s,t,r,n,a,i){var A=i.z||s.length,c=new sl(n+A+5*(1+Math.ceil(A/7e3))+a),d=c.subarray(n,c.length-a),u=i.l,m=(i.r||0)&7;if(t){m&&(d[0]=i.r>>3);for(var f=YP[t-1],x=f>>13,g=f&8191,N=(1<<r)-1,b=i.p||new Mi(32768),j=i.h||new Mi(N+1),y=Math.ceil(r/3),E=2*y,U=function(st){return(s[st]^s[st+1]<<y^s[st+2]<<E)&N},k=new pw(25e3),q=new Mi(288),G=new Mi(32),H=0,I=0,D=i.i||0,P=0,Q=i.w||0,T=0;D+2<A;++D){var $=U(D),V=D&32767,ie=j[$];if(b[V]=ie,j[$]=V,Q<=D){var W=A-D;if((H>7e3||P>24576)&&(W>423||!u)){m=Cb(s,d,0,k,q,G,I,P,T,D-T,m),P=H=I=0,T=D;for(var ne=0;ne<286;++ne)q[ne]=0;for(var ne=0;ne<30;++ne)G[ne]=0}var M=2,de=0,ue=g,se=V-ie&32767;if(W>2&&$==U(D-se))for(var O=Math.min(x,W)-1,X=Math.min(32767,D),re=Math.min(258,W);se<=X&&--ue&&V!=ie;){if(s[D+M]==s[D+M-se]){for(var me=0;me<re&&s[D+me]==s[D+me-se];++me);if(me>M){if(M=me,de=se,me>O)break;for(var xe=Math.min(se,me-2),Z=0,ne=0;ne<xe;++ne){var oe=D-se+ne&32767,z=b[oe],fe=oe-z&32767;fe>Z&&(Z=fe,ie=oe)}}}V=ie,ie=b[V],se+=V-ie&32767}if(de){k[P++]=268435456|gx[M]<<18|jb[de];var Fe=gx[M]&31,Ve=jb[de]&31;I+=gw[Fe]+xw[Ve],++q[257+Fe],++G[Ve],Q=D+M,++H}else k[P++]=s[D],++q[s[D]]}}for(D=Math.max(D,Q);D<A;++D)k[P++]=s[D],++q[s[D]];m=Cb(s,d,u,k,q,G,I,P,T,D-T,m),u||(i.r=m&7|d[m/8|0]<<3,m-=7,i.h=j,i.p=b,i.i=D,i.w=Q)}else{for(var D=i.w||0;D<A+u;D+=65535){var qe=D+65535;qe>=A&&(d[m/8|0]=u,qe=A),m=l5(d,m+1,s.subarray(D,qe))}i.i=A}return qP(c,0,n+o5(m)+a)},c5=function(){var s=1,t=0;return{p:function(r){for(var n=s,a=t,i=r.length|0,A=0;A!=i;){for(var c=Math.min(A+2655,i);A<c;++A)a+=n+=r[A];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}s=n,t=a},d:function(){return s%=65521,t%=65521,(s&255)<<24|(s&65280)<<8|(t&255)<<8|t>>8}}},XP=function(s,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),A=new sl(i.length+s.length);A.set(i),A.set(s,i.length),s=A,a.w=i.length}return JP(s,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(s.length)))*1.5):20:12+t.mem,r,n,a)},d5=function(s,t,r){for(;r;++t)s[t]=r,r>>>=8},ZP=function(s,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(s[0]=120,s[1]=n<<6|(t.dictionary&&32),s[1]|=31-(s[0]<<8|s[1])%31,t.dictionary){var a=c5();a.p(t.dictionary),d5(s,2,a.d())}};function vx(s,t){t||(t={});var r=c5();r.p(s);var n=XP(s,t,t.dictionary?6:2,4);return ZP(n,t),d5(n,n.length-4,r.d()),n}var e7=typeof TextDecoder<"u"&&new TextDecoder,t7=0;try{e7.decode(A5,{stream:!0}),t7=1}catch{}function s7(s){if(Array.isArray(s))return s}function r7(s,t){var r=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(r!=null){var n,a,i,A,c=[],d=!0,u=!1;try{if(i=(r=r.call(s)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(m){u=!0,a=m}finally{try{if(!d&&r.return!=null&&(A=r.return(),Object(A)!==A))return}finally{if(u)throw a}}return c}}function Sb(s,t){(t==null||t>s.length)&&(t=s.length);for(var r=0,n=Array(t);r<t;r++)n[r]=s[r];return n}function n7(s,t){if(s){if(typeof s=="string")return Sb(s,t);var r={}.toString.call(s).slice(8,-1);return r==="Object"&&s.constructor&&(r=s.constructor.name),r==="Map"||r==="Set"?Array.from(s):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sb(s,t):void 0}}function a7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eb(s,t){return s7(s)||r7(s,t)||n7(s,t)||a7()}function Fb(s,t="utf8"){return new TextDecoder(t).decode(s)}const i7=new TextEncoder;function o7(s){return i7.encode(s)}const l7=1024*8,A7=(()=>{const s=new Uint8Array(4),t=new Uint32Array(s.buffer);return!((t[0]=1)&s[0])})(),l0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ww{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=l7,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let A=a;(ArrayBuffer.isView(t)||t instanceof ww)&&(t.byteLength!==t.buffer.byteLength&&(A=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=A,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,A,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=l0[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===A7&&r!=="uint8"&&r!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+n));c.reverse();const d=new l0[r](c.buffer);return this.offset+=n,d.reverse(),d}const A=new l0[r](i);return this.offset+=n,A}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return Fb(this.readBytes(t))}decodeText(t=1,r="utf8"){return Fb(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(o7(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Pu(s){let t=s.length;for(;--t>=0;)s[t]=0}const c7=3,d7=258,u5=29,u7=256,h7=u7+1+u5,h5=30,m7=512,f7=new Array((h7+2)*2);Pu(f7);const p7=new Array(h5*2);Pu(p7);const g7=new Array(m7);Pu(g7);const x7=new Array(d7-c7+1);Pu(x7);const w7=new Array(u5);Pu(w7);const v7=new Array(h5);Pu(v7);const b7=(s,t,r,n)=>{let a=s&65535|0,i=s>>>16&65535|0,A=0;for(;r!==0;){A=r>2e3?2e3:r,r-=A;do a=a+t[n++]|0,i=i+a|0;while(--A);a%=65521,i%=65521}return a|i<<16|0};var bx=b7;const y7=()=>{let s,t=[];for(var r=0;r<256;r++){s=r;for(var n=0;n<8;n++)s=s&1?3988292384^s>>>1:s>>>1;t[r]=s}return t},N7=new Uint32Array(y7()),j7=(s,t,r,n)=>{const a=N7,i=n+r;s^=-1;for(let A=n;A<i;A++)s=s>>>8^a[(s^t[A])&255];return s^-1};var Il=j7,yx={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},m5={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const B7=(s,t)=>Object.prototype.hasOwnProperty.call(s,t);var C7=function(s){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)B7(r,n)&&(s[n]=r[n])}}return s},S7=s=>{let t=0;for(let n=0,a=s.length;n<a;n++)t+=s[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=s.length;n<i;n++){let A=s[n];r.set(A,a),a+=A.length}return r},f5={assign:C7,flattenChunks:S7};let p5=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p5=!1}const Rh=new Uint8Array(256);for(let s=0;s<256;s++)Rh[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;Rh[254]=Rh[254]=1;var E7=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let t,r,n,a,i,A=s.length,c=0;for(a=0;a<A;a++)r=s.charCodeAt(a),(r&64512)===55296&&a+1<A&&(n=s.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),c+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(c),i=0,a=0;i<c;a++)r=s.charCodeAt(a),(r&64512)===55296&&a+1<A&&(n=s.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const F7=(s,t)=>{if(t<65534&&s.subarray&&p5)return String.fromCharCode.apply(null,s.length===t?s:s.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(s[n]);return r};var _7=(s,t)=>{const r=t||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let A=s[n++];if(A<128){i[a++]=A;continue}let c=Rh[A];if(c>4){i[a++]=65533,n+=c-1;continue}for(A&=c===2?31:c===3?15:7;c>1&&n<r;)A=A<<6|s[n++]&63,c--;if(c>1){i[a++]=65533;continue}A<65536?i[a++]=A:(A-=65536,i[a++]=55296|A>>10&1023,i[a++]=56320|A&1023)}return F7(i,a)},U7=(s,t)=>{t=t||s.length,t>s.length&&(t=s.length);let r=t-1;for(;r>=0&&(s[r]&192)===128;)r--;return r<0||r===0?t:r+Rh[s[r]]>t?r:t},Nx={string2buf:E7,buf2string:_7,utf8border:U7};function k7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var I7=k7;const sf=16209,L7=16191;var Q7=function(t,r){let n,a,i,A,c,d,u,m,f,x,g,N,b,j,y,E,U,k,q,G,H,I,D,P;const Q=t.state;n=t.next_in,D=t.input,a=n+(t.avail_in-5),i=t.next_out,P=t.output,A=i-(r-t.avail_out),c=i+(t.avail_out-257),d=Q.dmax,u=Q.wsize,m=Q.whave,f=Q.wnext,x=Q.window,g=Q.hold,N=Q.bits,b=Q.lencode,j=Q.distcode,y=(1<<Q.lenbits)-1,E=(1<<Q.distbits)-1;e:do{N<15&&(g+=D[n++]<<N,N+=8,g+=D[n++]<<N,N+=8),U=b[g&y];t:for(;;){if(k=U>>>24,g>>>=k,N-=k,k=U>>>16&255,k===0)P[i++]=U&65535;else if(k&16){q=U&65535,k&=15,k&&(N<k&&(g+=D[n++]<<N,N+=8),q+=g&(1<<k)-1,g>>>=k,N-=k),N<15&&(g+=D[n++]<<N,N+=8,g+=D[n++]<<N,N+=8),U=j[g&E];s:for(;;){if(k=U>>>24,g>>>=k,N-=k,k=U>>>16&255,k&16){if(G=U&65535,k&=15,N<k&&(g+=D[n++]<<N,N+=8,N<k&&(g+=D[n++]<<N,N+=8)),G+=g&(1<<k)-1,G>d){t.msg="invalid distance too far back",Q.mode=sf;break e}if(g>>>=k,N-=k,k=i-A,G>k){if(k=G-k,k>m&&Q.sane){t.msg="invalid distance too far back",Q.mode=sf;break e}if(H=0,I=x,f===0){if(H+=u-k,k<q){q-=k;do P[i++]=x[H++];while(--k);H=i-G,I=P}}else if(f<k){if(H+=u+f-k,k-=f,k<q){q-=k;do P[i++]=x[H++];while(--k);if(H=0,f<q){k=f,q-=k;do P[i++]=x[H++];while(--k);H=i-G,I=P}}}else if(H+=f-k,k<q){q-=k;do P[i++]=x[H++];while(--k);H=i-G,I=P}for(;q>2;)P[i++]=I[H++],P[i++]=I[H++],P[i++]=I[H++],q-=3;q&&(P[i++]=I[H++],q>1&&(P[i++]=I[H++]))}else{H=i-G;do P[i++]=P[H++],P[i++]=P[H++],P[i++]=P[H++],q-=3;while(q>2);q&&(P[i++]=P[H++],q>1&&(P[i++]=P[H++]))}}else if((k&64)===0){U=j[(U&65535)+(g&(1<<k)-1)];continue s}else{t.msg="invalid distance code",Q.mode=sf;break e}break}}else if((k&64)===0){U=b[(U&65535)+(g&(1<<k)-1)];continue t}else if(k&32){Q.mode=L7;break e}else{t.msg="invalid literal/length code",Q.mode=sf;break e}break}}while(n<a&&i<c);q=N>>3,n-=q,N-=q<<3,g&=(1<<N)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<c?257+(c-i):257-(i-c),Q.hold=g,Q.bits=N};const au=15,_b=852,Ub=592,kb=0,A0=1,Ib=2,T7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),P7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),R7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),D7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),O7=(s,t,r,n,a,i,A,c)=>{const d=c.bits;let u=0,m=0,f=0,x=0,g=0,N=0,b=0,j=0,y=0,E=0,U,k,q,G,H,I=null,D;const P=new Uint16Array(au+1),Q=new Uint16Array(au+1);let T=null,$,V,ie;for(u=0;u<=au;u++)P[u]=0;for(m=0;m<n;m++)P[t[r+m]]++;for(g=d,x=au;x>=1&&P[x]===0;x--);if(g>x&&(g=x),x===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,c.bits=1,0;for(f=1;f<x&&P[f]===0;f++);for(g<f&&(g=f),j=1,u=1;u<=au;u++)if(j<<=1,j-=P[u],j<0)return-1;if(j>0&&(s===kb||x!==1))return-1;for(Q[1]=0,u=1;u<au;u++)Q[u+1]=Q[u]+P[u];for(m=0;m<n;m++)t[r+m]!==0&&(A[Q[t[r+m]]++]=m);if(s===kb?(I=T=A,D=20):s===A0?(I=T7,T=P7,D=257):(I=R7,T=D7,D=0),E=0,m=0,u=f,H=i,N=g,b=0,q=-1,y=1<<g,G=y-1,s===A0&&y>_b||s===Ib&&y>Ub)return 1;for(;;){$=u-b,A[m]+1<D?(V=0,ie=A[m]):A[m]>=D?(V=T[A[m]-D],ie=I[A[m]-D]):(V=96,ie=0),U=1<<u-b,k=1<<N,f=k;do k-=U,a[H+(E>>b)+k]=$<<24|V<<16|ie|0;while(k!==0);for(U=1<<u-1;E&U;)U>>=1;if(U!==0?(E&=U-1,E+=U):E=0,m++,--P[u]===0){if(u===x)break;u=t[r+A[m]]}if(u>g&&(E&G)!==q){for(b===0&&(b=g),H+=f,N=u-b,j=1<<N;N+b<x&&(j-=P[N+b],!(j<=0));)N++,j<<=1;if(y+=1<<N,s===A0&&y>_b||s===Ib&&y>Ub)return 1;q=E&G,a[q]=g<<24|N<<16|H-i|0}}return E!==0&&(a[H+E]=u-b<<24|64<<16|0),c.bits=g,0};var Ch=O7;const H7=0,g5=1,x5=2,{Z_FINISH:Lb,Z_BLOCK:M7,Z_TREES:rf,Z_OK:yd,Z_STREAM_END:K7,Z_NEED_DICT:V7,Z_STREAM_ERROR:xo,Z_DATA_ERROR:w5,Z_MEM_ERROR:v5,Z_BUF_ERROR:z7,Z_DEFLATED:Qb}=m5,Up=16180,Tb=16181,Pb=16182,Rb=16183,Db=16184,Ob=16185,Hb=16186,Mb=16187,Kb=16188,Vb=16189,Jf=16190,xA=16191,c0=16192,zb=16193,d0=16194,Gb=16195,$b=16196,Wb=16197,qb=16198,nf=16199,af=16200,Yb=16201,Jb=16202,Xb=16203,Zb=16204,ey=16205,u0=16206,ty=16207,sy=16208,Yr=16209,b5=16210,y5=16211,G7=852,$7=592,W7=15,q7=W7,ry=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function Y7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const jd=s=>{if(!s)return 1;const t=s.state;return!t||t.strm!==s||t.mode<Up||t.mode>y5?1:0},N5=s=>{if(jd(s))return xo;const t=s.state;return s.total_in=s.total_out=t.total=0,s.msg="",t.wrap&&(s.adler=t.wrap&1),t.mode=Up,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(G7),t.distcode=t.distdyn=new Int32Array($7),t.sane=1,t.back=-1,yd},j5=s=>{if(jd(s))return xo;const t=s.state;return t.wsize=0,t.whave=0,t.wnext=0,N5(s)},B5=(s,t)=>{let r;if(jd(s))return xo;const n=s.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?xo:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,j5(s))},C5=(s,t)=>{if(!s)return xo;const r=new Y7;s.state=r,r.strm=s,r.window=null,r.mode=Up;const n=B5(s,t);return n!==yd&&(s.state=null),n},J7=s=>C5(s,q7);let ny=!0,h0,m0;const X7=s=>{if(ny){h0=new Int32Array(512),m0=new Int32Array(32);let t=0;for(;t<144;)s.lens[t++]=8;for(;t<256;)s.lens[t++]=9;for(;t<280;)s.lens[t++]=7;for(;t<288;)s.lens[t++]=8;for(Ch(g5,s.lens,0,288,h0,0,s.work,{bits:9}),t=0;t<32;)s.lens[t++]=5;Ch(x5,s.lens,0,32,m0,0,s.work,{bits:5}),ny=!1}s.lencode=h0,s.lenbits=9,s.distcode=m0,s.distbits=5},S5=(s,t,r,n)=>{let a;const i=s.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},Z7=(s,t)=>{let r,n,a,i,A,c,d,u,m,f,x,g,N,b,j=0,y,E,U,k,q,G,H,I;const D=new Uint8Array(4);let P,Q;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(jd(s)||!s.output||!s.input&&s.avail_in!==0)return xo;r=s.state,r.mode===xA&&(r.mode=c0),A=s.next_out,a=s.output,d=s.avail_out,i=s.next_in,n=s.input,c=s.avail_in,u=r.hold,m=r.bits,f=c,x=d,I=yd;e:for(;;)switch(r.mode){case Up:if(r.wrap===0){r.mode=c0;break}for(;m<16;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,D[0]=u&255,D[1]=u>>>8&255,r.check=Il(r.check,D,2,0),u=0,m=0,r.mode=Tb;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){s.msg="incorrect header check",r.mode=Yr;break}if((u&15)!==Qb){s.msg="unknown compression method",r.mode=Yr;break}if(u>>>=4,m-=4,H=(u&15)+8,r.wbits===0&&(r.wbits=H),H>15||H>r.wbits){s.msg="invalid window size",r.mode=Yr;break}r.dmax=1<<r.wbits,r.flags=0,s.adler=r.check=1,r.mode=u&512?Vb:xA,u=0,m=0;break;case Tb:for(;m<16;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}if(r.flags=u,(r.flags&255)!==Qb){s.msg="unknown compression method",r.mode=Yr;break}if(r.flags&57344){s.msg="unknown header flags set",r.mode=Yr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,r.check=Il(r.check,D,2,0)),u=0,m=0,r.mode=Pb;case Pb:for(;m<32;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,D[2]=u>>>16&255,D[3]=u>>>24&255,r.check=Il(r.check,D,4,0)),u=0,m=0,r.mode=Rb;case Rb:for(;m<16;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,r.check=Il(r.check,D,2,0)),u=0,m=0,r.mode=Db;case Db:if(r.flags&1024){for(;m<16;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,r.check=Il(r.check,D,2,0)),u=0,m=0}else r.head&&(r.head.extra=null);r.mode=Ob;case Ob:if(r.flags&1024&&(g=r.length,g>c&&(g=c),g&&(r.head&&(H=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+g),H)),r.flags&512&&r.wrap&4&&(r.check=Il(r.check,n,g,i)),c-=g,i+=g,r.length-=g),r.length))break e;r.length=0,r.mode=Hb;case Hb:if(r.flags&2048){if(c===0)break e;g=0;do H=n[i+g++],r.head&&H&&r.length<65536&&(r.head.name+=String.fromCharCode(H));while(H&&g<c);if(r.flags&512&&r.wrap&4&&(r.check=Il(r.check,n,g,i)),c-=g,i+=g,H)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Mb;case Mb:if(r.flags&4096){if(c===0)break e;g=0;do H=n[i+g++],r.head&&H&&r.length<65536&&(r.head.comment+=String.fromCharCode(H));while(H&&g<c);if(r.flags&512&&r.wrap&4&&(r.check=Il(r.check,n,g,i)),c-=g,i+=g,H)break e}else r.head&&(r.head.comment=null);r.mode=Kb;case Kb:if(r.flags&512){for(;m<16;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}if(r.wrap&4&&u!==(r.check&65535)){s.msg="header crc mismatch",r.mode=Yr;break}u=0,m=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),s.adler=r.check=0,r.mode=xA;break;case Vb:for(;m<32;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}s.adler=r.check=ry(u),u=0,m=0,r.mode=Jf;case Jf:if(r.havedict===0)return s.next_out=A,s.avail_out=d,s.next_in=i,s.avail_in=c,r.hold=u,r.bits=m,V7;s.adler=r.check=1,r.mode=xA;case xA:if(t===M7||t===rf)break e;case c0:if(r.last){u>>>=m&7,m-=m&7,r.mode=u0;break}for(;m<3;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}switch(r.last=u&1,u>>>=1,m-=1,u&3){case 0:r.mode=zb;break;case 1:if(X7(r),r.mode=nf,t===rf){u>>>=2,m-=2;break e}break;case 2:r.mode=$b;break;case 3:s.msg="invalid block type",r.mode=Yr}u>>>=2,m-=2;break;case zb:for(u>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}if((u&65535)!==(u>>>16^65535)){s.msg="invalid stored block lengths",r.mode=Yr;break}if(r.length=u&65535,u=0,m=0,r.mode=d0,t===rf)break e;case d0:r.mode=Gb;case Gb:if(g=r.length,g){if(g>c&&(g=c),g>d&&(g=d),g===0)break e;a.set(n.subarray(i,i+g),A),c-=g,i+=g,d-=g,A+=g,r.length-=g;break}r.mode=xA;break;case $b:for(;m<14;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}if(r.nlen=(u&31)+257,u>>>=5,m-=5,r.ndist=(u&31)+1,u>>>=5,m-=5,r.ncode=(u&15)+4,u>>>=4,m-=4,r.nlen>286||r.ndist>30){s.msg="too many length or distance symbols",r.mode=Yr;break}r.have=0,r.mode=Wb;case Wb:for(;r.have<r.ncode;){for(;m<3;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}r.lens[T[r.have++]]=u&7,u>>>=3,m-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,P={bits:r.lenbits},I=Ch(H7,r.lens,0,19,r.lencode,0,r.work,P),r.lenbits=P.bits,I){s.msg="invalid code lengths set",r.mode=Yr;break}r.have=0,r.mode=qb;case qb:for(;r.have<r.nlen+r.ndist;){for(;j=r.lencode[u&(1<<r.lenbits)-1],y=j>>>24,E=j>>>16&255,U=j&65535,!(y<=m);){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}if(U<16)u>>>=y,m-=y,r.lens[r.have++]=U;else{if(U===16){for(Q=y+2;m<Q;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}if(u>>>=y,m-=y,r.have===0){s.msg="invalid bit length repeat",r.mode=Yr;break}H=r.lens[r.have-1],g=3+(u&3),u>>>=2,m-=2}else if(U===17){for(Q=y+3;m<Q;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}u>>>=y,m-=y,H=0,g=3+(u&7),u>>>=3,m-=3}else{for(Q=y+7;m<Q;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}u>>>=y,m-=y,H=0,g=11+(u&127),u>>>=7,m-=7}if(r.have+g>r.nlen+r.ndist){s.msg="invalid bit length repeat",r.mode=Yr;break}for(;g--;)r.lens[r.have++]=H}}if(r.mode===Yr)break;if(r.lens[256]===0){s.msg="invalid code -- missing end-of-block",r.mode=Yr;break}if(r.lenbits=9,P={bits:r.lenbits},I=Ch(g5,r.lens,0,r.nlen,r.lencode,0,r.work,P),r.lenbits=P.bits,I){s.msg="invalid literal/lengths set",r.mode=Yr;break}if(r.distbits=6,r.distcode=r.distdyn,P={bits:r.distbits},I=Ch(x5,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,P),r.distbits=P.bits,I){s.msg="invalid distances set",r.mode=Yr;break}if(r.mode=nf,t===rf)break e;case nf:r.mode=af;case af:if(c>=6&&d>=258){s.next_out=A,s.avail_out=d,s.next_in=i,s.avail_in=c,r.hold=u,r.bits=m,Q7(s,x),A=s.next_out,a=s.output,d=s.avail_out,i=s.next_in,n=s.input,c=s.avail_in,u=r.hold,m=r.bits,r.mode===xA&&(r.back=-1);break}for(r.back=0;j=r.lencode[u&(1<<r.lenbits)-1],y=j>>>24,E=j>>>16&255,U=j&65535,!(y<=m);){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}if(E&&(E&240)===0){for(k=y,q=E,G=U;j=r.lencode[G+((u&(1<<k+q)-1)>>k)],y=j>>>24,E=j>>>16&255,U=j&65535,!(k+y<=m);){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}u>>>=k,m-=k,r.back+=k}if(u>>>=y,m-=y,r.back+=y,r.length=U,E===0){r.mode=ey;break}if(E&32){r.back=-1,r.mode=xA;break}if(E&64){s.msg="invalid literal/length code",r.mode=Yr;break}r.extra=E&15,r.mode=Yb;case Yb:if(r.extra){for(Q=r.extra;m<Q;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,m-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Jb;case Jb:for(;j=r.distcode[u&(1<<r.distbits)-1],y=j>>>24,E=j>>>16&255,U=j&65535,!(y<=m);){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}if((E&240)===0){for(k=y,q=E,G=U;j=r.distcode[G+((u&(1<<k+q)-1)>>k)],y=j>>>24,E=j>>>16&255,U=j&65535,!(k+y<=m);){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}u>>>=k,m-=k,r.back+=k}if(u>>>=y,m-=y,r.back+=y,E&64){s.msg="invalid distance code",r.mode=Yr;break}r.offset=U,r.extra=E&15,r.mode=Xb;case Xb:if(r.extra){for(Q=r.extra;m<Q;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,m-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){s.msg="invalid distance too far back",r.mode=Yr;break}r.mode=Zb;case Zb:if(d===0)break e;if(g=x-d,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){s.msg="invalid distance too far back",r.mode=Yr;break}g>r.wnext?(g-=r.wnext,N=r.wsize-g):N=r.wnext-g,g>r.length&&(g=r.length),b=r.window}else b=a,N=A-r.offset,g=r.length;g>d&&(g=d),d-=g,r.length-=g;do a[A++]=b[N++];while(--g);r.length===0&&(r.mode=af);break;case ey:if(d===0)break e;a[A++]=r.length,d--,r.mode=af;break;case u0:if(r.wrap){for(;m<32;){if(c===0)break e;c--,u|=n[i++]<<m,m+=8}if(x-=d,s.total_out+=x,r.total+=x,r.wrap&4&&x&&(s.adler=r.check=r.flags?Il(r.check,a,x,A-x):bx(r.check,a,x,A-x)),x=d,r.wrap&4&&(r.flags?u:ry(u))!==r.check){s.msg="incorrect data check",r.mode=Yr;break}u=0,m=0}r.mode=ty;case ty:if(r.wrap&&r.flags){for(;m<32;){if(c===0)break e;c--,u+=n[i++]<<m,m+=8}if(r.wrap&4&&u!==(r.total&4294967295)){s.msg="incorrect length check",r.mode=Yr;break}u=0,m=0}r.mode=sy;case sy:I=K7;break e;case Yr:I=w5;break e;case b5:return v5;case y5:default:return xo}return s.next_out=A,s.avail_out=d,s.next_in=i,s.avail_in=c,r.hold=u,r.bits=m,(r.wsize||x!==s.avail_out&&r.mode<Yr&&(r.mode<u0||t!==Lb))&&S5(s,s.output,s.next_out,x-s.avail_out),f-=s.avail_in,x-=s.avail_out,s.total_in+=f,s.total_out+=x,r.total+=x,r.wrap&4&&x&&(s.adler=r.check=r.flags?Il(r.check,a,x,s.next_out-x):bx(r.check,a,x,s.next_out-x)),s.data_type=r.bits+(r.last?64:0)+(r.mode===xA?128:0)+(r.mode===nf||r.mode===d0?256:0),(f===0&&x===0||t===Lb)&&I===yd&&(I=z7),I},eR=s=>{if(jd(s))return xo;let t=s.state;return t.window&&(t.window=null),s.state=null,yd},tR=(s,t)=>{if(jd(s))return xo;const r=s.state;return(r.wrap&2)===0?xo:(r.head=t,t.done=!1,yd)},sR=(s,t)=>{const r=t.length;let n,a,i;return jd(s)||(n=s.state,n.wrap!==0&&n.mode!==Jf)?xo:n.mode===Jf&&(a=1,a=bx(a,t,r,0),a!==n.check)?w5:(i=S5(s,t,r,r),i?(n.mode=b5,v5):(n.havedict=1,yd))};var rR=j5,nR=B5,aR=N5,iR=J7,oR=C5,lR=Z7,AR=eR,cR=tR,dR=sR,uR="pako inflate (from Nodeca project)",vA={inflateReset:rR,inflateReset2:nR,inflateResetKeep:aR,inflateInit:iR,inflateInit2:oR,inflate:lR,inflateEnd:AR,inflateGetHeader:cR,inflateSetDictionary:dR,inflateInfo:uR};function hR(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var mR=hR;const E5=Object.prototype.toString,{Z_NO_FLUSH:fR,Z_FINISH:pR,Z_OK:Dh,Z_STREAM_END:f0,Z_NEED_DICT:p0,Z_STREAM_ERROR:gR,Z_DATA_ERROR:ay,Z_MEM_ERROR:xR}=m5;function zh(s){this.options=f5.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(s&&s.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I7,this.strm.avail_out=0;let r=vA.inflateInit2(this.strm,t.windowBits);if(r!==Dh)throw new Error(yx[r]);if(this.header=new mR,vA.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Nx.string2buf(t.dictionary):E5.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=vA.inflateSetDictionary(this.strm,t.dictionary),r!==Dh)))throw new Error(yx[r])}zh.prototype.push=function(s,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,A,c;if(this.ended)return!1;for(t===~~t?A=t:A=t===!0?pR:fR,E5.call(s)==="[object ArrayBuffer]"?r.input=new Uint8Array(s):r.input=s,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=vA.inflate(r,A),i===p0&&a&&(i=vA.inflateSetDictionary(r,a),i===Dh?i=vA.inflate(r,A):i===ay&&(i=p0));r.avail_in>0&&i===f0&&r.state.wrap>0&&s[r.next_in]!==0;)vA.inflateReset(r),i=vA.inflate(r,A);switch(i){case gR:case ay:case p0:case xR:return this.onEnd(i),this.ended=!0,!1}if(c=r.avail_out,r.next_out&&(r.avail_out===0||i===f0))if(this.options.to==="string"){let d=Nx.utf8border(r.output,r.next_out),u=r.next_out-d,m=Nx.buf2string(r.output,d);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(d,d+u),0),this.onData(m)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Dh&&c===0)){if(i===f0)return i=vA.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};zh.prototype.onData=function(s){this.chunks.push(s)};zh.prototype.onEnd=function(s){s===Dh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f5.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function wR(s,t){const r=new zh(t);if(r.push(s),r.err)throw r.msg||yx[r.err];return r.result}var vR=zh,bR=wR,yR={Inflate:vR,inflate:bR};const{Inflate:NR,inflate:jR}=yR;var iy=NR,BR=jR;const F5=[];for(let s=0;s<256;s++){let t=s;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;F5[s]=t}const oy=4294967295;function CR(s,t,r){let n=s;for(let a=0;a<r;a++)n=F5[(n^t[a])&255]^n>>>8;return n}function SR(s,t){return(CR(oy,s,t)^oy)>>>0}function ly(s,t,r){const n=s.readUint32(),a=SR(new Uint8Array(s.buffer,s.byteOffset+s.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function _5(s,t,r){for(let n=0;n<r;n++)t[n]=s[n]}function U5(s,t,r,n){let a=0;for(;a<n;a++)t[a]=s[a];for(;a<r;a++)t[a]=s[a]+t[a-n]&255}function k5(s,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=s[a];else for(;a<n;a++)t[a]=s[a]+r[a]&255}function I5(s,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=s[i];for(;i<n;i++)t[i]=s[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=s[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=s[i]+(t[i-a]+r[i]>>1)&255}}function L5(s,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=s[i];for(;i<n;i++)t[i]=s[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=s[i]+r[i]&255;for(;i<n;i++)t[i]=s[i]+ER(t[i-a],r[i],r[i-a])&255}}function ER(s,t,r){const n=s+t-r,a=Math.abs(n-s),i=Math.abs(n-t),A=Math.abs(n-r);return a<=i&&a<=A?s:i<=A?t:r}function FR(s,t,r,n,a,i){switch(s){case 0:_5(t,r,a);break;case 1:U5(t,r,a,i);break;case 2:k5(t,r,n,a);break;case 3:I5(t,r,n,a,i);break;case 4:L5(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${s}`)}}const _R=new Uint16Array([255]),UR=new Uint8Array(_R.buffer),kR=UR[0]===255;function IR(s){const{data:t,width:r,height:n,channels:a,depth:i}=s,A=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(i/8)*a,d=new Uint8Array(n*r*c);let u=0;for(let m=0;m<7;m++){const f=A[m],x=Math.ceil((r-f.x)/f.xStep),g=Math.ceil((n-f.y)/f.yStep);if(x<=0||g<=0)continue;const N=x*c,b=new Uint8Array(N);for(let j=0;j<g;j++){const y=t[u++],E=t.subarray(u,u+N);u+=N;const U=new Uint8Array(N);FR(y,E,U,b,N,c),b.set(U);for(let k=0;k<x;k++){const q=f.x+k*f.xStep,G=f.y+j*f.yStep;if(!(q>=r||G>=n))for(let H=0;H<c;H++)d[(G*r+q)*c+H]=U[k*c+H]}}}if(i===16){const m=new Uint16Array(d.buffer);if(kR)for(let f=0;f<m.length;f++)m[f]=LR(m[f]);return m}else return d}function LR(s){return(s&255)<<8|s>>8&255}const QR=new Uint16Array([255]),TR=new Uint8Array(QR.buffer),PR=TR[0]===255,RR=new Uint8Array(0);function Ay(s){const{data:t,width:r,height:n,channels:a,depth:i}=s,A=Math.ceil(i/8)*a,c=Math.ceil(i/8*a*r),d=new Uint8Array(n*c);let u=RR,m=0,f,x;for(let g=0;g<n;g++){switch(f=t.subarray(m+1,m+1+c),x=d.subarray(g*c,(g+1)*c),t[m]){case 0:_5(f,x,c);break;case 1:U5(f,x,c,A);break;case 2:k5(f,x,u,c);break;case 3:I5(f,x,u,c,A);break;case 4:L5(f,x,u,c,A);break;default:throw new Error(`Unsupported filter: ${t[m]}`)}u=x,m+=c+1}if(i===16){const g=new Uint16Array(d.buffer);if(PR)for(let N=0;N<g.length;N++)g[N]=DR(g[N]);return g}else return d}function DR(s){return(s&255)<<8|s>>8&255}const yf=Uint8Array.of(137,80,78,71,13,10,26,10);function cy(s){if(!OR(s.readBytes(yf.length)))throw new Error("wrong PNG signature")}function OR(s){if(s.length<yf.length)return!1;for(let t=0;t<yf.length;t++)if(s[t]!==yf[t])return!1;return!0}const HR="tEXt",MR=0,Q5=new TextDecoder("latin1");function KR(s){if(zR(s),s.length===0||s.length>79)throw new Error("keyword length must be between 1 and 79")}const VR=/^[\u0000-\u00FF]*$/;function zR(s){if(!VR.test(s))throw new Error("invalid latin1 text")}function GR(s,t,r){const n=T5(t);s[n]=$R(t,r-n.length-1)}function T5(s){for(s.mark();s.readByte()!==MR;);const t=s.offset;s.reset();const r=Q5.decode(s.readBytes(t-s.offset-1));return s.skip(1),KR(r),r}function $R(s,t){return Q5.decode(s.readBytes(t))}const Ri={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},g0={UNKNOWN:-1,DEFLATE:0},dy={UNKNOWN:-1,ADAPTIVE:0},x0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},of={NONE:0,BACKGROUND:1,PREVIOUS:2},w0={SOURCE:0,OVER:1};class WR extends ww{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new iy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=g0.UNKNOWN,this._filterMethod=dy.UNKNOWN,this._interlaceMethod=x0.UNKNOWN,this._colorType=Ri.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(cy(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(cy(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case HR:GR(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?ly(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?ly(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=qR(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Ri.GREYSCALE:n=1;break;case Ri.TRUECOLOUR:n=3;break;case Ri.INDEXED_COLOUR:n=1;break;case Ri.GREYSCALE_ALPHA:n=2;break;case Ri.TRUECOLOUR_ALPHA:n=4;break;case Ri.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==g0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Ri.GREYSCALE:case Ri.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Ri.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ri.UNKNOWN:case Ri.GREYSCALE_ALPHA:case Ri.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=T5(this),n=this.readUint8();if(n!==g0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:BR(a)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=Ay({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case of.NONE:break;case of.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const A=(a*t.width+i)*this._png.channels;for(let c=0;c<this._png.channels;c++)n.data[A+c]=0}break;case of.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,a=(i,A)=>{const c=((i+r.yOffset)*this._png.width+r.xOffset+A)*this._png.channels,d=(i*r.width+A)*this._png.channels;return{index:c,frameIndex:d}};switch(r.blendOp){case w0.SOURCE:for(let i=0;i<r.height;i++)for(let A=0;A<r.width;A++){const{index:c,frameIndex:d}=a(i,A);for(let u=0;u<this._png.channels;u++)t.data[c+u]=r.data[d+u]}break;case w0.OVER:for(let i=0;i<r.height;i++)for(let A=0;A<r.width;A++){const{index:c,frameIndex:d}=a(i,A);for(let u=0;u<this._png.channels;u++){const m=r.data[d+this._png.channels-1]/n,f=u%(this._png.channels-1)===0?1:r.data[d+u],x=Math.floor(m*f+(1-m)*t.data[c+u]);t.data[c+u]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==dy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===x0.NO_INTERLACE)this._png.data=Ay({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===x0.ADAM7)this._png.data=IR({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:of.NONE,blendOp:w0.SOURCE,data:t}),this._inflator=new iy,this._writingDataChunks=!1}}function qR(s){if(s!==1&&s!==2&&s!==4&&s!==8&&s!==16)throw new Error(`invalid bit depth: ${s}`);return s}var uy;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.METRE=1]="METRE"})(uy||(uy={}));function YR(s,t){return new WR(s,t).decode()}var js=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function v0(){js.console&&typeof js.console.log=="function"&&js.console.log.apply(js.console,arguments)}var Er={log:v0,warn:function(s){js.console&&(typeof js.console.warn=="function"?js.console.warn.apply(js.console,arguments):v0.call(null,arguments))},error:function(s){js.console&&(typeof js.console.error=="function"?js.console.error.apply(js.console,arguments):v0(s))}};function b0(s,t,r){var n=new XMLHttpRequest;n.open("GET",s),n.responseType="blob",n.onload=function(){ld(n.response,t,r)},n.onerror=function(){Er.error("could not download file")},n.send()}function hy(s){var t=new XMLHttpRequest;t.open("HEAD",s,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function lf(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(t)}}var ld=js.saveAs||((typeof window>"u"?"undefined":xr(window))!=="object"||window!==js?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(s,t,r){var n=js.URL||js.webkitURL,a=document.createElement("a");t=t||s.name||"download",a.download=t,a.rel="noopener",typeof s=="string"?(a.href=s,a.origin!==location.origin?hy(a.href)?b0(s,t,r):lf(a,a.target="_blank"):lf(a)):(a.href=n.createObjectURL(s),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){lf(a)},0))}:"msSaveOrOpenBlob"in navigator?function(s,t,r){if(t=t||s.name||"download",typeof s=="string")if(hy(s))b0(s,t,r);else{var n=document.createElement("a");n.href=s,n.target="_blank",setTimeout(function(){lf(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:xr(i)!=="object"&&(Er.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(s,r),t)}:function(s,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof s=="string")return b0(s,t,r);var a=s.type==="application/octet-stream",i=/constructor/i.test(js.HTMLElement)||js.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||a&&i)&&(typeof FileReader>"u"?"undefined":xr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=A?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=m:location=m,n=null},c.readAsDataURL(s)}else{var d=js.URL||js.webkitURL,u=d.createObjectURL(s);n?n.location=u:location.href=u,n=null,setTimeout(function(){d.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function P5(s){var t;s=s||"",this.ok=!1,s.charAt(0)=="#"&&(s=s.substr(1,6)),s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[s=(s=s.replace(/ /g,"")).toLowerCase()]||s;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,A=a.exec(s);A&&(t=i(A),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),u=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),u.length==1&&(u="0"+u),"#"+c+d+u}}var Nf=js.atob.bind(js),my=js.btoa.bind(js);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function y0(s,t){var r=s[0],n=s[1],a=s[2],i=s[3];r=La(r,n,a,i,t[0],7,-680876936),i=La(i,r,n,a,t[1],12,-389564586),a=La(a,i,r,n,t[2],17,606105819),n=La(n,a,i,r,t[3],22,-1044525330),r=La(r,n,a,i,t[4],7,-176418897),i=La(i,r,n,a,t[5],12,1200080426),a=La(a,i,r,n,t[6],17,-1473231341),n=La(n,a,i,r,t[7],22,-45705983),r=La(r,n,a,i,t[8],7,1770035416),i=La(i,r,n,a,t[9],12,-1958414417),a=La(a,i,r,n,t[10],17,-42063),n=La(n,a,i,r,t[11],22,-1990404162),r=La(r,n,a,i,t[12],7,1804603682),i=La(i,r,n,a,t[13],12,-40341101),a=La(a,i,r,n,t[14],17,-1502002290),r=Qa(r,n=La(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Qa(i,r,n,a,t[6],9,-1069501632),a=Qa(a,i,r,n,t[11],14,643717713),n=Qa(n,a,i,r,t[0],20,-373897302),r=Qa(r,n,a,i,t[5],5,-701558691),i=Qa(i,r,n,a,t[10],9,38016083),a=Qa(a,i,r,n,t[15],14,-660478335),n=Qa(n,a,i,r,t[4],20,-405537848),r=Qa(r,n,a,i,t[9],5,568446438),i=Qa(i,r,n,a,t[14],9,-1019803690),a=Qa(a,i,r,n,t[3],14,-187363961),n=Qa(n,a,i,r,t[8],20,1163531501),r=Qa(r,n,a,i,t[13],5,-1444681467),i=Qa(i,r,n,a,t[2],9,-51403784),a=Qa(a,i,r,n,t[7],14,1735328473),r=Ta(r,n=Qa(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Ta(i,r,n,a,t[8],11,-2022574463),a=Ta(a,i,r,n,t[11],16,1839030562),n=Ta(n,a,i,r,t[14],23,-35309556),r=Ta(r,n,a,i,t[1],4,-1530992060),i=Ta(i,r,n,a,t[4],11,1272893353),a=Ta(a,i,r,n,t[7],16,-155497632),n=Ta(n,a,i,r,t[10],23,-1094730640),r=Ta(r,n,a,i,t[13],4,681279174),i=Ta(i,r,n,a,t[0],11,-358537222),a=Ta(a,i,r,n,t[3],16,-722521979),n=Ta(n,a,i,r,t[6],23,76029189),r=Ta(r,n,a,i,t[9],4,-640364487),i=Ta(i,r,n,a,t[12],11,-421815835),a=Ta(a,i,r,n,t[15],16,530742520),r=Pa(r,n=Ta(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Pa(i,r,n,a,t[7],10,1126891415),a=Pa(a,i,r,n,t[14],15,-1416354905),n=Pa(n,a,i,r,t[5],21,-57434055),r=Pa(r,n,a,i,t[12],6,1700485571),i=Pa(i,r,n,a,t[3],10,-1894986606),a=Pa(a,i,r,n,t[10],15,-1051523),n=Pa(n,a,i,r,t[1],21,-2054922799),r=Pa(r,n,a,i,t[8],6,1873313359),i=Pa(i,r,n,a,t[15],10,-30611744),a=Pa(a,i,r,n,t[6],15,-1560198380),n=Pa(n,a,i,r,t[13],21,1309151649),r=Pa(r,n,a,i,t[4],6,-145523070),i=Pa(i,r,n,a,t[11],10,-1120210379),a=Pa(a,i,r,n,t[2],15,718787259),n=Pa(n,a,i,r,t[9],21,-343485551),s[0]=Nc(r,s[0]),s[1]=Nc(n,s[1]),s[2]=Nc(a,s[2]),s[3]=Nc(i,s[3])}function kp(s,t,r,n,a,i){return t=Nc(Nc(t,s),Nc(n,i)),Nc(t<<a|t>>>32-a,r)}function La(s,t,r,n,a,i,A){return kp(t&r|~t&n,s,t,a,i,A)}function Qa(s,t,r,n,a,i,A){return kp(t&n|r&~n,s,t,a,i,A)}function Ta(s,t,r,n,a,i,A){return kp(t^r^n,s,t,a,i,A)}function Pa(s,t,r,n,a,i,A){return kp(r^(t|~n),s,t,a,i,A)}function R5(s){var t,r=s.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s.length;t+=64)y0(n,JR(s.substring(t-64,t)));s=s.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<s.length;t++)a[t>>2]|=s.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(y0(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,y0(n,a),n}function JR(s){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=s.charCodeAt(t)+(s.charCodeAt(t+1)<<8)+(s.charCodeAt(t+2)<<16)+(s.charCodeAt(t+3)<<24);return r}var fy="0123456789abcdef".split("");function XR(s){for(var t="",r=0;r<4;r++)t+=fy[s>>8*r+4&15]+fy[s>>8*r&15];return t}function ZR(s){return String.fromCharCode(255&s,(65280&s)>>8,(16711680&s)>>16,(4278190080&s)>>24)}function jx(s){return R5(s).map(ZR).join("")}var eD=(function(s){for(var t=0;t<s.length;t++)s[t]=XR(s[t]);return s.join("")})(R5("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nc(s,t){if(eD){var r=(65535&s)+(65535&t);return(s>>16)+(t>>16)+(r>>16)<<16|65535&r}return s+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Bx(s,t){var r,n,a,i;if(s!==r){for(var A=(a=s,i=1+(256/s.length|0),new Array(i+1).join(a)),c=[],d=0;d<256;d++)c[d]=d;var u=0;for(d=0;d<256;d++){var m=c[d];u=(u+m+A.charCodeAt(d))%256,c[d]=c[u],c[u]=m}r=s,n=c}else c=n;var f=t.length,x=0,g=0,N="";for(d=0;d<f;d++)g=(g+(m=c[x=(x+1)%256]))%256,c[x]=c[g],c[g]=m,A=c[(c[x]+c[g])%256],N+=String.fromCharCode(t.charCodeAt(d)^A);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var py={print:4,modify:8,copy:16,"annot-forms":32};function cu(s,t,r,n){this.v=1,this.r=2;var a=192;s.forEach(function(c){if(py.perm!==void 0)throw new Error("Invalid permission: "+c);a+=py[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),A=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,A),this.P=-(1+(255^a)),this.encryptionKey=jx(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Bx(this.encryptionKey,this.padding)}function du(s){if(/[^\u0000-\u00ff]/.test(s))throw new Error("Invalid PDF Name Object: "+s+", Only accept ASCII characters.");for(var t="",r=s.length,n=0;n<r;n++){var a=s.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):s[n]}return t}function gy(s){if(xr(s)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var A=t[r][i];try{A[0].apply(s,n)}catch(c){js.console&&Er.error("jsPDF PubSub Error",c.message,c)}A[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Xf(s){if(!(this instanceof Xf))return new Xf(s);var t="opacity,stroke-opacity".split(",");for(var r in s)s.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=s[r]);this.id="",this.objectNumber=-1}function D5(s,t){this.gState=s,this.matrix=t,this.id="",this.objectNumber=-1}function cd(s,t,r,n,a){if(!(this instanceof cd))return new cd(s,t,r,n,a);this.type=s==="axial"?2:3,this.coords=t,this.colors=r,D5.call(this,n,a)}function hu(s,t,r,n,a){if(!(this instanceof hu))return new hu(s,t,r,n,a);this.boundingBox=s,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,D5.call(this,n,a)}function cs(s){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],A=[],c=1,d=16,u="S",m=null;xr(s=s||{})==="object"&&(r=s.orientation,n=s.unit||n,a=s.format||a,i=s.compress||s.compressPdf||i,(m=s.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof s.userUnit=="number"?Math.abs(s.userUnit):1,s.precision!==void 0&&(t=s.precision),s.floatPrecision!==void 0&&(d=s.floatPrecision),u=s.defaultPathOperation||"S"),A=s.filters||(i===!0?["FlateEncode"]:A),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=s.putOnlyUsedFonts||!1,x={},g={internal:{},__private__:{}};g.__private__.PubSub=gy;var N="1.3",b=g.__private__.getPdfVersion=function(){return N};g.__private__.setPdfVersion=function(B){N=B};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return j};var y=g.__private__.getPageFormat=function(B){return j[B]};a=a||"a4";var E="compat",U="advanced",k=E;function q(){this.saveGraphicsState(),le(new Ut(Ke,0,0,-Ke,0,Ba()*Ke).toString()+" cm"),this.setFontSize(this.getFontSize()/Ke),u="n",k=U}function G(){this.restoreGraphicsState(),u="S",k=E}var H=g.__private__.combineFontStyleAndFontWeight=function(B,Y){if(B=="bold"&&Y=="normal"||B=="bold"&&Y==400||B=="normal"&&Y=="italic"||B=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(B=Y==400||Y==="normal"?B==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||B!=="normal"?(Y==700?"bold":Y)+""+B:"bold"),B};g.advancedAPI=function(B){var Y=k===E;return Y&&q.call(this),typeof B!="function"||(B(this),Y&&G.call(this)),this},g.compatAPI=function(B){var Y=k===U;return Y&&G.call(this),typeof B!="function"||(B(this),Y&&q.call(this)),this},g.isAdvancedAPI=function(){return k===U};var I,D=function(B){if(k!==U)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=g.roundToPrecision=g.__private__.roundToPrecision=function(B,Y){var be=t||Y;if(isNaN(B)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(be).replace(/0+$/,"")};I=g.hpf=g.__private__.hpf=typeof d=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return P(B,d)}:d==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return P(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return P(B,16)};var Q=g.f2=g.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return P(B,2)},T=g.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return P(B,3)},$=g.scale=g.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return k===E?B*Ke:k===U?B:void 0},V=function(B){return $((function(Y){return k===E?Ba()-Y:k===U?Y:void 0})(B))};g.__private__.setPrecision=g.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(t=parseInt(B,10))};var ie,W="00000000000000000000000000000000",ne=g.__private__.getFileId=function(){return W},M=g.__private__.setFileId=function(B){return W=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Xr=new cu(m.userPermissions,m.userPassword,m.ownerPassword,W)),W};g.setFileId=function(B){return M(B),this},g.getFileId=function(){return ne()};var de=g.__private__.convertDateToPDFDate=function(B){var Y=B.getTimezoneOffset(),be=Y<0?"+":"-",Se=Math.floor(Math.abs(Y/60)),De=Math.abs(Y%60),lt=[be,re(Se),"'",re(De),"'"].join("");return["D:",B.getFullYear(),re(B.getMonth()+1),re(B.getDate()),re(B.getHours()),re(B.getMinutes()),re(B.getSeconds()),lt].join("")},ue=g.__private__.convertPDFDateToDate=function(B){var Y=parseInt(B.substr(2,4),10),be=parseInt(B.substr(6,2),10)-1,Se=parseInt(B.substr(8,2),10),De=parseInt(B.substr(10,2),10),lt=parseInt(B.substr(12,2),10),pt=parseInt(B.substr(14,2),10);return new Date(Y,be,Se,De,lt,pt,0)},se=g.__private__.setCreationDate=function(B){var Y;if(B===void 0&&(B=new Date),B instanceof Date)Y=de(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=B}return ie=Y},O=g.__private__.getCreationDate=function(B){var Y=ie;return B==="jsDate"&&(Y=ue(ie)),Y};g.setCreationDate=function(B){return se(B),this},g.getCreationDate=function(B){return O(B)};var X,re=g.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},me=g.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},xe=0,Z=[],oe=[],z=0,fe=[],Fe=[],Ve=!1,qe=oe;g.__private__.setCustomOutputDestination=function(B){Ve=!0,qe=B};var st=function(B){Ve||(qe=B)};g.__private__.resetCustomOutputDestination=function(){Ve=!1,qe=oe};var le=g.__private__.out=function(B){return B=B.toString(),z+=B.length+1,qe.push(B),qe},Te=g.__private__.write=function(B){return le(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},ze=g.__private__.getArrayBuffer=function(B){for(var Y=B.length,be=new ArrayBuffer(Y),Se=new Uint8Array(be);Y--;)Se[Y]=B.charCodeAt(Y);return be},ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return ye};var pe=s.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(B){return pe=k===U?B/Ke:B,this};var Pe,et=g.__private__.getFontSize=g.getFontSize=function(){return k===E?pe:pe*Ke},rt=s.R2L||!1;g.__private__.setR2L=g.setR2L=function(B){return rt=B,this},g.__private__.getR2L=g.getR2L=function(){return rt};var ht,Re=g.__private__.setZoomMode=function(B){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))Pe=B;else if(isNaN(B)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');Pe=B}else Pe=parseInt(B,10)};g.__private__.getZoomMode=function(){return Pe};var Oe,ft=g.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');ht=B};g.__private__.getPageMode=function(){return ht};var _t=g.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');Oe=B};g.__private__.getLayoutMode=function(){return Oe},g.__private__.setDisplayMode=g.setDisplayMode=function(B,Y,be){return Re(B),_t(Y),ft(be),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(B){if(Object.keys(xt).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[B]},g.__private__.getDocumentProperties=function(){return xt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(B){for(var Y in xt)xt.hasOwnProperty(Y)&&B[Y]&&(xt[Y]=B[Y]);return this},g.__private__.setDocumentProperty=function(B,Y){if(Object.keys(xt).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[B]=Y};var dt,Ke,it,Xt,Lt,Et={},Vt={},Tt=[],Ft={},ds={},Pt={},Bt={},xs=null,bt=0,Wt=[],Ct=new gy(g),Ks=s.hotfixes||[],_s={},Ys={},Lr=[],Ut=function B(Y,be,Se,De,lt,pt){if(!(this instanceof B))return new B(Y,be,Se,De,lt,pt);isNaN(Y)&&(Y=1),isNaN(be)&&(be=0),isNaN(Se)&&(Se=0),isNaN(De)&&(De=1),isNaN(lt)&&(lt=0),isNaN(pt)&&(pt=0),this._matrix=[Y,be,Se,De,lt,pt]};Object.defineProperty(Ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(Ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(Ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(Ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(Ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(Ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(Ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(Ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(Ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(Ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(Ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(Ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(Ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ut.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(B)},Ut.prototype.multiply=function(B){var Y=B.sx*this.sx+B.shy*this.shx,be=B.sx*this.shy+B.shy*this.sy,Se=B.shx*this.sx+B.sy*this.shx,De=B.shx*this.shy+B.sy*this.sy,lt=B.tx*this.sx+B.ty*this.shx+this.tx,pt=B.tx*this.shy+B.ty*this.sy+this.ty;return new Ut(Y,be,Se,De,lt,pt)},Ut.prototype.decompose=function(){var B=this.sx,Y=this.shy,be=this.shx,Se=this.sy,De=this.tx,lt=this.ty,pt=Math.sqrt(B*B+Y*Y),Rt=(B/=pt)*be+(Y/=pt)*Se;be-=B*Rt,Se-=Y*Rt;var as=Math.sqrt(be*be+Se*Se);return Rt/=as,B*(Se/=as)<Y*(be/=as)&&(B=-B,Y=-Y,Rt=-Rt,pt=-pt),{scale:new Ut(pt,0,0,as,0,0),translate:new Ut(1,0,0,1,De,lt),rotate:new Ut(B,Y,-Y,B,0,0),skew:new Ut(1,0,Rt,1,0,0)}},Ut.prototype.toString=function(B){return this.join(" ")},Ut.prototype.inversed=function(){var B=this.sx,Y=this.shy,be=this.shx,Se=this.sy,De=this.tx,lt=this.ty,pt=1/(B*Se-Y*be),Rt=Se*pt,as=-Y*pt,fs=-be*pt,ws=B*pt;return new Ut(Rt,as,fs,ws,-Rt*De-fs*lt,-as*De-ws*lt)},Ut.prototype.applyToPoint=function(B){var Y=B.x*this.sx+B.y*this.shx+this.tx,be=B.x*this.shy+B.y*this.sy+this.ty;return new ya(Y,be)},Ut.prototype.applyToRectangle=function(B){var Y=this.applyToPoint(B),be=this.applyToPoint(new ya(B.x+B.w,B.y+B.h));return new So(Y.x,Y.y,be.x-Y.x,be.y-Y.y)},Ut.prototype.clone=function(){var B=this.sx,Y=this.shy,be=this.shx,Se=this.sy,De=this.tx,lt=this.ty;return new Ut(B,Y,be,Se,De,lt)},g.Matrix=Ut;var $s=g.matrixMult=function(B,Y){return Y.multiply(B)},Hr=new Ut(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Hr;var Vs=function(B,Y){if(!ds[B]){var be=(Y instanceof cd?"Sh":"P")+(Object.keys(Ft).length+1).toString(10);Y.id=be,ds[B]=be,Ft[be]=Y,Ct.publish("addPattern",Y)}};g.ShadingPattern=cd,g.TilingPattern=hu,g.addShadingPattern=function(B,Y){return D("addShadingPattern()"),Vs(B,Y),this},g.beginTilingPattern=function(B){D("beginTilingPattern()"),Na(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},g.endTilingPattern=function(B,Y){D("endTilingPattern()"),Y.stream=Fe[X].join(`
`),Vs(B,Y),Ct.publish("endTilingPattern",Y),Lr.pop().restore()};var tr,Ts=g.__private__.newObject=function(){var B=Ps();return hr(B,!0),B},Ps=g.__private__.newObjectDeferred=function(){return xe++,Z[xe]=function(){return z},xe},hr=function(B,Y){return Y=typeof Y=="boolean"&&Y,Z[B]=z,Y&&le(B+" 0 obj"),B},ra=g.__private__.newAdditionalObject=function(){var B={objId:Ps(),content:""};return fe.push(B),B},wa=Ps(),_n=Ps(),He=g.__private__.decodeColorString=function(B){var Y=B.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length!==5||Y[4]!=="k"&&Y[4]!=="K"||(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var be=parseFloat(Y[0]);Y=[be,be,be,"r"]}for(var Se="#",De=0;De<3;De++)Se+=("0"+Math.floor(255*parseFloat(Y[De])).toString(16)).slice(-2);return Se},us=g.__private__.encodeColorString=function(B){var Y;typeof B=="string"&&(B={ch1:B});var be=B.ch1,Se=B.ch2,De=B.ch3,lt=B.ch4,pt=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var Rt=new P5(be);if(Rt.ok)be=Rt.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var as=parseInt(be.substr(1),16);be=as>>16&255,Se=as>>8&255,De=255&as}if(Se===void 0||lt===void 0&&be===Se&&Se===De)Y=typeof be=="string"?be+" "+pt[0]:B.precision===2?Q(be/255)+" "+pt[0]:T(be/255)+" "+pt[0];else if(lt===void 0||xr(lt)==="object"){if(lt&&!isNaN(lt.a)&&lt.a===0)return["1.","1.","1.",pt[1]].join(" ");Y=typeof be=="string"?[be,Se,De,pt[1]].join(" "):B.precision===2?[Q(be/255),Q(Se/255),Q(De/255),pt[1]].join(" "):[T(be/255),T(Se/255),T(De/255),pt[1]].join(" ")}else Y=typeof be=="string"?[be,Se,De,lt,pt[2]].join(" "):B.precision===2?[Q(be),Q(Se),Q(De),Q(lt),pt[2]].join(" "):[T(be),T(Se),T(De),T(lt),pt[2]].join(" ");return Y},ys=g.__private__.getFilters=function(){return A},Ws=g.__private__.putStream=function(B){var Y=(B=B||{}).data||"",be=B.filters||ys(),Se=B.alreadyAppliedFilters||[],De=B.addLength1||!1,lt=Y.length,pt=B.objectId,Rt=function(Zr){return Zr};if(m!==null&&pt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(Rt=Xr.encryptor(pt,0));var as={};be===!0&&(be=["FlateEncode"]);var fs=B.additionalKeyValues||[],ws=(as=cs.API.processDataByFilters!==void 0?cs.API.processDataByFilters(Y,be):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(Se)?Se.join(" "):Se.toString());if(as.data.length!==0&&(fs.push({key:"Length",value:as.data.length}),De===!0&&fs.push({key:"Length1",value:lt})),ws.length!=0)if(ws.split("/").length-1==1)fs.push({key:"Filter",value:ws});else{fs.push({key:"Filter",value:"["+ws+"]"});for(var Us=0;Us<fs.length;Us+=1)if(fs[Us].key==="DecodeParms"){for(var ir=[],Vr=0;Vr<as.reverseChain.split("/").length-1;Vr+=1)ir.push("null");ir.push(fs[Us].value),fs[Us].value="["+ir.join(" ")+"]"}}le("<<");for(var or=0;or<fs.length;or++)le("/"+fs[or].key+" "+fs[or].value);le(">>"),as.data.length!==0&&(le("stream"),le(Rt(as.data)),le("endstream"))},je=g.__private__.putPage=function(B){var Y=B.number,be=B.data,Se=B.objId,De=B.contentsObjId;hr(Se,!0),le("<</Type /Page"),le("/Parent "+B.rootDictionaryObjId+" 0 R"),le("/Resources "+B.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(I(B.mediaBox.bottomLeftX))+" "+parseFloat(I(B.mediaBox.bottomLeftY))+" "+I(B.mediaBox.topRightX)+" "+I(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&le("/CropBox ["+I(B.cropBox.bottomLeftX)+" "+I(B.cropBox.bottomLeftY)+" "+I(B.cropBox.topRightX)+" "+I(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&le("/BleedBox ["+I(B.bleedBox.bottomLeftX)+" "+I(B.bleedBox.bottomLeftY)+" "+I(B.bleedBox.topRightX)+" "+I(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&le("/TrimBox ["+I(B.trimBox.bottomLeftX)+" "+I(B.trimBox.bottomLeftY)+" "+I(B.trimBox.topRightX)+" "+I(B.trimBox.topRightY)+"]"),B.artBox!==null&&le("/ArtBox ["+I(B.artBox.bottomLeftX)+" "+I(B.artBox.bottomLeftY)+" "+I(B.artBox.topRightX)+" "+I(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&le("/UserUnit "+B.userUnit),Ct.publish("putPage",{objId:Se,pageContext:Wt[Y],pageNumber:Y,page:be}),le("/Contents "+De+" 0 R"),le(">>"),le("endobj");var lt=be.join(`
`);return k===U&&(lt+=`
Q`),hr(De,!0),Ws({data:lt,filters:ys(),objectId:De}),le("endobj"),Se},bs=g.__private__.putPages=function(){var B,Y,be=[];for(B=1;B<=bt;B++)Wt[B].objId=Ps(),Wt[B].contentsObjId=Ps();for(B=1;B<=bt;B++)be.push(je({number:B,data:Fe[B],objId:Wt[B].objId,contentsObjId:Wt[B].contentsObjId,mediaBox:Wt[B].mediaBox,cropBox:Wt[B].cropBox,bleedBox:Wt[B].bleedBox,trimBox:Wt[B].trimBox,artBox:Wt[B].artBox,userUnit:Wt[B].userUnit,rootDictionaryObjId:wa,resourceDictionaryObjId:_n}));hr(wa,!0),le("<</Type /Pages");var Se="/Kids [";for(Y=0;Y<bt;Y++)Se+=be[Y]+" 0 R ";le(Se+"]"),le("/Count "+bt),le(">>"),le("endobj"),Ct.publish("postPutPages")},Js=function(B){Ct.publish("putFont",{font:B,out:le,newObject:Ts,putStream:Ws}),B.isAlreadyPutted!==!0&&(B.objectNumber=Ts(),le("<<"),le("/Type /Font"),le("/BaseFont /"+du(B.postScriptName)),le("/Subtype /Type1"),typeof B.encoding=="string"&&le("/Encoding /"+B.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},mn=function(B){B.objectNumber=Ts();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[I(B.x),I(B.y),I(B.x+B.width),I(B.y+B.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var be=B.pages[1].join(`
`);Ws({data:be,additionalKeyValues:Y,objectId:B.objectNumber}),le("endobj")},Za=function(B,Y){Y||(Y=21);var be=Ts(),Se=(function(pt,Rt){var as,fs=[],ws=1/(Rt-1);for(as=0;as<1;as+=ws)fs.push(as);if(fs.push(1),pt[0].offset!=0){var Us={offset:0,color:pt[0].color};pt.unshift(Us)}if(pt[pt.length-1].offset!=1){var ir={offset:1,color:pt[pt.length-1].color};pt.push(ir)}for(var Vr="",or=0,Zr=0;Zr<fs.length;Zr++){for(as=fs[Zr];as>pt[or+1].offset;)or++;var Qr=pt[or].offset,fn=(as-Qr)/(pt[or+1].offset-Qr),ji=pt[or].color,la=pt[or+1].color;Vr+=me(Math.round((1-fn)*ji[0]+fn*la[0]).toString(16))+me(Math.round((1-fn)*ji[1]+fn*la[1]).toString(16))+me(Math.round((1-fn)*ji[2]+fn*la[2]).toString(16))}return Vr.trim()})(B.colors,Y),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+Y+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ws({data:Se,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),le("endobj"),B.objectNumber=Ts(),le("<< /ShadingType "+B.type),le("/ColorSpace /DeviceRGB");var lt="/Coords ["+I(parseFloat(B.coords[0]))+" "+I(parseFloat(B.coords[1]))+" ";B.type===2?lt+=I(parseFloat(B.coords[2]))+" "+I(parseFloat(B.coords[3])):lt+=I(parseFloat(B.coords[2]))+" "+I(parseFloat(B.coords[3]))+" "+I(parseFloat(B.coords[4]))+" "+I(parseFloat(B.coords[5])),le(lt+="]"),B.matrix&&le("/Matrix ["+B.matrix.toString()+"]"),le("/Function "+be+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},Ha=function(B,Y){var be=Ps(),Se=Ts();Y.push({resourcesOid:be,objectOid:Se}),B.objectNumber=Se;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+B.boundingBox.map(I).join(" ")+"]"}),De.push({key:"XStep",value:I(B.xStep)}),De.push({key:"YStep",value:I(B.yStep)}),De.push({key:"Resources",value:be+" 0 R"}),B.matrix&&De.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),Ws({data:B.stream,additionalKeyValues:De,objectId:B.objectNumber}),le("endobj")},rr=function(B){for(var Y in B.objectNumber=Ts(),le("<<"),B)switch(Y){case"opacity":le("/ca "+Q(B[Y]));break;case"stroke-opacity":le("/CA "+Q(B[Y]))}le(">>"),le("endobj")},mr=function(B){hr(B.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Y in le("/Font <<"),Et)Et.hasOwnProperty(Y)&&(f===!1||f===!0&&x.hasOwnProperty(Y))&&le("/"+Y+" "+Et[Y].objectNumber+" 0 R");le(">>")})(),(function(){if(Object.keys(Ft).length>0){for(var Y in le("/Shading <<"),Ft)Ft.hasOwnProperty(Y)&&Ft[Y]instanceof cd&&Ft[Y].objectNumber>=0&&le("/"+Y+" "+Ft[Y].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),le(">>")}})(),(function(Y){if(Object.keys(Ft).length>0){for(var be in le("/Pattern <<"),Ft)Ft.hasOwnProperty(be)&&Ft[be]instanceof g.TilingPattern&&Ft[be].objectNumber>=0&&Ft[be].objectNumber<Y&&le("/"+be+" "+Ft[be].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),le(">>")}})(B.objectOid),(function(){if(Object.keys(Pt).length>0){var Y;for(Y in le("/ExtGState <<"),Pt)Pt.hasOwnProperty(Y)&&Pt[Y].objectNumber>=0&&le("/"+Y+" "+Pt[Y].objectNumber+" 0 R");Ct.publish("putGStateDict"),le(">>")}})(),(function(){for(var Y in le("/XObject <<"),_s)_s.hasOwnProperty(Y)&&_s[Y].objectNumber>=0&&le("/"+Y+" "+_s[Y].objectNumber+" 0 R");Ct.publish("putXobjectDict"),le(">>")})(),le(">>"),le("endobj")},PA=function(B){Vt[B.fontName]=Vt[B.fontName]||{},Vt[B.fontName][B.fontStyle]=B.id},Al=function(B,Y,be,Se,De){var lt={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:B,fontName:Y,fontStyle:be,encoding:Se,isStandardFont:De||!1,metadata:{}};return Ct.publish("addFont",{font:lt,instance:this}),Et[lt.id]=lt,PA(lt),lt.id},na=g.__private__.pdfEscape=g.pdfEscape=function(B,Y){return(function(be,Se){var De,lt,pt,Rt,as,fs,ws,Us,ir;if(pt=(Se=Se||{}).sourceEncoding||"Unicode",as=Se.outputEncoding,(Se.autoencode||as)&&Et[dt].metadata&&Et[dt].metadata[pt]&&Et[dt].metadata[pt].encoding&&(Rt=Et[dt].metadata[pt].encoding,!as&&Et[dt].encoding&&(as=Et[dt].encoding),!as&&Rt.codePages&&(as=Rt.codePages[0]),typeof as=="string"&&(as=Rt[as]),as)){for(ws=!1,fs=[],De=0,lt=be.length;De<lt;De++)(Us=as[be.charCodeAt(De)])?fs.push(String.fromCharCode(Us)):fs.push(be[De]),fs[De].charCodeAt(0)>>8&&(ws=!0);be=fs.join("")}for(De=be.length;ws===void 0&&De!==0;)be.charCodeAt(De-1)>>8&&(ws=!0),De--;if(!ws)return be;for(fs=Se.noBOM?[]:[254,255],De=0,lt=be.length;De<lt;De++){if((ir=(Us=be.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+be+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");fs.push(ir),fs.push(Us-(ir<<8))}return String.fromCharCode.apply(void 0,fs)})(B,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gi=g.__private__.beginPage=function(B){Fe[++bt]=[],Wt[bt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},wo(bt),st(Fe[X])},RA=function(B,Y){var be,Se,De;switch(r=Y||r,typeof B=="string"&&(be=y(B.toLowerCase()),Array.isArray(be)&&(Se=be[0],De=be[1])),Array.isArray(B)&&(Se=B[0]*Ke,De=B[1]*Ke),isNaN(Se)&&(Se=a[0],De=a[1]),(Se>14400||De>14400)&&(Er.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Se=Math.min(14400,Se),De=Math.min(14400,De)),a=[Se,De],r.substr(0,1)){case"l":De>Se&&(a=[De,Se]);break;case"p":Se>De&&(a=[De,Se])}Gi(a),hs(ba),le(Bo),Zl!==0&&le(Zl+" J"),eA!==0&&le(eA+" j"),Ct.publish("addPage",{pageNumber:bt})},cl=function(B){B>0&&B<=bt&&(Fe.splice(B,1),Wt.splice(B,1),bt--,X>bt&&(X=bt),this.setPage(X))},wo=function(B){B>0&&B<=bt&&(X=B)},aa=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Fe.length-1},DA=function(B,Y,be){var Se,De=void 0;return be=be||{},B=B!==void 0?B:Et[dt].fontName,Y=Y!==void 0?Y:Et[dt].fontStyle,Se=B.toLowerCase(),Vt[Se]!==void 0&&Vt[Se][Y]!==void 0?De=Vt[Se][Y]:Vt[B]!==void 0&&Vt[B][Y]!==void 0?De=Vt[B][Y]:be.disableWarning===!1&&Er.warn("Unable to look up font label for font '"+B+"', '"+Y+"'. Refer to getFontList() for available fonts."),De||be.noFallback||(De=Vt.times[Y])==null&&(De=Vt.times.normal),De},Mr=g.__private__.putInfo=function(){var B=Ts(),Y=function(Se){return Se};for(var be in m!==null&&(Y=Xr.encryptor(B,0)),le("<<"),le("/Producer ("+na(Y("jsPDF "+cs.version))+")"),xt)xt.hasOwnProperty(be)&&xt[be]&&le("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+na(Y(xt[be]))+")");le("/CreationDate ("+na(Y(ie))+")"),le(">>"),le("endobj")},dl=g.__private__.putCatalog=function(B){var Y=(B=B||{}).rootDictionaryObjId||wa;switch(Ts(),le("<<"),le("/Type /Catalog"),le("/Pages "+Y+" 0 R"),Pe||(Pe="fullwidth"),Pe){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+Pe;be.substr(be.length-1)==="%"&&(Pe=parseInt(Pe)/100),typeof Pe=="number"&&le("/OpenAction [3 0 R /XYZ null null "+Q(Pe)+"]")}switch(Oe||(Oe="continuous"),Oe){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}ht&&le("/PageMode /"+ht),Ct.publish("putCatalog"),le(">>"),le("endobj")},Vc=g.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(xe+1)),le("/Root "+xe+" 0 R"),le("/Info "+(xe-1)+" 0 R"),m!==null&&le("/Encrypt "+Xr.oid+" 0 R"),le("/ID [ <"+W+"> <"+W+"> ]"),le(">>")},Kr=g.__private__.putHeader=function(){le("%PDF-"+N),le("%")},vo=g.__private__.putXRef=function(){var B="0000000000";le("xref"),le("0 "+(xe+1)),le("0000000000 65535 f ");for(var Y=1;Y<=xe;Y++)typeof Z[Y]=="function"?le((B+Z[Y]()).slice(-10)+" 00000 n "):Z[Y]!==void 0?le((B+Z[Y]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Mn=g.__private__.buildDocument=function(){var B;xe=0,z=0,oe=[],Z=[],fe=[],wa=Ps(),_n=Ps(),st(oe),Ct.publish("buildDocument"),Kr(),bs(),(function(){Ct.publish("putAdditionalObjects");for(var be=0;be<fe.length;be++){var Se=fe[be];hr(Se.objId,!0),le(Se.content),le("endobj")}Ct.publish("postPutAdditionalObjects")})(),B=[],(function(){for(var be in Et)Et.hasOwnProperty(be)&&(f===!1||f===!0&&x.hasOwnProperty(be))&&Js(Et[be])})(),(function(){var be;for(be in Pt)Pt.hasOwnProperty(be)&&rr(Pt[be])})(),(function(){for(var be in _s)_s.hasOwnProperty(be)&&mn(_s[be])})(),(function(be){var Se;for(Se in Ft)Ft.hasOwnProperty(Se)&&(Ft[Se]instanceof cd?Za(Ft[Se]):Ft[Se]instanceof hu&&Ha(Ft[Se],be))})(B),Ct.publish("putResources"),B.forEach(mr),mr({resourcesOid:_n,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources"),m!==null&&(Xr.oid=Ts(),le("<<"),le("/Filter /Standard"),le("/V "+Xr.v),le("/R "+Xr.r),le("/U <"+Xr.toHexString(Xr.U)+">"),le("/O <"+Xr.toHexString(Xr.O)+">"),le("/P "+Xr.P),le(">>"),le("endobj")),Mr(),dl();var Y=z;return vo(),Vc(),le("startxref"),le(""+Y),le("%%EOF"),st(Fe[X]),oe.join(`
`)},ei=g.__private__.getBlob=function(B){return new Blob([ze(B)],{type:"application/pdf"})},bo=g.output=g.__private__.output=(tr=function(B,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",B){case void 0:return Mn();case"save":g.save(Y.filename);break;case"arraybuffer":return ze(Mn());case"blob":return ei(Mn());case"bloburi":case"bloburl":if(js.URL!==void 0&&typeof js.URL.createObjectURL=="function")return js.URL&&js.URL.createObjectURL(ei(Mn()))||void 0;Er.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Se=Mn();try{be=my(Se)}catch{be=my(unescape(encodeURIComponent(Se)))}return"data:application/pdf;filename="+Y.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(js)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",lt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(De=Y.pdfObjectUrl,lt="");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+lt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Rt=js.open();return Rt!==null&&Rt.document.write(pt),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(js)==="[object Window]"){var as='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',fs=js.open();if(fs!==null){fs.document.write(as);var ws=this;fs.document.documentElement.querySelector("#pdfViewer").onload=function(){fs.document.title=Y.filename,fs.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ws.output("bloburl"))}}return fs}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(js)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Us='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',ir=js.open();if(ir!==null&&(ir.document.write(Us),ir.document.title=Y.filename),ir||typeof safari>"u")return ir;break;case"datauri":case"dataurl":return js.document.location.href=this.output("datauristring",Y);default:return null}},tr.foo=function(){try{return tr.apply(this,arguments)}catch(be){var B=be.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var Y="Error in function "+B.split(`
`)[0].split("<")[0]+": "+be.message;if(!js.console)throw new Error(Y);js.console.error(Y,be),js.alert&&alert(Y)}},tr.foo.bar=tr,tr.foo),va=function(B){return Array.isArray(Ks)===!0&&Ks.indexOf(B)>-1};switch(n){case"pt":Ke=1;break;case"mm":Ke=72/25.4;break;case"cm":Ke=72/2.54;break;case"in":Ke=72;break;case"px":Ke=va("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ke=12;break;case"ex":Ke=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ke=n}var Xr=null;se(),M();var ia=g.__private__.getPageInfo=g.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Wt[B].objId,pageNumber:B,pageContext:Wt[B]}},ql=g.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Wt)if(Wt[Y].objId===B)break;return ia(Y)},ul=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Wt[X].objId,pageNumber:X,pageContext:Wt[X]}};g.addPage=function(){return RA.apply(this,arguments),this},g.setPage=function(){return wo.apply(this,arguments),st.call(this,Fe[X]),this},g.insertPage=function(B){return this.addPage(),this.movePage(X,B),this},g.movePage=function(B,Y){var be,Se;if(B>Y){be=Fe[B],Se=Wt[B];for(var De=B;De>Y;De--)Fe[De]=Fe[De-1],Wt[De]=Wt[De-1];Fe[Y]=be,Wt[Y]=Se,this.setPage(Y)}else if(B<Y){be=Fe[B],Se=Wt[B];for(var lt=B;lt<Y;lt++)Fe[lt]=Fe[lt+1],Wt[lt]=Wt[lt+1];Fe[Y]=be,Wt[Y]=Se,this.setPage(Y)}return this},g.deletePage=function(){return cl.apply(this,arguments),this},g.__private__.text=g.text=function(B,Y,be,Se,De){var lt,pt,Rt,as,fs,ws,Us,ir,Vr,or=(Se=Se||{}).scope||this;if(typeof B=="number"&&typeof Y=="number"&&(typeof be=="string"||Array.isArray(be))){var Zr=be;be=Y,Y=B,B=Zr}if(arguments[3]instanceof Ut==0?(Rt=arguments[4],as=arguments[5],xr(Us=arguments[3])==="object"&&Us!==null||(typeof Rt=="string"&&(as=Rt,Rt=null),typeof Us=="string"&&(as=Us,Us=null),typeof Us=="number"&&(Rt=Us,Us=null),Se={flags:Us,angle:Rt,align:as})):(D("The transform parameter of text() with a Matrix value"),Vr=De),isNaN(Y)||isNaN(be)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return or;var Qr,fn="",ji=typeof Se.lineHeightFactor=="number"?Se.lineHeightFactor:Vn,la=or.internal.scaleFactor;function ai(qs){return qs=qs.split("	").join(Array(Se.TabLen||9).join(" ")),na(qs,Us)}function qi(qs){for(var nr,Rr=qs.concat(),en=[],ci=Rr.length;ci--;)typeof(nr=Rr.shift())=="string"?en.push(nr):Array.isArray(qs)&&(nr.length===1||nr[1]===void 0&&nr[2]===void 0)?en.push(nr[0]):en.push([nr[0],nr[1],nr[2]]);return en}function _o(qs,nr){var Rr;if(typeof qs=="string")Rr=nr(qs)[0];else if(Array.isArray(qs)){for(var en,ci,VA=qs.concat(),nA=[],so=VA.length;so--;)typeof(en=VA.shift())=="string"?nA.push(nr(en)[0]):Array.isArray(en)&&typeof en[0]=="string"&&(ci=nr(en[0],en[1],en[2]),nA.push([ci[0],ci[1],ci[2]]));Rr=nA}return Rr}var Bi=!1,Yi=!0;if(typeof B=="string")Bi=!0;else if(Array.isArray(B)){var Ci=B.concat();pt=[];for(var Si,on=Ci.length;on--;)(typeof(Si=Ci.shift())!="string"||Array.isArray(Si)&&typeof Si[0]!="string")&&(Yi=!1);Bi=Yi}if(Bi===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var Uo=pe/or.internal.scaleFactor,Ji=Uo*(ji-1);switch(Se.baseline){case"bottom":be-=Ji;break;case"top":be+=Uo-Ji;break;case"hanging":be+=Uo-2*Ji;break;case"middle":be+=Uo/2-Ji}if((ws=Se.maxWidth||0)>0&&(typeof B=="string"?B=or.splitTextToSize(B,ws):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(qs,nr){return qs.concat(or.splitTextToSize(nr,ws))},[]))),lt={text:B,x:Y,y:be,options:Se,mutex:{pdfEscape:na,activeFontKey:dt,fonts:Et,activeFontSize:pe}},Ct.publish("preProcessText",lt),B=lt.text,Rt=(Se=lt.options).angle,Vr instanceof Ut==0&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,Se.rotationDirection===0&&(Rt=-Rt),k===U&&(Rt=-Rt);var sA=Math.cos(Rt),rA=Math.sin(Rt);Vr=new Ut(sA,rA,-rA,sA,0,0)}else Rt&&Rt instanceof Ut&&(Vr=Rt);k!==U||Vr||(Vr=Hr),(fs=Se.charSpace||zn)!==void 0&&(fn+=I($(fs))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ir=Se.horizontalScale)!==void 0&&(fn+=I(100*ir)+` Tz
`),Se.lang;var Un=-1,za=Se.renderingMode!==void 0?Se.renderingMode:Se.stroke,ii=or.internal.getCurrentPageInfo().pageContext;switch(za){case 0:case!1:case"fill":Un=0;break;case 1:case!0:case"stroke":Un=1;break;case 2:case"fillThenStroke":Un=2;break;case 3:case"invisible":Un=3;break;case 4:case"fillAndAddForClipping":Un=4;break;case 5:case"strokeAndAddPathForClipping":Un=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Un=6;break;case 7:case"addToPathForClipping":Un=7}var KA=ii.usedRenderingMode!==void 0?ii.usedRenderingMode:-1;Un!==-1?fn+=Un+` Tr
`:KA!==-1&&(fn+=`0 Tr
`),Un!==-1&&(ii.usedRenderingMode=Un),as=Se.align||"left";var Aa,Xi=pe*ji,wl=or.internal.pageSize.getWidth(),vl=Et[dt];fs=Se.charSpace||zn,ws=Se.maxWidth||0,Us=Object.assign({autoencode:!0,noBOM:!0},Se.flags);var Ei=[],Ca=function(qs){return or.getStringUnitWidth(qs,{font:vl,charSpace:fs,fontSize:pe,doKerning:!1})*pe/la};if(Object.prototype.toString.call(B)==="[object Array]"){var ca;pt=qi(B),as!=="left"&&(Aa=pt.map(Ca));var da,Zi=0;if(as==="right"){Y-=Aa[0],B=[],on=pt.length;for(var oi=0;oi<on;oi++)oi===0?(da=oa(Y),ca=Ka(be)):(da=$(Zi-Aa[oi]),ca=-Xi),B.push([pt[oi],da,ca]),Zi=Aa[oi]}else if(as==="center"){Y-=Aa[0]/2,B=[],on=pt.length;for(var Fi=0;Fi<on;Fi++)Fi===0?(da=oa(Y),ca=Ka(be)):(da=$((Zi-Aa[Fi])/2),ca=-Xi),B.push([pt[Fi],da,ca]),Zi=Aa[Fi]}else if(as==="left"){B=[],on=pt.length;for(var _i=0;_i<on;_i++)B.push(pt[_i])}else if(as==="justify"&&vl.encoding==="Identity-H"){B=[],on=pt.length,ws=ws!==0?ws:wl;for(var li=0,Tr=0;Tr<on;Tr++)if(ca=Tr===0?Ka(be):-Xi,da=Tr===0?oa(Y):li,Tr<on-1){var ko=$((ws-Aa[Tr])/(pt[Tr].split(" ").length-1)),Ai=pt[Tr].split(" ");B.push([Ai[0]+" ",da,ca]),li=0;for(var Ga=1;Ga<Ai.length;Ga++){var Io=(Ca(Ai[Ga-1]+" "+Ai[Ga])-Ca(Ai[Ga]))*la+ko;Ga==Ai.length-1?B.push([Ai[Ga],Io,0]):B.push([Ai[Ga]+" ",Io,0]),li-=Io}}else B.push([pt[Tr],da,ca]);B.push(["",li,0])}else{if(as!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],on=pt.length,ws=ws!==0?ws:wl,Tr=0;Tr<on;Tr++){ca=Tr===0?Ka(be):-Xi,da=Tr===0?oa(Y):0;var Lo=pt[Tr].split(" ").length-1,bl=Lo>0?(ws-Aa[Tr])/Lo:0;Tr<on-1?Ei.push(I($(bl))):Ei.push(0),B.push([pt[Tr],da,ca])}}}(typeof Se.R2L=="boolean"?Se.R2L:rt)===!0&&(B=_o(B,function(qs,nr,Rr){return[qs.split("").reverse().join(""),nr,Rr]})),lt={text:B,x:Y,y:be,options:Se,mutex:{pdfEscape:na,activeFontKey:dt,fonts:Et,activeFontSize:pe}},Ct.publish("postProcessText",lt),B=lt.text,Qr=lt.mutex.isHex||!1;var eo=Et[dt].encoding;eo!=="WinAnsiEncoding"&&eo!=="StandardEncoding"||(B=_o(B,function(qs,nr,Rr){return[ai(qs),nr,Rr]})),pt=qi(B),B=[];for(var to,Qo,To,yl=Array.isArray(pt[0])?1:0,Po="",Nl=function(qs,nr,Rr){var en="";return Rr instanceof Ut?(Rr=typeof Se.angle=="number"?$s(Rr,new Ut(1,0,0,1,qs,nr)):$s(new Ut(1,0,0,1,qs,nr),Rr),k===U&&(Rr=$s(new Ut(1,0,0,-1,0,0),Rr)),en=Rr.join(" ")+` Tm
`):en=I(qs)+" "+I(nr)+` Td
`,en},Pr=0;Pr<pt.length;Pr++){switch(Po="",yl){case 1:To=(Qr?"<":"(")+pt[Pr][0]+(Qr?">":")"),to=parseFloat(pt[Pr][1]),Qo=parseFloat(pt[Pr][2]);break;case 0:To=(Qr?"<":"(")+pt[Pr]+(Qr?">":")"),to=oa(Y),Qo=Ka(be)}Ei!==void 0&&Ei[Pr]!==void 0&&(Po=Ei[Pr]+` Tw
`),Pr===0?B.push(Po+Nl(to,Qo,Vr)+To):yl===0?B.push(Po+To):yl===1&&B.push(Po+Nl(to,Qo,Vr)+To)}B=yl===0?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var ua=`BT
/`;return ua+=dt+" "+pe+` Tf
`,ua+=I(pe*ji)+` TL
`,ua+=Va+`
`,ua+=fn,ua+=B,le(ua+="ET"),x[dt]=!0,or};var $i=g.__private__.clip=g.clip=function(B){return le(B==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return $i("evenodd")},g.__private__.discardPath=g.discardPath=function(){return le("n"),this};var Ma=g.__private__.isValidStyle=function(B){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(Y=!0),Y};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(B){return Ma(B)&&(u=B),this};var yo=g.__private__.getStyle=g.getStyle=function(B){var Y=u;switch(B){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=B}return Y},zs=g.close=function(){return le("h"),this};g.stroke=function(){return le("S"),this},g.fill=function(B){return No("f",B),this},g.fillEvenOdd=function(B){return No("f*",B),this},g.fillStroke=function(B){return No("B",B),this},g.fillStrokeEvenOdd=function(B){return No("B*",B),this};var No=function(B,Y){xr(Y)==="object"?OA(Y,B):le(B)},Ni=function(B){B===null||k===U&&B===void 0||(B=yo(B),le(B))};function Yl(B,Y,be,Se,De){var lt=new hu(Y||this.boundingBox,be||this.xStep,Se||this.yStep,this.gState,De||this.matrix);lt.stream=this.stream;var pt=B+"$$"+this.cloneIndex+++"$$";return Vs(pt,lt),lt}var OA=function(B,Y){var be=ds[B.key],Se=Ft[be];if(Se instanceof cd)le("q"),le(HA(Y)),Se.gState&&g.setGState(Se.gState),le(B.matrix.toString()+" cm"),le("/"+be+" sh"),le("Q");else if(Se instanceof hu){var De=new Ut(1,0,0,-1,0,Ba());B.matrix&&(De=De.multiply(B.matrix||Hr),be=Yl.call(Se,B.key,B.boundingBox,B.xStep,B.yStep,De).id),le("q"),le("/Pattern cs"),le("/"+be+" scn"),Se.gState&&g.setGState(Se.gState),le(Y),le("Q")}},HA=function(B){switch(B){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},hl=g.moveTo=function(B,Y){return le(I($(B))+" "+I(V(Y))+" m"),this},ml=g.lineTo=function(B,Y){return le(I($(B))+" "+I(V(Y))+" l"),this},Kn=g.curveTo=function(B,Y,be,Se,De,lt){return le([I($(B)),I(V(Y)),I($(be)),I(V(Se)),I($(De)),I(V(lt)),"c"].join(" ")),this};g.__private__.line=g.line=function(B,Y,be,Se,De){if(isNaN(B)||isNaN(Y)||isNaN(be)||isNaN(Se)||!Ma(De))throw new Error("Invalid arguments passed to jsPDF.line");return k===E?this.lines([[be-B,Se-Y]],B,Y,[1,1],De||"S"):this.lines([[be-B,Se-Y]],B,Y,[1,1]).stroke()},g.__private__.lines=g.lines=function(B,Y,be,Se,De,lt){var pt,Rt,as,fs,ws,Us,ir,Vr,or,Zr,Qr,fn;if(typeof B=="number"&&(fn=be,be=Y,Y=B,B=fn),Se=Se||[1,1],lt=lt||!1,isNaN(Y)||isNaN(be)||!Array.isArray(B)||!Array.isArray(Se)||!Ma(De)||typeof lt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(hl(Y,be),pt=Se[0],Rt=Se[1],fs=B.length,Zr=Y,Qr=be,as=0;as<fs;as++)(ws=B[as]).length===2?(Zr=ws[0]*pt+Zr,Qr=ws[1]*Rt+Qr,ml(Zr,Qr)):(Us=ws[0]*pt+Zr,ir=ws[1]*Rt+Qr,Vr=ws[2]*pt+Zr,or=ws[3]*Rt+Qr,Zr=ws[4]*pt+Zr,Qr=ws[5]*Rt+Qr,Kn(Us,ir,Vr,or,Zr,Qr));return lt&&zs(),Ni(De),this},g.path=function(B){for(var Y=0;Y<B.length;Y++){var be=B[Y],Se=be.c;switch(be.op){case"m":hl(Se[0],Se[1]);break;case"l":ml(Se[0],Se[1]);break;case"c":Kn.apply(this,Se);break;case"h":zs()}}return this},g.__private__.rect=g.rect=function(B,Y,be,Se,De){if(isNaN(B)||isNaN(Y)||isNaN(be)||isNaN(Se)||!Ma(De))throw new Error("Invalid arguments passed to jsPDF.rect");return k===E&&(Se=-Se),le([I($(B)),I(V(Y)),I($(be)),I($(Se)),"re"].join(" ")),Ni(De),this},g.__private__.triangle=g.triangle=function(B,Y,be,Se,De,lt,pt){if(isNaN(B)||isNaN(Y)||isNaN(be)||isNaN(Se)||isNaN(De)||isNaN(lt)||!Ma(pt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-B,Se-Y],[De-be,lt-Se],[B-De,Y-lt]],B,Y,[1,1],pt,!0),this},g.__private__.roundedRect=g.roundedRect=function(B,Y,be,Se,De,lt,pt){if(isNaN(B)||isNaN(Y)||isNaN(be)||isNaN(Se)||isNaN(De)||isNaN(lt)||!Ma(pt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*be),lt=Math.min(lt,.5*Se),this.lines([[be-2*De,0],[De*Rt,0,De,lt-lt*Rt,De,lt],[0,Se-2*lt],[0,lt*Rt,-De*Rt,lt,-De,lt],[2*De-be,0],[-De*Rt,0,-De,-lt*Rt,-De,-lt],[0,2*lt-Se],[0,-lt*Rt,De*Rt,-lt,De,-lt]],B+De,Y,[1,1],pt,!0),this},g.__private__.ellipse=g.ellipse=function(B,Y,be,Se,De){if(isNaN(B)||isNaN(Y)||isNaN(be)||isNaN(Se)||!Ma(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var lt=4/3*(Math.SQRT2-1)*be,pt=4/3*(Math.SQRT2-1)*Se;return hl(B+be,Y),Kn(B+be,Y-pt,B+lt,Y-Se,B,Y-Se),Kn(B-lt,Y-Se,B-be,Y-pt,B-be,Y),Kn(B-be,Y+pt,B-lt,Y+Se,B,Y+Se),Kn(B+lt,Y+Se,B+be,Y+pt,B+be,Y),Ni(De),this},g.__private__.circle=g.circle=function(B,Y,be,Se){if(isNaN(B)||isNaN(Y)||isNaN(be)||!Ma(Se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,Y,be,be,Se)},g.setFont=function(B,Y,be){return be&&(Y=H(Y,be)),dt=DA(B,Y,{disableWarning:!1}),this};var ti=g.__private__.getFont=g.getFont=function(){return Et[DA.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var B,Y,be={};for(B in Vt)if(Vt.hasOwnProperty(B))for(Y in be[B]=[],Vt[B])Vt[B].hasOwnProperty(Y)&&be[B].push(Y);return be},g.addFont=function(B,Y,be,Se,De){var lt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&lt.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&lt.indexOf(arguments[3])==-1&&(be=H(be,Se)),Al.call(this,B,Y,be,De=De||"Identity-H")};var Vn,ba=s.lineWidth||.200025,jo=g.__private__.getLineWidth=g.getLineWidth=function(){return ba},hs=g.__private__.setLineWidth=g.setLineWidth=function(B){return ba=B,le(I($(B))+" w"),this};g.__private__.setLineDash=cs.API.setLineDash=cs.API.setLineDashPattern=function(B,Y){if(B=B||[],Y=Y||0,isNaN(Y)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(be){return I($(be))}).join(" "),Y=I($(Y)),le("["+B+"] "+Y+" d"),this};var si=g.__private__.getLineHeight=g.getLineHeight=function(){return pe*Vn};g.__private__.getLineHeight=g.getLineHeight=function(){return pe*Vn};var zc=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(Vn=B),this},MA=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Vn};zc(s.lineHeight);var oa=g.__private__.getHorizontalCoordinate=function(B){return $(B)},Ka=g.__private__.getVerticalCoordinate=function(B){return k===U?B:Wt[X].mediaBox.topRightY-Wt[X].mediaBox.bottomLeftY-$(B)},Jl=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(B){return I(oa(B))},fl=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(B){return I(Ka(B))},Bo=s.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return He(Bo)},g.__private__.setStrokeColor=g.setDrawColor=function(B,Y,be,Se){return Bo=us({ch1:B,ch2:Y,ch3:be,ch4:Se,pdfColorType:"draw",precision:2}),le(Bo),this};var Xl=s.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return He(Xl)},g.__private__.setFillColor=g.setFillColor=function(B,Y,be,Se){return Xl=us({ch1:B,ch2:Y,ch3:be,ch4:Se,pdfColorType:"fill",precision:2}),le(Xl),this};var Va=s.textColor||"0 g",Co=g.__private__.getTextColor=g.getTextColor=function(){return He(Va)};g.__private__.setTextColor=g.setTextColor=function(B,Y,be,Se){return Va=us({ch1:B,ch2:Y,ch3:be,ch4:Se,pdfColorType:"text",precision:3}),this};var zn=s.charSpace,pl=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(zn||0)};g.__private__.setCharSpace=g.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zn=B,this};var Zl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(B){var Y=g.CapJoinStyles[B];if(Y===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zl=Y,le(Y+" J"),this};var eA=0;g.__private__.setLineJoin=g.setLineJoin=function(B){var Y=g.CapJoinStyles[B];if(Y===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eA=Y,le(Y+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(I($(B))+" M"),this},g.GState=Xf,g.setGState=function(B){(B=typeof B=="string"?Pt[Bt[B]]:gl(null,B)).equals(xs)||(le("/"+B.id+" gs"),xs=B)};var gl=function(B,Y){if(!B||!Bt[B]){var be=!1;for(var Se in Pt)if(Pt.hasOwnProperty(Se)&&Pt[Se].equals(Y)){be=!0;break}if(be)Y=Pt[Se];else{var De="GS"+(Object.keys(Pt).length+1).toString(10);Pt[De]=Y,Y.id=De}return B&&(Bt[B]=Y.id),Ct.publish("addGState",Y),Y}};g.addGState=function(B,Y){return gl(B,Y),this},g.saveGraphicsState=function(){return le("q"),Tt.push({key:dt,size:pe,color:Va}),this},g.restoreGraphicsState=function(){le("Q");var B=Tt.pop();return dt=B.key,pe=B.size,Va=B.color,xs=null,this},g.setCurrentTransformationMatrix=function(B){return le(B.toString()+" cm"),this},g.comment=function(B){return le("#"+B),this};var ya=function(B,Y){var be=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(lt){isNaN(lt)||(be=parseFloat(lt))}});var Se=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Se},set:function(lt){isNaN(lt)||(Se=parseFloat(lt))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(lt){De=lt.toString()}}),this},So=function(B,Y,be,Se){ya.call(this,B,Y),this.type="rect";var De=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(pt){isNaN(pt)||(De=parseFloat(pt))}});var lt=Se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return lt},set:function(pt){isNaN(pt)||(lt=parseFloat(pt))}}),this},Eo=function(){this.page=bt,this.currentPage=X,this.pages=Fe.slice(0),this.pagesContext=Wt.slice(0),this.x=it,this.y=Xt,this.matrix=Lt,this.width=Wi(X),this.height=Fo(X),this.outputDestination=qe,this.id="",this.objectNumber=-1};Eo.prototype.restore=function(){bt=this.page,X=this.currentPage,Wt=this.pagesContext,Fe=this.pages,it=this.x,Xt=this.y,Lt=this.matrix,tA(X,this.width),ja(X,this.height),qe=this.outputDestination};var Na=function(B,Y,be,Se,De){Lr.push(new Eo),bt=X=0,Fe=[],it=B,Xt=Y,Lt=De,Gi([be,Se])};for(var ri in g.beginFormObject=function(B,Y,be,Se,De){return Na(B,Y,be,Se,De),this},g.endFormObject=function(B){return(function(Y){if(Ys[Y])Lr.pop().restore();else{var be=new Eo,Se="Xo"+(Object.keys(_s).length+1).toString(10);be.id=Se,Ys[Y]=Se,_s[Se]=be,Ct.publish("addFormObject",be),Lr.pop().restore()}})(B),this},g.doFormObject=function(B,Y){var be=_s[Ys[B]];return le("q"),le(Y.toString()+" cm"),le("/"+be.id+" Do"),le("Q"),this},g.getFormObject=function(B){var Y=_s[Ys[B]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},g.save=function(B,Y){return B=B||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(ld(ei(Mn()),B),typeof ld.unload=="function"&&js.setTimeout&&setTimeout(ld.unload,911),this):new Promise(function(be,Se){try{var De=ld(ei(Mn()),B);typeof ld.unload=="function"&&js.setTimeout&&setTimeout(ld.unload,911),be(De)}catch(lt){Se(lt.message)}})},cs.API)cs.API.hasOwnProperty(ri)&&(ri==="events"&&cs.API.events.length?(function(B,Y){var be,Se,De;for(De=Y.length-1;De!==-1;De--)be=Y[De][0],Se=Y[De][1],B.subscribe.apply(B,[be].concat(typeof Se=="function"?[Se]:Se))})(Ct,cs.API.events):g[ri]=cs.API[ri]);function Wi(B){return Wt[B].mediaBox.topRightX-Wt[B].mediaBox.bottomLeftX}function tA(B,Y){Wt[B].mediaBox.topRightX=Y+Wt[B].mediaBox.bottomLeftX}function Fo(B){return Wt[B].mediaBox.topRightY-Wt[B].mediaBox.bottomLeftY}function ja(B,Y){Wt[B].mediaBox.topRightY=Y+Wt[B].mediaBox.bottomLeftY}var ni=g.getPageWidth=function(B){return Wi(B=B||X)/Ke},jn=g.setPageWidth=function(B,Y){tA(B,Y*Ke)},Ba=g.getPageHeight=function(B){return Fo(B=B||X)/Ke},xl=g.setPageHeight=function(B,Y){ja(B,Y*Ke)};return g.internal={pdfEscape:na,getStyle:yo,getFont:ti,getFontSize:et,getCharSpace:pl,getTextColor:Co,getLineHeight:si,getLineHeightFactor:MA,getLineWidth:jo,write:Te,getHorizontalCoordinate:oa,getVerticalCoordinate:Ka,getCoordinateString:Jl,getVerticalCoordinateString:fl,collections:{},newObject:Ts,newAdditionalObject:ra,newObjectDeferred:Ps,newObjectDeferredBegin:hr,getFilters:ys,putStream:Ws,events:Ct,scaleFactor:Ke,pageSize:{getWidth:function(){return ni(X)},setWidth:function(B){jn(X,B)},getHeight:function(){return Ba(X)},setHeight:function(B){xl(X,B)}},encryptionOptions:m,encryption:Xr,getEncryptor:function(B){return m!==null?Xr.encryptor(B,0):function(Y){return Y}},output:bo,getNumberOfPages:aa,get pages(){return Fe},out:le,f2:Q,f3:T,getPageInfo:ia,getPageInfoByObjId:ql,getCurrentPageInfo:ul,getPDFVersion:b,Point:ya,Rectangle:So,Matrix:Ut,hasHotfix:va},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return ni(X)},set:function(B){jn(X,B)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Ba(X)},set:function(B){xl(X,B)},enumerable:!0,configurable:!0}),function(B){for(var Y=0,be=ye.length;Y<be;Y++){var Se=Al.call(this,B[Y][0],B[Y][1],B[Y][2],ye[Y][3],!0);f===!1&&(x[Se]=!0);var De=B[Y][0].split("-");PA({id:Se,fontName:De[0],fontStyle:De[1]||""})}Ct.publish("addFonts",{fonts:Et,dictionary:Vt})}.call(g,ye),dt="F1",RA(a,r),Ct.publish("initialized"),g}cu.prototype.lsbFirstWord=function(s){return String.fromCharCode(255&s,s>>8&255,s>>16&255,s>>24&255)},cu.prototype.toHexString=function(s){return s.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},cu.prototype.hexToBytes=function(s){for(var t=[],r=0;r<s.length;r+=2)t.push(String.fromCharCode(parseInt(s.substr(r,2),16)));return t.join("")},cu.prototype.processOwnerPassword=function(s,t){return Bx(jx(t).substr(0,5),s)},cu.prototype.encryptor=function(s,t){var r=jx(this.encryptionKey+String.fromCharCode(255&s,s>>8&255,s>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Bx(r,n)}},Xf.prototype.equals=function(s){var t,r="id,objectNumber,equals";if(!s||xr(s)!==xr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!s.hasOwnProperty(t)||this[t]!==s[t])return!1;n++}for(t in s)s.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},cs.API={events:[]},cs.version="3.0.4";var hn=cs.API,vw=1,Bd=function(s){return s.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},iu=function(s){return s.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ss=function(s){return s.toFixed(2)},mc=function(s){return s.toFixed(5)};hn.__acroform__={};var yi=function(s,t){s.prototype=Object.create(t.prototype),s.prototype.constructor=s},xy=function(s){return s*vw},Ll=function(s){var t=new H5,r=ns.internal.getHeight(s)||0,n=ns.internal.getWidth(s)||0;return t.BBox=[0,0,Number(Ss(n)),Number(Ss(r))],t},tD=hn.__acroform__.setBit=function(s,t){if(s=s||0,t=t||0,isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return s|1<<t},sD=hn.__acroform__.clearBit=function(s,t){if(s=s||0,t=t||0,isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return s&~(1<<t)},rD=hn.__acroform__.getBit=function(s,t){if(isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return s&1<<t?1:0},bn=hn.__acroform__.getBitForPdf=function(s,t){if(isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return rD(s,t-1)},yn=hn.__acroform__.setBitForPdf=function(s,t){if(isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tD(s,t-1)},Nn=hn.__acroform__.clearBitForPdf=function(s,t){if(isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return sD(s,t-1)},nD=hn.__acroform__.calculateCoordinates=function(s,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=s[0],i=s[1],A=s[2],c=s[3],d={};return d.lowerLeft_X=r(a)||0,d.lowerLeft_Y=n(i+c)||0,d.upperRight_X=r(a+A)||0,d.upperRight_Y=n(i)||0,[Number(Ss(d.lowerLeft_X)),Number(Ss(d.lowerLeft_Y)),Number(Ss(d.upperRight_X)),Number(Ss(d.upperRight_Y))]},aD=function(s){if(s.appearanceStreamContent)return s.appearanceStreamContent;if(s.V||s.DV){var t=[],r=s._V||s.DV,n=Cx(s,r),a=s.scope.internal.getFont(s.fontName,s.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(s.scope.__private__.encodeColorString(s.color)),t.push("/"+a+" "+Ss(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ll(s);return i.scope=s.scope,i.stream=t.join(`
`),i}},Cx=function(s,t){var r=s.fontSize===0?s.maxFontSize:s.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=s.multiline?a.map(function(Q){return Q.split(`
`)}):a.map(function(Q){return[Q]});var i=r,A=ns.internal.getHeight(s)||0;A=A<0?-A:A;var c=ns.internal.getWidth(s)||0;c=c<0?-c:c;var d=function(Q,T,$){if(Q+1<a.length){var V=T+" "+a[Q+1][0];return Af(V,s,$).width<=c-4}return!1};i++;e:for(;i>0;){t="",i--;var u,m,f=Af("3",s,i).height,x=s.multiline?A-i:(A-f)/2,g=x+=2,N=0,b=0,j=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Af(t,s,i=12).width+", FieldWidth:"+c+`
`;break}for(var y="",E=0,U=0;U<a.length;U++)if(a.hasOwnProperty(U)){var k=!1;if(a[U].length!==1&&j!==a[U].length-1){if((f+2)*(E+2)+2>A)continue e;y+=a[U][j],k=!0,b=U,U--}else{y=(y+=a[U][j]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var q=parseInt(U),G=d(q,y,i),H=U>=a.length-1;if(G&&!H){y+=" ",j=0;continue}if(G||H){if(H)b=q;else if(s.multiline&&(f+2)*(E+2)+2>A)continue e}else{if(!s.multiline||(f+2)*(E+2)+2>A)continue e;b=q}}for(var I="",D=N;D<=b;D++){var P=a[D];if(s.multiline){if(D===b){I+=P[j]+" ",j=(j+1)%P.length;continue}if(D===N){I+=P[P.length-1]+" ";continue}}I+=P[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,m=Af(I,s,i).width,s.textAlign){case"right":u=c-m-2;break;case"center":u=(c-m)/2;break;default:u=2}t+=Ss(u)+" "+Ss(g)+` Td
`,t+="("+Bd(I)+`) Tj
`,t+=-Ss(u)+` 0 Td
`,g=-(i+2),m=0,N=k?b:b+1,E++,y=""}break}return n.text=t,n.fontSize=i,n},Af=function(s,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(s,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},iD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},oD=function(s,t){var r={type:"reference",object:s};t.internal.getPageInfo(s.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(s.page).pageContext.annotations.push(r)},lD=function(s,t){if(t.scope=s,s.internal!==void 0&&(s.internal.acroformPlugin===void 0||s.internal.acroformPlugin.isInitialized===!1)){if(ol.FieldNum=0,s.internal.acroformPlugin=JSON.parse(JSON.stringify(iD)),s.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");vw=s.internal.scaleFactor,s.internal.acroformPlugin.acroFormDictionaryRoot=new M5,s.internal.acroformPlugin.acroFormDictionaryRoot.scope=s,s.internal.acroformPlugin.acroFormDictionaryRoot._eventID=s.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(s)}),s.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&oD(i,r)}})(s)}),s.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(s)}),s.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var A in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(A)){var c=n[A],d=[],u=c.Rect;if(c.Rect&&(c.Rect=nD(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=ns.createDefaultAppearanceStream(c),xr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=u,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=aD(c);d.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var f="";for(var x in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(x)){var g=c.appearanceStreamContent[x];if(f+="/"+x+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var A in g)if(g.hasOwnProperty(A)){var N=g[A];typeof N=="function"&&(N=N.call(a,c)),f+="/"+A+" "+N+" ",a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N)}}else typeof(N=g)=="function"&&(N=N.call(a,c)),f+="/"+A+" "+N,a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N);f+=">>"}d.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:c.objId}),a.internal.out("endobj")}i&&(function(b,j){for(var y in b)if(b.hasOwnProperty(y)){var E=y,U=b[y];j.internal.newObjectDeferredBegin(U.objId,!0),xr(U)==="object"&&typeof U.putStream=="function"&&U.putStream(),delete b[E]}})(a.internal.acroformPlugin.xForms,a)})(r,s)}),s.internal.acroformPlugin.isInitialized=!0}},O5=hn.__acroform__.arrayToPdfArray=function(s,t,r){var n=function(A){return A};if(Array.isArray(s)){for(var a="[",i=0;i<s.length;i++)switch(i!==0&&(a+=" "),xr(s[i])){case"boolean":case"number":case"object":a+=s[i].toString();break;case"string":s[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Bd(n(s[i].toString()))+")"):a+=s[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},N0=function(s,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(s=s||"").toString(),"("+Bd(n(s))+")"},Ol=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(s){this._objId=s}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ol.prototype.toString=function(){return this.objId+" 0 R"},Ol.prototype.putStream=function(){var s=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:s,objectId:this.objId}),this.scope.internal.out("endobj")},Ol.prototype.getKeyValueListForStream=function(){var s=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?s.push({key:n,value:O5(a,this.objId,this.scope)}):a instanceof Ol?(a.scope=this.scope,s.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&s.push({key:n,value:a}))}return s};var H5=function(){Ol.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var s,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){s=r.trim()},get:function(){return s||null}})};yi(H5,Ol);var M5=function(){Ol.call(this);var s,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(s){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Bd(r(s))+")"}},set:function(r){s=r}})};yi(M5,Ol);var ol=function s(){Ol.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!bn(t,3)},set:function(y){y?this.F=yn(t,3):this.F=Nn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Zf)return;i="FieldObject"+s.FieldNum++}var y=function(E){return E};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Bd(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var A="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return A},set:function(y){A=y}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/vw:u},set:function(y){u=y}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){m=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Zf||this instanceof fd))return N0(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof ea==0?N0(x,this.objId,this.scope):x},set:function(y){y=y.toString(),x=this instanceof ea==0?y.substr(0,1)==="("?iu(y.substr(1,y.length-2)):iu(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ea==1?iu(x.substr(1,x.length-1)):x},set:function(y){y=y.toString(),x=this instanceof ea==1?"/"+y:y}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ea==0?N0(g,this.objId,this.scope):g},set:function(y){y=y.toString(),g=this instanceof ea==0?y.substr(0,1)==="("?iu(y.substr(1,y.length-2)):iu(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ea==1?iu(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof ea==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(y){y=!!y,b=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(y){N=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,1)},set:function(y){y?this.Ff=yn(this.Ff,1):this.Ff=Nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,2)},set:function(y){y?this.Ff=yn(this.Ff,2):this.Ff=Nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,3)},set:function(y){y?this.Ff=yn(this.Ff,3):this.Ff=Nn(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');j=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(j){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};yi(ol,Ol);var xu=function(){ol.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var s=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return s},set:function(r){s=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return O5(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,A,c){c||(c=1);for(var d,u=[];d=A.exec(i);)u.push(d[c]);return u})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,18)},set:function(r){r?this.Ff=yn(this.Ff,18):this.Ff=Nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=yn(this.Ff,19):this.Ff=Nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,20)},set:function(r){r?(this.Ff=yn(this.Ff,20),t.sort()):this.Ff=Nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,22)},set:function(r){r?this.Ff=yn(this.Ff,22):this.Ff=Nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,23)},set:function(r){r?this.Ff=yn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,27)},set:function(r){r?this.Ff=yn(this.Ff,27):this.Ff=Nn(this.Ff,27)}}),this.hasAppearanceStream=!1};yi(xu,ol);var wu=function(){xu.call(this),this.fontName="helvetica",this.combo=!1};yi(wu,xu);var vu=function(){wu.call(this),this.combo=!0};yi(vu,wu);var jf=function(){vu.call(this),this.edit=!0};yi(jf,vu);var ea=function(){ol.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,15)},set:function(r){r?this.Ff=yn(this.Ff,15):this.Ff=Nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,16)},set:function(r){r?this.Ff=yn(this.Ff,16):this.Ff=Nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,17)},set:function(r){r?this.Ff=yn(this.Ff,17):this.Ff=Nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,26)},set:function(r){r?this.Ff=yn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var s,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Bd(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){xr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(r){s="/"+r}})};yi(ea,ol);var Bf=function(){ea.call(this),this.pushButton=!0};yi(Bf,ea);var bu=function(){ea.call(this),this.radio=!0,this.pushButton=!1;var s=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return s},set:function(t){s=t!==void 0?t:[]}})};yi(bu,ea);var Zf=function(){var s,t;ol.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,A=[];for(i in A.push("<<"),n)A.push("/"+i+" ("+Bd(a(n[i]))+")");return A.push(">>"),A.join(`
`)},set:function(a){xr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ns.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};yi(Zf,ol),bu.prototype.setAppearance=function(s){if(!("createAppearanceStream"in s)||!("getCA"in s))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=s.createAppearanceStream(r.optionName),r.caption=s.getCA()}},bu.prototype.createOption=function(s){var t=new Zf;return t.Parent=this,t.optionName=s,this.Kids.push(t),AD.call(this.scope,t),t};var Cf=function(){ea.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ns.CheckBox.createAppearanceStream()};yi(Cf,ea);var fd=function(){ol.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,13)},set:function(t){t?this.Ff=yn(this.Ff,13):this.Ff=Nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,21)},set:function(t){t?this.Ff=yn(this.Ff,21):this.Ff=Nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,23)},set:function(t){t?this.Ff=yn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,24)},set:function(t){t?this.Ff=yn(this.Ff,24):this.Ff=Nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,25)},set:function(t){t?this.Ff=yn(this.Ff,25):this.Ff=Nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,26)},set:function(t){t?this.Ff=yn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var s=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return s},set:function(t){s=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){Number.isInteger(t)&&(s=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};yi(fd,ol);var Sf=function(){fd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,14)},set:function(s){s?this.Ff=yn(this.Ff,14):this.Ff=Nn(this.Ff,14)}}),this.password=!0};yi(Sf,fd);var ns={CheckBox:{createAppearanceStream:function(){return{N:{On:ns.CheckBox.YesNormal},D:{On:ns.CheckBox.YesPushDown,Off:ns.CheckBox.OffPushDown}}},YesPushDown:function(s){var t=Ll(s);t.scope=s.scope;var r=[],n=s.scope.internal.getFont(s.fontName,s.fontStyle).id,a=s.scope.__private__.encodeColorString(s.color),i=Cx(s,s.caption);return r.push("0.749023 g"),r.push("0 0 "+Ss(ns.internal.getWidth(s))+" "+Ss(ns.internal.getHeight(s))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ss(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(s){var t=Ll(s);t.scope=s.scope;var r=s.scope.internal.getFont(s.fontName,s.fontStyle).id,n=s.scope.__private__.encodeColorString(s.color),a=[],i=ns.internal.getHeight(s),A=ns.internal.getWidth(s),c=Cx(s,s.caption);return a.push("1 g"),a.push("0 0 "+Ss(A)+" "+Ss(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ss(A-1)+" "+Ss(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Ss(c.fontSize)+" Tf "+n),a.push(c.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(s){var t=Ll(s);t.scope=s.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ss(ns.internal.getWidth(s))+" "+Ss(ns.internal.getHeight(s))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(s){var t={D:{Off:ns.RadioButton.Circle.OffPushDown},N:{}};return t.N[s]=ns.RadioButton.Circle.YesNormal,t.D[s]=ns.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(s){var t=Ll(s);t.scope=s.scope;var r=[],n=ns.internal.getWidth(s)<=ns.internal.getHeight(s)?ns.internal.getWidth(s)/4:ns.internal.getHeight(s)/4;n=Number((.9*n).toFixed(5));var a=ns.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+mc(ns.internal.getWidth(s)/2)+" "+mc(ns.internal.getHeight(s)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(s){var t=Ll(s);t.scope=s.scope;var r=[],n=ns.internal.getWidth(s)<=ns.internal.getHeight(s)?ns.internal.getWidth(s)/4:ns.internal.getHeight(s)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*ns.internal.Bezier_C).toFixed(5)),A=Number((n*ns.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+mc(ns.internal.getWidth(s)/2)+" "+mc(ns.internal.getHeight(s)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+mc(ns.internal.getWidth(s)/2)+" "+mc(ns.internal.getHeight(s)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(s){var t=Ll(s);t.scope=s.scope;var r=[],n=ns.internal.getWidth(s)<=ns.internal.getHeight(s)?ns.internal.getWidth(s)/4:ns.internal.getHeight(s)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*ns.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+mc(ns.internal.getWidth(s)/2)+" "+mc(ns.internal.getHeight(s)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(s){var t={D:{Off:ns.RadioButton.Cross.OffPushDown},N:{}};return t.N[s]=ns.RadioButton.Cross.YesNormal,t.D[s]=ns.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(s){var t=Ll(s);t.scope=s.scope;var r=[],n=ns.internal.calculateCross(s);return r.push("q"),r.push("1 1 "+Ss(ns.internal.getWidth(s)-2)+" "+Ss(ns.internal.getHeight(s)-2)+" re"),r.push("W"),r.push("n"),r.push(Ss(n.x1.x)+" "+Ss(n.x1.y)+" m"),r.push(Ss(n.x2.x)+" "+Ss(n.x2.y)+" l"),r.push(Ss(n.x4.x)+" "+Ss(n.x4.y)+" m"),r.push(Ss(n.x3.x)+" "+Ss(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(s){var t=Ll(s);t.scope=s.scope;var r=ns.internal.calculateCross(s),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ss(ns.internal.getWidth(s))+" "+Ss(ns.internal.getHeight(s))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ss(ns.internal.getWidth(s)-2)+" "+Ss(ns.internal.getHeight(s)-2)+" re"),n.push("W"),n.push("n"),n.push(Ss(r.x1.x)+" "+Ss(r.x1.y)+" m"),n.push(Ss(r.x2.x)+" "+Ss(r.x2.y)+" l"),n.push(Ss(r.x4.x)+" "+Ss(r.x4.y)+" m"),n.push(Ss(r.x3.x)+" "+Ss(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(s){var t=Ll(s);t.scope=s.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ss(ns.internal.getWidth(s))+" "+Ss(ns.internal.getHeight(s))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(s){var t=s.scope.internal.getFont(s.fontName,s.fontStyle).id,r=s.scope.__private__.encodeColorString(s.color);return"/"+t+" "+s.fontSize+" Tf "+r}};ns.internal={Bezier_C:.551915024494,calculateCross:function(s){var t=ns.internal.getWidth(s),r=ns.internal.getHeight(s),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},ns.internal.getWidth=function(s){var t=0;return xr(s)==="object"&&(t=xy(s.Rect[2])),t},ns.internal.getHeight=function(s){var t=0;return xr(s)==="object"&&(t=xy(s.Rect[3])),t};var AD=hn.addField=function(s){if(lD(this,s),!(s instanceof ol))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=s).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),s.page=s.scope.internal.getCurrentPageInfo().pageNumber,this};hn.AcroFormChoiceField=xu,hn.AcroFormListBox=wu,hn.AcroFormComboBox=vu,hn.AcroFormEditBox=jf,hn.AcroFormButton=ea,hn.AcroFormPushButton=Bf,hn.AcroFormRadioButton=bu,hn.AcroFormCheckBox=Cf,hn.AcroFormTextField=fd,hn.AcroFormPasswordField=Sf,hn.AcroFormAppearance=ns,hn.AcroForm={ChoiceField:xu,ListBox:wu,ComboBox:vu,EditBox:jf,Button:ea,PushButton:Bf,RadioButton:bu,CheckBox:Cf,TextField:fd,PasswordField:Sf,Appearance:ns},cs.AcroForm={ChoiceField:xu,ListBox:wu,ComboBox:vu,EditBox:jf,Button:ea,PushButton:Bf,RadioButton:bu,CheckBox:Cf,TextField:fd,PasswordField:Sf,Appearance:ns};cs.AcroForm;function K5(s){return s.reduce(function(t,r,n){return t[r]=n,t},{})}(function(s){var t="addImage_";s.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=s.__addimage__.getImageFileTypeByImageData=function(Q,T){var $,V,ie,W,ne,M=r;if((T=T||r)==="RGBA"||Q.data!==void 0&&Q.data instanceof Uint8ClampedArray&&"height"in Q&&"width"in Q)return"RGBA";if(G(Q))for(ne in n)for(ie=n[ne],$=0;$<ie.length;$+=1){for(W=!0,V=0;V<ie[$].length;V+=1)if(ie[$][V]!==void 0&&ie[$][V]!==Q[V]){W=!1;break}if(W===!0){M=ne;break}}else for(ne in n)for(ie=n[ne],$=0;$<ie.length;$+=1){for(W=!0,V=0;V<ie[$].length;V+=1)if(ie[$][V]!==void 0&&ie[$][V]!==Q.charCodeAt(V)){W=!1;break}if(W===!0){M=ne;break}}return M===r&&T!==r&&(M=T),M},i=function Q(T){for(var $=this.internal.write,V=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:T.width}),W.push({key:"Height",value:T.height}),T.colorSpace===y.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===y.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var ne="",M=0,de=T.transparency.length;M<de;M++)ne+=T.transparency[M]+" "+T.transparency[M]+" ";W.push({key:"Mask",value:"["+ne+"]"})}T.sMask!==void 0&&W.push({key:"SMask",value:T.objectId+1+" 0 R"});var ue=T.filter!==void 0?["/"+T.filter]:void 0;if(V({data:T.data,additionalKeyValues:W,alreadyAppliedFilters:ue,objectId:T.objectId}),$("endobj"),"sMask"in T&&T.sMask!==void 0){var se,O=(se=T.sMaskBitsPerComponent)!==null&&se!==void 0?se:T.bitsPerComponent,X={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:T.sMask};"filter"in T&&(X.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(T.width),X.filter=T.filter),Q.call(this,X)}if(T.colorSpace===y.INDEXED){var re=this.internal.newObject();V({data:I(new Uint8Array(T.palette)),objectId:re}),$("endobj")}},A=function(){var Q=this.internal.collections[t+"images"];for(var T in Q)i.call(this,Q[T])},c=function(){var Q,T=this.internal.collections[t+"images"],$=this.internal.write;for(var V in T)$("/I"+(Q=T[V]).index,Q.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",A),this.internal.events.subscribe("putXobjectDict",c))},u=function(){var Q=this.internal.collections[t+"images"];return d.call(this),Q},m=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(Q){return typeof s["process"+Q.toUpperCase()]=="function"},x=function(Q){return xr(Q)==="object"&&Q.nodeType===1},g=function(Q,T){if(Q.nodeName==="IMG"&&Q.hasAttribute("src")){var $=""+Q.getAttribute("src");if($.indexOf("data:image/")===0)return Nf(unescape($).split("base64,").pop());var V=s.loadFile($,!0);if(V!==void 0)return V}if(Q.nodeName==="CANVAS"){if(Q.width===0||Q.height===0)throw new Error("Given canvas must have data. Canvas width: "+Q.width+", height: "+Q.height);var ie;switch(T){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;default:ie="image/jpeg"}return Nf(Q.toDataURL(ie,1).split("base64,").pop())}},N=function(Q){var T=this.internal.collections[t+"images"];if(T){for(var $ in T)if(Q===T[$].alias)return T[$]}},b=function(Q,T,$){return Q||T||(Q=-96,T=-96),Q<0&&(Q=-1*$.width*72/Q/this.internal.scaleFactor),T<0&&(T=-1*$.height*72/T/this.internal.scaleFactor),Q===0&&(Q=T*$.width/$.height),T===0&&(T=Q*$.height/$.width),[Q,T]},j=function(Q,T,$,V,ie,W){var ne=b.call(this,$,V,ie),M=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,ue=u.call(this);if($=ne[0],V=ne[1],ue[ie.index]=ie,W){W*=Math.PI/180;var se=Math.cos(W),O=Math.sin(W),X=function(me){return me.toFixed(4)},re=[X(se),X(O),X(-1*O),X(se),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,M(Q),de(T+V),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([M($),"0","0",M(V),"0","0","cm"].join(" "))):this.internal.write([M($),"0","0",M(V),M(Q),de(T+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},y=s.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};s.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=s.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},U=s.__addimage__.sHashCode=function(Q){var T,$,V=0;if(typeof Q=="string")for($=Q.length,T=0;T<$;T++)V=(V<<5)-V+Q.charCodeAt(T),V|=0;else if(G(Q))for($=Q.byteLength/2,T=0;T<$;T++)V=(V<<5)-V+Q[T],V|=0;return V},k=s.__addimage__.validateStringAsBase64=function(Q){(Q=Q||"").toString().trim();var T=!0;return Q.length===0&&(T=!1),Q.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(Q.substr(0,Q.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Q.substr(-2))===!1&&(T=!1),T},q=s.__addimage__.extractImageFromDataUrl=function(Q){if(Q==null||!(Q=Q.trim()).startsWith("data:"))return null;var T=Q.indexOf(",");return T<0?null:Q.substring(0,T).trim().endsWith("base64")?Q.substring(T+1):null};s.__addimage__.isArrayBuffer=function(Q){return Q instanceof ArrayBuffer};var G=s.__addimage__.isArrayBufferView=function(Q){return Q instanceof Int8Array||Q instanceof Uint8Array||Q instanceof Uint8ClampedArray||Q instanceof Int16Array||Q instanceof Uint16Array||Q instanceof Int32Array||Q instanceof Uint32Array||Q instanceof Float32Array||Q instanceof Float64Array},H=s.__addimage__.binaryStringToUint8Array=function(Q){for(var T=Q.length,$=new Uint8Array(T),V=0;V<T;V++)$[V]=Q.charCodeAt(V);return $},I=s.__addimage__.arrayBufferToBinaryString=function(Q){for(var T="",$=G(Q)?Q:new Uint8Array(Q),V=0;V<$.length;V+=8192)T+=String.fromCharCode.apply(null,$.subarray(V,V+8192));return T};s.addImage=function(){var Q,T,$,V,ie,W,ne,M,de;if(typeof arguments[1]=="number"?(T=r,$=arguments[1],V=arguments[2],ie=arguments[3],W=arguments[4],ne=arguments[5],M=arguments[6],de=arguments[7]):(T=arguments[1],$=arguments[2],V=arguments[3],ie=arguments[4],W=arguments[5],ne=arguments[6],M=arguments[7],de=arguments[8]),xr(Q=arguments[0])==="object"&&!x(Q)&&"imageData"in Q){var ue=Q;Q=ue.imageData,T=ue.format||T||r,$=ue.x||$||0,V=ue.y||V||0,ie=ue.w||ue.width||ie,W=ue.h||ue.height||W,ne=ue.alias||ne,M=ue.compression||M,de=ue.rotation||ue.angle||de}var se=this.internal.getFilters();if(M===void 0&&se.indexOf("FlateEncode")!==-1&&(M="SLOW"),isNaN($)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var O=D.call(this,Q,T,ne,M);return j.call(this,$,V,ie,W,O,de),this};var D=function(Q,T,$,V){var ie,W,ne;if(typeof Q=="string"&&a(Q)===r){Q=unescape(Q);var M=P(Q,!1);(M!==""||(M=s.loadFile(Q,!0))!==void 0)&&(Q=M)}if(x(Q)&&(Q=g(Q,T)),T=a(Q,T),!f(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((ne=$)==null||ne.length===0)&&($=(function(de){return typeof de=="string"||G(de)?U(de):G(de.data)?U(de.data):null})(Q)),(ie=N.call(this,$))||(Q instanceof Uint8Array||T==="RGBA"||(W=Q,Q=H(Q)),ie=this["process"+T.toUpperCase()](Q,m.call(this),$,(function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in s.image_compression?de:E.NONE})(V),W)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},P=s.__addimage__.convertBase64ToBinaryString=function(Q,T){T=typeof T!="boolean"||T;var $,V="";if(typeof Q=="string"){var ie;$=(ie=q(Q))!==null&&ie!==void 0?ie:Q;try{V=Nf($)}catch(W){if(T)throw k($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};s.getImageProperties=function(Q){var T,$,V="";if(x(Q)&&(Q=g(Q)),typeof Q=="string"&&a(Q)===r&&((V=P(Q,!1))===""&&(V=s.loadFile(Q)||""),Q=V),$=a(Q),!f($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(Q instanceof Uint8Array||(Q=H(Q)),!(T=this["process"+$.toUpperCase()](Q)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=$,T}})(cs.API),(function(s){var t=function(r){if(r!==void 0&&r!="")return!0};cs.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),s.events.push(["putPage",function(r){for(var n,a,i,A=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,m=!1,f=0;f<u.length&&!m;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var x=0;x<u.length;x++){n=u[x];var g=this.internal.pdfEscape,N=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(b.objId),E=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+A(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+g(y(n.contents))+")",i+=" /Popup "+j.objId+" 0 R",i+=" /P "+d.objId+" 0 R",i+=" /T ("+g(y(E))+") >>",b.content=i;var U=b.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+A(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+U,n.open&&(i+=" /Open true"),i+=" >>",j.content=i,this.internal.write(b.objId,"0 R",j.objId,"0 R");break;case"freetext":a="/Rect ["+A(n.bounds.x)+" "+c(n.bounds.y)+" "+A(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(N(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var q=this.annotations._nameMap[n.options.name];n.options.pageNumber=q.page,n.options.top=q.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(N(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var G=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+G+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),s.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},s.link=function(r,n,a,i,A){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(r),y:u(n),w:d(r+a),h:u(n+i)},options:A,type:"link"})},s.textWithLink=function(r,n,a,i){var A,c,d=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){c=i.maxWidth;var m=this.splitTextToSize(r,c).length;A=Math.ceil(u*m)}else c=d,A=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=d/2),i.align==="right"&&(n-=d),this.link(n,a-u,c,A,i),d},s.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(cs.API),(function(s){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];s.__arabicParser__={};var i=s.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},A=s.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},c=s.__arabicParser__.isArabicEndLetter=function(b){return A(b)&&i(b)&&t[b.charCodeAt(0)].length<=2},d=s.__arabicParser__.isArabicAlfLetter=function(b){return A(b)&&a.indexOf(b.charCodeAt(0))>=0};s.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return A(b)&&i(b)&&t[b.charCodeAt(0)].length>=1};var u=s.__arabicParser__.arabicLetterHasFinalForm=function(b){return A(b)&&i(b)&&t[b.charCodeAt(0)].length>=2};s.__arabicParser__.arabicLetterHasInitialForm=function(b){return A(b)&&i(b)&&t[b.charCodeAt(0)].length>=3};var m=s.__arabicParser__.arabicLetterHasMedialForm=function(b){return A(b)&&i(b)&&t[b.charCodeAt(0)].length==4},f=s.__arabicParser__.resolveLigatures=function(b){var j=0,y=r,E="",U=0;for(j=0;j<b.length;j+=1)y[b.charCodeAt(j)]!==void 0?(U++,typeof(y=y[b.charCodeAt(j)])=="number"&&(E+=String.fromCharCode(y),y=r,U=0),j===b.length-1&&(y=r,E+=b.charAt(j-(U-1)),j-=U-1,U=0)):(y=r,E+=b.charAt(j-U),j-=U,U=0);return E};s.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var x=s.__arabicParser__.getCorrectForm=function(b,j,y){return A(b)?i(b)===!1?-1:!u(b)||!A(j)&&!A(y)||!A(y)&&c(j)||c(b)&&!A(j)||c(b)&&d(j)||c(b)&&c(j)?0:m(b)&&A(j)&&!c(j)&&A(y)&&u(y)?3:c(b)||!A(y)?1:2:-1},g=function(b){var j=0,y=0,E=0,U="",k="",q="",G=(b=b||"").split("\\s+"),H=[];for(j=0;j<G.length;j+=1){for(H.push(""),y=0;y<G[j].length;y+=1)U=G[j][y],k=G[j][y-1],q=G[j][y+1],A(U)?(E=x(U,k,q),H[j]+=E!==-1?String.fromCharCode(t[U.charCodeAt(0)][E]):U):H[j]+=U;H[j]=f(H[j])}return H.join(" ")},N=s.__arabicParser__.processArabic=s.processArabic=function(){var b,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(j)){var E=0;for(y=[],E=0;E<j.length;E+=1)Array.isArray(j[E])?y.push([g(j[E][0]),j[E][1],j[E][2]]):y.push([g(j[E])]);b=y}else b=g(j);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};s.events.push(["preProcessText",N])})(cs.API),cs.API.autoPrint=function(s){var t;return(s=s||{}).variant=s.variant||"non-conform",s.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(s){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(c){i=c}});var A={};Object.defineProperty(this,"style",{get:function(){return A},set:function(c){A=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},s.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(cs.API),(function(s){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(b){x=b}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(b){N=b}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},s.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},s.getTextDimensions=function(d,u){n.call(this);var m=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),x=u.scaleFactor||this.internal.scaleFactor,g=0,N=0,b=0,j=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var y=u.maxWidth;y>0?typeof d=="string"?d=this.splitTextToSize(d,y):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(U,k){return U.concat(j.splitTextToSize(k,y))},[])):d=Array.isArray(d)?d:[d];for(var E=0;E<d.length;E++)g<(b=this.getStringUnitWidth(d[E],{font:f})*m)&&(g=b);return g!==0&&(N=d.length),{w:g/=x,h:Math.max((N*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/x,0)}},s.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var A=s.cell=function(){var d;d=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===d.lineNumber?(d.x=(u.x||0)+(u.width||0),d.y=u.y||0):u.y+u.height+d.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=f.top,g&&x&&(this.printHeaderRow(d.lineNumber,!0),d.y+=x[0].height)):d.y=u.y+u.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-m,d.y+m,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+m,{align:"center",baseline:"top",maxWidth:d.width-m-m}):this.text(d.text,d.x+m,d.y+m,{align:"left",baseline:"top",maxWidth:d.width-m-m})),this.internal.__cell__.lastCell=d,this};s.table=function(d,u,m,f,x){if(n.call(this),!m)throw new Error("No data for PDF table.");var g,N,b,j,y=[],E=[],U=[],k={},q={},G=[],H=[],I=(x=x||{}).autoSize||!1,D=x.printHeaders!==!1,P=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,Q=x.margins||Object.assign({width:this.getPageWidth()},t),T=typeof x.padding=="number"?x.padding:3,$=x.headerBackgroundColor||"#c8c8c8",V=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=Q,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=V,this.setFontSize(P),f==null)E=y=Object.keys(m[0]),U=y.map(function(){return"left"});else if(Array.isArray(f)&&xr(f[0])==="object")for(y=f.map(function(ue){return ue.name}),E=f.map(function(ue){return ue.prompt||ue.name||""}),U=f.map(function(ue){return ue.align||"left"}),g=0;g<f.length;g+=1)q[f[g].name]=.7499990551181103*f[g].width;else Array.isArray(f)&&typeof f[0]=="string"&&(E=y=f,U=y.map(function(){return"left"}));if(I||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<y.length;g+=1){for(k[j=y[g]]=m.map(function(ue){return ue[j]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(E[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=k[j],this.setFont(void 0,"normal"),b=0;b<N.length;b+=1)G.push(this.getTextDimensions(N[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[j]=Math.max.apply(null,G)+T+T,G=[]}if(D){var ie={};for(g=0;g<y.length;g+=1)ie[y[g]]={},ie[y[g]].text=E[g],ie[y[g]].align=U[g];var W=c.call(this,ie,q);H=y.map(function(ue){return new i(d,u,q[ue],W,ie[ue].text,void 0,ie[ue].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var ne=f.reduce(function(ue,se){return ue[se.name]=se.align,ue},{});for(g=0;g<m.length;g+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:g,data:m[g]},this);var M=c.call(this,m[g],q);for(b=0;b<y.length;b+=1){var de=m[g][y[b]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:g,col:b,data:de},this),A.call(this,new i(d,u,q[y[b]],M,de,g+2,ne[y[b]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=u,this};var c=function(d,u){var m=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(d).map(function(g){var N=d[g];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,u[g]-m-m)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/x+m+m},this).reduce(function(g,N){return Math.max(g,N)},0)};s.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},s.printHeaderRow=function(d,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){m=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(m.y=this.internal.__cell__.margins.top||0,x.push(m)),m.lineNumber=d;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),A.call(this,m),this.setTextColor(N)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),r=!1}})(cs.API);var V5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},z5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Sx=K5(z5),G5=[100,200,300,400,500,600,700,800,900],cD=K5(G5);function j0(s){var t=s.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return V5[i=i||"normal"]?i:"normal"})(s.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(s.weight),a=(function(i){return typeof Sx[i=i||"normal"]=="number"?i:"normal"})(s.stretch);return{family:t,style:r,weight:n,stretch:a,src:s.src||[],ref:s.ref||{name:t,style:[a,r,n].join(" ")}}}function wy(s,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(s[t[a]])return s[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(s[t[a]])return s[t[a]]}var dD={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},vy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function by(s){return[s.stretch,s.style,s.weight,s.family].join(" ")}function yy(s){return s.trimLeft()}function uD(s,t){for(var r=0;r<s.length;){if(s.charAt(r)===t)return[s.substring(0,r),s.substring(r+1)];r+=1}return null}function hD(s){var t=s.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],s.substring(t[0].length)]}var cf,Ny,jy,ou,df,By,Cy,Sy,B0=["times"];function Ey(s,t,r,n,a){var i=4,A=_y;switch(a){case cs.API.image_compression.FAST:i=1,A=Fy;break;case cs.API.image_compression.MEDIUM:i=6,A=Uy;break;case cs.API.image_compression.SLOW:i=9,A=ky}s=(function(d,u,m,f){for(var x,g=d.length/u,N=new Uint8Array(d.length+g),b=[mD,Fy,_y,Uy,ky],j=0;j<g;j+=1){var y=j*u,E=d.subarray(y,y+u);if(f)N.set(f(E,m,x),y+j);else{for(var U=b.length,k=[],q=0;q<U;q+=1)k[q]=b[q](E,m,x);var G=pD(k.concat());N.set(k[G],y+j)}x=E}return N})(s,t,Math.ceil(r*n/8),A);var c=vx(s,{level:i});return cs.API.__addimage__.arrayBufferToBinaryString(c)}function mD(s){var t=Array.apply([],s);return t.unshift(0),t}function Fy(s,t){var r=s.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=s[a-t]||0;n[a+1]=s[a]-i+256&255}return n}function _y(s,t,r){var n=s.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var A=r&&r[i]||0;a[i+1]=s[i]-A+256&255}return a}function Uy(s,t,r){var n=s.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var A=s[i-t]||0,c=r&&r[i]||0;a[i+1]=s[i]+256-(A+c>>>1)&255}return a}function ky(s,t,r){var n=s.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var A=fD(s[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=s[i]-A+256&255}return a}function fD(s,t,r){if(s===t&&t===r)return s;var n=Math.abs(t-r),a=Math.abs(s-r),i=Math.abs(s+t-r-r);return n<=a&&n<=i?s:a<=i?t:r}function pD(s){var t=s.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function C0(s,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),A=(1<<r)-1;return $5(s,a)>>i&A}function Iy(s,t,r,n){var a=r*n,i=Math.floor(a/8),A=16-(a-8*i+n),c=(1<<n)-1,d=(t&c)<<A;(function(u,m,f){if(m+1<u.byteLength)u.setUint16(m,f,!1);else{var x=f>>8&255;u.setUint8(m,x)}})(s,i,$5(s,i)&~(c<<A)&65535|d)}function $5(s,t){return t+1<s.byteLength?s.getUint16(t,!1):s.getUint8(t)<<8}function gD(s){var t=0;if(s[t++]!==71||s[t++]!==73||s[t++]!==70||s[t++]!==56||(s[t++]+1&253)!=56||s[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=s[t++]|s[t++]<<8,n=s[t++]|s[t++]<<8,a=s[t++],i=a>>7,A=1<<1+(7&a);s[t++],s[t++];var c=null,d=null;i&&(c=t,d=A,t+=3*A);var u=!0,m=[],f=0,x=null,g=0,N=null;for(this.width=r,this.height=n;u&&t<s.length;)switch(s[t++]){case 33:switch(s[t++]){case 255:if(s[t]!==11||s[t+1]==78&&s[t+2]==69&&s[t+3]==84&&s[t+4]==83&&s[t+5]==67&&s[t+6]==65&&s[t+7]==80&&s[t+8]==69&&s[t+9]==50&&s[t+10]==46&&s[t+11]==48&&s[t+12]==3&&s[t+13]==1&&s[t+16]==0)t+=14,N=s[t++]|s[t++]<<8,t++;else for(t+=12;;){if(!((Q=s[t++])>=0))throw Error("Invalid block size");if(Q===0)break;t+=Q}break;case 249:if(s[t++]!==4||s[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=s[t++];f=s[t++]|s[t++]<<8,x=s[t++],1&b||(x=null),g=b>>2&7,t++;break;case 254:for(;;){if(!((Q=s[t++])>=0))throw Error("Invalid block size");if(Q===0)break;t+=Q}break;default:throw new Error("Unknown graphic control label: 0x"+s[t-1].toString(16))}break;case 44:var j=s[t++]|s[t++]<<8,y=s[t++]|s[t++]<<8,E=s[t++]|s[t++]<<8,U=s[t++]|s[t++]<<8,k=s[t++],q=k>>6&1,G=1<<1+(7&k),H=c,I=d,D=!1;k>>7&&(D=!0,H=t,I=G,t+=3*G);var P=t;for(t++;;){var Q;if(!((Q=s[t++])>=0))throw Error("Invalid block size");if(Q===0)break;t+=Q}m.push({x:j,y,width:E,height:U,has_local_palette:D,palette_offset:H,palette_size:I,data_offset:P,data_length:t-P,transparent_index:x,interlaced:!!q,delay:f,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+s[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return N},this.frameInfo=function(T){if(T<0||T>=m.length)throw new Error("Frame index out of range.");return m[T]},this.decodeAndBlitFrameBGRA=function(T,$){var V=this.frameInfo(T),ie=V.width*V.height,W=new Uint8Array(ie);Ly(s,V.data_offset,W,ie);var ne=V.palette_offset,M=V.transparent_index;M===null&&(M=256);var de=V.width,ue=r-de,se=de,O=4*(V.y*r+V.x),X=4*((V.y+V.height)*r+V.x),re=O,me=4*ue;V.interlaced===!0&&(me+=4*r*7);for(var xe=8,Z=0,oe=W.length;Z<oe;++Z){var z=W[Z];if(se===0&&(se=de,(re+=me)>=X&&(me=4*ue+4*r*(xe-1),re=O+(de+ue)*(xe<<1),xe>>=1)),z===M)re+=4;else{var fe=s[ne+3*z],Fe=s[ne+3*z+1],Ve=s[ne+3*z+2];$[re++]=Ve,$[re++]=Fe,$[re++]=fe,$[re++]=255}--se}},this.decodeAndBlitFrameRGBA=function(T,$){var V=this.frameInfo(T),ie=V.width*V.height,W=new Uint8Array(ie);Ly(s,V.data_offset,W,ie);var ne=V.palette_offset,M=V.transparent_index;M===null&&(M=256);var de=V.width,ue=r-de,se=de,O=4*(V.y*r+V.x),X=4*((V.y+V.height)*r+V.x),re=O,me=4*ue;V.interlaced===!0&&(me+=4*r*7);for(var xe=8,Z=0,oe=W.length;Z<oe;++Z){var z=W[Z];if(se===0&&(se=de,(re+=me)>=X&&(me=4*ue+4*r*(xe-1),re=O+(de+ue)*(xe<<1),xe>>=1)),z===M)re+=4;else{var fe=s[ne+3*z],Fe=s[ne+3*z+1],Ve=s[ne+3*z+2];$[re++]=fe,$[re++]=Fe,$[re++]=Ve,$[re++]=255}--se}}}function Ly(s,t,r,n){for(var a=s[t++],i=1<<a,A=i+1,c=A+1,d=a+1,u=(1<<d)-1,m=0,f=0,x=0,g=s[t++],N=new Int32Array(4096),b=null;;){for(;m<16&&g!==0;)f|=s[t++]<<m,m+=8,g===1?g=s[t++]:--g;if(m<d)break;var j=f&u;if(f>>=d,m-=d,j!==i){if(j===A)break;for(var y=j<c?j:b,E=0,U=y;U>i;)U=N[U]>>8,++E;var k=U;if(x+E+(y!==j?1:0)>n)return void Er.log("Warning, gif stream longer than expected.");r[x++]=k;var q=x+=E;for(y!==j&&(r[x++]=k),U=y;E--;)U=N[U],r[--q]=255&U,U>>=8;b!==null&&c<4096&&(N[c++]=b<<8|k,c>=u+1&&d<12&&(++d,u=u<<1|1)),b=j}else c=A+1,u=(1<<(d=a+1))-1,b=null}return x!==n&&Er.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function S0(s){var t,r,n,a,i,A=Math.floor,c=new Array(64),d=new Array(64),u=new Array(64),m=new Array(64),f=new Array(65535),x=new Array(65535),g=new Array(64),N=new Array(64),b=[],j=0,y=7,E=new Array(64),U=new Array(64),k=new Array(64),q=new Array(256),G=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(O,X){for(var re=0,me=0,xe=new Array,Z=1;Z<=16;Z++){for(var oe=1;oe<=O[Z];oe++)xe[X[me]]=[],xe[X[me]][0]=re,xe[X[me]][1]=Z,me++,re++;re*=2}return xe}function ne(O){for(var X=O[0],re=O[1]-1;re>=0;)X&1<<re&&(j|=1<<y),re--,--y<0&&(j==255?(M(255),M(0)):M(j),y=7,j=0)}function M(O){b.push(O)}function de(O){M(O>>8&255),M(255&O)}function ue(O,X,re,me,xe){for(var Z,oe=xe[0],z=xe[240],fe=(function(pe,Pe){var et,rt,ht,Re,Oe,ft,_t,xt,dt,Ke,it=0;for(dt=0;dt<8;++dt){et=pe[it],rt=pe[it+1],ht=pe[it+2],Re=pe[it+3],Oe=pe[it+4],ft=pe[it+5],_t=pe[it+6];var Xt=et+(xt=pe[it+7]),Lt=et-xt,Et=rt+_t,Vt=rt-_t,Tt=ht+ft,Ft=ht-ft,ds=Re+Oe,Pt=Re-Oe,Bt=Xt+ds,xs=Xt-ds,bt=Et+Tt,Wt=Et-Tt;pe[it]=Bt+bt,pe[it+4]=Bt-bt;var Ct=.707106781*(Wt+xs);pe[it+2]=xs+Ct,pe[it+6]=xs-Ct;var Ks=.382683433*((Bt=Pt+Ft)-(Wt=Vt+Lt)),_s=.5411961*Bt+Ks,Ys=1.306562965*Wt+Ks,Lr=.707106781*(bt=Ft+Vt),Ut=Lt+Lr,$s=Lt-Lr;pe[it+5]=$s+_s,pe[it+3]=$s-_s,pe[it+1]=Ut+Ys,pe[it+7]=Ut-Ys,it+=8}for(it=0,dt=0;dt<8;++dt){et=pe[it],rt=pe[it+8],ht=pe[it+16],Re=pe[it+24],Oe=pe[it+32],ft=pe[it+40],_t=pe[it+48];var Hr=et+(xt=pe[it+56]),Vs=et-xt,tr=rt+_t,Ts=rt-_t,Ps=ht+ft,hr=ht-ft,ra=Re+Oe,wa=Re-Oe,_n=Hr+ra,He=Hr-ra,us=tr+Ps,ys=tr-Ps;pe[it]=_n+us,pe[it+32]=_n-us;var Ws=.707106781*(ys+He);pe[it+16]=He+Ws,pe[it+48]=He-Ws;var je=.382683433*((_n=wa+hr)-(ys=Ts+Vs)),bs=.5411961*_n+je,Js=1.306562965*ys+je,mn=.707106781*(us=hr+Ts),Za=Vs+mn,Ha=Vs-mn;pe[it+40]=Ha+bs,pe[it+24]=Ha-bs,pe[it+8]=Za+Js,pe[it+56]=Za-Js,it++}for(dt=0;dt<64;++dt)Ke=pe[dt]*Pe[dt],g[dt]=Ke>0?Ke+.5|0:Ke-.5|0;return g})(O,X),Fe=0;Fe<64;++Fe)N[H[Fe]]=fe[Fe];var Ve=N[0]-re;re=N[0],Ve==0?ne(me[0]):(ne(me[x[Z=32767+Ve]]),ne(f[Z]));for(var qe=63;qe>0&&N[qe]==0;)qe--;if(qe==0)return ne(oe),re;for(var st,le=1;le<=qe;){for(var Te=le;N[le]==0&&le<=qe;)++le;var ze=le-Te;if(ze>=16){st=ze>>4;for(var ye=1;ye<=st;++ye)ne(z);ze&=15}Z=32767+N[le],ne(xe[(ze<<4)+x[Z]]),ne(f[Z]),le++}return qe!=63&&ne(oe),re}function se(O){O=Math.min(Math.max(O,1),100),i!=O&&((function(X){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],me=0;me<64;me++){var xe=A((re[me]*X+50)/100);xe=Math.min(Math.max(xe,1),255),c[H[me]]=xe}for(var Z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var z=A((Z[oe]*X+50)/100);z=Math.min(Math.max(z,1),255),d[H[oe]]=z}for(var fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,Ve=0;Ve<8;Ve++)for(var qe=0;qe<8;qe++)u[Fe]=1/(c[H[Fe]]*fe[Ve]*fe[qe]*8),m[Fe]=1/(d[H[Fe]]*fe[Ve]*fe[qe]*8),Fe++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),i=O)}this.encode=function(O,X){X&&se(X),b=new Array,j=0,y=7,de(65496),de(65504),de(16),M(74),M(70),M(73),M(70),M(0),M(1),M(1),M(0),de(1),de(1),M(0),M(0),(function(){de(65499),de(132),M(0);for(var rt=0;rt<64;rt++)M(c[rt]);M(1);for(var ht=0;ht<64;ht++)M(d[ht])})(),(function(rt,ht){de(65472),de(17),M(8),de(ht),de(rt),M(3),M(1),M(17),M(0),M(2),M(17),M(1),M(3),M(17),M(1)})(O.width,O.height),(function(){de(65476),de(418),M(0);for(var rt=0;rt<16;rt++)M(I[rt+1]);for(var ht=0;ht<=11;ht++)M(D[ht]);M(16);for(var Re=0;Re<16;Re++)M(P[Re+1]);for(var Oe=0;Oe<=161;Oe++)M(Q[Oe]);M(1);for(var ft=0;ft<16;ft++)M(T[ft+1]);for(var _t=0;_t<=11;_t++)M($[_t]);M(17);for(var xt=0;xt<16;xt++)M(V[xt+1]);for(var dt=0;dt<=161;dt++)M(ie[dt])})(),de(65498),de(12),M(3),M(1),M(0),M(2),M(17),M(3),M(17),M(0),M(63),M(0);var re=0,me=0,xe=0;j=0,y=7,this.encode.displayName="_encode_";for(var Z,oe,z,fe,Fe,Ve,qe,st,le,Te=O.data,ze=O.width,ye=O.height,pe=4*ze,Pe=0;Pe<ye;){for(Z=0;Z<pe;){for(Fe=pe*Pe+Z,qe=-1,st=0,le=0;le<64;le++)Ve=Fe+(st=le>>3)*pe+(qe=4*(7&le)),Pe+st>=ye&&(Ve-=pe*(Pe+1+st-ye)),Z+qe>=pe&&(Ve-=Z+qe-pe+4),oe=Te[Ve++],z=Te[Ve++],fe=Te[Ve++],E[le]=(G[oe]+G[z+256|0]+G[fe+512|0]>>16)-128,U[le]=(G[oe+768|0]+G[z+1024|0]+G[fe+1280|0]>>16)-128,k[le]=(G[oe+1280|0]+G[z+1536|0]+G[fe+1792|0]>>16)-128;re=ue(E,u,re,t,n),me=ue(U,m,me,r,a),xe=ue(k,m,xe,r,a),Z+=32}Pe+=8}if(y>=0){var et=[];et[1]=y+1,et[0]=(1<<y+1)-1,ne(et)}return de(65497),new Uint8Array(b)},s=s||50,(function(){for(var O=String.fromCharCode,X=0;X<256;X++)q[X]=O(X)})(),t=W(I,D),r=W(T,$),n=W(P,Q),a=W(V,ie),(function(){for(var O=1,X=2,re=1;re<=15;re++){for(var me=O;me<X;me++)x[32767+me]=re,f[32767+me]=[],f[32767+me][1]=re,f[32767+me][0]=me;for(var xe=-(X-1);xe<=-O;xe++)x[32767+xe]=re,f[32767+xe]=[],f[32767+xe][1]=re,f[32767+xe][0]=X-1+xe;O<<=1,X<<=1}})(),(function(){for(var O=0;O<256;O++)G[O]=19595*O,G[O+256|0]=38470*O,G[O+512|0]=7471*O+32768,G[O+768|0]=-11059*O,G[O+1024|0]=-21709*O,G[O+1280|0]=32768*O+8421375,G[O+1536|0]=-27439*O,G[O+1792|0]=-5329*O})(),se(s)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qo(s,t){if(this.pos=0,this.buffer=s,this.datav=new DataView(s.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Qy(s){function t(D){if(!D)throw Error("assert :P")}function r(D,P,Q){for(var T=0;4>T;T++)if(D[P+T]!=Q.charCodeAt(T))return!0;return!1}function n(D,P,Q,T,$){for(var V=0;V<$;V++)D[P+V]=Q[T+V]}function a(D,P,Q,T){for(var $=0;$<T;$++)D[P+$]=Q}function i(D){return new Int32Array(D)}function A(D,P){for(var Q=[],T=0;T<D;T++)Q.push(new P);return Q}function c(D,P){var Q=[];return(function T($,V,ie){for(var W=ie[V],ne=0;ne<W&&($.push(ie.length>V+1?[]:new P),!(ie.length<V+1));ne++)T($[ne],V+1,ie)})(Q,0,D),Q}var d=function(){var D=this;function P(p,v){for(var F=1<<v-1>>>0;p&F;)F>>>=1;return F?(p&F-1)+F:p}function Q(p,v,F,R,J){t(!(R%F));do p[v+(R-=F)]=J;while(0<R)}function T(p,v,F,R,J){if(t(2328>=J),512>=J)var te=i(512);else if((te=i(J))==null)return 0;return(function(ae,ce,he,we,_e,Ge){var ve,Ie,Me=ce,ot=1<<he,We=i(16),nt=i(16);for(t(_e!=0),t(we!=null),t(ae!=null),t(0<he),Ie=0;Ie<_e;++Ie){if(15<we[Ie])return 0;++We[we[Ie]]}if(We[0]==_e)return 0;for(nt[1]=0,ve=1;15>ve;++ve){if(We[ve]>1<<ve)return 0;nt[ve+1]=nt[ve]+We[ve]}for(Ie=0;Ie<_e;++Ie)ve=we[Ie],0<we[Ie]&&(Ge[nt[ve]++]=Ie);if(nt[15]==1)return(we=new $).g=0,we.value=Ge[0],Q(ae,Me,1,ot,we),ot;var at,ut=-1,mt=ot-1,os=0,Yt=1,Bs=1,es=1<<he;for(Ie=0,ve=1,_e=2;ve<=he;++ve,_e<<=1){if(Yt+=Bs<<=1,0>(Bs-=We[ve]))return 0;for(;0<We[ve];--We[ve])(we=new $).g=ve,we.value=Ge[Ie++],Q(ae,Me+os,_e,es,we),os=P(os,ve)}for(ve=he+1,_e=2;15>=ve;++ve,_e<<=1){if(Yt+=Bs<<=1,0>(Bs-=We[ve]))return 0;for(;0<We[ve];--We[ve]){if(we=new $,(os&mt)!=ut){for(Me+=es,at=1<<(ut=ve)-he;15>ut&&!(0>=(at-=We[ut]));)++ut,at<<=1;ot+=es=1<<(at=ut-he),ae[ce+(ut=os&mt)].g=at+he,ae[ce+ut].value=Me-ce-ut}we.g=ve-he,we.value=Ge[Ie++],Q(ae,Me+(os>>he),_e,es,we),os=P(os,ve)}}return Yt!=2*nt[15]-1?0:ot})(p,v,F,R,J,te)}function $(){this.value=this.g=0}function V(){this.value=this.g=0}function ie(){this.G=A(5,$),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=A(Ca,V)}function W(p,v,F,R){t(p!=null),t(v!=null),t(2147483648>R),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=F,p.Jd=v,p.Yc=F+R,p.Zc=4<=R?F+R-4+1:F,oe(p)}function ne(p,v){for(var F=0;0<v--;)F|=fe(p,128)<<v;return F}function M(p,v){var F=ne(p,v);return z(p)?-F:F}function de(p,v,F,R){var J,te=0;for(t(p!=null),t(v!=null),t(4294967288>R),p.Sb=R,p.Ra=0,p.u=0,p.h=0,4<R&&(R=4),J=0;J<R;++J)te+=v[F+J]<<8*J;p.Ra=te,p.bb=R,p.oa=v,p.pa=F}function ue(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Zi-8>>>0,++p.bb,p.u-=8;me(p)&&(p.h=1,p.u=0)}function se(p,v){if(t(0<=v),!p.h&&v<=da){var F=re(p)&ca[v];return p.u+=v,ue(p),F}return p.h=1,p.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function re(p){return p.Ra>>>(p.u&Zi-1)>>>0}function me(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Zi}function xe(p,v){p.u=v,p.h=me(p)}function Z(p){p.u>=oi&&(t(p.u>=oi),ue(p))}function oe(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function z(p){return ne(p,1)}function fe(p,v){var F=p.Ca;0>p.b&&oe(p);var R=p.b,J=F*v>>>8,te=(p.I>>>R>J)+0;for(te?(F-=J,p.I-=J+1<<R>>>0):F=J+1,R=F,J=0;256<=R;)J+=8,R>>=8;return R=7^J+Fi[R],p.b-=R,p.Ca=(F<<R)-1,te}function Fe(p,v,F){p[v+0]=F>>24&255,p[v+1]=F>>16&255,p[v+2]=F>>8&255,p[v+3]=255&F}function Ve(p,v){return p[v+0]|p[v+1]<<8}function qe(p,v){return Ve(p,v)|p[v+2]<<16}function st(p,v){return Ve(p,v)|Ve(p,v+2)<<16}function le(p,v){var F=1<<v;return t(p!=null),t(0<v),p.X=i(F),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function Te(p,v){t(p!=null),t(v!=null),t(p.Xa==v.Xa),n(v.X,0,p.X,0,1<<v.Xa)}function ze(){this.X=[],this.Xa=this.Mb=0}function ye(p,v,F,R){t(F!=null),t(R!=null);var J=F[0],te=R[0];return J==0&&(J=(p*te+v/2)/v),te==0&&(te=(v*J+p/2)/p),0>=J||0>=te?0:(F[0]=J,R[0]=te,1)}function pe(p,v){return p+(1<<v)-1>>>v}function Pe(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function et(p,v){D[v]=function(F,R,J,te,ae,ce,he){var we;for(we=0;we<ae;++we){var _e=D[p](ce[he+we-1],J,te+we);ce[he+we]=Pe(F[R+we],_e)}}}function rt(){this.ud=this.hd=this.jd=0}function ht(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function Re(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Oe(p,v){return Re(p+(p-v+.5>>1))}function ft(p,v,F){return Math.abs(v-F)-Math.abs(p-F)}function _t(p,v,F,R,J,te,ae){for(R=te[ae-1],F=0;F<J;++F)te[ae+F]=R=Pe(p[v+F],R)}function xt(p,v,F,R,J){var te;for(te=0;te<F;++te){var ae=p[v+te],ce=ae>>8&255,he=16711935&(he=(he=16711935&ae)+((ce<<16)+ce));R[J+te]=(4278255360&ae)+he>>>0}}function dt(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function Ke(p,v,F,R,J,te){var ae;for(ae=0;ae<R;++ae){var ce=v[F+ae],he=ce>>>8,we=ce,_e=255&(_e=(_e=ce>>>16)+((p.jd<<24>>24)*(he<<24>>24)>>>5));we=255&(we=(we+=(p.hd<<24>>24)*(he<<24>>24)>>>5)+((p.ud<<24>>24)*(_e<<24>>24)>>>5)),J[te+ae]=(4278255360&ce)+(_e<<16)+we}}function it(p,v,F,R,J){D[v]=function(te,ae,ce,he,we,_e,Ge,ve,Ie){for(he=Ge;he<ve;++he)for(Ge=0;Ge<Ie;++Ge)we[_e++]=J(ce[R(te[ae++])])},D[p]=function(te,ae,ce,he,we,_e,Ge){var ve=8>>te.b,Ie=te.Ea,Me=te.K[0],ot=te.w;if(8>ve)for(te=(1<<te.b)-1,ot=(1<<ve)-1;ae<ce;++ae){var We,nt=0;for(We=0;We<Ie;++We)We&te||(nt=R(he[we++])),_e[Ge++]=J(Me[nt&ot]),nt>>=ve}else D["VP8LMapColor"+F](he,we,Me,ot,_e,Ge,ae,ce,Ie)}}function Xt(p,v,F,R,J){for(F=v+F;v<F;){var te=p[v++];R[J++]=te>>16&255,R[J++]=te>>8&255,R[J++]=255&te}}function Lt(p,v,F,R,J){for(F=v+F;v<F;){var te=p[v++];R[J++]=te>>16&255,R[J++]=te>>8&255,R[J++]=255&te,R[J++]=te>>24&255}}function Et(p,v,F,R,J){for(F=v+F;v<F;){var te=(ae=p[v++])>>16&240|ae>>12&15,ae=240&ae|ae>>28&15;R[J++]=te,R[J++]=ae}}function Vt(p,v,F,R,J){for(F=v+F;v<F;){var te=(ae=p[v++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;R[J++]=te,R[J++]=ae}}function Tt(p,v,F,R,J){for(F=v+F;v<F;){var te=p[v++];R[J++]=255&te,R[J++]=te>>8&255,R[J++]=te>>16&255}}function Ft(p,v,F,R,J,te){if(te==0)for(F=v+F;v<F;)Fe(R,((te=p[v++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),J+=32;else n(R,J,p,v,F)}function ds(p,v){D[v][0]=D[p+"0"],D[v][1]=D[p+"1"],D[v][2]=D[p+"2"],D[v][3]=D[p+"3"],D[v][4]=D[p+"4"],D[v][5]=D[p+"5"],D[v][6]=D[p+"6"],D[v][7]=D[p+"7"],D[v][8]=D[p+"8"],D[v][9]=D[p+"9"],D[v][10]=D[p+"10"],D[v][11]=D[p+"11"],D[v][12]=D[p+"12"],D[v][13]=D[p+"13"],D[v][14]=D[p+"0"],D[v][15]=D[p+"0"]}function Pt(p){return p==_||p==K||p==Ae||p==Be}function Bt(){this.eb=[],this.size=this.A=this.fb=0}function xs(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bt,this.f.kb=new xs,this.sd=null}function Wt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ks(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function _s(p,v){var F=p.T,R=v.ba.f.RGBA,J=R.eb,te=R.fb+p.ka*R.A,ae=Ea[v.ba.S],ce=p.y,he=p.O,we=p.f,_e=p.N,Ge=p.ea,ve=p.W,Ie=v.cc,Me=v.dc,ot=v.Mc,We=v.Nc,nt=p.ka,at=p.ka+p.T,ut=p.U,mt=ut+1>>1;for(nt==0?ae(ce,he,null,null,we,_e,Ge,ve,we,_e,Ge,ve,J,te,null,null,ut):(ae(v.ec,v.fc,ce,he,Ie,Me,ot,We,we,_e,Ge,ve,J,te-R.A,J,te,ut),++F);nt+2<at;nt+=2)Ie=we,Me=_e,ot=Ge,We=ve,_e+=p.Rc,ve+=p.Rc,te+=2*R.A,ae(ce,(he+=2*p.fa)-p.fa,ce,he,Ie,Me,ot,We,we,_e,Ge,ve,J,te-R.A,J,te,ut);return he+=p.fa,p.j+at<p.o?(n(v.ec,v.fc,ce,he,ut),n(v.cc,v.dc,we,_e,mt),n(v.Mc,v.Nc,Ge,ve,mt),F--):1&at||ae(ce,he,null,null,we,_e,Ge,ve,we,_e,Ge,ve,J,te+R.A,null,null,ut),F}function Ys(p,v,F){var R=p.F,J=[p.J];if(R!=null){var te=p.U,ae=v.ba.S,ce=ae==WA||ae==Ae;v=v.ba.f.RGBA;var he=[0],we=p.ka;he[0]=p.T,p.Kb&&(we==0?--he[0]:(--we,J[0]-=p.width),p.j+p.ka+p.T==p.o&&(he[0]=p.o-p.j-we));var _e=v.eb;we=v.fb+we*v.A,p=GA(R,J[0],p.width,te,he,_e,we+(ce?0:3),v.A),t(F==he),p&&Pt(ae)&&Bl(_e,we,ce,te,he,v.A)}return 0}function Lr(p){var v=p.ma,F=v.ba.S,R=11>F,J=F==Ro||F==$A||F==WA||F==lr||F==12||Pt(F);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!wl(v.Oa,p,J?11:12))return 0;if(J&&Pt(F)&&qi(),p.da)alert("todo:use_scaling");else{if(R){if(v.Ib=Ks,p.Kb){if(F=p.U+1>>1,v.memory=i(p.U+2*F),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+F,v.Ib=_s,qi()}}else alert("todo:EmitYUV");J&&(v.Jb=Ys,R&&la())}if(R&&!kn){for(p=0;256>p;++p)Fa[p]=89858*(p-128)+ki>>Oo,_a[p]=-22014*(p-128)+ki,ec[p]=-45773*(p-128),AA[p]=113618*(p-128)+ki>>Oo;for(p=ar;p<Ar;++p)v=76283*(p-16)+ki>>Oo,Ld[p-ar]=Mr(v,255),Wh[p-ar]=Mr(v+8>>4,15);kn=1}return 1}function Ut(p){var v=p.ma,F=p.U,R=p.T;return t(!(1&p.ka)),0>=F||0>=R?0:(F=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,F),v.Dc+=F,1)}function $s(p){p.ma.memory=null}function Hr(p,v,F,R){return se(p,8)!=47?0:(v[0]=se(p,14)+1,F[0]=se(p,14)+1,R[0]=se(p,1),se(p,3)!=0?0:!p.h)}function Vs(p,v){if(4>p)return p+1;var F=p-2>>1;return(2+(1&p)<<F)+se(v,F)+1}function tr(p,v){return 120<v?v-120:1<=(F=((F=zr[v-1])>>4)*p+(8-(15&F)))?F:1;var F}function Ts(p,v,F){var R=re(F),J=p[v+=255&R].g-8;return 0<J&&(xe(F,F.u+8),R=re(F),v+=p[v].value,v+=R&(1<<J)-1),xe(F,F.u+p[v].g),p[v].value}function Ps(p,v,F){return F.g+=p.g,F.value+=p.value<<v>>>0,t(8>=F.g),p.g}function hr(p,v,F){var R=p.xc;return t((v=R==0?0:p.vc[p.md*(F>>R)+(v>>R)])<p.Wb),p.Ya[v]}function ra(p,v,F,R){var J=p.ab,te=p.c*v,ae=p.C;v=ae+v;var ce=F,he=R;for(R=p.Ta,F=p.Ua;0<J--;){var we=p.gc[J],_e=ae,Ge=v,ve=ce,Ie=he,Me=(he=R,ce=F,we.Ea);switch(t(_e<Ge),t(Ge<=we.nc),we.hc){case 2:Tr(ve,Ie,(Ge-_e)*Me,he,ce);break;case 0:var ot=_e,We=Ge,nt=he,at=ce,ut=(es=we).Ea;ot==0&&(_i(ve,Ie,null,null,1,nt,at),_t(ve,Ie+1,0,0,ut-1,nt,at+1),Ie+=ut,at+=ut,++ot);for(var mt=1<<es.b,os=mt-1,Yt=pe(ut,es.b),Bs=es.K,es=es.w+(ot>>es.b)*Yt;ot<We;){var Rs=Bs,Gr=es,Cs=1;for(li(ve,Ie,nt,at-ut,1,nt,at);Cs<ut;){var Jt=(Cs&~os)+mt;Jt>ut&&(Jt=ut),(0,Lo[Rs[Gr++]>>8&15])(ve,Ie+ +Cs,nt,at+Cs-ut,Jt-Cs,nt,at+Cs),Cs=Jt}Ie+=ut,at+=ut,++ot&os||(es+=Yt)}Ge!=we.nc&&n(he,ce-Me,he,ce+(Ge-_e-1)*Me,Me);break;case 1:for(Me=ve,We=Ie,ut=(ve=we.Ea)-(at=ve&~(nt=(Ie=1<<we.b)-1)),ot=pe(ve,we.b),mt=we.K,we=we.w+(_e>>we.b)*ot;_e<Ge;){for(os=mt,Yt=we,Bs=new rt,es=We+at,Rs=We+ve;We<es;)dt(os[Yt++],Bs),bl(Bs,Me,We,Ie,he,ce),We+=Ie,ce+=Ie;We<Rs&&(dt(os[Yt++],Bs),bl(Bs,Me,We,ut,he,ce),We+=ut,ce+=ut),++_e&nt||(we+=ot)}break;case 3:if(ve==he&&Ie==ce&&0<we.b){for(We=he,ve=Me=ce+(Ge-_e)*Me-(at=(Ge-_e)*pe(we.Ea,we.b)),Ie=he,nt=ce,ot=[],at=(ut=at)-1;0<=at;--at)ot[at]=Ie[nt+at];for(at=ut-1;0<=at;--at)We[ve+at]=ot[at];ko(we,_e,Ge,he,Me,he,ce)}else ko(we,_e,Ge,ve,Ie,he,ce)}ce=R,he=F}he!=F&&n(R,F,ce,he,te)}function wa(p,v){var F=p.V,R=p.Ba+p.c*p.C,J=v-p.C;if(t(v<=p.l.o),t(16>=J),0<J){var te=p.l,ae=p.Ta,ce=p.Ua,he=te.width;if(ra(p,J,F,R),J=ce=[ce],t((F=p.C)<(R=v)),t(te.v<te.va),R>te.o&&(R=te.o),F<te.j){var we=te.j-F;F=te.j,J[0]+=we*he}if(F>=R?F=0:(J[0]+=4*te.v,te.ka=F-te.j,te.U=te.va-te.v,te.T=R-F,F=1),F){if(ce=ce[0],11>(F=p.ca).S){var _e=F.f.RGBA,Ge=(R=F.S,J=te.U,te=te.T,we=_e.eb,_e.A),ve=te;for(_e=_e.fb+p.Ma*_e.A;0<ve--;){var Ie=ae,Me=ce,ot=J,We=we,nt=_e;switch(R){case Wc:eo(Ie,Me,ot,We,nt);break;case Ro:to(Ie,Me,ot,We,nt);break;case _:to(Ie,Me,ot,We,nt),Bl(We,nt,0,ot,1,0);break;case Ru:yl(Ie,Me,ot,We,nt);break;case $A:Ft(Ie,Me,ot,We,nt,1);break;case K:Ft(Ie,Me,ot,We,nt,1),Bl(We,nt,0,ot,1,0);break;case WA:Ft(Ie,Me,ot,We,nt,0);break;case Ae:Ft(Ie,Me,ot,We,nt,0),Bl(We,nt,1,ot,1,0);break;case lr:Qo(Ie,Me,ot,We,nt);break;case Be:Qo(Ie,Me,ot,We,nt),Sd(We,nt,ot,1,0);break;case qA:To(Ie,Me,ot,We,nt);break;default:t(0)}ce+=he,_e+=Ge}p.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=F.height)}}p.C=v,t(p.C<=p.i)}function _n(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var F=p.Ya[v].G,R=p.Ya[v].H;if(0<F[1][R[1]+0].g||0<F[2][R[2]+0].g||0<F[3][R[3]+0].g)return 0}return 1}function He(p,v,F,R,J,te){if(p.Z!=0){var ae=p.qd,ce=p.rd;for(t($n[p.Z]!=null);v<F;++v)$n[p.Z](ae,ce,R,J,R,J,te),ae=R,ce=J,J+=te;p.qd=ae,p.rd=ce}}function us(p,v){var F=p.l.ma,R=F.Z==0||F.Z==1?p.l.j:p.C;if(R=p.C<R?R:p.C,t(v<=p.l.o),v>R){var J=p.l.width,te=F.ca,ae=F.tb+J*R,ce=p.V,he=p.Ba+p.c*R,we=p.gc;t(p.ab==1),t(we[0].hc==3),Ga(we[0],R,v,ce,he,te,ae),He(F,R,v,te,ae,J)}p.C=p.Ma=v}function ys(p,v,F,R,J,te,ae){var ce=p.$/R,he=p.$%R,we=p.m,_e=p.s,Ge=F+p.$,ve=Ge;J=F+R*J;var Ie=F+R*te,Me=280+_e.ua,ot=p.Pb?ce:16777216,We=0<_e.ua?_e.Wa:null,nt=_e.wc,at=Ge<Ie?hr(_e,he,ce):null;t(p.C<te),t(Ie<=J);var ut=!1;e:for(;;){for(;ut||Ge<Ie;){var mt=0;if(ce>=ot){var os=Ge-F;t((ot=p).Pb),ot.wd=ot.m,ot.xd=os,0<ot.s.ua&&Te(ot.s.Wa,ot.s.vb),ot=ce+YA}if(he&nt||(at=hr(_e,he,ce)),t(at!=null),at.Qb&&(v[Ge]=at.qb,ut=!0),!ut)if(Z(we),at.jc){mt=we,os=v;var Yt=Ge,Bs=at.pd[re(mt)&Ca-1];t(at.jc),256>Bs.g?(xe(mt,mt.u+Bs.g),os[Yt]=Bs.value,mt=0):(xe(mt,mt.u+Bs.g-256),t(256<=Bs.value),mt=Bs.value),mt==0&&(ut=!0)}else mt=Ts(at.G[0],at.H[0],we);if(we.h)break;if(ut||256>mt){if(!ut)if(at.nd)v[Ge]=(at.qb|mt<<8)>>>0;else{if(Z(we),ut=Ts(at.G[1],at.H[1],we),Z(we),os=Ts(at.G[2],at.H[2],we),Yt=Ts(at.G[3],at.H[3],we),we.h)break;v[Ge]=(Yt<<24|ut<<16|mt<<8|os)>>>0}if(ut=!1,++Ge,++he>=R&&(he=0,++ce,ae!=null&&ce<=te&&!(ce%16)&&ae(p,ce),We!=null))for(;ve<Ge;)mt=v[ve++],We.X[(506832829*mt&4294967295)>>>We.Mb]=mt}else if(280>mt){if(mt=Vs(mt-256,we),os=Ts(at.G[4],at.H[4],we),Z(we),os=tr(R,os=Vs(os,we)),we.h)break;if(Ge-F<os||J-Ge<mt)break e;for(Yt=0;Yt<mt;++Yt)v[Ge+Yt]=v[Ge+Yt-os];for(Ge+=mt,he+=mt;he>=R;)he-=R,++ce,ae!=null&&ce<=te&&!(ce%16)&&ae(p,ce);if(t(Ge<=J),he&nt&&(at=hr(_e,he,ce)),We!=null)for(;ve<Ge;)mt=v[ve++],We.X[(506832829*mt&4294967295)>>>We.Mb]=mt}else{if(!(mt<Me))break e;for(ut=mt-280,t(We!=null);ve<Ge;)mt=v[ve++],We.X[(506832829*mt&4294967295)>>>We.Mb]=mt;mt=Ge,t(!(ut>>>(os=We).Xa)),v[mt]=os.X[ut],ut=!0}ut||t(we.h==me(we))}if(p.Pb&&we.h&&Ge<J)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Te(p.s.vb,p.s.Wa);else{if(we.h)break e;ae?.(p,ce>te?te:ce),p.a=0,p.$=Ge-F}return 1}return p.a=3,0}function Ws(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,t(p!=null)}function je(){var p=new fs;return p==null?null:(p.a=0,p.xb=XA,ds("Predictor","VP8LPredictors"),ds("Predictor","VP8LPredictors_C"),ds("PredictorAdd","VP8LPredictorsAdd"),ds("PredictorAdd","VP8LPredictorsAdd_C"),Tr=xt,bl=Ke,eo=Xt,to=Lt,Qo=Et,To=Vt,yl=Tt,D.VP8LMapColor32b=Ai,D.VP8LMapColor8b=Io,p)}function bs(p,v,F,R,J){var te=1,ae=[p],ce=[v],he=R.m,we=R.s,_e=null,Ge=0;e:for(;;){if(F)for(;te&&se(he,1);){var ve=ae,Ie=ce,Me=R,ot=1,We=Me.m,nt=Me.gc[Me.ab],at=se(We,2);if(Me.Oc&1<<at)te=0;else{switch(Me.Oc|=1<<at,nt.hc=at,nt.Ea=ve[0],nt.nc=Ie[0],nt.K=[null],++Me.ab,t(4>=Me.ab),at){case 0:case 1:nt.b=se(We,3)+2,ot=bs(pe(nt.Ea,nt.b),pe(nt.nc,nt.b),0,Me,nt.K),nt.K=nt.K[0];break;case 3:var ut,mt=se(We,8)+1,os=16<mt?0:4<mt?1:2<mt?2:3;if(ve[0]=pe(nt.Ea,os),nt.b=os,ut=ot=bs(mt,1,0,Me,nt.K)){var Yt,Bs=mt,es=nt,Rs=1<<(8>>es.b),Gr=i(Rs);if(Gr==null)ut=0;else{var Cs=es.K[0],Jt=es.w;for(Gr[0]=es.K[0][0],Yt=1;Yt<1*Bs;++Yt)Gr[Yt]=Pe(Cs[Jt+Yt],Gr[Yt-1]);for(;Yt<4*Rs;++Yt)Gr[Yt]=0;es.K[0]=null,es.K[0]=Gr,ut=1}}ot=ut;break;case 2:break;default:t(0)}te=ot}}if(ae=ae[0],ce=ce[0],te&&se(he,1)&&!(te=1<=(Ge=se(he,4))&&11>=Ge)){R.a=3;break e}var St;if(St=te)t:{var tn,vs,Is,wr=R,Bn=ae,An=ce,Dr=Ge,pn=F,Cn=wr.m,_r=wr.s,Hs=[null],Xs=1,Ur=0,Zs=Do[Dr];s:for(;;){if(pn&&se(Cn,1)){var $r=se(Cn,3)+2,Wr=pe(Bn,$r),fr=pe(An,$r),Wn=Wr*fr;if(!bs(Wr,fr,0,wr,Hs))break s;for(Hs=Hs[0],_r.xc=$r,tn=0;tn<Wn;++tn){var cr=Hs[tn]>>8&65535;Hs[tn]=cr,cr>=Xs&&(Xs=cr+1)}}if(Cn.h)break s;for(vs=0;5>vs;++vs){var pr=Dt[vs];!vs&&0<Dr&&(pr+=1<<Dr),Ur<pr&&(Ur=pr)}var cn=A(Xs*Zs,$),In=Xs,Ua=A(In,ie);if(Ua==null)var sn=null;else t(65536>=In),sn=Ua;var rn=i(Ur);if(sn==null||rn==null||cn==null){wr.a=1;break s}var qn=cn;for(tn=Is=0;tn<Xs;++tn){var gr=sn[tn],Yn=gr.G,ui=gr.H,Ii=0,Sn=1,nn=0;for(vs=0;5>vs;++vs){pr=Dt[vs],Yn[vs]=qn,ui[vs]=Is,!vs&&0<Dr&&(pr+=1<<Dr);n:{var El,Mo=pr,tc=wr,no=rn,Yh=qn,Vu=Is,Sr=0,Li=tc.m,zu=se(Li,1);if(a(no,0,0,Mo),zu){var Gu=se(Li,1)+1,Qd=se(Li,1),Td=se(Li,Qd==0?1:8);no[Td]=1,Gu==2&&(no[Td=se(Li,8)]=1);var ao=1}else{var kr=i(19),dn=se(Li,4)+4;if(19<dn){tc.a=3;var an=0;break n}for(El=0;El<dn;++El)kr[ln[El]]=se(Li,3);var sc=void 0,Ko=void 0,rc=tc,Dp=kr,gn=Mo,Pd=no,Xc=0,io=rc.m,Qi=8,Wa=A(128,$);r:for(;T(Wa,0,7,Dp,19);){if(se(io,1)){var Zc=2+2*se(io,3);if((sc=2+se(io,Zc))>gn)break r}else sc=gn;for(Ko=0;Ko<gn&&sc--;){Z(io);var Rd=Wa[0+(127&re(io))];xe(io,io.u+Rd.g);var Fl=Rd.value;if(16>Fl)Pd[Ko++]=Fl,Fl!=0&&(Qi=Fl);else{var Jh=Fl==16,$u=Fl-16,Xh=qt[$u],Wu=se(io,Ye[$u])+Xh;if(Ko+Wu>gn)break r;for(var Zh=Jh?Qi:0;0<Wu--;)Pd[Ko++]=Zh}}Xc=1;break r}Xc||(rc.a=3),ao=Xc}(ao=ao&&!Li.h)&&(Sr=T(Yh,Vu,8,no,Mo)),ao&&Sr!=0?an=Sr:(tc.a=3,an=0)}if(an==0)break s;if(Sn&&ks[vs]==1&&(Sn=qn[Is].g==0),Ii+=qn[Is].g,Is+=an,3>=vs){var nc,Dd=rn[0];for(nc=1;nc<pr;++nc)rn[nc]>Dd&&(Dd=rn[nc]);nn+=Dd}}if(gr.nd=Sn,gr.Qb=0,Sn&&(gr.qb=(Yn[3][ui[3]+0].value<<24|Yn[1][ui[1]+0].value<<16|Yn[2][ui[2]+0].value)>>>0,Ii==0&&256>Yn[0][ui[0]+0].value&&(gr.Qb=1,gr.qb+=Yn[0][ui[0]+0].value<<8)),gr.jc=!gr.Qb&&6>nn,gr.jc){var ed,qa=gr;for(ed=0;ed<Ca;++ed){var Vo=ed,Ti=qa.pd[Vo],dA=qa.G[0][qa.H[0]+Vo];256<=dA.value?(Ti.g=dA.g+256,Ti.value=dA.value):(Ti.g=0,Ti.value=0,Vo>>=Ps(dA,8,Ti),Vo>>=Ps(qa.G[1][qa.H[1]+Vo],16,Ti),Vo>>=Ps(qa.G[2][qa.H[2]+Vo],0,Ti),Ps(qa.G[3][qa.H[3]+Vo],24,Ti))}}}_r.vc=Hs,_r.Wb=Xs,_r.Ya=sn,_r.yc=cn,St=1;break t}St=0}if(!(te=St)){R.a=3;break e}if(0<Ge){if(we.ua=1<<Ge,!le(we.Wa,Ge)){R.a=1,te=0;break e}}else we.ua=0;var Od=R,Hd=ae,em=ce,Md=Od.s,Kd=Md.xc;if(Od.c=Hd,Od.i=em,Md.md=pe(Hd,Kd),Md.wc=Kd==0?-1:(1<<Kd)-1,F){R.xb=ro;break e}if((_e=i(ae*ce))==null){R.a=1,te=0;break e}te=(te=ys(R,_e,0,ae,ce,ce,null))&&!he.h;break e}return te?(J!=null?J[0]=_e:(t(_e==null),t(F)),R.$=0,F||Ws(we)):Ws(we),te}function Js(p,v){var F=p.c*p.i,R=F+v+16*v;return t(p.c<=v),p.V=i(R),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+F+v,1)}function mn(p,v){var F=p.C,R=v-F,J=p.V,te=p.Ba+p.c*F;for(t(v<=p.l.o);0<R;){var ae=16<R?16:R,ce=p.l.ma,he=p.l.width,we=he*ae,_e=ce.ca,Ge=ce.tb+he*F,ve=p.Ta,Ie=p.Ua;ra(p,ae,J,te),Ed(ve,Ie,_e,Ge,we),He(ce,F,F+ae,_e,Ge,he),R-=ae,J+=ae*p.c,F+=ae}t(F==v),p.C=p.Ma=v}function Za(){this.ub=this.yd=this.td=this.Rb=0}function Ha(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function rr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function mr(){this.Yb=(function(){var p=[];return(function v(F,R,J){for(var te=J[R],ae=0;ae<te&&(F.push(J.length>R+1?[]:0),!(J.length<R+1));ae++)v(F[ae],R+1,J)})(p,0,[3,11]),p})()}function PA(){this.jb=i(3),this.Wc=c([4,8],mr),this.Xc=c([4,17],mr)}function Al(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function na(){this.ld=this.La=this.dd=this.tc=0}function Gi(){this.Na=this.la=0}function RA(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wo(){this.uc=this.M=this.Nb=0,this.wa=Array(new na),this.Y=0,this.ya=Array(new cl),this.aa=0,this.l=new dl}function aa(){this.y=i(16),this.f=i(8),this.ea=i(8)}function DA(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Za,this.Kc=new Ha,this.ed=new Al,this.Qa=new rr,this.Ic=this.$c=this.Aa=0,this.D=new wo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=A(8,O),this.ia=0,this.pb=A(4,RA),this.Pa=new PA,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new aa),this.Hd=0,this.rb=Array(new Gi),this.sb=0,this.wa=Array(new na),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cl),this.L=this.aa=0,this.gd=c([4,2],na),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mr(p,v){return 0>p?0:p>v?v:p}function dl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vc(){var p=new DA;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,oA||(oA=ei)),p}function Kr(p,v,F){return p.a==0&&(p.a=v,p.sc=F,p.cb=0),0}function vo(p,v,F){return 3<=F&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Mn(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return Kr(p,2,"null VP8Io passed to VP8GetHeaders()");var F=v.data,R=v.w,J=v.ha;if(4>J)return Kr(p,7,"Truncated header.");var te=F[R+0]|F[R+1]<<8|F[R+2]<<16,ae=p.Od;if(ae.Rb=!(1&te),ae.td=te>>1&7,ae.yd=te>>4&1,ae.ub=te>>5,3<ae.td)return Kr(p,3,"Incorrect keyframe parameters.");if(!ae.yd)return Kr(p,4,"Frame not displayable.");R+=3,J-=3;var ce=p.Kc;if(ae.Rb){if(7>J)return Kr(p,7,"cannot parse picture header");if(!vo(F,R,J))return Kr(p,3,"Bad code word");ce.c=16383&(F[R+4]<<8|F[R+3]),ce.Td=F[R+4]>>6,ce.i=16383&(F[R+6]<<8|F[R+5]),ce.Ud=F[R+6]>>6,R+=7,J-=7,p.za=ce.c+15>>4,p.Ub=ce.i+15>>4,v.width=ce.c,v.height=ce.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((te=p.Pa).jb,0,255,te.jb.length),t((te=p.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,a(te.Zb,0,0,te.Zb.length),a(te.Lb,0,0,te.Lb)}if(ae.ub>J)return Kr(p,7,"bad partition length");W(te=p.m,F,R,ae.ub),R+=ae.ub,J-=ae.ub,ae.Rb&&(ce.Ld=z(te),ce.Kd=z(te)),ce=p.Qa;var he,we=p.Pa;if(t(te!=null),t(ce!=null),ce.Cb=z(te),ce.Cb){if(ce.Bb=z(te),z(te)){for(ce.Fb=z(te),he=0;4>he;++he)ce.Zb[he]=z(te)?M(te,7):0;for(he=0;4>he;++he)ce.Lb[he]=z(te)?M(te,6):0}if(ce.Bb)for(he=0;3>he;++he)we.jb[he]=z(te)?ne(te,8):255}else ce.Bb=0;if(te.Ka)return Kr(p,3,"cannot parse segment header");if((ce=p.ed).zd=z(te),ce.Tb=ne(te,6),ce.wb=ne(te,3),ce.Pc=z(te),ce.Pc&&z(te)){for(we=0;4>we;++we)z(te)&&(ce.vd[we]=M(te,6));for(we=0;4>we;++we)z(te)&&(ce.od[we]=M(te,6))}if(p.L=ce.Tb==0?0:ce.zd?1:2,te.Ka)return Kr(p,3,"cannot parse filter header");var _e=J;if(J=he=R,R=he+_e,ce=_e,p.Xb=(1<<ne(p.m,2))-1,_e<3*(we=p.Xb))F=7;else{for(he+=3*we,ce-=3*we,_e=0;_e<we;++_e){var Ge=F[J+0]|F[J+1]<<8|F[J+2]<<16;Ge>ce&&(Ge=ce),W(p.Jc[+_e],F,he,Ge),he+=Ge,ce-=Ge,J+=3}W(p.Jc[+we],F,he,ce),F=he<R?0:5}if(F!=0)return Kr(p,F,"cannot parse partitions");for(F=ne(he=p.m,7),J=z(he)?M(he,4):0,R=z(he)?M(he,4):0,ce=z(he)?M(he,4):0,we=z(he)?M(he,4):0,he=z(he)?M(he,4):0,_e=p.Qa,Ge=0;4>Ge;++Ge){if(_e.Cb){var ve=_e.Zb[Ge];_e.Fb||(ve+=F)}else{if(0<Ge){p.pb[Ge]=p.pb[0];continue}ve=F}var Ie=p.pb[Ge];Ie.Sc[0]=JA[Mr(ve+J,127)],Ie.Sc[1]=qc[Mr(ve+0,127)],Ie.Eb[0]=2*JA[Mr(ve+R,127)],Ie.Eb[1]=101581*qc[Mr(ve+ce,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=JA[Mr(ve+we,117)],Ie.Qc[1]=qc[Mr(ve+he,127)],Ie.lc=ve+he}if(!ae.Rb)return Kr(p,4,"Not a key frame.");for(z(te),ae=p.Pa,F=0;4>F;++F){for(J=0;8>J;++J)for(R=0;3>R;++R)for(ce=0;11>ce;++ce)we=fe(te,Tp[F][J][R][ce])?ne(te,8):$h[F][J][R][ce],ae.Wc[F][J].Yb[R][ce]=we;for(J=0;17>J;++J)ae.Xc[F][J]=ae.Wc[F][Hu[J]]}return p.kc=z(te),p.kc&&(p.Bd=ne(te,8)),p.cb=1}function ei(p,v,F,R,J,te,ae){var ce=v[J].Yb[F];for(F=0;16>J;++J){if(!fe(p,ce[F+0]))return J;for(;!fe(p,ce[F+1]);)if(ce=v[++J].Yb[0],F=0,J==16)return 16;var he=v[J+1].Yb;if(fe(p,ce[F+2])){var we=p,_e=0;if(fe(we,(ve=ce)[(Ge=F)+3]))if(fe(we,ve[Ge+6])){for(ce=0,Ge=2*(_e=fe(we,ve[Ge+8]))+(ve=fe(we,ve[Ge+9+_e])),_e=0,ve=Du[Ge];ve[ce];++ce)_e+=_e+fe(we,ve[ce]);_e+=3+(8<<Ge)}else fe(we,ve[Ge+7])?(_e=7+2*fe(we,165),_e+=fe(we,145)):_e=5+fe(we,159);else _e=fe(we,ve[Ge+4])?3+fe(we,ve[Ge+5]):2;ce=he[2]}else _e=1,ce=he[1];he=ae+Ou[J],0>(we=p).b&&oe(we);var Ge,ve=we.b,Ie=(Ge=we.Ca>>1)-(we.I>>ve)>>31;--we.b,we.Ca+=Ie,we.Ca|=1,we.I-=(Ge+1&Ie)<<ve,te[he]=((_e^Ie)-Ie)*R[(0<J)+0]}return 16}function bo(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function va(p,v,F,R,J){J=p[v+F+32*R]+(J>>3),p[v+F+32*R]=-256&J?0>J?0:255:J}function Xr(p,v,F,R,J,te){va(p,v,0,F,R+J),va(p,v,1,F,R+te),va(p,v,2,F,R-te),va(p,v,3,F,R-J)}function ia(p){return(20091*p>>16)+p}function ql(p,v,F,R){var J,te=0,ae=i(16);for(J=0;4>J;++J){var ce=p[v+0]+p[v+8],he=p[v+0]-p[v+8],we=(35468*p[v+4]>>16)-ia(p[v+12]),_e=ia(p[v+4])+(35468*p[v+12]>>16);ae[te+0]=ce+_e,ae[te+1]=he+we,ae[te+2]=he-we,ae[te+3]=ce-_e,te+=4,v++}for(J=te=0;4>J;++J)ce=(p=ae[te+0]+4)+ae[te+8],he=p-ae[te+8],we=(35468*ae[te+4]>>16)-ia(ae[te+12]),va(F,R,0,0,ce+(_e=ia(ae[te+4])+(35468*ae[te+12]>>16))),va(F,R,1,0,he+we),va(F,R,2,0,he-we),va(F,R,3,0,ce-_e),te++,R+=32}function ul(p,v,F,R){var J=p[v+0]+4,te=35468*p[v+4]>>16,ae=ia(p[v+4]),ce=35468*p[v+1]>>16;Xr(F,R,0,J+ae,p=ia(p[v+1]),ce),Xr(F,R,1,J+te,p,ce),Xr(F,R,2,J-te,p,ce),Xr(F,R,3,J-ae,p,ce)}function $i(p,v,F,R,J){ql(p,v,F,R),J&&ql(p,v+16,F,R+4)}function Ma(p,v,F,R){Nl(p,v+0,F,R,1),Nl(p,v+32,F,R+128,1)}function yo(p,v,F,R){var J;for(p=p[v+0]+4,J=0;4>J;++J)for(v=0;4>v;++v)va(F,R,v,J,p)}function zs(p,v,F,R){p[v+0]&&qs(p,v+0,F,R),p[v+16]&&qs(p,v+16,F,R+4),p[v+32]&&qs(p,v+32,F,R+128),p[v+48]&&qs(p,v+48,F,R+128+4)}function No(p,v,F,R){var J,te=i(16);for(J=0;4>J;++J){var ae=p[v+0+J]+p[v+12+J],ce=p[v+4+J]+p[v+8+J],he=p[v+4+J]-p[v+8+J],we=p[v+0+J]-p[v+12+J];te[0+J]=ae+ce,te[8+J]=ae-ce,te[4+J]=we+he,te[12+J]=we-he}for(J=0;4>J;++J)ae=(p=te[0+4*J]+3)+te[3+4*J],ce=te[1+4*J]+te[2+4*J],he=te[1+4*J]-te[2+4*J],we=p-te[3+4*J],F[R+0]=ae+ce>>3,F[R+16]=we+he>>3,F[R+32]=ae-ce>>3,F[R+48]=we-he>>3,R+=64}function Ni(p,v,F){var R,J=v-32,te=Gn,ae=255-p[J-1];for(R=0;R<F;++R){var ce,he=te,we=ae+p[v-1];for(ce=0;ce<F;++ce)p[v+ce]=he[we+p[J+ce]];v+=32}}function Yl(p,v){Ni(p,v,4)}function OA(p,v){Ni(p,v,8)}function HA(p,v){Ni(p,v,16)}function hl(p,v){var F;for(F=0;16>F;++F)n(p,v+32*F,p,v-32,16)}function ml(p,v){var F;for(F=16;0<F;--F)a(p,v,p[v-1],16),v+=32}function Kn(p,v,F){var R;for(R=0;16>R;++R)a(v,F+32*R,p,16)}function ti(p,v){var F,R=16;for(F=0;16>F;++F)R+=p[v-1+32*F]+p[v+F-32];Kn(R>>5,p,v)}function Vn(p,v){var F,R=8;for(F=0;16>F;++F)R+=p[v-1+32*F];Kn(R>>4,p,v)}function ba(p,v){var F,R=8;for(F=0;16>F;++F)R+=p[v+F-32];Kn(R>>4,p,v)}function jo(p,v){Kn(128,p,v)}function hs(p,v,F){return p+2*v+F+2>>2}function si(p,v){var F,R=v-32;for(R=new Uint8Array([hs(p[R-1],p[R+0],p[R+1]),hs(p[R+0],p[R+1],p[R+2]),hs(p[R+1],p[R+2],p[R+3]),hs(p[R+2],p[R+3],p[R+4])]),F=0;4>F;++F)n(p,v+32*F,R,0,R.length)}function zc(p,v){var F=p[v-1],R=p[v-1+32],J=p[v-1+64],te=p[v-1+96];Fe(p,v+0,16843009*hs(p[v-1-32],F,R)),Fe(p,v+32,16843009*hs(F,R,J)),Fe(p,v+64,16843009*hs(R,J,te)),Fe(p,v+96,16843009*hs(J,te,te))}function MA(p,v){var F,R=4;for(F=0;4>F;++F)R+=p[v+F-32]+p[v-1+32*F];for(R>>=3,F=0;4>F;++F)a(p,v+32*F,R,4)}function oa(p,v){var F=p[v-1+0],R=p[v-1+32],J=p[v-1+64],te=p[v-1-32],ae=p[v+0-32],ce=p[v+1-32],he=p[v+2-32],we=p[v+3-32];p[v+0+96]=hs(R,J,p[v-1+96]),p[v+1+96]=p[v+0+64]=hs(F,R,J),p[v+2+96]=p[v+1+64]=p[v+0+32]=hs(te,F,R),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=hs(ae,te,F),p[v+3+64]=p[v+2+32]=p[v+1+0]=hs(ce,ae,te),p[v+3+32]=p[v+2+0]=hs(he,ce,ae),p[v+3+0]=hs(we,he,ce)}function Ka(p,v){var F=p[v+1-32],R=p[v+2-32],J=p[v+3-32],te=p[v+4-32],ae=p[v+5-32],ce=p[v+6-32],he=p[v+7-32];p[v+0+0]=hs(p[v+0-32],F,R),p[v+1+0]=p[v+0+32]=hs(F,R,J),p[v+2+0]=p[v+1+32]=p[v+0+64]=hs(R,J,te),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=hs(J,te,ae),p[v+3+32]=p[v+2+64]=p[v+1+96]=hs(te,ae,ce),p[v+3+64]=p[v+2+96]=hs(ae,ce,he),p[v+3+96]=hs(ce,he,he)}function Jl(p,v){var F=p[v-1+0],R=p[v-1+32],J=p[v-1+64],te=p[v-1-32],ae=p[v+0-32],ce=p[v+1-32],he=p[v+2-32],we=p[v+3-32];p[v+0+0]=p[v+1+64]=te+ae+1>>1,p[v+1+0]=p[v+2+64]=ae+ce+1>>1,p[v+2+0]=p[v+3+64]=ce+he+1>>1,p[v+3+0]=he+we+1>>1,p[v+0+96]=hs(J,R,F),p[v+0+64]=hs(R,F,te),p[v+0+32]=p[v+1+96]=hs(F,te,ae),p[v+1+32]=p[v+2+96]=hs(te,ae,ce),p[v+2+32]=p[v+3+96]=hs(ae,ce,he),p[v+3+32]=hs(ce,he,we)}function fl(p,v){var F=p[v+0-32],R=p[v+1-32],J=p[v+2-32],te=p[v+3-32],ae=p[v+4-32],ce=p[v+5-32],he=p[v+6-32],we=p[v+7-32];p[v+0+0]=F+R+1>>1,p[v+1+0]=p[v+0+64]=R+J+1>>1,p[v+2+0]=p[v+1+64]=J+te+1>>1,p[v+3+0]=p[v+2+64]=te+ae+1>>1,p[v+0+32]=hs(F,R,J),p[v+1+32]=p[v+0+96]=hs(R,J,te),p[v+2+32]=p[v+1+96]=hs(J,te,ae),p[v+3+32]=p[v+2+96]=hs(te,ae,ce),p[v+3+64]=hs(ae,ce,he),p[v+3+96]=hs(ce,he,we)}function Bo(p,v){var F=p[v-1+0],R=p[v-1+32],J=p[v-1+64],te=p[v-1+96];p[v+0+0]=F+R+1>>1,p[v+2+0]=p[v+0+32]=R+J+1>>1,p[v+2+32]=p[v+0+64]=J+te+1>>1,p[v+1+0]=hs(F,R,J),p[v+3+0]=p[v+1+32]=hs(R,J,te),p[v+3+32]=p[v+1+64]=hs(J,te,te),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=te}function Xl(p,v){var F=p[v-1+0],R=p[v-1+32],J=p[v-1+64],te=p[v-1+96],ae=p[v-1-32],ce=p[v+0-32],he=p[v+1-32],we=p[v+2-32];p[v+0+0]=p[v+2+32]=F+ae+1>>1,p[v+0+32]=p[v+2+64]=R+F+1>>1,p[v+0+64]=p[v+2+96]=J+R+1>>1,p[v+0+96]=te+J+1>>1,p[v+3+0]=hs(ce,he,we),p[v+2+0]=hs(ae,ce,he),p[v+1+0]=p[v+3+32]=hs(F,ae,ce),p[v+1+32]=p[v+3+64]=hs(R,F,ae),p[v+1+64]=p[v+3+96]=hs(J,R,F),p[v+1+96]=hs(te,J,R)}function Va(p,v){var F;for(F=0;8>F;++F)n(p,v+32*F,p,v-32,8)}function Co(p,v){var F;for(F=0;8>F;++F)a(p,v,p[v-1],8),v+=32}function zn(p,v,F){var R;for(R=0;8>R;++R)a(v,F+32*R,p,8)}function pl(p,v){var F,R=8;for(F=0;8>F;++F)R+=p[v+F-32]+p[v-1+32*F];zn(R>>4,p,v)}function Zl(p,v){var F,R=4;for(F=0;8>F;++F)R+=p[v+F-32];zn(R>>3,p,v)}function eA(p,v){var F,R=4;for(F=0;8>F;++F)R+=p[v-1+32*F];zn(R>>3,p,v)}function gl(p,v){zn(128,p,v)}function ya(p,v,F){var R=p[v-F],J=p[v+0],te=3*(J-R)+Ui[1020+p[v-2*F]-p[v+F]],ae=iA[112+(te+4>>3)];p[v-F]=Gn[255+R+iA[112+(te+3>>3)]],p[v+0]=Gn[255+J-ae]}function So(p,v,F,R){var J=p[v+0],te=p[v+F];return $a[255+p[v-2*F]-p[v-F]]>R||$a[255+te-J]>R}function Eo(p,v,F,R){return 4*$a[255+p[v-F]-p[v+0]]+$a[255+p[v-2*F]-p[v+F]]<=R}function Na(p,v,F,R,J){var te=p[v-3*F],ae=p[v-2*F],ce=p[v-F],he=p[v+0],we=p[v+F],_e=p[v+2*F],Ge=p[v+3*F];return 4*$a[255+ce-he]+$a[255+ae-we]>R?0:$a[255+p[v-4*F]-te]<=J&&$a[255+te-ae]<=J&&$a[255+ae-ce]<=J&&$a[255+Ge-_e]<=J&&$a[255+_e-we]<=J&&$a[255+we-he]<=J}function ri(p,v,F,R){var J=2*R+1;for(R=0;16>R;++R)Eo(p,v+R,F,J)&&ya(p,v+R,F)}function Wi(p,v,F,R){var J=2*R+1;for(R=0;16>R;++R)Eo(p,v+R*F,1,J)&&ya(p,v+R*F,1)}function tA(p,v,F,R){var J;for(J=3;0<J;--J)ri(p,v+=4*F,F,R)}function Fo(p,v,F,R){var J;for(J=3;0<J;--J)Wi(p,v+=4,F,R)}function ja(p,v,F,R,J,te,ae,ce){for(te=2*te+1;0<J--;){if(Na(p,v,F,te,ae))if(So(p,v,F,ce))ya(p,v,F);else{var he=p,we=v,_e=F,Ge=he[we-2*_e],ve=he[we-_e],Ie=he[we+0],Me=he[we+_e],ot=he[we+2*_e],We=27*(at=Ui[1020+3*(Ie-ve)+Ui[1020+Ge-Me]])+63>>7,nt=18*at+63>>7,at=9*at+63>>7;he[we-3*_e]=Gn[255+he[we-3*_e]+at],he[we-2*_e]=Gn[255+Ge+nt],he[we-_e]=Gn[255+ve+We],he[we+0]=Gn[255+Ie-We],he[we+_e]=Gn[255+Me-nt],he[we+2*_e]=Gn[255+ot-at]}v+=R}}function ni(p,v,F,R,J,te,ae,ce){for(te=2*te+1;0<J--;){if(Na(p,v,F,te,ae))if(So(p,v,F,ce))ya(p,v,F);else{var he=p,we=v,_e=F,Ge=he[we-_e],ve=he[we+0],Ie=he[we+_e],Me=iA[112+(4+(ot=3*(ve-Ge))>>3)],ot=iA[112+(ot+3>>3)],We=Me+1>>1;he[we-2*_e]=Gn[255+he[we-2*_e]+We],he[we-_e]=Gn[255+Ge+ot],he[we+0]=Gn[255+ve-Me],he[we+_e]=Gn[255+Ie-We]}v+=R}}function jn(p,v,F,R,J,te){ja(p,v,F,1,16,R,J,te)}function Ba(p,v,F,R,J,te){ja(p,v,1,F,16,R,J,te)}function xl(p,v,F,R,J,te){var ae;for(ae=3;0<ae;--ae)ni(p,v+=4*F,F,1,16,R,J,te)}function B(p,v,F,R,J,te){var ae;for(ae=3;0<ae;--ae)ni(p,v+=4,1,F,16,R,J,te)}function Y(p,v,F,R,J,te,ae,ce){ja(p,v,J,1,8,te,ae,ce),ja(F,R,J,1,8,te,ae,ce)}function be(p,v,F,R,J,te,ae,ce){ja(p,v,1,J,8,te,ae,ce),ja(F,R,1,J,8,te,ae,ce)}function Se(p,v,F,R,J,te,ae,ce){ni(p,v+4*J,J,1,8,te,ae,ce),ni(F,R+4*J,J,1,8,te,ae,ce)}function De(p,v,F,R,J,te,ae,ce){ni(p,v+4,1,J,8,te,ae,ce),ni(F,R+4,1,J,8,te,ae,ce)}function lt(){this.ba=new bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function as(){this.ua=0,this.Wa=new ze,this.vb=new ze,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new $}function fs(){this.xb=this.a=0,this.l=new dl,this.ca=new bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new as,this.ab=0,this.gc=A(4,Rt),this.Oc=0}function ws(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new dl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Us(p,v,F,R,J,te,ae){for(p=p==null?0:p[v+0],v=0;v<ae;++v)J[te+v]=p+F[R+v]&255,p=J[te+v]}function ir(p,v,F,R,J,te,ae){var ce;if(p==null)Us(null,null,F,R,J,te,ae);else for(ce=0;ce<ae;++ce)J[te+ce]=p[v+ce]+F[R+ce]&255}function Vr(p,v,F,R,J,te,ae){if(p==null)Us(null,null,F,R,J,te,ae);else{var ce,he=p[v+0],we=he,_e=he;for(ce=0;ce<ae;++ce)we=_e+(he=p[v+ce])-we,_e=F[R+ce]+(-256&we?0>we?0:255:we)&255,we=he,J[te+ce]=_e}}function or(p,v,F,R){var J=v.width,te=v.o;if(t(p!=null&&v!=null),0>F||0>=R||F+R>te)return null;if(!p.Cc){if(p.ga==null){var ae;if(p.ga=new ws,(ae=p.ga==null)||(ae=v.width*v.o,t(p.Gb.length==0),p.Gb=i(ae),p.Uc=0,p.Gb==null?ae=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,ae=1),ae=!ae),!ae){ae=p.ga;var ce=p.Fa,he=p.P,we=p.qc,_e=p.mb,Ge=p.nb,ve=he+1,Ie=we-1,Me=ae.l;if(t(ce!=null&&_e!=null&&v!=null),$n[0]=null,$n[1]=Us,$n[2]=ir,$n[3]=Vr,ae.ca=_e,ae.tb=Ge,ae.c=v.width,ae.i=v.height,t(0<ae.c&&0<ae.i),1>=we)v=0;else if(ae.$a=3&ce[he+0],ae.Z=ce[he+0]>>2&3,ae.Lc=ce[he+0]>>4&3,he=ce[he+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||he)v=0;else if(Me.put=Ut,Me.ac=Lr,Me.bc=$s,Me.ma=ae,Me.width=v.width,Me.height=v.height,Me.Da=v.Da,Me.v=v.v,Me.va=v.va,Me.j=v.j,Me.o=v.o,ae.$a)e:{t(ae.$a==1),v=je();t:for(;;){if(v==null){v=0;break e}if(t(ae!=null),ae.mc=v,v.c=ae.c,v.i=ae.i,v.l=ae.l,v.l.ma=ae,v.l.width=ae.c,v.l.height=ae.i,v.a=0,de(v.m,ce,ve,Ie),!bs(ae.c,ae.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&_n(v.s)?(ae.ic=1,ce=v.c*v.i,v.Ta=null,v.Ua=0,v.V=i(ce),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(ae.ic=0,v=Js(v,ae.c)),!v))break t;v=1;break e}ae.mc=null,v=0}else v=Ie>=ae.c*ae.i;ae=!v}if(ae)return null;p.ga.Lc!=1?p.Ga=0:R=te-F}t(p.ga!=null),t(F+R<=te);e:{if(v=(ce=p.ga).c,te=ce.l.o,ce.$a==0){if(ve=p.rc,Ie=p.Vc,Me=p.Fa,he=p.P+1+F*v,we=p.mb,_e=p.nb+F*v,t(he<=p.P+p.qc),ce.Z!=0)for(t($n[ce.Z]!=null),ae=0;ae<R;++ae)$n[ce.Z](ve,Ie,Me,he,we,_e,v),ve=we,Ie=_e,_e+=v,he+=v;else for(ae=0;ae<R;++ae)n(we,_e,Me,he,v),ve=we,Ie=_e,_e+=v,he+=v;p.rc=ve,p.Vc=Ie}else{if(t(ce.mc!=null),v=F+R,t((ae=ce.mc)!=null),t(v<=ae.i),ae.C>=v)v=1;else if(ce.ic||la(),ce.ic){ce=ae.V,ve=ae.Ba,Ie=ae.c;var ot=ae.i,We=(Me=1,he=ae.$/Ie,we=ae.$%Ie,_e=ae.m,Ge=ae.s,ae.$),nt=Ie*ot,at=Ie*v,ut=Ge.wc,mt=We<at?hr(Ge,we,he):null;t(We<=nt),t(v<=ot),t(_n(Ge));t:for(;;){for(;!_e.h&&We<at;){if(we&ut||(mt=hr(Ge,we,he)),t(mt!=null),Z(_e),256>(ot=Ts(mt.G[0],mt.H[0],_e)))ce[ve+We]=ot,++We,++we>=Ie&&(we=0,++he<=v&&!(he%16)&&us(ae,he));else{if(!(280>ot)){Me=0;break t}ot=Vs(ot-256,_e);var os,Yt=Ts(mt.G[4],mt.H[4],_e);if(Z(_e),!(We>=(Yt=tr(Ie,Yt=Vs(Yt,_e)))&&nt-We>=ot)){Me=0;break t}for(os=0;os<ot;++os)ce[ve+We+os]=ce[ve+We+os-Yt];for(We+=ot,we+=ot;we>=Ie;)we-=Ie,++he<=v&&!(he%16)&&us(ae,he);We<at&&we&ut&&(mt=hr(Ge,we,he))}t(_e.h==me(_e))}us(ae,he>v?v:he);break t}!Me||_e.h&&We<nt?(Me=0,ae.a=_e.h?5:3):ae.$=We,v=Me}else v=ys(ae,ae.V,ae.Ba,ae.c,ae.i,v,mn);if(!v){R=0;break e}}F+R>=te&&(p.Cc=1),R=1}if(!R)return null;if(p.Cc&&((R=p.ga)!=null&&(R.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+F*J}function Zr(p,v,F,R,J,te){for(;0<J--;){var ae,ce=p,he=v+(F?1:0),we=p,_e=v+(F?0:3);for(ae=0;ae<R;++ae){var Ge=we[_e+4*ae];Ge!=255&&(Ge*=32897,ce[he+4*ae+0]=ce[he+4*ae+0]*Ge>>23,ce[he+4*ae+1]=ce[he+4*ae+1]*Ge>>23,ce[he+4*ae+2]=ce[he+4*ae+2]*Ge>>23)}v+=te}}function Qr(p,v,F,R,J){for(;0<R--;){var te;for(te=0;te<F;++te){var ae=p[v+2*te+0],ce=15&(we=p[v+2*te+1]),he=4369*ce,we=(240&we|we>>4)*he>>16;p[v+2*te+0]=(240&ae|ae>>4)*he>>16&240|(15&ae|ae<<4)*he>>16>>4&15,p[v+2*te+1]=240&we|ce}v+=J}}function fn(p,v,F,R,J,te,ae,ce){var he,we,_e=255;for(we=0;we<J;++we){for(he=0;he<R;++he){var Ge=p[v+he];te[ae+4*he]=Ge,_e&=Ge}v+=F,ae+=ce}return _e!=255}function ji(p,v,F,R,J){var te;for(te=0;te<J;++te)F[R+te]=p[v+te]>>8}function la(){Bl=Zr,Sd=Qr,GA=fn,Ed=ji}function ai(p,v,F){D[p]=function(R,J,te,ae,ce,he,we,_e,Ge,ve,Ie,Me,ot,We,nt,at,ut){var mt,os=ut-1>>1,Yt=ce[he+0]|we[_e+0]<<16,Bs=Ge[ve+0]|Ie[Me+0]<<16;t(R!=null);var es=3*Yt+Bs+131074>>2;for(v(R[J+0],255&es,es>>16,ot,We),te!=null&&(es=3*Bs+Yt+131074>>2,v(te[ae+0],255&es,es>>16,nt,at)),mt=1;mt<=os;++mt){var Rs=ce[he+mt]|we[_e+mt]<<16,Gr=Ge[ve+mt]|Ie[Me+mt]<<16,Cs=Yt+Rs+Bs+Gr+524296,Jt=Cs+2*(Rs+Bs)>>3;es=Jt+Yt>>1,Yt=(Cs=Cs+2*(Yt+Gr)>>3)+Rs>>1,v(R[J+2*mt-1],255&es,es>>16,ot,We+(2*mt-1)*F),v(R[J+2*mt-0],255&Yt,Yt>>16,ot,We+(2*mt-0)*F),te!=null&&(es=Cs+Bs>>1,Yt=Jt+Gr>>1,v(te[ae+2*mt-1],255&es,es>>16,nt,at+(2*mt-1)*F),v(te[ae+2*mt+0],255&Yt,Yt>>16,nt,at+(2*mt+0)*F)),Yt=Rs,Bs=Gr}1&ut||(es=3*Yt+Bs+131074>>2,v(R[J+ut-1],255&es,es>>16,ot,We+(ut-1)*F),te!=null&&(es=3*Bs+Yt+131074>>2,v(te[ae+ut-1],255&es,es>>16,nt,at+(ut-1)*F)))}}function qi(){Ea[Wc]=Pp,Ea[Ro]=Cl,Ea[Ru]=Rp,Ea[$A]=ZA,Ea[WA]=lA,Ea[lr]=Yc,Ea[qA]=Mu,Ea[_]=Cl,Ea[K]=ZA,Ea[Ae]=lA,Ea[Be]=Yc}function _o(p){return p&-16384?0>p?0:255:p>>Sl}function Bi(p,v){return _o((19077*p>>8)+(26149*v>>8)-14234)}function Yi(p,v,F){return _o((19077*p>>8)-(6419*v>>8)-(13320*F>>8)+8708)}function Ci(p,v){return _o((19077*p>>8)+(33050*v>>8)-17685)}function Si(p,v,F,R,J){R[J+0]=Bi(p,F),R[J+1]=Yi(p,v,F),R[J+2]=Ci(p,v)}function on(p,v,F,R,J){R[J+0]=Ci(p,v),R[J+1]=Yi(p,v,F),R[J+2]=Bi(p,F)}function Uo(p,v,F,R,J){var te=Yi(p,v,F);v=te<<3&224|Ci(p,v)>>3,R[J+0]=248&Bi(p,F)|te>>5,R[J+1]=v}function Ji(p,v,F,R,J){var te=240&Ci(p,v)|15;R[J+0]=240&Bi(p,F)|Yi(p,v,F)>>4,R[J+1]=te}function sA(p,v,F,R,J){R[J+0]=255,Si(p,v,F,R,J+1)}function rA(p,v,F,R,J){on(p,v,F,R,J),R[J+3]=255}function Un(p,v,F,R,J){Si(p,v,F,R,J),R[J+3]=255}function za(p,v,F){D[p]=function(R,J,te,ae,ce,he,we,_e,Ge){for(var ve=_e+(-2&Ge)*F;_e!=ve;)v(R[J+0],te[ae+0],ce[he+0],we,_e),v(R[J+1],te[ae+0],ce[he+0],we,_e+F),J+=2,++ae,++he,_e+=2*F;1&Ge&&v(R[J+0],te[ae+0],ce[he+0],we,_e)}}function ii(p,v,F){return F==0?p==0?v==0?6:5:v==0?4:0:F}function KA(p,v,F,R,J){switch(p>>>30){case 3:Nl(v,F,R,J,0);break;case 2:Pr(v,F,R,J);break;case 1:qs(v,F,R,J)}}function Aa(p,v){var F,R,J=v.M,te=v.Nb,ae=p.oc,ce=p.pc+40,he=p.oc,we=p.pc+584,_e=p.oc,Ge=p.pc+600;for(F=0;16>F;++F)ae[ce+32*F-1]=129;for(F=0;8>F;++F)he[we+32*F-1]=129,_e[Ge+32*F-1]=129;for(0<J?ae[ce-1-32]=he[we-1-32]=_e[Ge-1-32]=129:(a(ae,ce-32-1,127,21),a(he,we-32-1,127,9),a(_e,Ge-32-1,127,9)),R=0;R<p.za;++R){var ve=v.ya[v.aa+R];if(0<R){for(F=-1;16>F;++F)n(ae,ce+32*F-4,ae,ce+32*F+12,4);for(F=-1;8>F;++F)n(he,we+32*F-4,he,we+32*F+4,4),n(_e,Ge+32*F-4,_e,Ge+32*F+4,4)}var Ie=p.Gd,Me=p.Hd+R,ot=ve.ad,We=ve.Hc;if(0<J&&(n(ae,ce-32,Ie[Me].y,0,16),n(he,we-32,Ie[Me].f,0,8),n(_e,Ge-32,Ie[Me].ea,0,8)),ve.Za){var nt=ae,at=ce-32+16;for(0<J&&(R>=p.za-1?a(nt,at,Ie[Me].y[15],4):n(nt,at,Ie[Me+1].y,0,4)),F=0;4>F;F++)nt[at+128+F]=nt[at+256+F]=nt[at+384+F]=nt[at+0+F];for(F=0;16>F;++F,We<<=2)nt=ae,at=ce+Ku[F],di[ve.Ob[F]](nt,at),KA(We,ot,16*+F,nt,at)}else if(nt=ii(R,J,ve.Ob[0]),ha[nt](ae,ce),We!=0)for(F=0;16>F;++F,We<<=2)KA(We,ot,16*+F,ae,ce+Ku[F]);for(F=ve.Gc,nt=ii(R,J,ve.Dd),Sa[nt](he,we),Sa[nt](_e,Ge),We=ot,nt=he,at=we,255&(ve=0|F)&&(170&ve?ua(We,256,nt,at):nr(We,256,nt,at)),ve=_e,We=Ge,255&(F>>=8)&&(170&F?ua(ot,320,ve,We):nr(ot,320,ve,We)),J<p.Ub-1&&(n(Ie[Me].y,0,ae,ce+480,16),n(Ie[Me].f,0,he,we+224,8),n(Ie[Me].ea,0,_e,Ge+224,8)),F=8*te*p.B,Ie=p.sa,Me=p.ta+16*R+16*te*p.R,ot=p.qa,ve=p.ra+8*R+F,We=p.Ha,nt=p.Ia+8*R+F,F=0;16>F;++F)n(Ie,Me+F*p.R,ae,ce+32*F,16);for(F=0;8>F;++F)n(ot,ve+F*p.B,he,we+32*F,8),n(We,nt+F*p.B,_e,Ge+32*F,8)}}function Xi(p,v,F,R,J,te,ae,ce,he){var we=[0],_e=[0],Ge=0,ve=he!=null?he.kd:0,Ie=he??new pt;if(p==null||12>F)return 7;Ie.data=p,Ie.w=v,Ie.ha=F,v=[v],F=[F],Ie.gb=[Ie.gb];e:{var Me=v,ot=F,We=Ie.gb;if(t(p!=null),t(ot!=null),t(We!=null),We[0]=0,12<=ot[0]&&!r(p,Me[0],"RIFF")){if(r(p,Me[0]+8,"WEBP")){We=3;break e}var nt=st(p,Me[0]+4);if(12>nt||4294967286<nt){We=3;break e}if(ve&&nt>ot[0]-8){We=7;break e}We[0]=nt,Me[0]+=12,ot[0]-=12}We=0}if(We!=0)return We;for(nt=0<Ie.gb[0],F=F[0];;){e:{var at=p;ot=v,We=F;var ut=we,mt=_e,os=Me=[0];if((es=Ge=[Ge])[0]=0,8>We[0])We=7;else{if(!r(at,ot[0],"VP8X")){if(st(at,ot[0]+4)!=10){We=3;break e}if(18>We[0]){We=7;break e}var Yt=st(at,ot[0]+8),Bs=1+qe(at,ot[0]+12);if(2147483648<=Bs*(at=1+qe(at,ot[0]+15))){We=3;break e}os!=null&&(os[0]=Yt),ut!=null&&(ut[0]=Bs),mt!=null&&(mt[0]=at),ot[0]+=18,We[0]-=18,es[0]=1}We=0}}if(Ge=Ge[0],Me=Me[0],We!=0)return We;if(ot=!!(2&Me),!nt&&Ge)return 3;if(te!=null&&(te[0]=!!(16&Me)),ae!=null&&(ae[0]=ot),ce!=null&&(ce[0]=0),ae=we[0],Me=_e[0],Ge&&ot&&he==null){We=0;break}if(4>F){We=7;break}if(nt&&Ge||!nt&&!Ge&&!r(p,v[0],"ALPH")){F=[F],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{Yt=p,We=v,nt=F;var es=Ie.gb;ut=Ie.na,mt=Ie.P,os=Ie.Sa,Bs=22,t(Yt!=null),t(nt!=null),at=We[0];var Rs=nt[0];for(t(ut!=null),t(os!=null),ut[0]=null,mt[0]=null,os[0]=0;;){if(We[0]=at,nt[0]=Rs,8>Rs){We=7;break e}var Gr=st(Yt,at+4);if(4294967286<Gr){We=3;break e}var Cs=8+Gr+1&-2;if(Bs+=Cs,0<es&&Bs>es){We=3;break e}if(!r(Yt,at,"VP8 ")||!r(Yt,at,"VP8L")){We=0;break e}if(Rs[0]<Cs){We=7;break e}r(Yt,at,"ALPH")||(ut[0]=Yt,mt[0]=at+8,os[0]=Gr),at+=Cs,Rs-=Cs}}if(F=F[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],We!=0)break}F=[F],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(es=p,We=v,nt=F,ut=Ie.gb[0],mt=Ie.Ja,os=Ie.xa,Yt=We[0],at=!r(es,Yt,"VP8 "),Bs=!r(es,Yt,"VP8L"),t(es!=null),t(nt!=null),t(mt!=null),t(os!=null),8>nt[0])We=7;else{if(at||Bs){if(es=st(es,Yt+4),12<=ut&&es>ut-12){We=3;break e}if(ve&&es>nt[0]-8){We=7;break e}mt[0]=es,We[0]+=8,nt[0]-=8,os[0]=Bs}else os[0]=5<=nt[0]&&es[Yt+0]==47&&!(es[Yt+4]>>5),mt[0]=nt[0];We=0}if(F=F[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],v=v[0],We!=0)break;if(4294967286<Ie.Ja)return 3;if(ce==null||ot||(ce[0]=Ie.xa?2:1),ae=[ae],Me=[Me],Ie.xa){if(5>F){We=7;break}ce=ae,ve=Me,ot=te,p==null||5>F?p=0:5<=F&&p[v+0]==47&&!(p[v+4]>>5)?(nt=[0],es=[0],ut=[0],de(mt=new X,p,v,F),Hr(mt,nt,es,ut)?(ce!=null&&(ce[0]=nt[0]),ve!=null&&(ve[0]=es[0]),ot!=null&&(ot[0]=ut[0]),p=1):p=0):p=0}else{if(10>F){We=7;break}ce=Me,p==null||10>F||!vo(p,v+3,F-3)?p=0:(ve=p[v+0]|p[v+1]<<8|p[v+2]<<16,ot=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=Ie.Ja||!ot||!p?p=0:(ae&&(ae[0]=ot),ce&&(ce[0]=p),p=1))}if(!p||(ae=ae[0],Me=Me[0],Ge&&(we[0]!=ae||_e[0]!=Me)))return 3;he!=null&&(he[0]=Ie,he.offset=v-he.w,t(4294967286>v-he.w),t(he.offset==he.ha-F));break}return We==0||We==7&&Ge&&he==null?(te!=null&&(te[0]|=Ie.na!=null&&0<Ie.na.length),R!=null&&(R[0]=ae),J!=null&&(J[0]=Me),0):We}function wl(p,v,F){var R=v.width,J=v.height,te=0,ae=0,ce=R,he=J;if(v.Da=p!=null&&0<p.Da,v.Da&&(ce=p.cd,he=p.bd,te=p.v,ae=p.j,11>F||(te&=-2,ae&=-2),0>te||0>ae||0>=ce||0>=he||te+ce>R||ae+he>J))return 0;if(v.v=te,v.j=ae,v.va=te+ce,v.o=ae+he,v.U=ce,v.T=he,v.da=p!=null&&0<p.da,v.da){if(!ye(ce,he,F=[p.ib],te=[p.hb]))return 0;v.ib=F[0],v.hb=te[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*R/4&&v.hb<3*J/4,v.Kb=0),1}function vl(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Ei(p,v,F,R){if(R==null||0>=p||0>=v)return 2;if(F!=null){if(F.Da){var J=F.cd,te=F.bd,ae=-2&F.v,ce=-2&F.j;if(0>ae||0>ce||0>=J||0>=te||ae+J>p||ce+te>v)return 2;p=J,v=te}if(F.da){if(!ye(p,v,J=[F.ib],te=[F.hb]))return 2;p=J[0],v=te[0]}}R.width=p,R.height=v;e:{var he=R.width,we=R.height;if(p=R.S,0>=he||0>=we||!(p>=Wc&&13>p))p=2;else{if(0>=R.Rd&&R.sd==null){ae=te=J=v=0;var _e=(ce=he*Jc[p])*we;if(11>p||(te=(we+1)/2*(v=(he+1)/2),p==12&&(ae=(J=he)*we)),(we=i(_e+2*te+ae))==null){p=1;break e}R.sd=we,11>p?((he=R.f.RGBA).eb=we,he.fb=0,he.A=ce,he.size=_e):((he=R.f.kb).y=we,he.O=0,he.fa=ce,he.Fd=_e,he.f=we,he.N=0+_e,he.Ab=v,he.Cd=te,he.ea=we,he.W=0+_e+te,he.Db=v,he.Ed=te,p==12&&(he.F=we,he.J=0+_e+2*te),he.Tc=ae,he.lb=J)}if(v=1,J=R.S,te=R.width,ae=R.height,J>=Wc&&13>J)if(11>J)p=R.f.RGBA,v&=(ce=Math.abs(p.A))*(ae-1)+te<=p.size,v&=ce>=te*Jc[J],v&=p.eb!=null;else{p=R.f.kb,ce=(te+1)/2,_e=(ae+1)/2,he=Math.abs(p.fa),we=Math.abs(p.Ab);var Ge=Math.abs(p.Db),ve=Math.abs(p.lb),Ie=ve*(ae-1)+te;v&=he*(ae-1)+te<=p.Fd,v&=we*(_e-1)+ce<=p.Cd,v=(v&=Ge*(_e-1)+ce<=p.Ed)&he>=te&we>=ce&Ge>=ce,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,J==12&&(v&=ve>=te,v&=Ie<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||F!=null&&F.fd&&(p=vl(R)),p}var Ca=64,ca=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],da=24,Zi=32,oi=8,Fi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(p){return p},D.Predictor2=function(p,v,F){return v[F+0]},D.Predictor3=function(p,v,F){return v[F+1]},D.Predictor4=function(p,v,F){return v[F-1]},D.Predictor5=function(p,v,F){return ht(ht(p,v[F+1]),v[F+0])},D.Predictor6=function(p,v,F){return ht(p,v[F-1])},D.Predictor7=function(p,v,F){return ht(p,v[F+0])},D.Predictor8=function(p,v,F){return ht(v[F-1],v[F+0])},D.Predictor9=function(p,v,F){return ht(v[F+0],v[F+1])},D.Predictor10=function(p,v,F){return ht(ht(p,v[F-1]),ht(v[F+0],v[F+1]))},D.Predictor11=function(p,v,F){var R=v[F+0];return 0>=ft(R>>24&255,p>>24&255,(v=v[F-1])>>24&255)+ft(R>>16&255,p>>16&255,v>>16&255)+ft(R>>8&255,p>>8&255,v>>8&255)+ft(255&R,255&p,255&v)?R:p},D.Predictor12=function(p,v,F){var R=v[F+0];return(Re((p>>24&255)+(R>>24&255)-((v=v[F-1])>>24&255))<<24|Re((p>>16&255)+(R>>16&255)-(v>>16&255))<<16|Re((p>>8&255)+(R>>8&255)-(v>>8&255))<<8|Re((255&p)+(255&R)-(255&v)))>>>0},D.Predictor13=function(p,v,F){var R=v[F-1];return(Oe((p=ht(p,v[F+0]))>>24&255,R>>24&255)<<24|Oe(p>>16&255,R>>16&255)<<16|Oe(p>>8&255,R>>8&255)<<8|Oe(255&p,255&R))>>>0};var _i=D.PredictorAdd0;D.PredictorAdd1=_t,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var li=D.PredictorAdd2;it("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),it("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Tr,ko=D.ColorIndexInverseTransform,Ai=D.MapARGB,Ga=D.VP8LColorIndexInverseTransformAlpha,Io=D.MapAlpha,Lo=D.VP8LPredictorsAdd=[];Lo.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var bl,eo,to,Qo,To,yl,Po,Nl,Pr,ua,qs,nr,Rr,en,ci,VA,nA,so,Gc,aA,$c,Cd,zA,jl,Bl,Sd,GA,Ed,Fd=i(511),_d=i(2041),Ud=i(225),kd=i(767),Id=0,Ui=_d,iA=Ud,Gn=kd,$a=Fd,Wc=0,Ro=1,Ru=2,$A=3,WA=4,lr=5,qA=6,_=7,K=8,Ae=9,Be=10,Ye=[2,3,7],qt=[3,3,11],Dt=[280,256,256,256,40],ks=[0,1,1,1,0],ln=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Do=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],YA=8,JA=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],qc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],oA=null,Du=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ou=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$h=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Qp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Tp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Hu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ha=[],di=[],Sa=[],ro=1,XA=2,$n=[],Ea=[];ai("UpsampleRgbLinePair",Si,3),ai("UpsampleBgrLinePair",on,3),ai("UpsampleRgbaLinePair",Un,4),ai("UpsampleBgraLinePair",rA,4),ai("UpsampleArgbLinePair",sA,4),ai("UpsampleRgba4444LinePair",Ji,2),ai("UpsampleRgb565LinePair",Uo,2);var Pp=D.UpsampleRgbLinePair,Rp=D.UpsampleBgrLinePair,Cl=D.UpsampleRgbaLinePair,ZA=D.UpsampleBgraLinePair,lA=D.UpsampleArgbLinePair,Yc=D.UpsampleRgba4444LinePair,Mu=D.UpsampleRgb565LinePair,Oo=16,ki=1<<Oo-1,ar=-227,Ar=482,Sl=6,kn=0,Fa=i(256),AA=i(256),ec=i(256),_a=i(256),Ld=i(Ar-ar),Wh=i(Ar-ar);za("YuvToRgbRow",Si,3),za("YuvToBgrRow",on,3),za("YuvToRgbaRow",Un,4),za("YuvToBgraRow",rA,4),za("YuvToArgbRow",sA,4),za("YuvToRgba4444Row",Ji,2),za("YuvToRgb565Row",Uo,2);var Ku=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],cA=[0,2,8],qh=[8,7,6,4,4,2,2,2,1,1,1,1],Ho=1;this.WebPDecodeRGBA=function(p,v,F,R,J){var te=Ro,ae=new lt,ce=new bt;ae.ba=ce,ce.S=te,ce.width=[ce.width],ce.height=[ce.height];var he=ce.width,we=ce.height,_e=new Wt;if(_e==null||p==null)var Ge=2;else t(_e!=null),Ge=Xi(p,v,F,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Ge!=0?he=0:(he!=null&&(he[0]=_e.width[0]),we!=null&&(we[0]=_e.height[0]),he=1),he){ce.width=ce.width[0],ce.height=ce.height[0],R!=null&&(R[0]=ce.width),J!=null&&(J[0]=ce.height);e:{if(R=new dl,(J=new pt).data=p,J.w=v,J.ha=F,J.kd=1,v=[0],t(J!=null),((p=Xi(J.data,J.w,J.ha,null,null,null,v,null,J))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(t(ae!=null),R.data=J.data,R.w=J.w+J.offset,R.ha=J.ha-J.offset,R.put=Ut,R.ac=Lr,R.bc=$s,R.ma=ae,J.xa){if((p=je())==null){ae=1;break e}if((function(ve,Ie){var Me=[0],ot=[0],We=[0];t:for(;;){if(ve==null)return 0;if(Ie==null)return ve.a=2,0;if(ve.l=Ie,ve.a=0,de(ve.m,Ie.data,Ie.w,Ie.ha),!Hr(ve.m,Me,ot,We)){ve.a=3;break t}if(ve.xb=XA,Ie.width=Me[0],Ie.height=ot[0],!bs(Me[0],ot[0],1,ve,null))break t;return 1}return t(ve.a!=0),0})(p,R)){if(R=(v=Ei(R.width,R.height,ae.Oa,ae.ba))==0){t:{R=p;s:for(;;){if(R==null){R=0;break t}if(t(R.s.yc!=null),t(R.s.Ya!=null),t(0<R.s.Wb),t((F=R.l)!=null),t((J=F.ma)!=null),R.xb!=0){if(R.ca=J.ba,R.tb=J.tb,t(R.ca!=null),!wl(J.Oa,F,$A)){R.a=2;break s}if(!Js(R,F.width)||F.da)break s;if((F.da||Pt(R.ca.S))&&la(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&la()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!le(R.s.vb,R.s.Wa.Xa)){R.a=1;break s}R.xb=0}if(!ys(R,R.V,R.Ba,R.c,R.i,F.o,wa))break s;J.Dc=R.Ma,R=1;break t}t(R.a!=0),R=0}R=!R}R&&(v=p.a)}else v=p.a}else{if((p=new Vc)==null){ae=1;break e}if(p.Fa=J.na,p.P=J.P,p.qc=J.Sa,Mn(p,R)){if((v=Ei(R.width,R.height,ae.Oa,ae.ba))==0){if(p.Aa=0,F=ae.Oa,t((J=p)!=null),F!=null){if(0<(he=0>(he=F.Md)?0:100<he?255:255*he/100)){for(we=_e=0;4>we;++we)12>(Ge=J.pb[we]).lc&&(Ge.ia=he*qh[0>Ge.lc?0:Ge.lc]>>3),_e|=Ge.ia;_e&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=F.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(ve,Ie){if(ve==null)return 0;if(Ie==null)return Kr(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!Mn(ve,Ie))return 0;if(t(ve.cb),Ie.ac==null||Ie.ac(Ie)){Ie.ob&&(ve.L=0);var Me=cA[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=Ie.v-Me>>4,ve.zb=Ie.j-Me>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=Ie.o+15+Me>>4,ve.Hb=Ie.va+15+Me>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var ot=ve.ed;for(Me=0;4>Me;++Me){var We;if(ve.Qa.Cb){var nt=ve.Qa.Lb[Me];ve.Qa.Fb||(nt+=ot.Tb)}else nt=ot.Tb;for(We=0;1>=We;++We){var at=ve.gd[Me][We],ut=nt;if(ot.Pc&&(ut+=ot.vd[0],We&&(ut+=ot.od[0])),0<(ut=0>ut?0:63<ut?63:ut)){var mt=ut;0<ot.wb&&(mt=4<ot.wb?mt>>2:mt>>1)>9-ot.wb&&(mt=9-ot.wb),1>mt&&(mt=1),at.dd=mt,at.tc=2*ut+mt,at.ld=40<=ut?2:15<=ut?1:0}else at.tc=0;at.La=We}}}Me=0}else Kr(ve,6,"Frame setup failed"),Me=ve.a;if(Me=Me==0){if(Me){ve.$c=0,0<ve.Aa||(ve.Ic=Ho);t:{Me=ve.Ic,ot=4*(mt=ve.za);var os=32*mt,Yt=mt+1,Bs=0<ve.L?mt*(0<ve.Aa?2:1):0,es=(ve.Aa==2?2:1)*mt;if((at=ot+832+(We=3*(16*Me+cA[ve.L])/2*os)+(nt=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=at)Me=0;else{if(at>ve.Vb){if(ve.Vb=0,ve.Ec=i(at),ve.Fc=0,ve.Ec==null){Me=Kr(ve,1,"no memory during frame initialization.");break t}ve.Vb=at}at=ve.Ec,ut=ve.Fc,ve.Ac=at,ve.Bc=ut,ut+=ot,ve.Gd=A(os,aa),ve.Hd=0,ve.rb=A(Yt+1,Gi),ve.sb=1,ve.wa=Bs?A(Bs,na):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=mt),t(!0),ve.oc=at,ve.pc=ut,ut+=832,ve.ya=A(es,cl),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=mt),ve.R=16*mt,ve.B=8*mt,mt=(os=cA[ve.L])*ve.R,os=os/2*ve.B,ve.sa=at,ve.ta=ut+mt,ve.qa=ve.sa,ve.ra=ve.ta+16*Me*ve.R+os,ve.Ha=ve.qa,ve.Ia=ve.ra+8*Me*ve.B+os,ve.$c=0,ut+=We,ve.mb=nt?at:null,ve.nb=nt?ut:null,t(ut+nt<=ve.Fc+ve.Vb),bo(ve),a(ve.Ac,ve.Bc,0,ot),Me=1}}if(Me){if(Ie.ka=0,Ie.y=ve.sa,Ie.O=ve.ta,Ie.f=ve.qa,Ie.N=ve.ra,Ie.ea=ve.Ha,Ie.Vd=ve.Ia,Ie.fa=ve.R,Ie.Rc=ve.B,Ie.F=null,Ie.J=0,!Id){for(Me=-255;255>=Me;++Me)Fd[255+Me]=0>Me?-Me:Me;for(Me=-1020;1020>=Me;++Me)_d[1020+Me]=-128>Me?-128:127<Me?127:Me;for(Me=-112;112>=Me;++Me)Ud[112+Me]=-16>Me?-16:15<Me?15:Me;for(Me=-255;510>=Me;++Me)kd[255+Me]=0>Me?0:255<Me?255:Me;Id=1}Po=No,Nl=$i,ua=Ma,qs=yo,nr=zs,Pr=ul,Rr=jn,en=Ba,ci=Y,VA=be,nA=xl,so=B,Gc=Se,aA=De,$c=ri,Cd=Wi,zA=tA,jl=Fo,di[0]=MA,di[1]=Yl,di[2]=si,di[3]=zc,di[4]=oa,di[5]=Jl,di[6]=Ka,di[7]=fl,di[8]=Xl,di[9]=Bo,ha[0]=ti,ha[1]=HA,ha[2]=hl,ha[3]=ml,ha[4]=Vn,ha[5]=ba,ha[6]=jo,Sa[0]=pl,Sa[1]=OA,Sa[2]=Va,Sa[3]=Co,Sa[4]=eA,Sa[5]=Zl,Sa[6]=gl,Me=1}else Me=0}Me&&(Me=(function(Rs,Gr){for(Rs.M=0;Rs.M<Rs.Va;++Rs.M){var Cs,Jt=Rs.Jc[Rs.M&Rs.Xb],St=Rs.m,tn=Rs;for(Cs=0;Cs<tn.za;++Cs){var vs=St,Is=tn,wr=Is.Ac,Bn=Is.Bc+4*Cs,An=Is.zc,Dr=Is.ya[Is.aa+Cs];if(Is.Qa.Bb?Dr.$b=fe(vs,Is.Pa.jb[0])?2+fe(vs,Is.Pa.jb[2]):fe(vs,Is.Pa.jb[1]):Dr.$b=0,Is.kc&&(Dr.Ad=fe(vs,Is.Bd)),Dr.Za=!fe(vs,145)+0,Dr.Za){var pn=Dr.Ob,Cn=0;for(Is=0;4>Is;++Is){var _r,Hs=An[0+Is];for(_r=0;4>_r;++_r){Hs=Qp[wr[Bn+_r]][Hs];for(var Xs=Gh[fe(vs,Hs[0])];0<Xs;)Xs=Gh[2*Xs+fe(vs,Hs[Xs])];Hs=-Xs,wr[Bn+_r]=Hs}n(pn,Cn,wr,Bn,4),Cn+=4,An[0+Is]=Hs}}else Hs=fe(vs,156)?fe(vs,128)?1:3:fe(vs,163)?2:0,Dr.Ob[0]=Hs,a(wr,Bn,Hs,4),a(An,0,Hs,4);Dr.Dd=fe(vs,142)?fe(vs,114)?fe(vs,183)?1:3:2:0}if(tn.m.Ka)return Kr(Rs,7,"Premature end-of-partition0 encountered.");for(;Rs.ja<Rs.za;++Rs.ja){if(tn=Jt,vs=(St=Rs).rb[St.sb-1],wr=St.rb[St.sb+St.ja],Cs=St.ya[St.aa+St.ja],Bn=St.kc?Cs.Ad:0)vs.la=wr.la=0,Cs.Za||(vs.Na=wr.Na=0),Cs.Hc=0,Cs.Gc=0,Cs.ia=0;else{var Ur,Zs;if(vs=wr,wr=tn,Bn=St.Pa.Xc,An=St.ya[St.aa+St.ja],Dr=St.pb[An.$b],Is=An.ad,pn=0,Cn=St.rb[St.sb-1],Hs=_r=0,a(Is,pn,0,384),An.Za)var $r=0,Wr=Bn[3];else{Xs=i(16);var fr=vs.Na+Cn.Na;if(fr=oA(wr,Bn[1],fr,Dr.Eb,0,Xs,0),vs.Na=Cn.Na=(0<fr)+0,1<fr)Po(Xs,0,Is,pn);else{var Wn=Xs[0]+3>>3;for(Xs=0;256>Xs;Xs+=16)Is[pn+Xs]=Wn}$r=1,Wr=Bn[0]}var cr=15&vs.la,pr=15&Cn.la;for(Xs=0;4>Xs;++Xs){var cn=1&pr;for(Wn=Zs=0;4>Wn;++Wn)cr=cr>>1|(cn=(fr=oA(wr,Wr,fr=cn+(1&cr),Dr.Sc,$r,Is,pn))>$r)<<7,Zs=Zs<<2|(3<fr?3:1<fr?2:Is[pn+0]!=0),pn+=16;cr>>=4,pr=pr>>1|cn<<7,_r=(_r<<8|Zs)>>>0}for(Wr=cr,$r=pr>>4,Ur=0;4>Ur;Ur+=2){for(Zs=0,cr=vs.la>>4+Ur,pr=Cn.la>>4+Ur,Xs=0;2>Xs;++Xs){for(cn=1&pr,Wn=0;2>Wn;++Wn)fr=cn+(1&cr),cr=cr>>1|(cn=0<(fr=oA(wr,Bn[2],fr,Dr.Qc,0,Is,pn)))<<3,Zs=Zs<<2|(3<fr?3:1<fr?2:Is[pn+0]!=0),pn+=16;cr>>=2,pr=pr>>1|cn<<5}Hs|=Zs<<4*Ur,Wr|=cr<<4<<Ur,$r|=(240&pr)<<Ur}vs.la=Wr,Cn.la=$r,An.Hc=_r,An.Gc=Hs,An.ia=43690&Hs?0:Dr.ia,Bn=!(_r|Hs)}if(0<St.L&&(St.wa[St.Y+St.ja]=St.gd[Cs.$b][Cs.Za],St.wa[St.Y+St.ja].La|=!Bn),tn.Ka)return Kr(Rs,7,"Premature end-of-file encountered.")}if(bo(Rs),St=Gr,tn=1,Cs=(Jt=Rs).D,vs=0<Jt.L&&Jt.M>=Jt.zb&&Jt.M<=Jt.Va,Jt.Aa==0)t:{if(Cs.M=Jt.M,Cs.uc=vs,Aa(Jt,Cs),tn=1,Cs=(Zs=Jt.D).Nb,vs=(Hs=cA[Jt.L])*Jt.R,wr=Hs/2*Jt.B,Xs=16*Cs*Jt.R,Wn=8*Cs*Jt.B,Bn=Jt.sa,An=Jt.ta-vs+Xs,Dr=Jt.qa,Is=Jt.ra-wr+Wn,pn=Jt.Ha,Cn=Jt.Ia-wr+Wn,pr=(cr=Zs.M)==0,_r=cr>=Jt.Va-1,Jt.Aa==2&&Aa(Jt,Zs),Zs.uc)for(cn=(fr=Jt).D.M,t(fr.D.uc),Zs=fr.yb;Zs<fr.Hb;++Zs){$r=Zs,Wr=cn;var In=(Ua=(nn=fr).D).Nb;Ur=nn.R;var Ua=Ua.wa[Ua.Y+$r],sn=nn.sa,rn=nn.ta+16*In*Ur+16*$r,qn=Ua.dd,gr=Ua.tc;if(gr!=0)if(t(3<=gr),nn.L==1)0<$r&&Cd(sn,rn,Ur,gr+4),Ua.La&&jl(sn,rn,Ur,gr),0<Wr&&$c(sn,rn,Ur,gr+4),Ua.La&&zA(sn,rn,Ur,gr);else{var Yn=nn.B,ui=nn.qa,Ii=nn.ra+8*In*Yn+8*$r,Sn=nn.Ha,nn=nn.Ia+8*In*Yn+8*$r;In=Ua.ld,0<$r&&(en(sn,rn,Ur,gr+4,qn,In),VA(ui,Ii,Sn,nn,Yn,gr+4,qn,In)),Ua.La&&(so(sn,rn,Ur,gr,qn,In),aA(ui,Ii,Sn,nn,Yn,gr,qn,In)),0<Wr&&(Rr(sn,rn,Ur,gr+4,qn,In),ci(ui,Ii,Sn,nn,Yn,gr+4,qn,In)),Ua.La&&(nA(sn,rn,Ur,gr,qn,In),Gc(ui,Ii,Sn,nn,Yn,gr,qn,In))}}if(Jt.ia&&alert("todo:DitherRow"),St.put!=null){if(Zs=16*cr,cr=16*(cr+1),pr?(St.y=Jt.sa,St.O=Jt.ta+Xs,St.f=Jt.qa,St.N=Jt.ra+Wn,St.ea=Jt.Ha,St.W=Jt.Ia+Wn):(Zs-=Hs,St.y=Bn,St.O=An,St.f=Dr,St.N=Is,St.ea=pn,St.W=Cn),_r||(cr-=Hs),cr>St.o&&(cr=St.o),St.F=null,St.J=null,Jt.Fa!=null&&0<Jt.Fa.length&&Zs<cr&&(St.J=or(Jt,St,Zs,cr-Zs),St.F=Jt.mb,St.F==null&&St.F.length==0)){tn=Kr(Jt,3,"Could not decode alpha data.");break t}Zs<St.j&&(Hs=St.j-Zs,Zs=St.j,t(!(1&Hs)),St.O+=Jt.R*Hs,St.N+=Jt.B*(Hs>>1),St.W+=Jt.B*(Hs>>1),St.F!=null&&(St.J+=St.width*Hs)),Zs<cr&&(St.O+=St.v,St.N+=St.v>>1,St.W+=St.v>>1,St.F!=null&&(St.J+=St.v),St.ka=Zs-St.j,St.U=St.va-St.v,St.T=cr-Zs,tn=St.put(St))}Cs+1!=Jt.Ic||_r||(n(Jt.sa,Jt.ta-vs,Bn,An+16*Jt.R,vs),n(Jt.qa,Jt.ra-wr,Dr,Is+8*Jt.B,wr),n(Jt.Ha,Jt.Ia-wr,pn,Cn+8*Jt.B,wr))}if(!tn)return Kr(Rs,6,"Output aborted.")}return 1})(ve,Ie)),Ie.bc!=null&&Ie.bc(Ie),Me&=1}return Me?(ve.cb=0,Me):0})(p,R)||(v=p.a)}}else v=p.a}v==0&&ae.Oa!=null&&ae.Oa.fd&&(v=vl(ae.ba))}ae=v}te=ae!=0?null:11>te?ce.f.RGBA.eb:ce.f.kb.y}else te=null;return te};var Jc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(D,P){for(var Q="",T=0;T<4;T++)Q+=String.fromCharCode(D[P++]);return Q}function m(D,P){return D[P+0]|D[P+1]<<8}function f(D,P){return(D[P+0]|D[P+1]<<8|D[P+2]<<16)>>>0}function x(D,P){return(D[P+0]|D[P+1]<<8|D[P+2]<<16|D[P+3]<<24)>>>0}new d;var g=[0],N=[0],b=[],j=new d,y=s,E=(function(D,P){var Q={},T=0,$=!1,V=0,ie=0;if(Q.frames=[],!(function(O,X){for(var re=0;re<4;re++)if(O[X+re]!="RIFF".charCodeAt(re))return!0;return!1})(D,P)){for(x(D,P+=4),P+=8;P<D.length;){var W=u(D,P),ne=x(D,P+=4);P+=4;var M=ne+(1&ne);switch(W){case"VP8 ":case"VP8L":Q.frames[T]===void 0&&(Q.frames[T]={}),(se=Q.frames[T]).src_off=$?ie:P-8,se.src_size=V+ne+8,T++,$&&($=!1,V=0,ie=0);break;case"VP8X":(se=Q.header={}).feature_flags=D[P];var de=P+4;se.canvas_width=1+f(D,de),de+=3,se.canvas_height=1+f(D,de),de+=3;break;case"ALPH":$=!0,V=M+8,ie=P-8;break;case"ANIM":(se=Q.header).bgcolor=x(D,P),de=P+4,se.loop_count=m(D,de),de+=2;break;case"ANMF":var ue,se;(se=Q.frames[T]={}).offset_x=2*f(D,P),P+=3,se.offset_y=2*f(D,P),P+=3,se.width=1+f(D,P),P+=3,se.height=1+f(D,P),P+=3,se.duration=f(D,P),P+=3,ue=D[P++],se.dispose=1&ue,se.blend=ue>>1&1}W!="ANMF"&&(P+=M)}return Q}})(y,0);E.response=y,E.rgbaoutput=!0,E.dataurl=!1;var U=E.header?E.header:null,k=E.frames?E.frames:null;if(U){U.loop_counter=U.loop_count,g=[U.canvas_height],N=[U.canvas_width];for(var q=0;q<k.length&&k[q].blend!=0;q++);}var G=k[0],H=j.WebPDecodeRGBA(y,G.src_off,G.src_size,N,g);G.rgba=H,G.imgwidth=N[0],G.imgheight=g[0];for(var I=0;I<N[0]*g[0]*4;I++)b[I]=H[I];return this.width=N,this.height=g,this.data=b,this}(function(s){var t,r,n,a,i,A,c,d,u,m=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new d,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new A,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new A,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};s.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,A=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,u=new m}]);var f=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=O;Object.defineProperty(this,"pdf",{get:function(){return X}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(le){re=!!le}});var me=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return me},set:function(le){me=!!le}});var xe=0;Object.defineProperty(this,"posX",{get:function(){return xe},set:function(le){isNaN(le)||(xe=le)}});var Z=0;Object.defineProperty(this,"posY",{get:function(){return Z},set:function(le){isNaN(le)||(Z=le)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(le){var Te;typeof le=="number"?Te=[le,le,le,le]:((Te=new Array(4))[0]=le[0],Te[1]=le.length>=2?le[1]:Te[0],Te[2]=le.length>=3?le[2]:Te[0],Te[3]=le.length>=4?le[3]:Te[1]),u.margin=Te}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(le){oe=le}});var z=0;Object.defineProperty(this,"lastBreak",{get:function(){return z},set:function(le){z=le}});var fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fe},set:function(le){fe=le}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(le){le instanceof m&&(u=le)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(le){u.path=le}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(le){Fe=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var Te;Te=x(le),this.ctx.fillStyle=Te.style,this.ctx.isFillTransparent=Te.a===0,this.ctx.fillOpacity=Te.a,this.pdf.setFillColor(Te.r,Te.g,Te.b,{a:Te.a}),this.pdf.setTextColor(Te.r,Te.g,Te.b,{a:Te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var Te=x(le);this.ctx.strokeStyle=Te.style,this.ctx.isStrokeTransparent=Te.a===0,this.ctx.strokeOpacity=Te.a,Te.a===0?this.pdf.setDrawColor(255,255,255):(Te.a,this.pdf.setDrawColor(Te.r,Te.g,Te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var Ve=null,qe=null,st=null;Object.defineProperty(this,"fontFaces",{get:function(){return st},set:function(le){Ve=null,qe=null,st=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var Te;if(this.ctx.font=le,(Te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(le))!==null){var ze=Te[1];Te[2];var ye=Te[3],pe=Te[4];Te[5];var Pe=Te[6],et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(pe)[2];pe=Math.floor(et==="px"?parseFloat(pe)*this.pdf.internal.scaleFactor:et==="em"?parseFloat(pe)*this.pdf.getFontSize():parseFloat(pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(pe);var rt=(function(it){var Xt,Lt,Et=[],Vt=it.trim();if(Vt==="")return B0;if(Vt in vy)return[vy[Vt]];for(;Vt!=="";){switch(Lt=null,Xt=(Vt=yy(Vt)).charAt(0)){case'"':case"'":Lt=uD(Vt.substring(1),Xt);break;default:Lt=hD(Vt)}if(Lt===null||(Et.push(Lt[0]),(Vt=yy(Lt[1]))!==""&&Vt.charAt(0)!==","))return B0;Vt=Vt.replace(/^,/,"")}return Et})(Pe);if(this.fontFaces){var ht=(function(it,Xt){var Lt=it.getFontList(),Et=JSON.stringify(Lt);if(Ve===null||qe!==Et){var Vt=(function(Tt){var Ft=[];return Object.keys(Tt).forEach(function(ds){Tt[ds].forEach(function(Pt){var Bt=null;switch(Pt){case"bold":Bt={family:ds,weight:"bold"};break;case"italic":Bt={family:ds,style:"italic"};break;case"bolditalic":Bt={family:ds,weight:"bold",style:"italic"};break;case"":case"normal":Bt={family:ds}}Bt!==null&&(Bt.ref={name:ds,style:Pt},Ft.push(Bt))})}),Ft})(Lt);Ve=(function(Tt){for(var Ft={},ds=0;ds<Tt.length;++ds){var Pt=j0(Tt[ds]),Bt=Pt.family,xs=Pt.stretch,bt=Pt.style,Wt=Pt.weight;Ft[Bt]=Ft[Bt]||{},Ft[Bt][xs]=Ft[Bt][xs]||{},Ft[Bt][xs][bt]=Ft[Bt][xs][bt]||{},Ft[Bt][xs][bt][Wt]=Pt}return Ft})(Vt.concat(Xt)),qe=Et}return Ve})(this.pdf,this.fontFaces),Re=rt.map(function(it){return{family:it,stretch:"normal",weight:ye,style:ze}}),Oe=(function(it,Xt,Lt){for(var Et=(Lt=Lt||{}).defaultFontFamily||"times",Vt=Object.assign({},dD,Lt.genericFontFamilies||{}),Tt=null,Ft=null,ds=0;ds<Xt.length;++ds)if(Vt[(Tt=j0(Xt[ds])).family]&&(Tt.family=Vt[Tt.family]),it.hasOwnProperty(Tt.family)){Ft=it[Tt.family];break}if(!(Ft=Ft||it[Et]))throw new Error("Could not find a font-family for the rule '"+by(Tt)+"' and default family '"+Et+"'.");if(Ft=(function(Pt,Bt){if(Bt[Pt])return Bt[Pt];var xs=Sx[Pt],bt=xs<=Sx.normal?-1:1,Wt=wy(Bt,z5,xs,bt);if(!Wt)throw new Error("Could not find a matching font-stretch value for "+Pt);return Wt})(Tt.stretch,Ft),Ft=(function(Pt,Bt){if(Bt[Pt])return Bt[Pt];for(var xs=V5[Pt],bt=0;bt<xs.length;++bt)if(Bt[xs[bt]])return Bt[xs[bt]];throw new Error("Could not find a matching font-style for "+Pt)})(Tt.style,Ft),!(Ft=(function(Pt,Bt){if(Bt[Pt])return Bt[Pt];if(Pt===400&&Bt[500])return Bt[500];if(Pt===500&&Bt[400])return Bt[400];var xs=cD[Pt],bt=wy(Bt,G5,xs,Pt<400?-1:1);if(!bt)throw new Error("Could not find a matching font-weight for value "+Pt);return bt})(Tt.weight,Ft)))throw new Error("Failed to resolve a font for the rule '"+by(Tt)+"'.");return Ft})(ht,Re);this.pdf.setFont(Oe.ref.name,Oe.ref.style)}else{var ft="";(ye==="bold"||parseInt(ye,10)>=700||ze==="bold")&&(ft="bold"),ze==="italic"&&(ft+="italic"),ft.length===0&&(ft="normal");for(var _t="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<rt.length;dt++){if(this.pdf.internal.getFont(rt[dt],ft,{noFallback:!0,disableWarning:!0})!==void 0){_t=rt[dt];break}if(ft==="bolditalic"&&this.pdf.internal.getFont(rt[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_t=rt[dt],ft="bold";else if(this.pdf.internal.getFont(rt[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_t=rt[dt],ft="normal";break}}if(_t===""){for(var Ke=0;Ke<rt.length;Ke++)if(xt[rt[Ke]]){_t=xt[rt[Ke]];break}}_t=_t===""?"Times":_t,this.pdf.setFont(_t,ft)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};f.prototype.setLineDash=function(O){this.lineDash=O},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(O,X){if(isNaN(O)||isNaN(X))throw Er.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new A(O,X));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new A(O,X)},f.prototype.closePath=function(){var O=new A(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&xr(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){O=new A(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new A(O.x,O.y)},f.prototype.lineTo=function(O,X){if(isNaN(O)||isNaN(X))throw Er.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new A(O,X));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new A(re.x,re.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(O,X,re,me){if(isNaN(re)||isNaN(me)||isNaN(O)||isNaN(X))throw Er.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var xe=this.ctx.transform.applyToPoint(new A(re,me)),Z=this.ctx.transform.applyToPoint(new A(O,X));this.path.push({type:"qct",x1:Z.x,y1:Z.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new A(xe.x,xe.y)},f.prototype.bezierCurveTo=function(O,X,re,me,xe,Z){if(isNaN(xe)||isNaN(Z)||isNaN(O)||isNaN(X)||isNaN(re)||isNaN(me))throw Er.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new A(xe,Z)),z=this.ctx.transform.applyToPoint(new A(O,X)),fe=this.ctx.transform.applyToPoint(new A(re,me));this.path.push({type:"bct",x1:z.x,y1:z.y,x2:fe.x,y2:fe.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new A(oe.x,oe.y)},f.prototype.arc=function(O,X,re,me,xe,Z){if(isNaN(O)||isNaN(X)||isNaN(re)||isNaN(me)||isNaN(xe))throw Er.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Z=!!Z,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new A(O,X));O=oe.x,X=oe.y;var z=this.ctx.transform.applyToPoint(new A(0,re)),fe=this.ctx.transform.applyToPoint(new A(0,0));re=Math.sqrt(Math.pow(z.x-fe.x,2)+Math.pow(z.y-fe.y,2))}Math.abs(xe-me)>=2*Math.PI&&(me=0,xe=2*Math.PI),this.path.push({type:"arc",x:O,y:X,radius:re,startAngle:me,endAngle:xe,counterclockwise:Z})},f.prototype.arcTo=function(O,X,re,me,xe){throw new Error("arcTo not implemented.")},f.prototype.rect=function(O,X,re,me){if(isNaN(O)||isNaN(X)||isNaN(re)||isNaN(me))throw Er.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,X),this.lineTo(O+re,X),this.lineTo(O+re,X+me),this.lineTo(O,X+me),this.lineTo(O,X),this.lineTo(O+re,X),this.lineTo(O,X)},f.prototype.fillRect=function(O,X,re,me){if(isNaN(O)||isNaN(X)||isNaN(re)||isNaN(me))throw Er.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var xe={};this.lineCap!=="butt"&&(xe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(xe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,X,re,me),this.fill(),xe.hasOwnProperty("lineCap")&&(this.lineCap=xe.lineCap),xe.hasOwnProperty("lineJoin")&&(this.lineJoin=xe.lineJoin)}},f.prototype.strokeRect=function(O,X,re,me){if(isNaN(O)||isNaN(X)||isNaN(re)||isNaN(me))throw Er.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(O,X,re,me),this.stroke())},f.prototype.clearRect=function(O,X,re,me){if(isNaN(O)||isNaN(X)||isNaN(re)||isNaN(me))throw Er.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,X,re,me))},f.prototype.save=function(O){O=typeof O!="boolean"||O;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var me=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=me}},f.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(X),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(O){var X,re,me,xe;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))X=0,re=0,me=0,xe=0;else{var Z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(Z!==null)X=parseInt(Z[1]),re=parseInt(Z[2]),me=parseInt(Z[3]),xe=1;else if((Z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)X=parseInt(Z[1]),re=parseInt(Z[2]),me=parseInt(Z[3]),xe=parseFloat(Z[4]);else{if(xe=1,typeof O=="string"&&O.charAt(0)!=="#"){var oe=new P5(O);O=oe.ok?oe.toHex():"#000000"}O.length===4?(X=O.substring(1,2),X+=X,re=O.substring(2,3),re+=re,me=O.substring(3,4),me+=me):(X=O.substring(1,3),re=O.substring(3,5),me=O.substring(5,7)),X=parseInt(X,16),re=parseInt(re,16),me=parseInt(me,16)}}return{r:X,g:re,b:me,a:xe,style:O}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(O,X,re,me){if(isNaN(X)||isNaN(re)||typeof O!="string")throw Er.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(me=isNaN(me)?void 0:me,!g.call(this)){var xe=M(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;T.call(this,{text:O,x:X,y:re,scale:Z,angle:xe,align:this.textAlign,maxWidth:me})}},f.prototype.strokeText=function(O,X,re,me){if(isNaN(X)||isNaN(re)||typeof O!="string")throw Er.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){me=isNaN(me)?void 0:me;var xe=M(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;T.call(this,{text:O,x:X,y:re,scale:Z,renderingMode:"stroke",angle:xe,align:this.textAlign,maxWidth:me})}},f.prototype.measureText=function(O){if(typeof O!="string")throw Er.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,re=this.pdf.internal.scaleFactor,me=X.internal.getFontSize(),xe=X.getStringUnitWidth(O)*me/X.internal.scaleFactor;return new function(Z){var oe=(Z=Z||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this}({width:xe*=Math.round(96*re/72*1e4)/1e4})},f.prototype.scale=function(O,X){if(isNaN(O)||isNaN(X))throw Er.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new d(O,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},f.prototype.rotate=function(O){if(isNaN(O))throw Er.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new d(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.translate=function(O,X){if(isNaN(O)||isNaN(X))throw Er.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new d(1,0,0,1,O,X);this.ctx.transform=this.ctx.transform.multiply(re)},f.prototype.transform=function(O,X,re,me,xe,Z){if(isNaN(O)||isNaN(X)||isNaN(re)||isNaN(me)||isNaN(xe)||isNaN(Z))throw Er.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new d(O,X,re,me,xe,Z);this.ctx.transform=this.ctx.transform.multiply(oe)},f.prototype.setTransform=function(O,X,re,me,xe,Z){O=isNaN(O)?1:O,X=isNaN(X)?0:X,re=isNaN(re)?0:re,me=isNaN(me)?1:me,xe=isNaN(xe)?0:xe,Z=isNaN(Z)?0:Z,this.ctx.transform=new d(O,X,re,me,xe,Z)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(O,X,re,me,xe,Z,oe,z,fe){var Fe=this.pdf.getImageProperties(O),Ve=1,qe=1,st=1,le=1;me!==void 0&&z!==void 0&&(st=z/me,le=fe/xe,Ve=Fe.width/me*z/me,qe=Fe.height/xe*fe/xe),Z===void 0&&(Z=X,oe=re,X=0,re=0),me!==void 0&&z===void 0&&(z=me,fe=xe),me===void 0&&z===void 0&&(z=Fe.width,fe=Fe.height);var Te=this.ctx.transform.decompose(),ze=M(Te.rotate.shx),ye=new d,pe=(ye=(ye=(ye=ye.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new c(Z-X*st,oe-re*le,me*Ve,xe*qe));if(this.autoPaging){for(var Pe,et=j.call(this,pe),rt=[],ht=0;ht<et.length;ht+=1)rt.indexOf(et[ht])===-1&&rt.push(et[ht]);U(rt);for(var Re=rt[0],Oe=rt[rt.length-1],ft=Re;ft<Oe+1;ft++){this.pdf.setPage(ft);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=ft===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=ft===1?0:dt+(ft-2)*Ke;if(this.ctx.clip_path.length!==0){var Xt=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Pe,this.posX+this.margin[3],-it+xt+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Xt}var Lt=JSON.parse(JSON.stringify(pe));Lt=E([Lt],this.posX+this.margin[3],-it+xt+this.ctx.prevPageLastElemOffset)[0];var Et=(ft>Re||ft<Oe)&&b.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Ke,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,ze),Et&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",pe.x,pe.y,pe.w,pe.h,null,null,ze)};var j=function(O,X,re){var me=[];X=X||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var xe=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":me.push(Math.floor((O.y+xe)/re)+1);break;case"arc":me.push(Math.floor((O.y+xe-O.radius)/re)+1),me.push(Math.floor((O.y+xe+O.radius)/re)+1);break;case"qct":var Z=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);me.push(Math.floor((Z.y+xe)/re)+1),me.push(Math.floor((Z.y+Z.h+xe)/re)+1);break;case"bct":var oe=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);me.push(Math.floor((oe.y+xe)/re)+1),me.push(Math.floor((oe.y+oe.h+xe)/re)+1);break;case"rect":me.push(Math.floor((O.y+xe)/re)+1),me.push(Math.floor((O.y+O.h+xe)/re)+1)}for(var z=0;z<me.length;z+=1)for(;this.pdf.internal.getNumberOfPages()<me[z];)y.call(this);return me},y=function(){var O=this.fillStyle,X=this.strokeStyle,re=this.font,me=this.lineCap,xe=this.lineWidth,Z=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=X,this.font=re,this.lineCap=me,this.lineWidth=xe,this.lineJoin=Z},E=function(O,X,re){for(var me=0;me<O.length;me++)switch(O[me].type){case"bct":O[me].x2+=X,O[me].y2+=re;case"qct":O[me].x1+=X,O[me].y1+=re;default:O[me].x+=X,O[me].y+=re}return O},U=function(O){return O.sort(function(X,re){return X-re})},k=function(O,X){var re=this.fillStyle,me=this.strokeStyle,xe=this.lineCap,Z=this.lineWidth,oe=Math.abs(Z*this.ctx.transform.scaleX),z=this.lineJoin;if(this.autoPaging){for(var fe,Fe,Ve=JSON.parse(JSON.stringify(this.path)),qe=JSON.parse(JSON.stringify(this.path)),st=[],le=0;le<qe.length;le++)if(qe[le].x!==void 0)for(var Te=j.call(this,qe[le]),ze=0;ze<Te.length;ze+=1)st.indexOf(Te[ze])===-1&&st.push(Te[ze]);for(var ye=0;ye<st.length;ye++)for(;this.pdf.internal.getNumberOfPages()<st[ye];)y.call(this);U(st);for(var pe=st[0],Pe=st[st.length-1],et=pe;et<Pe+1;et++){this.pdf.setPage(et),this.fillStyle=re,this.strokeStyle=me,this.lineCap=xe,this.lineWidth=oe,this.lineJoin=z;var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=et===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=et===1?0:Re+(et-2)*Oe;if(this.ctx.clip_path.length!==0){var _t=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(fe,this.posX+this.margin[3],-ft+ht+this.ctx.prevPageLastElemOffset),q.call(this,O,!0),this.path=_t}if(Fe=JSON.parse(JSON.stringify(Ve)),this.path=E(Fe,this.posX+this.margin[3],-ft+ht+this.ctx.prevPageLastElemOffset),X===!1||et===0){var xt=(et>pe||et<Pe)&&b.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Oe,null).clip().discardPath()),q.call(this,O,X),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}this.path=Ve}else this.lineWidth=oe,q.call(this,O,X),this.lineWidth=Z},q=function(O,X){if((O!=="stroke"||X||!N.call(this))&&(O==="stroke"||X||!g.call(this))){for(var re,me,xe=[],Z=this.path,oe=0;oe<Z.length;oe++){var z=Z[oe];switch(z.type){case"begin":xe.push({begin:!0});break;case"close":xe.push({close:!0});break;case"mt":xe.push({start:z,deltas:[],abs:[]});break;case"lt":var fe=xe.length;if(Z[oe-1]&&!isNaN(Z[oe-1].x)&&(re=[z.x-Z[oe-1].x,z.y-Z[oe-1].y],fe>0)){for(;fe>=0;fe--)if(xe[fe-1].close!==!0&&xe[fe-1].begin!==!0){xe[fe-1].deltas.push(re),xe[fe-1].abs.push(z);break}}break;case"bct":re=[z.x1-Z[oe-1].x,z.y1-Z[oe-1].y,z.x2-Z[oe-1].x,z.y2-Z[oe-1].y,z.x-Z[oe-1].x,z.y-Z[oe-1].y],xe[xe.length-1].deltas.push(re);break;case"qct":var Fe=Z[oe-1].x+2/3*(z.x1-Z[oe-1].x),Ve=Z[oe-1].y+2/3*(z.y1-Z[oe-1].y),qe=z.x+2/3*(z.x1-z.x),st=z.y+2/3*(z.y1-z.y),le=z.x,Te=z.y;re=[Fe-Z[oe-1].x,Ve-Z[oe-1].y,qe-Z[oe-1].x,st-Z[oe-1].y,le-Z[oe-1].x,Te-Z[oe-1].y],xe[xe.length-1].deltas.push(re);break;case"arc":xe.push({deltas:[],abs:[],arc:!0}),Array.isArray(xe[xe.length-1].abs)&&xe[xe.length-1].abs.push(z)}}me=X?null:O==="stroke"?"stroke":"fill";for(var ze=!1,ye=0;ye<xe.length;ye++)if(xe[ye].arc)for(var pe=xe[ye].abs,Pe=0;Pe<pe.length;Pe++){var et=pe[Pe];et.type==="arc"?I.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,X,!ze):$.call(this,et.x,et.y),ze=!0}else if(xe[ye].close===!0)this.pdf.internal.out("h"),ze=!1;else if(xe[ye].begin!==!0){var rt=xe[ye].start.x,ht=xe[ye].start.y;V.call(this,xe[ye].deltas,rt,ht),ze=!0}me&&D.call(this,me),X&&P.call(this)}},G=function(O){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-re;case"top":return O+X-re;case"hanging":return O+X-2*re;case"middle":return O+X/2-re;default:return O}},H=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(X,re){this.colorStops.push([X,re])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(O,X,re,me,xe,Z,oe,z,fe){for(var Fe=W.call(this,re,me,xe,Z),Ve=0;Ve<Fe.length;Ve++){var qe=Fe[Ve];Ve===0&&(fe?Q.call(this,qe.x1+O,qe.y1+X):$.call(this,qe.x1+O,qe.y1+X)),ie.call(this,O,X,qe.x2,qe.y2,qe.x3,qe.y3,qe.x4,qe.y4)}z?P.call(this):D.call(this,oe)},D=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},Q=function(O,X){this.pdf.internal.out(r(O)+" "+n(X)+" m")},T=function(O){var X;switch(O.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var re,me,xe,Z=this.pdf.getTextDimensions(O.text),oe=G.call(this,O.y),z=H.call(this,oe)-Z.h,fe=this.ctx.transform.applyToPoint(new A(O.x,oe));if(this.autoPaging){var Fe=this.ctx.transform.decompose(),Ve=new d;Ve=(Ve=(Ve=Ve.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale);for(var qe=this.ctx.transform.applyToRectangle(new c(O.x,oe,Z.w,Z.h)),st=Ve.applyToRectangle(new c(O.x,z,Z.w,Z.h)),le=j.call(this,st),Te=[],ze=0;ze<le.length;ze+=1)Te.indexOf(le[ze])===-1&&Te.push(le[ze]);U(Te);for(var ye=Te[0],pe=Te[Te.length-1],Pe=ye;Pe<pe+1;Pe++){this.pdf.setPage(Pe);var et=Pe===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[2],Re=ht-this.margin[0],Oe=this.pdf.internal.pageSize.width-this.margin[1],ft=Oe-this.margin[3],_t=Pe===1?0:rt+(Pe-2)*Re;if(this.ctx.clip_path.length!==0){var xt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(re,this.posX+this.margin[3],-1*_t+et),q.call(this,"fill",!0),this.path=xt}var dt=E([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-_t+et+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*O.scale),xe=this.lineWidth,this.lineWidth=xe*O.scale);var Ke=this.autoPaging!=="text";if(Ke||dt.y+dt.h<=ht){if(Ke||dt.y>=et&&dt.x<=Oe){var it=Ke?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Oe-dt.x)[0],Xt=E([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-_t+et+this.ctx.prevPageLastElemOffset)[0],Lt=Ke&&(Pe>ye||Pe<pe)&&b.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,Re,null).clip().discardPath()),this.pdf.text(it,Xt.x,Xt.y,{angle:O.angle,align:X,renderingMode:O.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else dt.y<ht&&(this.ctx.prevPageLastElemOffset+=ht-dt.y);O.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=xe)}}else O.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*O.scale),xe=this.lineWidth,this.lineWidth=xe*O.scale),this.pdf.text(O.text,fe.x+this.posX,fe.y+this.posY,{angle:O.angle,align:X,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=xe)},$=function(O,X,re,me){re=re||0,me=me||0,this.pdf.internal.out(r(O+re)+" "+n(X+me)+" l")},V=function(O,X,re){return this.pdf.lines(O,X,re,null,null)},ie=function(O,X,re,me,xe,Z,oe,z){this.pdf.internal.out([t(a(re+O)),t(i(me+X)),t(a(xe+O)),t(i(Z+X)),t(a(oe+O)),t(i(z+X)),"c"].join(" "))},W=function(O,X,re,me){for(var xe=2*Math.PI,Z=Math.PI/2;X>re;)X-=xe;var oe=Math.abs(re-X);oe<xe&&me&&(oe=xe-oe);for(var z=[],fe=me?-1:1,Fe=X;oe>1e-5;){var Ve=Fe+fe*Math.min(oe,Z);z.push(ne.call(this,O,Fe,Ve)),oe-=Math.abs(Ve-Fe),Fe=Ve}return z},ne=function(O,X,re){var me=(re-X)/2,xe=O*Math.cos(me),Z=O*Math.sin(me),oe=xe,z=-Z,fe=oe*oe+z*z,Fe=fe+oe*xe+z*Z,Ve=4/3*(Math.sqrt(2*fe*Fe)-Fe)/(oe*Z-z*xe),qe=oe-Ve*z,st=z+Ve*oe,le=qe,Te=-st,ze=me+X,ye=Math.cos(ze),pe=Math.sin(ze);return{x1:O*Math.cos(X),y1:O*Math.sin(X),x2:qe*ye-st*pe,y2:qe*pe+st*ye,x3:le*ye-Te*pe,y3:le*pe+Te*ye,x4:O*Math.cos(re),y4:O*Math.sin(re)}},M=function(O){return 180*O/Math.PI},de=function(O,X,re,me,xe,Z){var oe=O+.5*(re-O),z=X+.5*(me-X),fe=xe+.5*(re-xe),Fe=Z+.5*(me-Z),Ve=Math.min(O,xe,oe,fe),qe=Math.max(O,xe,oe,fe),st=Math.min(X,Z,z,Fe),le=Math.max(X,Z,z,Fe);return new c(Ve,st,qe-Ve,le-st)},ue=function(O,X,re,me,xe,Z,oe,z){var fe,Fe,Ve,qe,st,le,Te,ze,ye,pe,Pe,et,rt,ht,Re=re-O,Oe=me-X,ft=xe-re,_t=Z-me,xt=oe-xe,dt=z-Z;for(Fe=0;Fe<41;Fe++)ye=(Te=(Ve=O+(fe=Fe/40)*Re)+fe*((st=re+fe*ft)-Ve))+fe*(st+fe*(xe+fe*xt-st)-Te),pe=(ze=(qe=X+fe*Oe)+fe*((le=me+fe*_t)-qe))+fe*(le+fe*(Z+fe*dt-le)-ze),Fe==0?(Pe=ye,et=pe,rt=ye,ht=pe):(Pe=Math.min(Pe,ye),et=Math.min(et,pe),rt=Math.max(rt,ye),ht=Math.max(ht,pe));return new c(Math.round(Pe),Math.round(et),Math.round(rt-Pe),Math.round(ht-et))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,X,re=(O=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:X}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(cs.API),(function(s){var t=function(A){var c,d,u,m,f,x,g,N,b,j;for(d=[],u=0,m=(A+=c="\0\0\0\0".slice(A.length%4||4)).length;m>u;u+=4)(f=(A.charCodeAt(u)<<24)+(A.charCodeAt(u+1)<<16)+(A.charCodeAt(u+2)<<8)+A.charCodeAt(u+3))!==0?(x=(f=((f=((f=((f=(f-(j=f%85))/85)-(b=f%85))/85)-(N=f%85))/85)-(g=f%85))/85)%85,d.push(x+33,g+33,N+33,b+33,j+33)):d.push(122);return(function(y,E){for(var U=E;U>0;U--)y.pop()})(d,c.length),String.fromCharCode.apply(String,d)+"~>"},r=function(A){var c,d,u,m,f,x=String,g="length",N=255,b="charCodeAt",j="slice",y="replace";for(A[j](-2),A=A[j](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),u=[],m=0,f=(A+=c="uuuuu"[j](A[g]%5||5))[g];f>m;m+=5)d=52200625*(A[b](m)-33)+614125*(A[b](m+1)-33)+7225*(A[b](m+2)-33)+85*(A[b](m+3)-33)+(A[b](m+4)-33),u.push(N&d>>24,N&d>>16,N&d>>8,N&d);return(function(E,U){for(var k=U;k>0;k--)E.pop()})(u,c[g]),x.fromCharCode.apply(x,u)},n=function(A){return A.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(A){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((A=A.replace(/\s/g,"")).indexOf(">")!==-1&&(A=A.substr(0,A.indexOf(">"))),A.length%2&&(A+="0"),c.test(A)===!1)return"";for(var d="",u=0;u<A.length;u+=2)d+=String.fromCharCode("0x"+(A[u]+A[u+1]));return d},i=function(A){for(var c=new Uint8Array(A.length),d=A.length;d--;)c[d]=A.charCodeAt(d);return(c=vx(c)).reduce(function(u,m){return u+String.fromCharCode(m)},"")};s.processDataByFilters=function(A,c){var d=0,u=A||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:u,reverseChain:m.reverse().join(" ")}}})(cs.API),(function(s){s.loadFile=function(t,r,n){return(function(a,i,A){i=i!==!1,A=typeof A=="function"?A:function(){};var c=void 0;try{c=(function(d,u,m){var f=new XMLHttpRequest,x=0,g=function(N){var b=N.length,j=[],y=String.fromCharCode;for(x=0;x<b;x+=1)j.push(y(255&N.charCodeAt(x)));return j.join("")};if(f.open("GET",d,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?m(g(this.responseText)):m(void 0)}),f.send(null),u&&f.status===200)return g(f.responseText)})(a,i,A)}catch{}return c})(t,r,n)},s.loadImageFile=s.loadFile})(cs.API),(function(s){function t(){return(js.html2canvas?Promise.resolve(js.html2canvas):ff(()=>Promise.resolve().then(()=>VP),void 0,import.meta.url)).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function r(){return(js.DOMPurify?Promise.resolve(js.DOMPurify):ff(()=>import("./purify.es-B6FQ9oRL.js"),[],import.meta.url)).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var d=xr(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},a=function(c,d){var u=document.createElement(c);for(var m in d.className&&(u.className=d.className),d.innerHTML&&d.dompurify&&(u.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)u.style[m]=d.style[m];return u},i=function c(d,u){for(var m=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),f=d.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||m.appendChild(c(f,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(m.value=d.value),m.addEventListener("load",function(){m.scrollTop=d.scrollTop,m.scrollLeft=d.scrollLeft},!0)),m},A=function c(d){var u=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),u);return(m=m.setProgress(1,c,1,[c])).set(d)};(A.prototype=Object.create(Promise.prototype)).constructor=A,A.convert=function(c,d){return c.__proto__=d||A.prototype,c},A.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},A.prototype.from=function(c,d){return this.then(function(){switch(d=d||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),d){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:c,dompurify:u})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},A.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},A.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},A.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(d){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,d(this.prop.container,u)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},A.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(d){var u=this.opt.jsPDF,m=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=m,m)for(var g=0;g<m.length;++g){var N=m[g],b=N.src.find(function(j){return j.format==="truetype"});b&&u.addFont(b.url,N.ref.name,N.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,u.context2d.save(!0),d(this.prop.container,x)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},A.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},A.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},A.prototype.output=function(c,d,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},A.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},A.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},A.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},A.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},A.prototype.set=function(c){if(n(c)!=="object")return this;var d=Object.keys(c||{}).map(function(u){if(u in A.template.prop)return function(){this.prop[u]=c[u]};switch(u){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[u]=c[u]}}},this);return this.then(function(){return this.thenList(d)})},A.prototype.get=function(c,d){return this.then(function(){var u=c in A.template.prop?this.prop[c]:this.opt[c];return d?d(u):u})},A.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},A.prototype.setPageSize=function(c){function d(u,m){return Math.floor(u*m/72*96)}return this.then(function(){(c=c||cs.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},A.prototype.setProgress=function(c,d,u,m){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),u!=null&&(this.progress.n=u),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},A.prototype.updateProgress=function(c,d,u,m){return this.setProgress(c?this.progress.val+c:null,d||null,u?this.progress.n+u:null,m?this.progress.stack.concat(m):null)},A.prototype.then=function(c,d){var u=this;return this.thenCore(c,d,function(m,f){return u.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(x){return u.updateProgress(null,m),x}).then(m,f).then(function(x){return u.updateProgress(1),x})})},A.prototype.thenCore=function(c,d,u){u=u||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),d&&(d=d.bind(m));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:A.convert(Object.assign({},m),Promise.prototype),x=u.call(f,c,d);return A.convert(x,m.__proto__)},A.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},A.prototype.thenList=function(c){var d=this;return c.forEach(function(u){d=d.thenCore(u)}),d},A.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return A.convert(d,this)},A.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},A.prototype.error=function(c){return this.then(function(){throw new Error(c)})},A.prototype.using=A.prototype.set,A.prototype.saveAs=A.prototype.save,A.prototype.export=A.prototype.output,A.prototype.run=A.prototype.then,cs.getPageSize=function(c,d,u){if(xr(c)==="object"){var m=c;c=m.orientation,d=m.unit||d,u=m.format||u}d=d||"mm",u=u||"a4",c=(""+(c||"P")).toLowerCase();var f,x=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+d}var N,b=0,j=0;if(g.hasOwnProperty(x))b=g[x][1]/f,j=g[x][0]/f;else try{b=u[1],j=u[0]}catch{throw new Error("Invalid format: "+u)}if(c==="p"||c==="portrait")c="p",j>b&&(N=j,j=b,b=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",b>j&&(N=j,j=b,b=N)}return{width:j,height:b,unit:d,k:f,orientation:c}},s.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(j0):null;var u=new A(d);return d.worker?u:u.from(c).doCallback()}})(cs.API),cs.API.addJS=function(s){return jy=s,this.internal.events.subscribe("postPutResources",function(){cf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(cf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ny=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+jy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){cf!==void 0&&Ny!==void 0&&this.internal.out("/Names <</JavaScript "+cf+" 0 R>>")}),this},(function(s){var t;s.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var A=a[i],c=n.exec(A);if(c!=null){var d=c[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(A)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,m=[];for(i=0;i<u;i++){var f=r.internal.newObject();m.push(f);var x=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<m.length;i++)r.internal.write("(page_"+(i+1)+")"+m[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),s.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),s.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var A={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(A),A},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var A=n.children[i];this.objStart(A),this.line("/Title "+this.makeString(A.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),A.children.length>0&&(this.line("/First "+this.makeRef(A.children[0])),this.line("/Last "+this.makeRef(A.children[A.children.length-1])));var c=this.count=this.count_r({count:0},A);if(c>0&&this.line("/Count "+c),A.options&&A.options.pageNumber){var d=r.internal.getPageInfo(A.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(cs.API),(function(s){var t=[192,193,194,195,196,197,198,199];s.processJPEG=function(r,n,a,i,A,c){var d,u=this.decode.DCT_DECODE,m=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=A||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=(function(f){for(var x,g=256*f.charCodeAt(4)+f.charCodeAt(5),N=f.length,b={width:0,height:0,numcomponents:1},j=4;j<N;j+=2){if(j+=g,t.indexOf(f.charCodeAt(j+1))!==-1){x=256*f.charCodeAt(j+5)+f.charCodeAt(j+6),b={width:256*f.charCodeAt(j+7)+f.charCodeAt(j+8),height:x,numcomponents:f.charCodeAt(j+9)};break}g=256*f.charCodeAt(j+2)+f.charCodeAt(j+3)}return b})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:r,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:u,index:n,alias:a}}return m}})(cs.API),cs.API.processPNG=function(s,t,r,n){if(this.__addimage__.isArrayBuffer(s)&&(s=new Uint8Array(s)),this.__addimage__.isArrayBufferView(s)){var a,i=YR(s,{checkCrc:!0}),A=i.width,c=i.height,d=i.channels,u=i.palette,m=i.depth;a=u&&d===1?(function(I){for(var D=I.width,P=I.height,Q=I.data,T=I.palette,$=I.depth,V=!1,ie=[],W=[],ne=void 0,M=!1,de=0,ue=0;ue<T.length;ue++){var se=Eb(T[ue],4),O=se[0],X=se[1],re=se[2],me=se[3];ie.push(O,X,re),me!=null&&(me===0?(de++,W.length<1&&W.push(ue)):me<255&&(M=!0))}if(M||de>1){V=!0,W=void 0;var xe=D*P;ne=new Uint8Array(xe);for(var Z=new DataView(Q.buffer),oe=0;oe<xe;oe++){var z=C0(Z,oe,$),fe=Eb(T[z],4)[3];ne[oe]=fe}}else de===0&&(W=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:Q,alphaBytes:ne,needSMask:V,palette:ie,mask:W}})(i):d===2||d===4?(function(I){for(var D=I.data,P=I.width,Q=I.height,T=I.channels,$=I.depth,V=T===2?"DeviceGray":"DeviceRGB",ie=T-1,W=P*Q,ne=ie,M=W*ne,de=1*W,ue=Math.ceil(M*$/8),se=Math.ceil(de*$/8),O=new Uint8Array(ue),X=new Uint8Array(se),re=new DataView(D.buffer),me=new DataView(O.buffer),xe=new DataView(X.buffer),Z=!1,oe=0;oe<W;oe++){for(var z=oe*T,fe=0;fe<ne;fe++)Iy(me,C0(re,z+fe,$),oe*ne+fe,$);var Fe=C0(re,z+ne,$);Fe<(1<<$)-1&&(Z=!0),Iy(xe,Fe,1*oe,$)}return{colorSpace:V,colorsPerPixel:ie,sMaskBitsPerComponent:Z?$:void 0,colorBytes:O,alphaBytes:X,needSMask:Z}})(i):(function(I){var D=I.data,P=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:P,colorsPerPixel:P==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(Q){for(var T=Q.length,$=new Uint8Array(2*T),V=new DataView($.buffer,$.byteOffset,$.byteLength),ie=0;ie<T;ie++)V.setUint16(2*ie,Q[ie],!1);return $})(D):D,needSMask:!1}})(i);var f,x,g,N=a,b=N.colorSpace,j=N.colorsPerPixel,y=N.sMaskBitsPerComponent,E=N.colorBytes,U=N.alphaBytes,k=N.needSMask,q=N.palette,G=N.mask,H=null;return n!==cs.API.image_compression.NONE&&typeof vx=="function"?(H=(function(I){var D;switch(I){case cs.API.image_compression.FAST:D=11;break;case cs.API.image_compression.MEDIUM:D=13;break;case cs.API.image_compression.SLOW:D=14;break;default:D=12}return D})(n),f=this.decode.FLATE_DECODE,x="/Predictor ".concat(H," /Colors ").concat(j," /BitsPerComponent ").concat(m," /Columns ").concat(A),s=Ey(E,Math.ceil(A*j*m/8),j,m,n),k&&(g=Ey(U,Math.ceil(A*y/8),1,y,n))):(f=void 0,x=void 0,s=E,k&&(g=U)),(this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s))&&(s=this.__addimage__.arrayBufferToBinaryString(s)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:s,index:t,filter:f,decodeParameters:x,transparency:G,palette:q,sMask:g,predictor:H,width:A,height:c,bitsPerComponent:m,sMaskBitsPerComponent:y,colorSpace:b}}},(function(s){s.processGIF89A=function(t,r,n,a){var i=new gD(t),A=i.width,c=i.height,d=[];i.decodeAndBlitFrameRGBA(0,d);var u={data:d,width:A,height:c},m=new S0(100).encode(u,100);return s.processJPEG.call(this,m,r,n,a)},s.processGIF87A=s.processGIF89A})(cs.API),qo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var s=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(s);for(var t=0;t<s;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qo.prototype.parseBGR=function(){this.pos=this.offset;try{var s="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[s]()}catch(r){Er.log("bit decode error:"+r)}},qo.prototype.bit1=function(){var s,t=Math.ceil(this.width/8),r=t%4;for(s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var d=this.palette[i>>7-c&1];this.data[A+4*c]=d.blue,this.data[A+4*c+1]=d.green,this.data[A+4*c+2]=d.red,this.data[A+4*c+3]=255}r!==0&&(this.pos+=4-r)}},qo.prototype.bit4=function(){for(var s=Math.ceil(this.width/2),t=s%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<s;a++){var i=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+2*a*4,c=i>>4,d=15&i,u=this.palette[c];if(this.data[A]=u.blue,this.data[A+1]=u.green,this.data[A+2]=u.red,this.data[A+3]=255,2*a+1>=this.width)break;u=this.palette[d],this.data[A+4]=u.blue,this.data[A+4+1]=u.green,this.data[A+4+2]=u.red,this.data[A+4+3]=255}t!==0&&(this.pos+=4-t)}},qo.prototype.bit8=function(){for(var s=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var A=this.palette[a];this.data[i]=A.red,this.data[i+1]=A.green,this.data[i+2]=A.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}s!==0&&(this.pos+=4-s)}},qo.prototype.bit15=function(){for(var s=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(i&t)/t*255|0,c=(i>>5&t)/t*255|0,d=(i>>10&t)/t*255|0,u=i>>15?255:0,m=n*this.width*4+4*a;this.data[m]=d,this.data[m+1]=c,this.data[m+2]=A,this.data[m+3]=u}this.pos+=s}},qo.prototype.bit16=function(){for(var s=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(A&t)/t*255|0,d=(A>>5&r)/r*255|0,u=(A>>11)/t*255|0,m=a*this.width*4+4*i;this.data[m]=u,this.data[m+1]=d,this.data[m+2]=c,this.data[m+3]=255}this.pos+=s}},qo.prototype.bit24=function(){for(var s=this.height-1;s>=0;s--){for(var t=this.bottom_up?s:this.height-1-s,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),A=t*this.width*4+4*r;this.data[A]=i,this.data[A+1]=a,this.data[A+2]=n,this.data[A+3]=255}this.pos+=this.width%4}},qo.prototype.bit32=function(){for(var s=this.height-1;s>=0;s--)for(var t=this.bottom_up?s:this.height-1-s,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*r;this.data[c]=i,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=A}},qo.prototype.getData=function(){return this.data},(function(s){s.processBMP=function(t,r,n,a){var i=new qo(t,!1),A=i.width,c=i.height,d={data:i.getData(),width:A,height:c},u=new S0(100).encode(d,100);return s.processJPEG.call(this,u,r,n,a)}})(cs.API),Qy.prototype.getData=function(){return this.data},(function(s){s.processWEBP=function(t,r,n,a){var i=new Qy(t),A=i.width,c=i.height,d={data:i.getData(),width:A,height:c},u=new S0(100).encode(d,100);return s.processJPEG.call(this,u,r,n,a)}})(cs.API),cs.API.processRGBA=function(s,t,r){for(var n=s.data,a=n.length,i=new Uint8Array(a/4*3),A=new Uint8Array(a/4),c=0,d=0,u=0;u<a;u+=4){var m=n[u],f=n[u+1],x=n[u+2],g=n[u+3];i[c++]=m,i[c++]=f,i[c++]=x,A[d++]=g}var N=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(A),data:N,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:s.width,height:s.height}},cs.API.setLanguage=function(s){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[s]!==void 0&&(this.internal.languageSettings.languageCode=s,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ou=cs.API,df=ou.getCharWidthsArray=function(s,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),A=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:a.metadata.Unicode.widths,d=c.fof?c.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,m=u.fof?u.fof:1,f=t.doKerning!==!1,x=0,g=s.length,N=0,b=c[0]||d,j=[];for(r=0;r<g;r++)n=s.charCodeAt(r),typeof a.metadata.widthOfString=="function"?j.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+A*(1e3/i)||0)/1e3):(x=f&&xr(u[n])==="object"&&!isNaN(parseInt(u[n][N],10))?u[n][N]/m:0,j.push((c[n]||b)/d+x)),N=n;return j},By=ou.getStringUnitWidth=function(s,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return ou.processArabic&&(s=ou.processArabic(s)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(s,r,a)/r:df.apply(this,arguments).reduce(function(i,A){return i+A},0)},Cy=function(s,t,r,n){for(var a=[],i=0,A=s.length,c=0;i!==A&&c+t[i]<r;)c+=t[i],i++;a.push(s.slice(0,i));var d=i;for(c=0;i!==A;)c+t[i]>n&&(a.push(s.slice(d,i)),c=0,d=i),c+=t[i],i++;return d!==i&&a.push(s.slice(d,i)),a},Sy=function(s,t,r){r||(r={});var n,a,i,A,c,d,u,m=[],f=[m],x=r.textIndent||0,g=0,N=0,b=s.split(" "),j=df.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var y=Array(d).join(" "),E=[];b.map(function(k){(k=k.split(/\s*\n/)).length>1?E=E.concat(k.map(function(q,G){return(G&&q.length?`
`:"")+q})):E.push(k[0])}),b=E,d=By.apply(this,[y,r])}for(i=0,A=b.length;i<A;i++){var U=0;if(n=b[i],d&&n[0]==`
`&&(n=n.substr(1),U=1),x+g+(N=(a=df.apply(this,[n,r])).reduce(function(k,q){return k+q},0))>t||U){if(N>t){for(c=Cy.apply(this,[n,a,t-(x+g),t]),m.push(c.shift()),m=[c.pop()];c.length;)f.push([c.shift()]);N=a.slice(n.length-(m[0]?m[0].length:0)).reduce(function(k,q){return k+q},0)}else m=[n];f.push(m),x=N+d,g=j}else m.push(n),x+=g+N,g=j}return u=d?function(k,q){return(q?y:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(u)},ou.splitTextToSize=function(s,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var f=this.internal.getFont(m.fontName,m.fontStyle),x="Unicode";return f.metadata[x]?{widths:f.metadata[x].widths||{0:1},kerning:f.metadata[x].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(s)?s:String(s).split(/\r?\n/);var A=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var c,d,u=[];for(c=0,d=n.length;c<d;c++)u=u.concat(Sy.apply(this,[n[c],A,i]));return u},(function(s){s.__fontmetrics__=s.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var A=function(x){return"0x"+parseInt(x,10).toString(16)},c=s.__fontmetrics__.compress=function(x){var g,N,b,j,y=["{"];for(var E in x){if(g=x[E],isNaN(parseInt(E,10))?N="'"+E+"'":(E=parseInt(E,10),N=(N=A(E).slice(2)).slice(0,-1)+a[N.slice(-1)]),typeof g=="number")g<0?(b=A(g).slice(3),j="-"):(b=A(g).slice(2),j=""),b=j+b.slice(0,-1)+a[b.slice(-1)];else{if(xr(g)!=="object")throw new Error("Don't know what to do with value type "+xr(g)+".");b=c(g)}y.push(N+b)}return y.push("}"),y.join("")},d=s.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,N,b,j,y={},E=1,U=y,k=[],q="",G="",H=x.length-1,I=1;I<H;I+=1)(j=x[I])=="'"?g?(b=g.join(""),g=void 0):g=[]:g?g.push(j):j=="{"?(k.push([U,b]),U={},b=void 0):j=="}"?((N=k.pop())[0][N[1]]=U,b=void 0,U=N[0]):j=="-"?E=-1:b===void 0?n.hasOwnProperty(j)?(q+=n[j],b=parseInt(q,16)*E,E=1,q=""):q+=j:n.hasOwnProperty(j)?(G+=n[j],U[b]=parseInt(G,16)*E,E=1,b=void 0,G=""):G+=j;return y},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};s.events.push(["addFont",function(x){var g=x.font,N=f.Unicode[g.postScriptName];N&&(g.metadata.Unicode={},g.metadata.Unicode.widths=N.widths,g.metadata.Unicode.kerning=N.kerning);var b=m.Unicode[g.postScriptName];b&&(g.metadata.Unicode.encoding=b,g.encoding=b.codePages[0])}])})(cs.API),(function(s){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};s.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(A,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(Nf(c)),A.metadata=s.API.TTFFont.open(c),A.metadata.Unicode=A.metadata.Unicode||{encoding:{},kerning:{},widths:[]},A.metadata.glyIdsUsed=[0]})(a,n)}}])})(cs),cs.API.addSvgAsImage=function(s,t,r,n,a,i,A,c){if(isNaN(t)||isNaN(r))throw Er.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Er.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=a;var u=d.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(js.canvg?Promise.resolve(js.canvg):ff(()=>import("./index.es-BnT7FwlG.js"),[],import.meta.url)).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(u,s,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(m)}).then(function(){f.addImage(d.toDataURL("image/jpeg",1),t,r,n,a,A,c)})},cs.API.putTotalPages=function(s){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(s,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(s,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},cs.API.viewerPreferences=function(s,t){var r;s=s||{},t=t||!1;var n,a,i,A={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(A),d=[],u=0,m=0,f=0;function x(N,b){var j,y=!1;for(j=0;j<N.length;j+=1)N[j]===b&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(A)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,s==="reset"||t===!0){var g=c.length;for(f=0;f<g;f+=1)r[c[f]].value=r[c[f]].defaultValue,r[c[f]].explicitSet=!1}if(xr(s)==="object"){for(a in s)if(i=s[a],x(c,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&x(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")d.push(String(i[u]-1));else if(i[u].length>1){for(m=0;m<i[u].length;m+=1)typeof i[u][m]!="number"&&(n=!1);n===!0&&d.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+d.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,b=[];for(N in r)r[N].explicitSet===!0&&(r[N].type==="name"?b.push("/"+N+" /"+r[N].value):b.push("/"+N+" "+r[N].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(s){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),A=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+A.length+c.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+A+c+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};s.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(cs.API),(function(s){var t=s.API,r=t.pdfEscape16=function(i,A){for(var c,d=A.metadata.Unicode.widths,u=["","0","00","000","0000"],m=[""],f=0,x=i.length;f<x;++f){if(c=A.metadata.characterToGlyph(i.charCodeAt(f)),A.metadata.glyIdsUsed.push(c),A.metadata.toUnicode[c]=i.charCodeAt(f),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(A.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(u[4-c.length],c)}return m.join("")},n=function(i){var A,c,d,u,m,f,x;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],f=0,x=(c=Object.keys(i).sort(function(g,N){return g-N})).length;f<x;f++)A=c[f],d.length>=100&&(m+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),i[A]!==void 0&&i[A]!==null&&typeof i[A].toString=="function"&&(u=("0000"+i[A].toString(16)).slice(-4),A=("0000"+(+A).toString(16)).slice(-4),d.push("<"+A+"><"+u+">"));return d.length&&(m+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(A){var c=A.font,d=A.out,u=A.newObject,m=A.putStream;if(c.metadata instanceof s.API.TTFFont&&c.encoding==="Identity-H"){for(var f=c.metadata.Unicode.widths,x=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",N=0;N<x.length;N++)g+=String.fromCharCode(x[N]);var b=u();m({data:g,addLength1:!0,objectId:b}),d("endobj");var j=u();m({data:n(c.metadata.toUnicode),addLength1:!0,objectId:j}),d("endobj");var y=u();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+du(c.fontName)),d("/FontFile2 "+b+" 0 R"),d("/FontBBox "+s.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var E=u();d("<<"),d("/Type /Font"),d("/BaseFont /"+du(c.fontName)),d("/FontDescriptor "+y+" 0 R"),d("/W "+s.API.PDFObject.convert(f)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=u(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+j+" 0 R"),d("/BaseFont /"+du(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+E+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(A){var c=A.font,d=A.out,u=A.newObject,m=A.putStream;if(c.metadata instanceof s.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var f=c.metadata.rawData,x="",g=0;g<f.length;g++)x+=String.fromCharCode(f[g]);var N=u();m({data:x,addLength1:!0,objectId:N}),d("endobj");var b=u();m({data:n(c.metadata.toUnicode),addLength1:!0,objectId:b}),d("endobj");var j=u();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+N+" 0 R"),d("/Flags 96"),d("/FontBBox "+s.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+du(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=u();for(var y=0;y<c.metadata.hmtx.widths.length;y++)c.metadata.hmtx.widths[y]=parseInt(c.metadata.hmtx.widths[y]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+du(c.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+s.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(i)}]);var a=function(i){var A,c=i.text||"",d=i.x,u=i.y,m=i.options||{},f=i.mutex||{},x=f.pdfEscape,g=f.activeFontKey,N=f.fonts,b=g,j="",y=0,E="",U=N[b].encoding;if(N[b].encoding!=="Identity-H")return{text:c,x:d,y:u,options:m,mutex:f};for(E=c,b=g,Array.isArray(c)&&(E=c[0]),y=0;y<E.length;y+=1)N[b].metadata.hasOwnProperty("cmap")&&(A=N[b].metadata.cmap.unicode.codeMap[E[y].charCodeAt(0)]),A||E[y].charCodeAt(0)<256&&N[b].metadata.hasOwnProperty("Unicode")?j+=E[y]:j+="";var k="";return parseInt(b.slice(1))<14||U==="WinAnsiEncoding"?k=x(j,b).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):U==="Identity-H"&&(k=r(j,N[b])),f.isHex=!0,{text:k,x:d,y:u,options:m,mutex:f}};t.events.push(["postProcessText",function(i){var A=i.text||"",c=[],d={text:A,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(A)){var u=0;for(u=0;u<A.length;u+=1)Array.isArray(A[u])&&A[u].length===3?c.push([a(Object.assign({},d,{text:A[u][0]})).text,A[u][1],A[u][2]]):c.push(a(Object.assign({},d,{text:A[u]})).text);i.text=c}else i.text=a(Object.assign({},d,{text:A})).text}])})(cs),(function(s){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};s.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},s.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},s.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(cs.API),(function(s){s.__bidiEngine__=s.prototype.__bidiEngine__=function(n){var a,i,A,c,d,u,m,f=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,U=0;this.__bidiEngine__={};var k=function(Q){var T=Q.charCodeAt(),$=T>>8,V=b[$];return V!==void 0?f[256*V+(255&T)]:$===252||$===253?"AL":y.test($)?"L":$===8?"R":"N"},q=function(Q){for(var T,$=0;$<Q.length;$++){if((T=k(Q.charAt($)))==="L")return!1;if(T==="R")return!0}return!1},G=function(Q,T,$,V){var ie,W,ne,M,de=T[V];switch(de){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(de="AN");break;case"AL":E=!0,de="R";break;case"WS":case"BN":de="N";break;case"CS":V<1||V+1>=T.length||(ie=$[V-1])!=="EN"&&ie!=="AN"||(W=T[V+1])!=="EN"&&W!=="AN"?de="N":E&&(W="AN"),de=W===ie?W:"N";break;case"ES":de=(ie=V>0?$[V-1]:"B")==="EN"&&V+1<T.length&&T[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&$[V-1]==="EN"){de="EN";break}if(E){de="N";break}for(ne=V+1,M=T.length;ne<M&&T[ne]==="ET";)ne++;de=ne<M&&T[ne]==="EN"?"EN":"N";break;case"NSM":if(A&&!c){for(M=T.length,ne=V+1;ne<M&&T[ne]==="NSM";)ne++;if(ne<M){var ue=Q[V],se=ue>=1425&&ue<=2303||ue===64286;if(ie=T[ne],se&&(ie==="R"||ie==="AL")){de="R";break}}}de=V<1||(ie=T[V-1])==="B"?"N":$[V-1];break;case"B":E=!1,a=!0,de=U;break;case"S":i=!0,de="N"}return de},H=function(Q,T,$){var V=Q.split("");return $&&I(V,$,{hiLevel:U}),V.reverse(),T&&T.reverse(),V.join("")},I=function(Q,T,$){var V,ie,W,ne,M,de=-1,ue=Q.length,se=0,O=[],X=U?g:x,re=[];for(E=!1,a=!1,i=!1,ie=0;ie<ue;ie++)re[ie]=k(Q[ie]);for(W=0;W<ue;W++){if(M=se,O[W]=G(Q,re,O,W),V=240&(se=X[M][N[O[W]]]),se&=15,T[W]=ne=X[se][5],V>0)if(V===16){for(ie=de;ie<W;ie++)T[ie]=1;de=-1}else de=-1;if(X[se][6])de===-1&&(de=W);else if(de>-1){for(ie=de;ie<W;ie++)T[ie]=ne;de=-1}re[W]==="B"&&(T[W]=0),$.hiLevel|=ne}i&&(function(me,xe,Z){for(var oe=0;oe<Z;oe++)if(me[oe]==="S"){xe[oe]=U;for(var z=oe-1;z>=0&&me[z]==="WS";z--)xe[z]=U}})(re,T,ue)},D=function(Q,T,$,V,ie){if(!(ie.hiLevel<Q)){if(Q===1&&U===1&&!a)return T.reverse(),void($&&$.reverse());for(var W,ne,M,de,ue=T.length,se=0;se<ue;){if(V[se]>=Q){for(M=se+1;M<ue&&V[M]>=Q;)M++;for(de=se,ne=M-1;de<ne;de++,ne--)W=T[de],T[de]=T[ne],T[ne]=W,$&&(W=$[de],$[de]=$[ne],$[ne]=W);se=M}se++}}},P=function(Q,T,$){var V=Q.split(""),ie={hiLevel:U};return $||($=[]),I(V,$,ie),(function(W,ne,M){if(M.hiLevel!==0&&m)for(var de,ue=0;ue<W.length;ue++)ne[ue]===1&&(de=j.indexOf(W[ue]))>=0&&(W[ue]=j[de+1])})(V,$,ie),D(2,V,T,$,ie),D(1,V,T,$,ie),V.join("")};return this.__bidiEngine__.doBidiReorder=function(Q,T,$){if((function(ie,W){if(W)for(var ne=0;ne<ie.length;ne++)W[ne]=ne;c===void 0&&(c=q(ie)),u===void 0&&(u=q(ie))})(Q,T),A||!d||u)if(A&&d&&c^u)U=c?1:0,Q=H(Q,T,$);else if(!A&&d&&u)U=c?1:0,Q=P(Q,T,$),Q=H(Q,T);else if(!A||c||d||u){if(A&&!d&&c^u)Q=H(Q,T),c?(U=0,Q=P(Q,T,$)):(U=1,Q=P(Q,T,$),Q=H(Q,T));else if(A&&c&&!d&&u)U=1,Q=P(Q,T,$),Q=H(Q,T);else if(!A&&!d&&c^u){var V=m;c?(U=1,Q=P(Q,T,$),U=0,m=!1,Q=P(Q,T,$),m=V):(U=0,Q=P(Q,T,$),Q=H(Q,T),U=1,m=!1,Q=P(Q,T,$),m=V,Q=H(Q,T))}}else U=0,Q=P(Q,T,$);else U=c?1:0,Q=P(Q,T,$);return Q},this.__bidiEngine__.setOptions=function(Q){Q&&(A=Q.isInputVisual,d=Q.isOutputVisual,c=Q.isInputRtl,u=Q.isOutputRtl,m=Q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new s.__bidiEngine__({isInputVisual:!0});s.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var A=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(A=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?A.push([r.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):A.push([r.doBidiReorder(a[c])]);n.text=A}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(cs),cs.API.TTFFont=(function(){function s(t){var r;if(this.rawData=t,r=this.contents=new Oc(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new kD(this),this.registerTTF()}return s.open=function(t){return new s(t)},s.prototype.parse=function(){return this.directory=new xD(this.contents),this.head=new vD(this),this.name=new BD(this),this.cmap=new W5(this),this.toUnicode={},this.hhea=new bD(this),this.maxp=new CD(this),this.hmtx=new SD(this),this.post=new ND(this),this.os2=new yD(this),this.loca=new UD(this),this.glyf=new ED(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},s.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var A,c,d,u;for(u=[],A=0,c=(d=this.bbox).length;A<c;A++)t=d[A],u.push(Math.round(t*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},s.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},s.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},s.prototype.widthOfString=function(t,r,n){var a,i,A,c;for(A=0,i=0,c=(t=""+t).length;0<=c?i<c:i>c;i=0<=c?++i:--i)a=t.charCodeAt(i),A+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return A*(r/1e3)},s.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},s})();var ll,Oc=(function(){function s(t){this.data=t??[],this.pos=0,this.length=this.data.length}return s.prototype.readByte=function(){return this.data[this.pos++]},s.prototype.writeByte=function(t){return this.data[this.pos++]=t},s.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},s.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},s.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},s.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},s.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},s.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},s.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},s.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},s.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},s.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},s.prototype.readShort=function(){return this.readInt16()},s.prototype.writeShort=function(t){return this.writeInt16(t)},s.prototype.readLongLong=function(){var t,r,n,a,i,A,c,d;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),A=this.readByte(),c=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^A)+256*(255^c)+(255^d)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*A+256*c+d},s.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},s.prototype.readInt=function(){return this.readInt32()},s.prototype.writeInt=function(t){return this.writeInt32(t)},s.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},s.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},s})(),xD=(function(){var s;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,A,c,d,u,m,f,x,g,N,b;for(b in g=Object.keys(r).length,d=Math.log(2),f=16*Math.floor(Math.log(g)/d),A=Math.floor(f/d),m=16*g-f,(a=new Oc).writeInt(this.scalarType),a.writeShort(g),a.writeShort(f),a.writeShort(A),a.writeShort(m),i=16*g,u=a.pos+i,c=null,N=[],r)for(x=r[b],a.writeString(b),a.writeInt(s(x)),a.writeInt(u),a.writeInt(x.length),N=N.concat(x),b==="head"&&(c=u),u+=x.length;u%4;)N.push(0),u++;return a.write(N),n=2981146554-s(a.data),a.pos=c+8,a.writeUInt32(n),a.data},s=function(r){var n,a,i,A;for(r=q5.call(r);r.length%4;)r.push(0);for(i=new Oc(r),a=0,n=0,A=r.length;n<A;n=n+=4)a+=i.readUInt32();return 4294967295&a},t})(),wD={}.hasOwnProperty,Wl=function(s,t){for(var r in t)wD.call(t,r)&&(s[r]=t[r]);function n(){this.constructor=s}return n.prototype=t.prototype,s.prototype=new n,s.__super__=t.prototype,s};ll=(function(){function s(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return s.prototype.parse=function(){},s.prototype.encode=function(){},s.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},s})();var vD=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Wl(s,ll),s.prototype.tag="head",s.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},s.prototype.encode=function(t){var r;return(r=new Oc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},s})(),Ty=(function(){function s(t,r){var n,a,i,A,c,d,u,m,f,x,g,N,b,j,y,E,U;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(g=t.readUInt16(),x=g/2,t.pos+=6,i=(function(){var k,q;for(q=[],d=k=0;0<=x?k<x:k>x;d=0<=x?++k:--k)q.push(t.readUInt16());return q})(),t.pos+=2,b=(function(){var k,q;for(q=[],d=k=0;0<=x?k<x:k>x;d=0<=x?++k:--k)q.push(t.readUInt16());return q})(),u=(function(){var k,q;for(q=[],d=k=0;0<=x?k<x:k>x;d=0<=x?++k:--k)q.push(t.readUInt16());return q})(),m=(function(){var k,q;for(q=[],d=k=0;0<=x?k<x:k>x;d=0<=x?++k:--k)q.push(t.readUInt16());return q})(),a=(this.length-t.pos+this.offset)/2,c=(function(){var k,q;for(q=[],d=k=0;0<=a?k<a:k>a;d=0<=a?++k:--k)q.push(t.readUInt16());return q})(),d=y=0,U=i.length;y<U;d=++y)for(j=i[d],n=E=N=b[d];N<=j?E<=j:E>=j;n=N<=j?++E:--E)m[d]===0?A=n+u[d]:(A=c[m[d]/2+(n-N)-(x-d)]||0)!==0&&(A+=u[d]),this.codeMap[n]=65535&A}t.pos=f}return s.encode=function(t,r){var n,a,i,A,c,d,u,m,f,x,g,N,b,j,y,E,U,k,q,G,H,I,D,P,Q,T,$,V,ie,W,ne,M,de,ue,se,O,X,re,me,xe,Z,oe,z,fe,Fe,Ve;switch(V=new Oc,A=Object.keys(t).sort(function(qe,st){return qe-st}),r){case"macroman":for(b=0,j=(function(){var qe=[];for(N=0;N<256;++N)qe.push(0);return qe})(),E={0:0},i={},ie=0,de=A.length;ie<de;ie++)E[z=t[a=A[ie]]]==null&&(E[z]=++b),i[a]={old:t[a],new:E[t[a]]},j[a]=E[t[a]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(j),{charMap:i,subtable:V.data,maxGlyphID:b+1};case"unicode":for(T=[],f=[],U=0,E={},n={},y=u=null,W=0,ue=A.length;W<ue;W++)E[q=t[a=A[W]]]==null&&(E[q]=++U),n[a]={old:q,new:E[q]},c=E[q]-a,y!=null&&c===u||(y&&f.push(y),T.push(a),u=c),y=a;for(y&&f.push(y),f.push(65535),T.push(65535),P=2*(D=T.length),I=2*Math.pow(Math.log(D)/Math.LN2,2),x=Math.log(I/2)/Math.LN2,H=2*D-I,d=[],G=[],g=[],N=ne=0,se=T.length;ne<se;N=++ne){if(Q=T[N],m=f[N],Q===65535){d.push(0),G.push(0);break}if(Q-($=n[Q].new)>=32768)for(d.push(0),G.push(2*(g.length+D-N)),a=M=Q;Q<=m?M<=m:M>=m;a=Q<=m?++M:--M)g.push(n[a].new);else d.push($-Q),G.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*D+2*g.length),V.writeUInt16(0),V.writeUInt16(P),V.writeUInt16(I),V.writeUInt16(x),V.writeUInt16(H),Z=0,O=f.length;Z<O;Z++)a=f[Z],V.writeUInt16(a);for(V.writeUInt16(0),oe=0,X=T.length;oe<X;oe++)a=T[oe],V.writeUInt16(a);for(fe=0,re=d.length;fe<re;fe++)c=d[fe],V.writeUInt16(c);for(Fe=0,me=G.length;Fe<me;Fe++)k=G[Fe],V.writeUInt16(k);for(Ve=0,xe=g.length;Ve<xe;Ve++)b=g[Ve],V.writeUInt16(b);return{charMap:n,subtable:V.data,maxGlyphID:U+1}}},s})(),W5=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Wl(s,ll),s.prototype.tag="cmap",s.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new Ty(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},s.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=Ty.encode(t,r),(a=new Oc).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},s})(),bD=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Wl(s,ll),s.prototype.tag="hhea",s.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},s})(),yD=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Wl(s,ll),s.prototype.tag="OS/2",s.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},s})(),ND=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Wl(s,ll),s.prototype.tag="post",s.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=function(){var A,c,d;for(d=[],i=A=0,c=this.file.maxp.numGlyphs;0<=c?A<c:A>c;i=0<=c?++A:--A)d.push(t.readUInt32());return d}.call(this)}},s})(),jD=function(s,t){this.raw=s,this.length=s.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},BD=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Wl(s,ll),s.prototype.tag="name",s.prototype.parse=function(t){var r,n,a,i,A,c,d,u,m,f,x;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(d={},i=m=0,f=n.length;m<f;i=++m)a=n[i],t.pos=a.offset,u=t.readString(a.length),A=new jD(u,a),d[x=a.nameID]==null&&(d[x]=[]),d[a.nameID].push(A);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},s})(),CD=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Wl(s,ll),s.prototype.tag="maxp",s.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},s})(),SD=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Wl(s,ll),s.prototype.tag="hmtx",s.prototype.parse=function(t){var r,n,a,i,A,c,d;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,m;for(m=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)m.push(t.readInt16());return m})(),this.widths=function(){var u,m,f,x;for(x=[],u=0,m=(f=this.metrics).length;u<m;u++)i=f[u],x.push(i.advance);return x}.call(this),n=this.widths[this.widths.length-1],d=[],r=A=0;0<=a?A<a:A>a;r=0<=a?++A:--A)d.push(this.widths.push(n));return d},s.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},s})(),q5=[].slice,ED=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Wl(s,ll),s.prototype.tag="glyf",s.prototype.parse=function(){return this.cache={}},s.prototype.glyphFor=function(t){var r,n,a,i,A,c,d,u,m,f;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,A=(c=new Oc(r.read(a))).readShort(),u=c.readShort(),f=c.readShort(),d=c.readShort(),m=c.readShort(),this.cache[t]=A===-1?new _D(c,u,f,d,m):new FD(c,A,u,f,d,m),this.cache[t]))},s.prototype.encode=function(t,r,n){var a,i,A,c,d;for(A=[],i=[],c=0,d=r.length;c<d;c++)a=t[r[c]],i.push(A.length),a&&(A=A.concat(a.encode(n)));return i.push(A.length),{table:A,offsets:i}},s})(),FD=(function(){function s(t,r,n,a,i,A){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=A,this.compound=!1}return s.prototype.encode=function(){return this.raw.data},s})(),_D=(function(){function s(t,r,n,a,i){var A,c;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],A=this.raw;c=A.readShort(),this.glyphOffsets.push(A.pos),this.glyphIDs.push(A.readUInt16()),32&c;)A.pos+=1&c?4:2,128&c?A.pos+=8:64&c?A.pos+=4:8&c&&(A.pos+=2)}return s.prototype.encode=function(){var t,r,n;for(r=new Oc(q5.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},s})(),UD=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Wl(s,ll),s.prototype.tag="loca",s.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}.call(this):function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}.call(this)},s.prototype.indexOf=function(t){return this.offsets[t]},s.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},s.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,A=0;A<n.length;++A)if(n[A]=a,i<r.length&&r[i]==A){++i,n[A]=a;var c=this.offsets[A],d=this.offsets[A+1]-c;d>0&&(a+=d)}for(var u=new Array(4*n.length),m=0;m<n.length;++m)u[4*m+3]=255&n[m],u[4*m+2]=(65280&n[m])>>8,u[4*m+1]=(16711680&n[m])>>16,u[4*m]=(4278190080&n[m])>>24;return u},s})(),kD=(function(){function s(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return s.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},s.prototype.glyphsFor=function(t){var r,n,a,i,A,c,d;for(a={},A=0,c=t.length;A<c;A++)a[i=t[A]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in d=this.glyphsFor(r))n=d[i],a[i]=n;return a},s.prototype.encode=function(t,r){var n,a,i,A,c,d,u,m,f,x,g,N,b,j,y;for(a in n=W5.encode(this.generateCmap(),"unicode"),A=this.glyphsFor(t),g={0:0},y=n.charMap)g[(d=y[a]).old]=d.new;for(N in x=n.maxGlyphID,A)N in g||(g[N]=x++);return m=(function(E){var U,k;for(U in k={},E)k[E[U]]=U;return k})(g),f=Object.keys(m).sort(function(E,U){return E-U}),b=(function(){var E,U,k;for(k=[],E=0,U=f.length;E<U;E++)c=f[E],k.push(m[c]);return k})(),i=this.font.glyf.encode(A,b,g),u=this.font.loca.encode(i.offsets,b),j={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},s})();cs.API.PDFObject=(function(){var s;function t(){}return s=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,A;if(Array.isArray(r))return"["+(function(){var c,d,u;for(u=[],c=0,d=r.length;c<d;c++)n=r[c],u.push(t.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+s(r.getUTCFullYear(),4)+s(r.getUTCMonth(),2)+s(r.getUTCDate(),2)+s(r.getUTCHours(),2)+s(r.getUTCMinutes(),2)+s(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)A=r[a],i.push("/"+a+" "+t.convert(A));return i.push(">>"),i.join(`
`)}return""+r},t})();const ID=async s=>{const t=document.getElementById(s);if(!t){console.error("Element not found");return}const r=window.open("","_blank");if(!r){console.error("Could not open print window");return}const n=t.cloneNode(!0);r.document.write(`
    <!DOCTYPE html>
    <html>
      <head>
        <title>Student Result Sheet</title>
        
    <style>
      @page {
        size: A4;
        margin: 0.5in;
      }
      body {
        font-family: Arial, sans-serif;
        font-size: 12px;
        margin: 0;
        padding: 0;
      }
      .no-print {
        display: none !important;
      }
      table {
        page-break-inside: avoid;
        border-collapse: collapse;
      }
      tr {
        page-break-inside: avoid;
      }
      td, th {
        border: 1px solid black;
      }
      .signature-section {
        page-break-inside: avoid;
      }
    </style>
  
      </head>
      <body>
        ${n.innerHTML}
      </body>
    </html>
  `),r.document.close(),setTimeout(()=>{r.print(),r.close()},500)},LD=async(s,t="result-sheet.pdf")=>{const r=document.getElementById(s);if(!r){console.error("Element not found");return}try{const n=r.querySelector(".flex.justify-center.space-x-4");n&&(n.style.display="none");const a=await n5(r,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:r.scrollWidth,height:r.scrollHeight});n&&(n.style.display="flex");const i=a.toDataURL("image/png"),A=new cs("p","mm","a4"),c=210,d=297,u=a.height*c/a.width;let m=u,f=0;for(A.addImage(i,"PNG",0,f,c,u),m-=d;m>=0;)f=m-u,A.addPage(),A.addImage(i,"PNG",0,f,c,u),m-=d;A.save(t)}catch(n){console.error("Error generating PDF:",n)}},QD=(s,t,r)=>`${s.replace(/[^a-zA-Z0-9]/g,"_")}_${t}_${r}_result_sheet.pdf`;function TD({studentId:s,classId:t,term:r,academicYear:n}){const[a,i]=S.useState(!1),{students:A,classes:c,compiledResults:d,currentUser:u,loadCompiledResultsFromAPI:m}=Fs(),[f,x]=S.useState(!1),[g,N]=S.useState(null);S.useEffect(()=>{d.length===0&&m()},[]),S.useEffect(()=>{a&&s&&t&&r&&n&&b()},[a,s,t,r,n,d]);const b=async()=>{x(!0);try{const E=d.find(U=>U.student_id===s&&U.class_id===t&&U.term===r&&U.academic_year===n);if(E)N(E);else{const U=A.find(q=>q.id===s);N({id:0,student_id:s,class_id:t,term:r,academic_year:n,scores:[],affective:{attentiveness:4,honesty:3,neatness:4,obedience:2,responsibility:3},psychomotor:{attention_direction:4,considerate_others:2,handwriting:4,sports:3,verbal_fluency:4,independent_work:5},class_teacher_name:"CHRIS RHEMA",class_teacher_comment:"A very good result. Put more effort.",principal_name:"OROGUN GLORY EJIRO",principal_comment:"A very good result. Release your potentials cause you can do more dear.",status:"Draft",print_approved:!1,total_score:0,average_score:0,class_average:0,position:null})}}catch(E){console.error("Error fetching student result data:",E),N(null)}finally{x(!1)}},j=()=>{ID("student-result-card")},y=()=>{const E=A.find(U=>U.id===s);if(E){const U=QD(`${E.firstName} ${E.lastName}`,r,n);LD("student-result-card",U)}};return e.jsxs(vr,{open:a,onOpenChange:i,children:[e.jsx(Lh,{asChild:!0,children:e.jsxs(Ee,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(Pn,{className:"w-4 h-4 mr-2"}),"View Result Sheet"]})}),e.jsxs(br,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(yr,{children:e.jsx(Nr,{children:"Student Result Sheet"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsxs(Ee,{onClick:j,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(Eh,{className:"w-4 h-4 mr-2"}),"Print"]}),e.jsxs(Ee,{onClick:y,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",id:"student-result-card",children:f?e.jsxs("div",{className:"flex justify-center items-center py-20",children:[e.jsx(oS,{className:"w-8 h-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading result data..."})]}):g?e.jsx(eB,{result:g,currentUser:u,showActions:!0,onDownload:y,onPrint:j}):e.jsxs("div",{className:"text-center py-20 text-gray-500",children:[e.jsx("p",{children:"No result data found for this student."}),e.jsx("p",{className:"text-sm mt-2",children:"Please ensure the result has been compiled."})]})})]})]})]})}function PD(){const{currentUser:s,students:t,classes:r,compiledResults:n,updateCompiledResult:a,deleteCompiledResult:i,currentTerm:A,currentAcademicYear:c,parents:d,teachers:u,loadCompiledResultsFromAPI:m,addNotification:f}=Fs(),[x,g]=S.useState([]),[N,b]=S.useState(!1),[j,y]=S.useState(""),[E,U]=S.useState(""),[k,q]=S.useState(!1),[G,H]=S.useState(!1),[I,D]=S.useState("management"),[P,Q]=S.useState("pending"),[T,$]=S.useState("all"),[V,ie]=S.useState(A),[W,ne]=S.useState(c),[M,de]=S.useState(""),[ue,se]=S.useState(null),[O,X]=S.useState(""),[re,me]=S.useState(""),xe=S.useRef(null);S.useEffect(()=>{m()},[]);const Z=S.useMemo(()=>{let pe=n.filter(Pe=>Pe.term===V&&Pe.academic_year===W&&(T==="all"||Pe.class_id===Number(T)));return P==="pending"?pe=pe.filter(Pe=>Pe.status==="Submitted"):P==="approved"?pe=pe.filter(Pe=>Pe.status==="Approved"):P==="rejected"&&(pe=pe.filter(Pe=>Pe.status==="Rejected")),M&&(pe=pe.filter(Pe=>{const et=t.find(ht=>ht.id===Pe.student_id);if(!et)return!1;const rt=M.toLowerCase();return et.firstName&&et.firstName.toLowerCase().includes(rt)||et.lastName&&et.lastName.toLowerCase().includes(rt)||et.admissionNumber&&et.admissionNumber.toLowerCase().includes(rt)})),pe},[n,V,W,T,P,M,t]),oe=S.useMemo(()=>Z.map(pe=>{const Pe=t.find(et=>et.id===pe.student_id);return Pe?{...Pe,result:pe}:null}).filter(Boolean),[Z,t]),z=S.useMemo(()=>ue?n.find(pe=>pe.id===ue):null,[ue,n]);if(S.useMemo(()=>z?t.find(pe=>pe.id===z.student_id):null,[z,t]),I==="viewAll")return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Ee,{variant:"outline",onClick:()=>D("management"),className:"rounded-xl",children:[e.jsx(Nu,{className:"w-4 h-4 mr-2"}),"Back to Management"]}),e.jsx("h1",{className:"text-[#0A2540]",children:"View All Results"})]}),e.jsx(RD,{onBack:()=>D("management")})]});if(I==="viewSheets")return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Ee,{variant:"outline",onClick:()=>D("management"),className:"rounded-xl",children:[e.jsx(Nu,{className:"w-4 h-4 mr-2"}),"Back to Management"]}),e.jsx("h1",{className:"text-[#0A2540]",children:"View Result Sheets"})]}),e.jsx(DD,{onBack:()=>D("management")})]});const fe=pe=>{const Pe=n.find(rt=>rt.id===pe);if(!Pe)return;if(!O.trim()){ge.error("Please enter a principal comment");return}a(pe,{status:"Approved",approved_by:s?.id||null,approved_date:new Date().toISOString(),principal_comment:O,principal_signature:""});const et=t.find(rt=>rt.id===Pe.student_id);if(et){et.parent_id&&d.find(ht=>ht.id===et.parent_id);const rt=r.find(ht=>ht.id===Pe.class_id);rt?.classTeacherId&&u.find(ht=>ht.id===rt.classTeacherId)}ge.success("Result approved successfully!"),X(""),se(null)},Fe=async pe=>{if(!re.trim()){ge.error("Please provide a reason for rejection");return}a(pe,{status:"Rejected",rejection_reason:re});const Pe=n.find(rt=>rt.id===pe),et=t.find(rt=>rt.id===Pe?.student_id);if(et&&Pe){const rt={title:"Result Rejected ",message:`${et.firstName} ${et.lastName}'s result for ${Pe.term} has been rejected. Reason: ${re}`,type:"warning",targetAudience:"all",sentBy:s.id};await f({title:rt.title,message:rt.message,type:rt.type,targetAudience:rt.targetAudience,sentBy:rt.sentBy,sentDate:new Date().toISOString(),isRead:!1,readBy:[]});const ht=r.find(Re=>Re.id===Pe.class_id);if(ht?.classTeacherId){const Re=u.find(Oe=>Oe.id===ht.classTeacherId);if(Re){const Oe={title:"Result Rejected - Action Required",message:`Result for ${et.firstName} ${et.lastName} (${ht.name}) was rejected. Reason: ${re}. Please review and resubmit.`,type:"warning",targetAudience:"teachers",sentBy:s.id};await f({title:Oe.title,message:Oe.message,type:Oe.type,targetAudience:Oe.targetAudience,sentBy:Oe.sentBy,sentDate:new Date().toISOString(),isRead:!1,readBy:[]}),ge.info(`Notification sent to ${Re.firstName} ${Re.lastName}`)}}}ge.warning("Result rejected"),me(""),se(null)},Ve=pe=>{window.confirm("Are you sure you want to delete this result? This action cannot be undone.")&&(i(pe),ge.success("Result deleted successfully"),se(null))},qe=()=>{if(xe.current){const pe=window.open("","_blank");pe&&(pe.document.write("<html><head><title>Result Sheet</title>"),pe.document.write("<style>@media print { body { margin: 0; } }</style>"),pe.document.write("</head><body>"),pe.document.write(xe.current.innerHTML),pe.document.write("</body></html>"),pe.document.close(),pe.focus(),setTimeout(()=>{pe.print(),pe.close(),ge.success("Result sheet printed successfully")},250))}},st=()=>{qe(),ge.info("Use your browser's 'Save as PDF' option in the print dialog")},le=pe=>{g(Pe=>Pe.includes(pe)?Pe.filter(et=>et!==pe):[...Pe,pe])},Te=()=>{x.length===Z.length?g([]):g(Z.map(pe=>pe.id))},ze=()=>{if(!j.trim()){ge.error("Please provide a comment for bulk approval");return}x.forEach(pe=>{a(pe,{status:"Approved",principal_comment:j,approved_by:s?.id,approved_date:new Date().toISOString()})}),ge.success(`Approved ${x.length} results successfully!`),g([]),y(""),q(!1)},ye=async()=>{if(!E.trim()){ge.error("Please provide a reason for bulk rejection");return}for(const pe of x){const Pe=n.find(rt=>rt.id===pe),et=t.find(rt=>rt.id===Pe?.student_id);if(a(pe,{status:"Rejected",rejection_reason:E}),et&&Pe){const rt=r.find(ht=>ht.id===Pe.class_id);if(rt?.classTeacherId){const ht=u.find(Re=>Re.id===rt.classTeacherId);if(ht){const Re={title:"Result Rejected - Action Required",message:`Result for ${et.firstName} ${et.lastName} (${rt.name}) was rejected. Reason: ${E}. Please review and resubmit.`,type:"warning",targetAudience:"teachers",sentBy:s.id,sentDate:new Date().toISOString()};await f({title:Re.title,message:Re.message,type:Re.type,targetAudience:Re.targetAudience,sentBy:Re.sentBy,sentDate:Re.sentDate,isRead:!1,readBy:[]}),ge.info(`Notification sent to ${ht.firstName} ${ht.lastName}`)}}}}ge.warning(`Rejected ${x.length} results! Teachers notified for corrections.`),g([]),U(""),H(!1)};return S.useMemo(()=>!T||T==="all"?Z:Z.filter(pe=>pe.class_id===parseInt(T)),[Z,T]),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-[#0A2540] mb-2",children:"Results Management"}),e.jsx("p",{className:"text-gray-600",children:"Approve, view, and manage student results"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Ee,{variant:"outline",onClick:()=>D("viewAll"),className:"rounded-xl border-[#3B82F6] text-[#3B82F6] hover:bg-[#3B82F6] hover:text-white",children:[e.jsx(Ef,{className:"w-4 h-4 mr-2"}),"View All Results"]}),e.jsxs(Ee,{variant:"outline",onClick:()=>D("viewSheets"),className:"rounded-xl border-[#10B981] text-[#10B981] hover:bg-[#10B981] hover:text-white",children:[e.jsx(sa,{className:"w-4 h-4 mr-2"}),"View Result Sheets"]})]})]}),e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-[#3B82F6] to-[#2563EB] text-white rounded-t-xl",children:e.jsxs(ur,{className:"flex items-center gap-2",children:[e.jsx(np,{className:"w-5 h-5"}),"Filters"]})}),e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#0A2540] mb-2 block",children:"Class"}),e.jsxs(Ot,{value:T,onValueChange:$,children:[e.jsx(Mt,{className:"h-12 rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{placeholder:"All Classes"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"all",children:"All Classes"}),r.map(pe=>e.jsx(ke,{value:pe.id.toString(),children:pe.name},pe.id))]})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#0A2540] mb-2 block",children:"Term"}),e.jsxs(Ot,{value:V,onValueChange:ie,children:[e.jsx(Mt,{className:"h-12 rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"First Term",children:"First Term"}),e.jsx(ke,{value:"Second Term",children:"Second Term"}),e.jsx(ke,{value:"Third Term",children:"Third Term"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#0A2540] mb-2 block",children:"Academic Year"}),e.jsxs(Ot,{value:W,onValueChange:ne,children:[e.jsx(Mt,{className:"h-12 rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"2024/2025",children:"2024/2025"}),e.jsx(ke,{value:"2025/2026",children:"2025/2026"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#0A2540] mb-2 block",children:"Search Student"}),e.jsxs("div",{className:"relative",children:[e.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(kt,{value:M,onChange:pe=>de(pe.target.value),placeholder:"Name or Admission No",className:"h-12 pl-10 rounded-xl border-[#0A2540]/20"})]})]})]})})]}),e.jsxs(aw,{value:P,onValueChange:Q,children:[e.jsxs(iw,{className:"grid w-full grid-cols-4 bg-gray-100 rounded-xl p-1",children:[e.jsxs(Dl,{value:"pending",className:"rounded-lg data-[state=active]:bg-yellow-100 data-[state=active]:text-yellow-900",children:["Pending Approval (",n.filter(pe=>pe.status==="Submitted"&&pe.term===V&&pe.academic_year===W).length,")"]}),e.jsxs(Dl,{value:"approved",className:"rounded-lg data-[state=active]:bg-green-100 data-[state=active]:text-green-900",children:["Approved (",n.filter(pe=>pe.status==="Approved"&&pe.term===V&&pe.academic_year===W).length,")"]}),e.jsxs(Dl,{value:"rejected",className:"rounded-lg data-[state=active]:bg-red-100 data-[state=active]:text-red-900",children:["Rejected (",n.filter(pe=>pe.status==="Rejected"&&pe.term===V&&pe.academic_year===W).length,")"]}),e.jsxs(Dl,{value:"all",className:"rounded-lg data-[state=active]:bg-blue-100 data-[state=active]:text-blue-900",children:["All (",n.filter(pe=>pe.term===V&&pe.academic_year===W).length,")"]})]}),e.jsxs(ch,{value:P,className:"mt-6",children:[P==="pending"&&Z.length>0&&e.jsx(Ce,{className:"border-[#0A2540]/10 mb-4",children:e.jsx(Le,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"checkbox",checked:x.length===Z.length&&Z.length>0,onChange:Te,className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Select All (",Z.length," results)"]}),x.length>0&&e.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[x.length," selected"]})]}),x.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>q(!0),className:"text-green-600 border-green-600 hover:bg-green-50",children:[e.jsx(Br,{className:"w-4 h-4 mr-2"}),"Approve Selected (",x.length,")"]}),e.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>H(!0),className:"text-red-600 border-red-600 hover:bg-red-50",children:[e.jsx(xa,{className:"w-4 h-4 mr-2"}),"Reject Selected (",x.length,")"]})]})]})})}),e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-[#10B981] to-[#059669] text-white rounded-t-xl",children:e.jsxs(ur,{children:[P==="pending"&&"Pending Approval",P==="approved"&&"Approved Results",P==="rejected"&&"Rejected Results",P==="all"&&"All Results"]})}),e.jsx(Le,{className:"p-6",children:oe.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(sa,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"No results found"}),e.jsxs("p",{className:"text-gray-500 text-sm",children:[P==="pending"&&"No results pending approval",P==="approved"&&"No approved results",P==="rejected"&&"No rejected results",P==="all"&&"No results available"]})]}):e.jsx("div",{className:"space-y-3",children:oe.map(pe=>e.jsx("div",{className:"p-4 border border-[#0A2540]/10 rounded-xl hover:border-blue-400 hover:bg-blue-50 transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[P==="pending"&&e.jsx("input",{type:"checkbox",checked:x.includes(pe.result.id),onChange:()=>le(pe.result.id),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"w-12 h-12 rounded-full bg-[#3B82F6] text-white flex items-center justify-center font-bold",children:[pe.firstName[0],pe.lastName[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-[#0A2540] font-medium",children:[pe.firstName," ",pe.lastName]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[pe.admissionNumber,"  ",pe.className]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Average"}),e.jsxs("p",{className:"text-[#0A2540] font-bold text-lg",children:[pe.result.average_score,"%"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Position"}),e.jsxs(yt,{className:"bg-green-100 text-green-800 border-green-300 rounded-xl",children:[pe.result.position,"/",pe.result.total_students]})]}),e.jsx("div",{children:e.jsx(yt,{className:`rounded-xl ${pe.result.status==="Submitted"?"bg-yellow-100 text-yellow-800 border-yellow-300":pe.result.status==="Approved"?"bg-green-100 text-green-800 border-green-300":"bg-red-100 text-red-800 border-red-300"}`,children:pe.result.status})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(vr,{children:[e.jsx(Lh,{asChild:!0,children:e.jsxs(Ee,{size:"sm",className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl",onClick:()=>se(pe.result.id),children:[e.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Review"]})}),e.jsxs(br,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[e.jsx(yr,{children:e.jsxs(Nr,{description:"Review and approve or reject student results",children:["Review Result - ",pe.firstName," ",pe.lastName]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(eB,{result:pe.result,currentUser:s,showActions:!1}),pe.result.status==="Submitted"&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-[#0A2540] font-medium mb-4",children:"Principal's Review"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#0A2540] mb-2 block",children:"Principal's Comment *"}),e.jsx(wi,{value:O,onChange:Pe=>X(Pe.target.value),placeholder:"Enter your comment for this student...",className:"min-h-24 rounded-xl border-[#0A2540]/20"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Ee,{onClick:()=>fe(pe.result.id),className:"flex-1 bg-[#10B981] hover:bg-[#059669] text-white rounded-xl",children:[e.jsx(Br,{className:"w-4 h-4 mr-2"}),"Approve Result"]}),e.jsxs(vr,{children:[e.jsx(Lh,{asChild:!0,children:e.jsxs(Ee,{variant:"outline",className:"flex-1 rounded-xl border-red-300 text-red-600 hover:bg-red-50",children:[e.jsx(xa,{className:"w-4 h-4 mr-2"}),"Reject Result"]})}),e.jsxs(br,{children:[e.jsx(yr,{children:e.jsx(Nr,{children:"Reject Result"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Ze,{children:"Reason for Rejection *"}),e.jsx(wi,{value:re,onChange:Pe=>me(Pe.target.value),placeholder:"Please provide a detailed reason...",className:"min-h-24 mt-2"})]}),e.jsx(Ee,{onClick:()=>Fe(pe.result.id),className:"w-full bg-red-600 hover:bg-red-700 text-white",children:"Confirm Rejection"})]})]})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 border-t pt-4",children:[e.jsxs(Ee,{onClick:qe,variant:"outline",className:"rounded-xl flex-1",children:[e.jsx(Eh,{className:"w-4 h-4 mr-2"}),"Print"]}),e.jsxs(Ee,{onClick:st,className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-xl flex-1",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),pe.result.status!=="Approved"&&e.jsxs(Ee,{onClick:()=>Ve(pe.result.id),variant:"outline",className:"rounded-xl border-red-300 text-red-600 hover:bg-red-50",children:[e.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})]}),e.jsx(TD,{studentId:pe.id,classId:pe.result.class_id,term:V,academicYear:W})]})]})]})},pe.id))})})]})]})]}),e.jsx(vr,{open:k,onOpenChange:q,children:e.jsxs(br,{className:"sm:max-w-md",children:[e.jsx(yr,{children:e.jsx(Nr,{className:"text-green-600",children:"Bulk Approve Results"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["You are about to approve ",x.length," result(s). This action cannot be undone."]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-sm font-medium",children:"Principal's Comment"}),e.jsx(wi,{value:j,onChange:pe=>y(pe.target.value),placeholder:"Enter comment for all approved results...",className:"mt-1",rows:3})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsxs(Ee,{onClick:ze,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(Br,{className:"w-4 h-4 mr-2"}),"Approve ",x.length," Results"]}),e.jsx(Ee,{variant:"outline",onClick:()=>q(!1),children:"Cancel"})]})]})]})}),e.jsx(vr,{open:G,onOpenChange:H,children:e.jsxs(br,{className:"sm:max-w-md",children:[e.jsx(yr,{children:e.jsx(Nr,{className:"text-red-600",children:"Bulk Reject Results"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["You are about to reject ",x.length," result(s). This action cannot be undone."]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-sm font-medium",children:"Rejection Reason"}),e.jsx(wi,{value:E,onChange:pe=>U(pe.target.value),placeholder:"Enter reason for rejection...",className:"mt-1",rows:3})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsxs(Ee,{onClick:ye,className:"bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(xa,{className:"w-4 h-4 mr-2"}),"Reject ",x.length," Results"]}),e.jsx(Ee,{variant:"outline",onClick:()=>H(!1),children:"Cancel"})]})]})]})})]})}function RD({onBack:s}){return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs(Ee,{onClick:s||(()=>{}),variant:"outline",className:"mr-4",children:[e.jsx(Nu,{className:"w-4 h-4 mr-2"}),"Back to Management"]}),e.jsx("h2",{className:"text-2xl font-bold",children:"All Results"})]}),e.jsx(Ce,{children:e.jsx(Le,{className:"p-6",children:e.jsx("p",{className:"text-gray-600",children:"View all results functionality coming soon..."})})})]})}function DD({onBack:s}){return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs(Ee,{onClick:s||(()=>{}),variant:"outline",className:"mr-4",children:[e.jsx(Nu,{className:"w-4 h-4 mr-2"}),"Back to Management"]}),e.jsx("h2",{className:"text-2xl font-bold",children:"Result Sheets"})]}),e.jsx(Ce,{children:e.jsx(Le,{className:"p-6",children:e.jsx("p",{className:"text-gray-600",children:"View result sheets functionality coming soon..."})})})]})}function OD(){const{classes:s,students:t,getStudentsByClass:r,getAttendancesByClass:n,getAttendancesByDate:a,attendances:i,currentTerm:A,currentAcademicYear:c}=Fs(),[d,u]=S.useState(0),[m,f]=S.useState(""),[x,g]=S.useState(new Date().toISOString().split("T")[0]),[N,b]=S.useState("class"),j=i.filter(P=>{const Q=d===0||P.classId===d,T=(!m||P.date>=m)&&(!x||P.date<=x),$=P.term===A&&P.academicYear===c;return Q&&T&&$}),y=j.length,E=j.filter(P=>P.status==="Present").length,U=j.filter(P=>P.status==="Absent").length,k=j.filter(P=>P.status==="Late").length;j.filter(P=>P.status==="Excused").length;const q=y>0?((E+k)/y*100).toFixed(1):0,G=()=>(d?r(d):t).map(Q=>{const T=j.filter(de=>de.studentId===Q.id),$=T.filter(de=>de.status==="Present").length,V=T.filter(de=>de.status==="Absent").length,ie=T.filter(de=>de.status==="Late").length,W=T.filter(de=>de.status==="Excused").length,ne=T.length,M=ne>0?(($+ie)/ne*100).toFixed(1):0;return{student:Q,present:$,absent:V,late:ie,excused:W,total:ne,rate:Number(M)}}).sort((Q,T)=>T.rate-Q.rate),H=()=>[...new Set(j.map(Q=>Q.date))].sort().reverse().map(Q=>{const T=j.filter(de=>de.date===Q),$=T.filter(de=>de.status==="Present").length,V=T.filter(de=>de.status==="Absent").length,ie=T.filter(de=>de.status==="Late").length,W=T.filter(de=>de.status==="Excused").length,ne=T.length,M=ne>0?(($+ie)/ne*100).toFixed(1):0;return{date:Q,present:$,absent:V,late:ie,excused:W,total:ne,rate:Number(M)}}),I=()=>s.map(P=>{const Q=j.filter(M=>M.classId===P.id),T=Q.filter(M=>M.status==="Present").length,$=Q.filter(M=>M.status==="Absent").length,V=Q.filter(M=>M.status==="Late").length,ie=Q.filter(M=>M.status==="Excused").length,W=Q.length,ne=W>0?((T+V)/W*100).toFixed(1):0;return{class:P,present:T,absent:$,late:V,excused:ie,total:W,rate:Number(ne)}}).filter(P=>P.total>0).sort((P,Q)=>Q.rate-P.rate),D=()=>{let P="",Q="";if(N==="student"){const ie=G();P=`Student Name,Admission Number,Class,Present,Absent,Late,Excused,Total Days,Attendance Rate
`,ie.forEach(W=>{P+=`${W.student.firstName} ${W.student.lastName},${W.student.admissionNumber},${W.student.className},${W.present},${W.absent},${W.late},${W.excused},${W.total},${W.rate}%
`}),Q=`student-attendance-report-${x}.csv`}else if(N==="daily"){const ie=H();P=`Date,Present,Absent,Late,Excused,Total,Attendance Rate
`,ie.forEach(W=>{P+=`${W.date},${W.present},${W.absent},${W.late},${W.excused},${W.total},${W.rate}%
`}),Q=`daily-attendance-report-${x}.csv`}else{const ie=I();P=`Class,Present,Absent,Late,Excused,Total,Attendance Rate
`,ie.forEach(W=>{P+=`${W.class.name},${W.present},${W.absent},${W.late},${W.excused},${W.total},${W.rate}%
`}),Q=`class-attendance-report-${x}.csv`}const T=new Blob([P],{type:"text/csv"}),$=window.URL.createObjectURL(T),V=document.createElement("a");V.href=$,V.download=Q,V.click()};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-slate-900 mb-2",children:"Attendance Reports"}),e.jsx("p",{className:"text-slate-600",children:"View and analyze student attendance data"})]}),e.jsxs(Ce,{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(np,{className:"w-5 h-5 text-slate-600"}),e.jsx("h3",{className:"text-slate-800",children:"Filter Reports"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-slate-700 text-sm",children:"Report Type"}),e.jsxs("select",{value:N,onChange:P=>b(P.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"class",children:"By Class"}),e.jsx("option",{value:"student",children:"By Student"}),e.jsx("option",{value:"daily",children:"By Date"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-slate-700 text-sm",children:"Class"}),e.jsxs("select",{value:d,onChange:P=>u(Number(P.target.value)),className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:"All Classes"}),s.map(P=>e.jsx("option",{value:P.id,children:P.name},P.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-slate-700 text-sm",children:"Start Date"}),e.jsx("input",{type:"date",value:m,onChange:P=>f(P.target.value),max:x,className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-slate-700 text-sm",children:"End Date"}),e.jsx("input",{type:"date",value:x,onChange:P=>g(P.target.value),max:new Date().toISOString().split("T")[0],className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs(Ee,{onClick:D,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Export to CSV"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs(Ce,{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(Qs,{className:"w-8 h-8 text-blue-600"})}),e.jsx("p",{className:"text-blue-600 text-sm mb-1",children:"Total Records"}),e.jsx("p",{className:"text-3xl text-blue-900",children:y})]}),e.jsxs(Ce,{className:"p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl border border-green-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(bA,{className:"w-8 h-8 text-green-600"})}),e.jsx("p",{className:"text-green-600 text-sm mb-1",children:"Present"}),e.jsx("p",{className:"text-3xl text-green-900",children:E})]}),e.jsxs(Ce,{className:"p-6 bg-gradient-to-br from-red-50 to-red-100 rounded-xl border border-red-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(xa,{className:"w-8 h-8 text-red-600"})}),e.jsx("p",{className:"text-red-600 text-sm mb-1",children:"Absent"}),e.jsx("p",{className:"text-3xl text-red-900",children:U})]}),e.jsxs(Ce,{className:"p-6 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl border border-yellow-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(po,{className:"w-8 h-8 text-yellow-600"})}),e.jsx("p",{className:"text-yellow-600 text-sm mb-1",children:"Late"}),e.jsx("p",{className:"text-3xl text-yellow-900",children:k})]}),e.jsxs(Ce,{className:"p-6 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl border border-purple-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(Nd,{className:"w-8 h-8 text-purple-600"})}),e.jsx("p",{className:"text-purple-600 text-sm mb-1",children:"Attendance Rate"}),e.jsxs("p",{className:"text-3xl text-purple-900",children:[q,"%"]})]})]}),N==="student"&&e.jsxs(Ce,{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsx("h3",{className:"text-slate-800 mb-4",children:"Student Attendance Summary"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200",children:[e.jsx("th",{className:"text-left p-3 text-slate-700",children:"Student Name"}),e.jsx("th",{className:"text-left p-3 text-slate-700",children:"Admission No."}),e.jsx("th",{className:"text-left p-3 text-slate-700",children:"Class"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Present"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Absent"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Late"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Excused"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Total Days"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Rate"})]})}),e.jsx("tbody",{children:G().map(P=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[e.jsxs("td",{className:"p-3",children:[P.student.firstName," ",P.student.lastName]}),e.jsx("td",{className:"p-3 text-slate-600",children:P.student.admissionNumber}),e.jsx("td",{className:"p-3 text-slate-600",children:P.student.className}),e.jsx("td",{className:"p-3 text-center text-green-600",children:P.present}),e.jsx("td",{className:"p-3 text-center text-red-600",children:P.absent}),e.jsx("td",{className:"p-3 text-center text-yellow-600",children:P.late}),e.jsx("td",{className:"p-3 text-center text-blue-600",children:P.excused}),e.jsx("td",{className:"p-3 text-center",children:P.total}),e.jsx("td",{className:"p-3 text-center",children:e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${P.rate>=90?"bg-green-100 text-green-700":P.rate>=75?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[P.rate,"%"]})})]},P.student.id))})]})})]}),N==="daily"&&e.jsxs(Ce,{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsx("h3",{className:"text-slate-800 mb-4",children:"Daily Attendance Summary"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200",children:[e.jsx("th",{className:"text-left p-3 text-slate-700",children:"Date"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Present"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Absent"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Late"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Excused"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Total"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Rate"})]})}),e.jsx("tbody",{children:H().map(P=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[e.jsx("td",{className:"p-3",children:new Date(P.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}),e.jsx("td",{className:"p-3 text-center text-green-600",children:P.present}),e.jsx("td",{className:"p-3 text-center text-red-600",children:P.absent}),e.jsx("td",{className:"p-3 text-center text-yellow-600",children:P.late}),e.jsx("td",{className:"p-3 text-center text-blue-600",children:P.excused}),e.jsx("td",{className:"p-3 text-center",children:P.total}),e.jsx("td",{className:"p-3 text-center",children:e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${P.rate>=90?"bg-green-100 text-green-700":P.rate>=75?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[P.rate,"%"]})})]},P.date))})]})})]}),N==="class"&&e.jsxs(Ce,{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsx("h3",{className:"text-slate-800 mb-4",children:"Class Attendance Summary"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200",children:[e.jsx("th",{className:"text-left p-3 text-slate-700",children:"Class"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Present"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Absent"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Late"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Excused"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Total Records"}),e.jsx("th",{className:"text-center p-3 text-slate-700",children:"Rate"})]})}),e.jsx("tbody",{children:I().map(P=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[e.jsx("td",{className:"p-3",children:P.class.name}),e.jsx("td",{className:"p-3 text-center text-green-600",children:P.present}),e.jsx("td",{className:"p-3 text-center text-red-600",children:P.absent}),e.jsx("td",{className:"p-3 text-center text-yellow-600",children:P.late}),e.jsx("td",{className:"p-3 text-center text-blue-600",children:P.excused}),e.jsx("td",{className:"p-3 text-center",children:P.total}),e.jsx("td",{className:"p-3 text-center",children:e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${P.rate>=90?"bg-green-100 text-green-700":P.rate>=75?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[P.rate,"%"]})})]},P.class.id))})]})})]})]})}function HD(){const{classes:s,subjects:t,examTimetables:r,addExamTimetable:n,updateExamTimetable:a,deleteExamTimetable:i,getExamTimetablesByClass:A,currentUser:c,currentTerm:d,currentAcademicYear:u}=Fs(),[m,f]=S.useState(!1),[x,g]=S.useState(null),[N,b]=S.useState(0),[j,y]=S.useState({classId:0,subjectId:0,examDate:"",startTime:"",endTime:"",venue:"",instructions:""}),E=Q=>{y({...j,[Q.target.name]:Q.target.value})},U=(Q,T)=>{if(!Q||!T)return 0;const $=new Date(`2000-01-01T${Q}`),V=new Date(`2000-01-01T${T}`);return Math.round((V.getTime()-$.getTime())/6e4)},k=()=>{if(!j.classId||!j.subjectId||!j.examDate||!j.startTime||!j.endTime){ge.error("Please fill all required fields");return}const Q=s.find(ie=>ie.id===j.classId),T=t.find(ie=>ie.id===j.subjectId);if(!Q||!T){ge.error("Invalid class or subject selection");return}const $=U(j.startTime,j.endTime);if($<=0){ge.error("End time must be after start time");return}const V={classId:j.classId,className:Q.name,subjectId:j.subjectId,subjectName:T.name,examDate:j.examDate,startTime:j.startTime,endTime:j.endTime,duration:$,venue:j.venue,term:d,academicYear:u,instructions:j.instructions,createdBy:c?.id||0,createdDate:new Date().toISOString()};x?(a(x,V),ge.success("Exam timetable updated successfully")):(n(V),ge.success("Exam timetable created successfully")),q()},q=()=>{y({classId:0,subjectId:0,examDate:"",startTime:"",endTime:"",venue:"",instructions:""}),f(!1),g(null)},G=Q=>{y({classId:Q.classId,subjectId:Q.subjectId,examDate:Q.examDate,startTime:Q.startTime,endTime:Q.endTime,venue:Q.venue,instructions:Q.instructions||""}),g(Q.id),f(!0)},H=Q=>{confirm("Are you sure you want to delete this exam schedule?")&&(i(Q),ge.success("Exam timetable deleted successfully"))},I=()=>{ge.info("PDF export functionality will be available with backend integration")},D=N===0?r.filter(Q=>Q.term===d&&Q.academicYear===u):r.filter(Q=>Q.classId===N&&Q.term===d&&Q.academicYear===u),P=D.reduce((Q,T)=>{const $=T.className;return Q[$]||(Q[$]=[]),Q[$].push(T),Q},{});return Object.keys(P).forEach(Q=>{P[Q].sort((T,$)=>T.examDate!==$.examDate?T.examDate.localeCompare($.examDate):T.startTime.localeCompare($.startTime))}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-slate-900 mb-2",children:"Exam Timetable Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage examination schedules"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Ee,{onClick:I,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),e.jsxs(Ee,{onClick:()=>f(!m),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(Xo,{className:"w-4 h-4 mr-2"}),m?"Cancel":"Add Exam"]})]})]}),m&&e.jsxs(Ce,{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsxs("h3",{className:"text-slate-800 mb-4",children:[x?"Edit":"Create"," Exam Schedule"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-2 text-slate-700 text-sm",children:["Class ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"classId",value:j.classId,onChange:E,className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:"Select Class"}),s.filter(Q=>Q.status==="Active").map(Q=>e.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-2 text-slate-700 text-sm",children:["Subject ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"subjectId",value:j.subjectId,onChange:E,className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:"Select Subject"}),t.filter(Q=>Q.status==="Active").map(Q=>e.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-2 text-slate-700 text-sm",children:["Exam Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",name:"examDate",value:j.examDate,onChange:E,className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-2 text-slate-700 text-sm",children:["Venue ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"venue",value:j.venue,onChange:E,placeholder:"e.g., Exam Hall A, Classroom 201",className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-2 text-slate-700 text-sm",children:["Start Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"time",name:"startTime",value:j.startTime,onChange:E,className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-2 text-slate-700 text-sm",children:["End Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"time",name:"endTime",value:j.endTime,onChange:E,className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block mb-2 text-slate-700 text-sm",children:"Special Instructions"}),e.jsx("textarea",{name:"instructions",value:j.instructions,onChange:E,placeholder:"Add any special instructions for the exam...",rows:3,className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),j.startTime&&j.endTime&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-blue-800 text-sm",children:["Duration: ",U(j.startTime,j.endTime)," minutes"]})}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx(Ee,{onClick:q,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),e.jsxs(Ee,{onClick:k,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[x?"Update":"Create"," Exam Schedule"]})]})]}),e.jsx(Ce,{className:"p-4 bg-white rounded-xl shadow-sm border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-slate-700",children:"Filter by Class:"}),e.jsxs("select",{value:N,onChange:Q=>b(Number(Q.target.value)),className:"p-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:"All Classes"}),s.filter(Q=>Q.status==="Active").map(Q=>e.jsx("option",{value:Q.id,children:Q.name},Q.id))]}),e.jsxs("span",{className:"text-slate-600 ml-auto",children:[D.length," exam",D.length!==1?"s":""," scheduled"]})]})}),Object.keys(P).length===0?e.jsxs(Ce,{className:"p-12 bg-white rounded-xl shadow-sm border border-slate-200 text-center",children:[e.jsx(ta,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-slate-900 mb-2",children:"No Exams Scheduled"}),e.jsx("p",{className:"text-slate-600",children:'Click "Add Exam" to create an examination schedule'})]}):e.jsx("div",{className:"space-y-6",children:Object.keys(P).sort().map(Q=>e.jsxs(Ce,{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsx("h3",{className:"text-slate-800 mb-4",children:Q}),e.jsx("div",{className:"space-y-3",children:P[Q].map(T=>e.jsx("div",{className:"p-4 border border-slate-200 rounded-lg hover:border-blue-300 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-slate-900",children:T.subjectName}),e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[T.duration," mins"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(ta,{className:"w-4 h-4"}),new Date(T.examDate).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(po,{className:"w-4 h-4"}),T.startTime," - ",T.endTime]}),e.jsxs("div",{className:"text-slate-600",children:[" ",T.venue]})]}),T.instructions&&e.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-yellow-800 text-sm",children:T.instructions})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ee,{onClick:()=>G(T),className:"p-2 bg-gray-100 hover:bg-gray-200 text-gray-700",children:e.jsx(pS,{className:"w-4 h-4"})}),e.jsx(Ee,{onClick:()=>H(T.id),className:"p-2 bg-red-100 hover:bg-red-200 text-red-700",children:e.jsx(Hi,{className:"w-4 h-4"})})]})]})},T.id))})]},Q))})]})}function Ip(){const{currentUser:s,getAllNotifications:t,getUnreadNotifications:r,markNotificationAsRead:n}=Fs(),[a,i]=S.useState("all");if(!s)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl text-gray-900 mb-2",children:"Notifications"}),e.jsx("p",{className:"text-gray-600",children:"You must be logged in to view notifications"})]})});const A=t(s.id,s.role),c=r(s.id,s.role),d=a==="unread"?c:A,u=x=>{n(x,s.id),ge.success("Notification marked as read")},m=x=>{switch(x){case"success":return e.jsx(Br,{className:"w-5 h-5 text-[#10B981]"});case"error":return e.jsx(Es,{className:"w-5 h-5 text-[#EF4444]"});case"warning":return e.jsx(L0,{className:"w-5 h-5 text-[#F59E0B]"});case"info":default:return e.jsx(q4,{className:"w-5 h-5 text-[#3B82F6]"})}},f=x=>{switch(x){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":default:return"bg-blue-50 border-blue-200"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl text-gray-900 mb-2",children:"Notifications"}),e.jsx("p",{className:"text-gray-600",children:"View and manage your notifications"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Ce,{className:"rounded-xl bg-white border border-gray-200 shadow-sm",children:e.jsxs(Le,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Notifications"}),e.jsx(Zo,{className:"w-5 h-5 text-gray-400"})]}),e.jsx("p",{className:"text-3xl text-gray-900",children:A.length})]})}),e.jsx(Ce,{className:"rounded-xl bg-white border border-gray-200 shadow-sm",children:e.jsxs(Le,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Unread"}),e.jsx(Es,{className:"w-5 h-5 text-[#F59E0B]"})]}),e.jsx("p",{className:"text-3xl text-gray-900",children:c.length})]})}),e.jsx(Ce,{className:"rounded-xl bg-white border border-gray-200 shadow-sm",children:e.jsxs(Le,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Read"}),e.jsx(Br,{className:"w-5 h-5 text-[#10B981]"})]}),e.jsx("p",{className:"text-3xl text-gray-900",children:A.length-c.length})]})})]}),e.jsxs(Ce,{className:"rounded-xl bg-white border border-gray-200 shadow-sm",children:[e.jsx(Qt,{className:"p-5 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg text-gray-900",children:"All Notifications"}),e.jsx(aw,{value:a,onValueChange:x=>i(x),children:e.jsxs(iw,{className:"bg-gray-100",children:[e.jsxs(Dl,{value:"all",className:"text-gray-700",children:["All (",A.length,")"]}),e.jsxs(Dl,{value:"unread",className:"text-gray-700",children:["Unread (",c.length,")"]})]})})]})}),e.jsx(Le,{className:"p-0",children:d.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Zo,{className:"w-12 h-12 text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-900 mb-1",children:a==="unread"?"No unread notifications":"No notifications"}),e.jsx("p",{className:"text-gray-500 text-sm",children:a==="unread"?"All notifications have been read":"You'll see notifications here when you receive them"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:d.map(x=>{const g=!x.readBy.includes(s.id);return e.jsx("div",{className:`p-5 transition-colors ${g?"bg-blue-50/50 hover:bg-blue-50":"hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:m(x.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-start justify-between gap-3 mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-gray-900 font-medium",children:x.title}),g&&e.jsx(yt,{className:"bg-[#3B82F6] text-white border-0 text-xs",children:"New"})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:x.message})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[e.jsx("span",{children:new Date(x.sentDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}),e.jsx(yt,{className:`${f(x.type)} text-gray-700 border-0`,children:x.type})]}),g&&e.jsxs(Ee,{onClick:()=>u(x.id),size:"sm",variant:"ghost",className:"text-[#3B82F6] hover:bg-blue-50 text-xs h-7",children:[e.jsx(Br,{className:"w-3 h-3 mr-1"}),"Mark as read"]})]})]})]})},x.id)})})})]})]})}const Y5="graceland_school_data";function MD(){try{return localStorage.removeItem(Y5),!0}catch{return!1}}function KD(){try{const s=localStorage.getItem(Y5);return s?new Blob([s]).size/1024:0}catch{return 0}}function VD(s,t){const r=JSON.stringify(s,null,2),n=new Blob([r],{type:"application/json"}),a=URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download=`graceland_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)}function zD(s){return new Promise((t,r)=>{const n=new FileReader;n.onload=a=>{try{const i=JSON.parse(a.target?.result);t(i)}catch{r(new Error("Invalid JSON file"))}},n.onerror=()=>{r(new Error("Failed to read file"))},n.readAsText(s)})}function GD(){const{students:s,teachers:t,parents:r,accountants:n,classes:a,subjects:i,subjectAssignments:A,scores:c,affectiveDomains:d,psychomotorDomains:u,compiledResults:m,feeStructures:f,studentFeeBalances:x,payments:g,users:N,notifications:b,activityLogs:j,attendances:y,examTimetables:E,classTimetables:U,departments:k,scholarships:q,assignments:G,schoolSettings:H,bankAccountSettings:I,currentTerm:D,currentAcademicYear:P}=Fs(),[Q,T]=S.useState(!1),[$,V]=S.useState(0),[ie,W]=S.useState(!1),[ne,M]=S.useState(0),de=S.useRef(null);S.useState(()=>{M(KD())});const ue=(ye,pe)=>{const Pe=ye.map(et=>pe.map(rt=>{const ht=et[rt];return Array.isArray(ht)?`"${ht.join(", ")}"`:typeof ht=="object"&&ht!==null?`"${JSON.stringify(ht)}"`:typeof ht=="string"?`"${ht.replace(/"/g,'""')}"`:ht||""}).join(","));return[pe.join(","),...Pe].join(`
`)},se=(ye,pe)=>{const Pe=new Blob([ye],{type:"text/csv;charset=utf-8;"}),et=URL.createObjectURL(Pe),rt=document.createElement("a");rt.href=et,rt.download=pe,rt.click(),URL.revokeObjectURL(et)},O=()=>{Nj(s),ge.success(`Exported ${s.length} students`)},X=()=>{tk(t),ge.success(`Exported ${t.length} teachers`)},re=()=>{sk(r),ge.success(`Exported ${r.length} parents`)},me=()=>{jj(a),ge.success(`Exported ${a.length} classes`)},xe=()=>{Bj(i),ge.success(`Exported ${i.length} subjects`)},Z=()=>{rk(c,s),ge.success(`Exported ${c.length} scores`)},oe=()=>{nk(m,s),ge.success(`Exported ${m.length} results`)},z=()=>{ak(g,s),ge.success(`Exported ${g.length} payments`)},fe=()=>{ik(x,s),ge.success(`Exported ${x.length} fee balances`)},Fe=()=>{ok(y,s),ge.success(`Exported ${y.length} attendance records`)},Ve=()=>{lk(j),ge.success(`Exported ${j.length} activity logs`)},qe=()=>{const ye={version:"1.0.0",lastUpdated:new Date().toISOString(),currentTerm:D,currentAcademicYear:P,schoolSettings:H,bankAccountSettings:I,classes:a,teachers:t,subjects:i,students:s,parents:r,accountants:n,subjectAssignments:A,scores:c,affectiveDomains:d,psychomotorDomains:u,compiledResults:m,feeStructures:f,studentFeeBalances:x,payments:g,notifications:b,activityLogs:j,attendances:y,examTimetables:E,classTimetables:U,departments:k,scholarships:q,assignments:G,users:N};VD(ye),ge.success("Complete system backup downloaded successfully!")},st=async ye=>{const pe=ye.target.files?.[0];if(pe)try{const Pe=await zD(pe);ge.success("Data imported successfully! Please refresh to see changes.")}catch{ge.error("Failed to import data. Please check the file format.")}},le=()=>{MD(),ge.success("Local storage cleared successfully!"),W(!1),setTimeout(()=>{window.location.reload()},1e3)},Te=[{title:"Student Data",icon:e.jsx(Ml,{className:"w-5 h-5"}),items:[{name:"Students",count:s.length,export:O,color:"bg-blue-50 text-blue-600"},{name:"Student Fee Balances",count:x.length,export:fe,color:"bg-blue-50 text-blue-600"},{name:"Attendance",count:y.length,export:Fe,color:"bg-blue-50 text-blue-600"}]},{title:"Staff Data",icon:e.jsx(Qs,{className:"w-5 h-5"}),items:[{name:"Teachers",count:t.length,export:X,color:"bg-green-50 text-green-600"},{name:"Parents",count:r.length,export:re,color:"bg-green-50 text-green-600"},{name:"Accountants",count:n.length,export:()=>{const pe=ue(n,["id","firstName","lastName","employeeId","email","phone","department","status"]);se(pe,`accountants_${new Date().toISOString().split("T")[0]}.csv`),ge.success(`Exported ${n.length} accountants`)},color:"bg-green-50 text-green-600"}]},{title:"Academic Data",icon:e.jsx(sa,{className:"w-5 h-5"}),items:[{name:"Classes",count:a.length,export:me,color:"bg-purple-50 text-purple-600"},{name:"Subjects",count:i.length,export:xe,color:"bg-purple-50 text-purple-600"},{name:"Scores",count:c.length,export:Z,color:"bg-purple-50 text-purple-600"},{name:"Compiled Results",count:m.length,export:oe,color:"bg-purple-50 text-purple-600"}]},{title:"Financial Data",icon:e.jsx(Hl,{className:"w-5 h-5"}),items:[{name:"Payments",count:g.length,export:z,color:"bg-yellow-50 text-yellow-600"},{name:"Fee Balances",count:x.length,export:fe,color:"bg-yellow-50 text-yellow-600"}]},{title:"System Data",icon:e.jsx(xh,{className:"w-5 h-5"}),items:[{name:"Activity Logs",count:j.length,export:Ve,color:"bg-gray-50 text-gray-600"},{name:"Notifications",count:b.length,export:()=>{const pe=ue(b,["id","title","message","type","targetAudience","sentBy","sentDate","isRead"]);se(pe,`notifications_${new Date().toISOString().split("T")[0]}.csv`),ge.success(`Exported ${b.length} notifications`)},color:"bg-gray-50 text-gray-600"}]}],ze=s.length+t.length+r.length+a.length+i.length+c.length+m.length+g.length+f.length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Data Backup & Export"}),e.jsx("p",{className:"text-[#6B7280]",children:"Download all system data for backup and archival purposes"})]}),e.jsxs(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-sm",children:[e.jsx(Qt,{className:"p-5 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(K4,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(ur,{className:"text-lg text-[#1F2937]",children:"Local Storage Manager"}),e.jsx(OE,{className:"text-sm text-[#6B7280]",children:"Manage your browser's local data storage"})]})]}),e.jsxs(yt,{variant:"outline",className:"text-sm",children:[ne.toFixed(2)," KB Used"]})]})}),e.jsx(Le,{className:"p-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(Ee,{onClick:qe,className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl h-auto py-4 flex-col gap-2",children:[e.jsx(Fr,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium",children:"Backup All Data"}),e.jsx("div",{className:"text-xs opacity-90",children:"Download as JSON"})]})]}),e.jsxs(Ee,{onClick:()=>de.current?.click(),variant:"outline",className:"rounded-xl h-auto py-4 flex-col gap-2 border-2 hover:border-[#3B82F6] hover:bg-blue-50",children:[e.jsx(go,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium",children:"Import Data"}),e.jsx("div",{className:"text-xs opacity-70",children:"Restore from JSON"})]})]}),e.jsx("input",{ref:de,type:"file",accept:".json",onChange:st,className:"hidden"}),e.jsxs(Ee,{onClick:()=>W(!0),variant:"outline",className:"rounded-xl h-auto py-4 flex-col gap-2 border-2 border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300",children:[e.jsx(Hi,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium",children:"Clear Storage"}),e.jsx("div",{className:"text-xs opacity-70",children:"Reset all data"})]})]})]})})]}),e.jsx(Ce,{className:"rounded-xl bg-gradient-to-r from-[#2563EB] to-[#3B82F6] border-0 shadow-lg",children:e.jsx(Le,{className:"p-6",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(xh,{className:"w-6 h-6 text-white"}),e.jsx("h3",{className:"text-white text-xl",children:"CSV Export Center"})]}),e.jsx("p",{className:"text-white/90 mb-4",children:"Export individual data tables as CSV files for external use"}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs(yt,{className:"bg-white/20 text-white border-0 text-sm",children:[e.jsx(Br,{className:"w-4 h-4 mr-1"}),ze.toLocaleString()," Total Records"]}),e.jsx(yt,{className:"bg-white/20 text-white border-0 text-sm",children:"Multiple Formats"})]})]})})})}),e.jsxs(Vi,{className:"bg-blue-50 border-blue-200 rounded-xl",children:[e.jsx(Es,{className:"h-4 w-4 text-blue-600"}),e.jsxs(zi,{className:"text-[#1F2937]",children:[e.jsx("strong",{children:"Backup Best Practices:"})," Download regular backups to prevent data loss. Store backups in a secure location. Complete backup includes all system data in JSON format for easy restoration. Individual CSV exports are provided for specific data tables."]})]}),Te.map((ye,pe)=>e.jsxs(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-sm",children:[e.jsx(Qt,{className:"p-5 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-[#F3F4F6] rounded-lg",children:ye.icon}),e.jsx("h3",{className:"text-[#1F2937]",children:ye.title})]})}),e.jsx(Le,{className:"p-5",children:e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:ye.items.map((Pe,et)=>e.jsxs("div",{className:`${Pe.color} p-4 rounded-xl flex items-center justify-between`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm opacity-80 mb-1",children:Pe.name}),e.jsxs("p",{className:"font-semibold text-lg",children:[Pe.count.toLocaleString()," records"]})]}),e.jsxs(Ee,{onClick:Pe.export,size:"sm",variant:"ghost",className:"hover:bg-white/50 rounded-lg",children:[e.jsx(Fr,{className:"w-4 h-4 mr-1"}),"CSV"]})]},et))})})]},pe)),e.jsx(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-sm",children:e.jsx(Le,{className:"p-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Es,{className:"w-5 h-5 text-[#6B7280] mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1F2937] mb-2",children:e.jsx("strong",{children:"About Data Export:"})}),e.jsxs("ul",{className:"text-[#6B7280] text-sm space-y-1",children:[e.jsx("li",{children:" CSV files can be opened in Excel, Google Sheets, or any spreadsheet software"}),e.jsx("li",{children:" JSON backup contains all data and can be used for system restoration"}),e.jsx("li",{children:" User passwords are excluded from exports for security"}),e.jsx("li",{children:" Backup files are named with today's date for easy identification"}),e.jsx("li",{children:" Store backups securely and regularly (recommended: weekly backups)"})]})]})]})})}),e.jsx(vr,{open:ie,onOpenChange:W,children:e.jsxs(br,{className:"rounded-xl",children:[e.jsxs(yr,{children:[e.jsxs(Nr,{className:"flex items-center gap-2 text-red-600",children:[e.jsx(Es,{className:"w-5 h-5"}),"Clear Local Storage?"]}),e.jsx(Da,{children:"This will permanently delete all data stored in your browser. This action cannot be undone. Make sure you have downloaded a backup before proceeding."})]}),e.jsxs(uo,{className:"gap-2",children:[e.jsx(Ee,{variant:"outline",onClick:()=>W(!1),className:"rounded-xl",children:"Cancel"}),e.jsxs(Ee,{variant:"destructive",onClick:le,className:"rounded-xl bg-red-600 hover:bg-red-700",children:[e.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Clear All Data"]})]})]})})]})}function $D(){const{activityLogs:s,getActivityLogs:t}=Fs(),[r,n]=S.useState(""),[a,i]=S.useState("all"),[A,c]=S.useState("all"),u=t(void 0,a).filter(y=>y.actor.toLowerCase().includes(r.toLowerCase())||y.target.toLowerCase().includes(r.toLowerCase())||y.action.toLowerCase().includes(r.toLowerCase())),m=y=>y.includes("User")||y.includes("Create")?e.jsx(wh,{className:"w-4 h-4"}):y.includes("Password")?e.jsx(Xy,{className:"w-4 h-4"}):y.includes("Link")||y.includes("Unlink")?e.jsx(Ff,{className:"w-4 h-4"}):y.includes("Deactivate")||y.includes("Activate")?e.jsx(k0,{className:"w-4 h-4"}):e.jsx(wh,{className:"w-4 h-4"}),f=y=>y.includes("Create")||y.includes("Add")?"bg-[#28A745]":y.includes("Password")||y.includes("Reset")?"bg-[#FFC107]":y.includes("Link")&&!y.includes("Unlink")?"bg-[#1E90FF]":y.includes("Delete")||y.includes("Unlink")||y.includes("Deactivate")?"bg-[#DC3545]":y.includes("Activate")||y.includes("Approve")?"bg-[#28A745]":"bg-[#C0C8D3]",x=()=>{const y=["Timestamp","Actor","Role","Action","Target","IP Address","Status"],E=u.map(H=>[new Date(H.timestamp).toLocaleString(),H.actor,H.actor_role,H.action,H.target,H.ip_address,H.status]),U=[y,...E].map(H=>H.join(",")).join(`
`),k=new Blob([U],{type:"text/csv"}),q=URL.createObjectURL(k),G=document.createElement("a");G.href=q,G.download=`activity-logs-${new Date().toISOString().split("T")[0]}.csv`,G.click(),ge.success("Activity log exported successfully")},g=s.length,N=s.filter(y=>y.action.includes("Create User")||y.action.includes("Add")).length,b=s.filter(y=>y.action.includes("Link")).length,j=s.filter(y=>y.status==="Failed").length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-white mb-2",children:"Activity Logs"}),e.jsx("p",{className:"text-[#C0C8D3]",children:"Audit trail of all administrative actions"})]}),e.jsxs(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:[e.jsx(Qt,{className:"p-5 border-b border-white/10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md w-full",children:[e.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#C0C8D3]"}),e.jsx(kt,{value:r,onChange:y=>n(y.target.value),placeholder:"Search by actor, action, or target...",className:"h-12 pl-10 rounded-xl border border-white/10 bg-[#0F243E] text-white"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 w-full lg:w-auto",children:[e.jsxs(Ot,{value:a,onValueChange:i,children:[e.jsx(Mt,{className:"h-12 w-full sm:w-48 rounded-xl border border-white/10 bg-[#0F243E] text-white",children:e.jsx(Ht,{placeholder:"Filter by action"})}),e.jsxs(Kt,{className:"bg-[#0F243E] border-white/10",children:[e.jsx(ke,{value:"all",className:"text-white hover:bg-[#1E90FF]",children:"All Actions"}),e.jsx(ke,{value:"Create User",className:"text-white hover:bg-[#1E90FF]",children:"Create User"}),e.jsx(ke,{value:"Reset Password",className:"text-white hover:bg-[#1E90FF]",children:"Reset Password"}),e.jsx(ke,{value:"Link Student-Parent",className:"text-white hover:bg-[#1E90FF]",children:"Link Student-Parent"}),e.jsx(ke,{value:"Unlink Student-Parent",className:"text-white hover:bg-[#1E90FF]",children:"Unlink Student-Parent"}),e.jsx(ke,{value:"Deactivate User",className:"text-white hover:bg-[#1E90FF]",children:"Deactivate User"})]})]}),e.jsxs(Ot,{value:A,onValueChange:c,children:[e.jsx(Mt,{className:"h-12 w-full sm:w-36 rounded-xl border border-white/10 bg-[#0F243E] text-white",children:e.jsx(Ht,{placeholder:"Date range"})}),e.jsxs(Kt,{className:"bg-[#0F243E] border-white/10",children:[e.jsx(ke,{value:"all",className:"text-white hover:bg-[#1E90FF]",children:"All Time"}),e.jsx(ke,{value:"today",className:"text-white hover:bg-[#1E90FF]",children:"Today"}),e.jsx(ke,{value:"week",className:"text-white hover:bg-[#1E90FF]",children:"This Week"}),e.jsx(ke,{value:"month",className:"text-white hover:bg-[#1E90FF]",children:"This Month"})]})]}),e.jsxs(Ee,{onClick:x,className:"h-12 bg-[#1E90FF] hover:bg-[#00BFFF] text-white rounded-xl shadow-md hover:scale-105 transition-all whitespace-nowrap",children:[e.jsx(Fr,{className:"w-5 h-5 mr-2"}),"Export Log"]})]})]})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-gradient-to-r from-[#1E90FF] to-[#00BFFF] border-none hover:bg-gradient-to-r",children:[e.jsx(At,{className:"text-white",children:"Timestamp"}),e.jsx(At,{className:"text-white",children:"Actor"}),e.jsx(At,{className:"text-white",children:"Action"}),e.jsx(At,{className:"text-white",children:"Target"}),e.jsx(At,{className:"text-white",children:"IP Address"}),e.jsx(At,{className:"text-white",children:"Status"})]})}),e.jsx(On,{children:u.length===0?e.jsx(As,{className:"bg-[#0F243E] border-b border-white/5",children:e.jsxs(Xe,{colSpan:6,className:"text-center py-12",children:[e.jsx("p",{className:"text-white mb-2",children:"No activity logs found"}),e.jsx("p",{className:"text-[#C0C8D3] text-sm",children:"Activity will be logged here automatically"})]})}):u.map(y=>e.jsxs(As,{className:"bg-[#0F243E] border-b border-white/5 hover:bg-[#132C4A]",children:[e.jsx(Xe,{className:"text-[#C0C8D3] text-sm font-mono",children:new Date(y.timestamp).toLocaleString()}),e.jsx(Xe,{children:e.jsxs("div",{children:[e.jsx("p",{className:"text-white",children:y.actor}),e.jsx("p",{className:"text-xs text-[#C0C8D3]",children:y.actor_role})]})}),e.jsx(Xe,{children:e.jsxs(yt,{className:`${f(y.action)} text-white border-0 flex items-center gap-1 w-fit`,children:[m(y.action),y.action]})}),e.jsx(Xe,{className:"text-white",children:y.target}),e.jsx(Xe,{className:"text-[#C0C8D3] text-sm font-mono",children:y.ip_address}),e.jsx(Xe,{children:e.jsx(yt,{className:y.status==="Success"?"bg-[#28A745] text-white border-0":"bg-[#DC3545] text-white border-0",children:y.status})})]},y.id))})]})})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(k0,{className:"w-4 h-4 text-[#1E90FF]"}),e.jsx("p",{className:"text-[#C0C8D3] text-sm",children:"Total Actions"})]}),e.jsx("p",{className:"text-white text-xl",children:g})]})}),e.jsx(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:e.jsxs(Le,{className:"p-4",children:[e.jsx("p",{className:"text-[#C0C8D3] mb-1 text-sm",children:"Users Created"}),e.jsx("p",{className:"text-[#28A745] text-xl",children:N})]})}),e.jsx(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:e.jsxs(Le,{className:"p-4",children:[e.jsx("p",{className:"text-[#C0C8D3] mb-1 text-sm",children:"Links Created"}),e.jsx("p",{className:"text-[#1E90FF] text-xl",children:b})]})}),e.jsx(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:e.jsxs(Le,{className:"p-4",children:[e.jsx("p",{className:"text-[#C0C8D3] mb-1 text-sm",children:"Failed Actions"}),e.jsx("p",{className:"text-[#DC3545] text-xl",children:j})]})})]})]})}function WD(){const{feeStructures:s,classes:t,students:r,studentFeeBalances:n,payments:a}=Fs(),[i,A]=S.useState("overview"),c=s.reduce((f,x)=>f+(x.totalFee*t.find(g=>g.id===x.classId)?.currentStudents||0),0),d=a.filter(f=>f.status==="Verified").reduce((f,x)=>f+x.amount,0),u=n.reduce((f,x)=>f+x.balance,0),m=n.filter(f=>f.balance>0).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Fee Management"}),e.jsx("p",{className:"text-[#6B7280]",children:"Oversee fee structures and student payment status"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Expected Revenue"}),e.jsx(Nd,{className:"w-5 h-5 text-[#3B82F6]"})]}),e.jsxs("p",{className:"text-[#1F2937] mb-1 font-semibold",children:["",c.toLocaleString()]}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:"This term"})]})}),e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Total Collected"}),e.jsx(Hl,{className:"w-5 h-5 text-[#10B981]"})]}),e.jsxs("p",{className:"text-[#1F2937] mb-1 font-semibold",children:["",d.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-[#10B981]",children:[c>0?(d/c*100).toFixed(1):0,"% collected"]})]})}),e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Outstanding"}),e.jsx(Es,{className:"w-5 h-5 text-[#F59E0B]"})]}),e.jsxs("p",{className:"text-[#1F2937] mb-1 font-semibold",children:["",u.toLocaleString()]}),e.jsx("p",{className:"text-xs text-[#F59E0B]",children:"Unpaid balances"})]})}),e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Students w/ Balance"}),e.jsx(Qs,{className:"w-5 h-5 text-[#EF4444]"})]}),e.jsx("p",{className:"text-[#1F2937] mb-1 font-semibold",children:m}),e.jsxs("p",{className:"text-xs text-[#6B7280]",children:["Out of ",r.length," students"]})]})})]}),e.jsxs("div",{className:"flex gap-2 border-b border-[#E5E7EB]",children:[e.jsx("button",{onClick:()=>A("overview"),className:`px-4 py-2 rounded-t-lg transition-all ${i==="overview"?"bg-[#3B82F6] text-white":"text-[#6B7280] hover:bg-[#F3F4F6]"}`,children:"Overview"}),e.jsx("button",{onClick:()=>A("structures"),className:`px-4 py-2 rounded-t-lg transition-all ${i==="structures"?"bg-[#3B82F6] text-white":"text-[#6B7280] hover:bg-[#F3F4F6]"}`,children:"Fee Structures"}),e.jsx("button",{onClick:()=>A("balances"),className:`px-4 py-2 rounded-t-lg transition-all ${i==="balances"?"bg-[#3B82F6] text-white":"text-[#6B7280] hover:bg-[#F3F4F6]"}`,children:"Student Balances"})]}),i==="structures"&&e.jsxs(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-4 border-b border-[#E5E7EB]",children:e.jsx("h3",{className:"text-[#1F2937] font-semibold",children:"Fee Structures by Class"})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-[#F9FAFB]",children:[e.jsx(At,{className:"text-[#1F2937]",children:"Class"}),e.jsx(At,{className:"text-[#1F2937]",children:"Tuition"}),e.jsx(At,{className:"text-[#1F2937]",children:"Development"}),e.jsx(At,{className:"text-[#1F2937]",children:"Exam"}),e.jsx(At,{className:"text-[#1F2937]",children:"Books"}),e.jsx(At,{className:"text-[#1F2937]",children:"Transport"}),e.jsx(At,{className:"text-[#1F2937]",children:"Total Fee"}),e.jsx(At,{className:"text-[#1F2937]",children:"Actions"})]})}),e.jsx(On,{children:s.map(f=>e.jsxs(As,{className:"border-b border-[#E5E7EB]",children:[e.jsx(Xe,{className:"text-[#1F2937] font-medium",children:f.className}),e.jsxs(Xe,{className:"text-[#1F2937]",children:["",f.tuitionFee.toLocaleString()]}),e.jsxs(Xe,{className:"text-[#1F2937]",children:["",f.developmentLevy.toLocaleString()]}),e.jsxs(Xe,{className:"text-[#1F2937]",children:["",f.examFee.toLocaleString()]}),e.jsxs(Xe,{className:"text-[#1F2937]",children:["",f.booksFee.toLocaleString()]}),e.jsxs(Xe,{className:"text-[#1F2937]",children:["",f.transportFee.toLocaleString()]}),e.jsxs(Xe,{className:"text-[#1F2937] font-semibold",children:["",f.totalFee.toLocaleString()]}),e.jsx(Xe,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ee,{className:"h-8 px-3 bg-[#3B82F6] text-white hover:bg-[#2563EB] rounded-lg",children:e.jsx(Pl,{className:"w-4 h-4"})}),e.jsx(Ee,{className:"h-8 px-3 bg-[#10B981] text-white hover:bg-[#059669] rounded-lg",children:e.jsx(Pn,{className:"w-4 h-4"})})]})})]},f.id))})]})})})]}),i==="balances"&&e.jsxs(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-4 border-b border-[#E5E7EB]",children:e.jsx("h3",{className:"text-[#1F2937] font-semibold",children:"Student Fee Balances"})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-[#F9FAFB]",children:[e.jsx(At,{className:"text-[#1F2937]",children:"Student ID"}),e.jsx(At,{className:"text-[#1F2937]",children:"Student Name"}),e.jsx(At,{className:"text-[#1F2937]",children:"Class"}),e.jsx(At,{className:"text-[#1F2937]",children:"Total Fee"}),e.jsx(At,{className:"text-[#1F2937]",children:"Paid"}),e.jsx(At,{className:"text-[#1F2937]",children:"Balance"}),e.jsx(At,{className:"text-[#1F2937]",children:"Status"})]})}),e.jsx(On,{children:n.map(f=>{const x=r.find(g=>g.id===f.studentId);return e.jsxs(As,{className:"border-b border-[#E5E7EB]",children:[e.jsx(Xe,{className:"text-[#1F2937]",children:x?.admissionNumber}),e.jsx(Xe,{className:"text-[#1F2937] font-medium",children:x?`${x.firstName} ${x.lastName}`:"Unknown"}),e.jsx(Xe,{className:"text-[#1F2937]",children:x?.className}),e.jsxs(Xe,{className:"text-[#1F2937]",children:["",f.totalFeeRequired.toLocaleString()]}),e.jsxs(Xe,{className:"text-[#10B981]",children:["",f.totalPaid.toLocaleString()]}),e.jsxs(Xe,{className:"text-[#EF4444] font-medium",children:["",f.balance.toLocaleString()]}),e.jsx(Xe,{children:e.jsx(yt,{className:`${f.status==="Paid"?"bg-[#10B981] text-white":f.status==="Partial"?"bg-[#F59E0B] text-white":"bg-[#EF4444] text-white"} border-0`,children:f.status})})]},f.id)})})]})})})]}),i==="overview"&&e.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[e.jsxs(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-4 border-b border-[#E5E7EB]",children:e.jsx("h3",{className:"text-[#1F2937] font-semibold",children:"Collection Rate by Class"})}),e.jsx(Le,{className:"p-4 space-y-3",children:t.slice(0,5).map(f=>{const x=s.find(E=>E.classId===f.id),g=r.filter(E=>E.classId===f.id),N=n.filter(E=>E.classId===f.id),b=x?x.totalFee*g.length:0,j=N.reduce((E,U)=>E+U.totalPaid,0),y=b>0?j/b*100:0;return e.jsxs("div",{className:"p-3 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-[#1F2937] font-medium",children:f.name}),e.jsxs("span",{className:"text-[#3B82F6] font-medium",children:[y.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-[#E5E7EB] rounded-full h-2",children:e.jsx("div",{className:"bg-[#3B82F6] h-2 rounded-full transition-all",style:{width:`${y}%`}})})]},f.id)})})]}),e.jsxs(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-4 border-b border-[#E5E7EB]",children:e.jsx("h3",{className:"text-[#1F2937] font-semibold",children:"Recent Payment Activity"})}),e.jsx(Le,{className:"p-4 space-y-3",children:a.slice(-5).reverse().map(f=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1F2937] font-medium",children:f.studentName}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:f.recordedDate})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-[#10B981] font-medium",children:["",f.amount.toLocaleString()]}),e.jsx(yt,{className:`${f.status==="Verified"?"bg-[#10B981]":"bg-[#F59E0B]"} text-white border-0 text-xs`,children:f.status})]})]},f.id))})]})]})]})}function qD(){const{currentUser:s}=Fs(),[t,r]=S.useState(!0),[n,a]=S.useState(!1),[i,A]=S.useState({academic_year:"2024/2025",term:"Third Term",principal_name:"OROGUN GLORY EJIRO",principal_signature:null,principal_comment:"A very good result. Release your potentials cause you can do more dear.",head_teacher_name:"MRS. ABDULHAMID BINTA",head_teacher_signature:null,head_teacher_comment:"A very good result. Keep up the excellent work!",resumption_date:"2025-09-15"}),[c,d]=S.useState(null),[u,m]=S.useState(null),[f,x]=S.useState(""),[g,N]=S.useState("");S.useEffect(()=>{b()},[]);const b=async()=>{try{r(!0);const U=await(await fetch("http://localhost/GGGG/api/database/query",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({query:`
            SELECT * FROM signature_settings 
            WHERE academic_year = ? AND term = ? 
            ORDER BY created_at DESC 
            LIMIT 1
          `,params:[i.academic_year,i.term]})})).json();if(U.success&&U.data&&U.data.length>0){const k=U.data[0];A(k),k.principal_signature&&x(k.principal_signature),k.head_teacher_signature&&N(k.head_teacher_signature)}}catch(E){console.error("Error loading signature settings:",E),ge.error("Failed to load signature settings")}finally{r(!1)}},j=async(E,U)=>{if(!E)return;if(!E.type.startsWith("image/")){ge.error("Please upload an image file");return}if(E.size>5*1024*1024){ge.error("File size must be less than 5MB");return}const k=new FileReader;k.onload=q=>{const G=q.target?.result;U==="principal"?(x(G),d(E),A(H=>({...H,principal_signature:G}))):(N(G),m(E),A(H=>({...H,head_teacher_signature:G}))),ge.success(`${U==="principal"?"Principal":"Head Teacher"} signature uploaded`)},k.readAsDataURL(E)},y=async()=>{try{a(!0);const E=i.id?`UPDATE signature_settings SET 
            principal_name = ?, principal_signature = ?, principal_comment = ?,
            head_teacher_name = ?, head_teacher_signature = ?, head_teacher_comment = ?,
            resumption_date = ?, updated_at = CURRENT_TIMESTAMP
            WHERE id = ?`:`INSERT INTO signature_settings (
            academic_year, term, principal_name, principal_signature, principal_comment,
            head_teacher_name, head_teacher_signature, head_teacher_comment, resumption_date
          ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,U=i.id?[i.principal_name,i.principal_signature,i.principal_comment,i.head_teacher_name,i.head_teacher_signature,i.head_teacher_comment,i.resumption_date,i.id]:[i.academic_year,i.term,i.principal_name,i.principal_signature,i.principal_comment,i.head_teacher_name,i.head_teacher_signature,i.head_teacher_comment,i.resumption_date],q=await(await fetch("http://localhost/GGGG/api/database/query",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({query:E,params:U})})).json();q.success?(ge.success("Signature settings saved successfully"),!i.id&&q.insertId&&A(G=>({...G,id:q.insertId}))):ge.error("Failed to save signature settings")}catch(E){console.error("Error saving signature settings:",E),ge.error("Failed to save signature settings")}finally{a(!1)}};return t?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Signature Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage signatures and resumption dates for result sheets"})]}),e.jsxs(yt,{variant:"outline",className:"text-sm",children:[e.jsx(ta,{className:"w-4 h-4 mr-1"}),i.academic_year," - ",i.term]})]}),e.jsxs(Vi,{children:[e.jsx(_h,{className:"h-4 w-4"}),e.jsx(zi,{children:"These settings will be automatically applied to all result sheets for the current academic year and term."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Ce,{children:[e.jsx(Qt,{children:e.jsxs(ur,{className:"flex items-center gap-2",children:[e.jsx(EA,{className:"w-5 h-5"}),"Principal Settings (Secondary Section)"]})}),e.jsxs(Le,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"principal_name",children:"Principal Name"}),e.jsx(kt,{id:"principal_name",value:i.principal_name,onChange:E=>A(U=>({...U,principal_name:E.target.value})),placeholder:"Enter principal name"})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"principalComment",children:"Principal Comment (Default for Result Cards)"}),e.jsx(wi,{id:"principalComment",value:i.principal_comment,onChange:E=>A({...i,principal_comment:E.target.value}),placeholder:"Enter default comment for Principal's section on result cards",className:"mt-1"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Note: Class Teachers provide their own comments during result compilation"})]}),e.jsxs("div",{children:[e.jsx(Ze,{children:"Principal Signature"}),e.jsx("div",{className:"mt-2",children:f?e.jsxs("div",{className:"border rounded p-2",children:[e.jsx("img",{src:f,alt:"Principal Signature",className:"h-16 max-w-full object-contain"}),e.jsx(Ee,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{x(""),d(null),A(E=>({...E,principal_signature:null}))},children:"Remove Signature"})]}):e.jsxs("div",{className:"border-2 border-dashed rounded p-4 text-center",children:[e.jsx(go,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Upload principal signature"}),e.jsx(kt,{type:"file",accept:"image/*",onChange:E=>E.target.files?.[0]&&j(E.target.files[0],"principal"),className:"max-w-xs mx-auto"})]})})]})]})]}),e.jsxs(Ce,{children:[e.jsx(Qt,{children:e.jsxs(ur,{className:"flex items-center gap-2",children:[e.jsx(EA,{className:"w-5 h-5"}),"Head Teacher Settings (Primary Section)"]})}),e.jsxs(Le,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"head_teacher_name",children:"Head Teacher Name"}),e.jsx(kt,{id:"head_teacher_name",value:i.head_teacher_name,onChange:E=>A(U=>({...U,head_teacher_name:E.target.value})),placeholder:"Enter head teacher name"})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"head_teacher_comment",children:"Head Teacher Comment (Default for Result Cards)"}),e.jsx(wi,{id:"head_teacher_comment",value:i.head_teacher_comment,onChange:E=>A(U=>({...U,head_teacher_comment:E.target.value})),placeholder:"Enter default comment for Head Teacher's section on result cards",rows:3}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Note: Class Teachers provide their own comments during result compilation"})]}),e.jsxs("div",{children:[e.jsx(Ze,{children:"Head Teacher Signature"}),e.jsx("div",{className:"mt-2",children:g?e.jsxs("div",{className:"border rounded p-2",children:[e.jsx("img",{src:g,alt:"Head Teacher Signature",className:"h-16 max-w-full object-contain"}),e.jsx(Ee,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{N(""),m(null),A(E=>({...E,head_teacher_signature:null}))},children:"Remove Signature"})]}):e.jsxs("div",{className:"border-2 border-dashed rounded p-4 text-center",children:[e.jsx(go,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Upload head teacher signature"}),e.jsx(kt,{type:"file",accept:"image/*",onChange:E=>E.target.files?.[0]&&j(E.target.files[0],"head_teacher"),className:"max-w-xs mx-auto"})]})})]})]})]})]}),e.jsxs(Ce,{children:[e.jsx(Qt,{children:e.jsxs(ur,{className:"flex items-center gap-2",children:[e.jsx(ta,{className:"w-5 h-5"}),"School Resumption Date"]})}),e.jsx(Le,{children:e.jsxs("div",{className:"max-w-md",children:[e.jsx(Ze,{htmlFor:"resumption_date",children:"Next Term Resumption Date"}),e.jsx(kt,{id:"resumption_date",type:"date",value:i.resumption_date,onChange:E=>A(U=>({...U,resumption_date:E.target.value}))}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"This date will appear on all result sheets"})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(Ee,{onClick:y,disabled:n,className:"min-w-[120px]",children:[e.jsx(Hc,{className:"w-4 h-4 mr-2"}),n?"Saving...":"Save Settings"]})})]})}const J5=S.createContext(null);function YD({children:s}){const[t,r]=S.useState([]),[n,a]=S.useState([]),i=S.useCallback(c=>(r(d=>[...d,c]),()=>{r(d=>d.filter(u=>u!==c))}),[]),A=S.useCallback(c=>{a(d=>[...d,c]),t.forEach(d=>{try{d(c)}catch{}})},[t]);return e.jsx(J5.Provider,{value:{subscribe:i,broadcast:A,pendingNotifications:n},children:s})}function X5(){const s=S.useContext(J5);if(!s)throw new Error("useNotificationService must be used within NotificationServiceProvider");return s}function Z5(s,t){const{subscribe:r}=X5(),{markNotificationAsRead:n,currentUser:a}=Fs();S.useEffect(()=>!s||!t?void 0:r(A=>{if(A.targetAudience==="all"||s&&A.targetAudience===s.toLowerCase()+"s"||s==="Teacher"&&A.targetAudience==="teachers"||s==="Parent"&&A.targetAudience==="parents"||s==="Accountant"&&A.targetAudience==="accountants"||s==="Admin"&&A.targetAudience==="all"){(A.type==="error"?ge.error:A.type==="warning"?ge.warning:A.type==="success"?ge.success:ge.info)(A.title,{description:A.message,icon:e.jsx(Zo,{className:"w-5 h-5"}),duration:5e3});try{const u=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSl+zPLTgjMGHm7A7+OZRQ4PVqzm7KRXEwxNpOPwwmkgBTGJ0fPPfS0GI3fJ8NyPPwoTYbnq7KdUFAtBmeHyu2shBSh9y/LSgzcGHWvA7+OYRg0PVq7m6qNXFAxNo+PvwmogBDCH0fLPfiwGInXH8N+PPQkSX7nr7KhUEwpBmN/yuWsgBSh8y/LTgjYGHGq/7+OZSQ4OVKzl66JXFAxOouHuwmwhBDKH0PHPfywFIHLH8N+PPQsRXbfr7KlXFQlAnN7wtmwfBS1+zPHSgjcGHGu97+OaShAOVK3l66FYFAtOoN/twm0hBDKF0PHPgC4GIHLHb9+RQAsRXbbq66pYFApAnN3vtWwfBSx9y/DSgzcFHGm87eOaSxENVK7j66FZFAxNnuDuwm4hBDKE0fHOgC8FHnGHb9+RQAwPXLbp66pZFQlBnNzvtWwfBSx9yvDRgzcGG2m77OKbSxINUqzj66JaFAxNnd/tw28gBDKD0fDNfzAGHXDHbd6RQQwPW7Xo66pZFAlAnNvutmwhBSt8ye/Rgz4FHGW7a96aTBAOU6rj66NbFAxMm93tzG8gBDGB0O/Nfy8FHHDHX96RPQsQWrTn66pbFQhBm9rutmwfBSp7yO/SgDwGGmi7bN+bTxEMUqjh6qRcEwtOmtzsznAgAy+Az+/MgC0GGm/AW96SPQ0OWbPm6qxcFQdBmtrutWsfBSl5xe7Tgj4GGWe4aN+dUBIMUKfh66RdEwpNmNvrz3IgAy19z+3LgS0FGW2/Vt2RPgwNWLHl6qxdFgZAltnpt2weByhxxe3TgT4FGGi4Vt+fURELT6Pf66VgFA1Oltfrz3AfAyp7yu7KgywFFW/AVd2QQQ4MV6/k6axdFgVBltjpt2wfBCh3w+3SgTwGGGq4XOGgURQKTqLe6qZgEw1Nldbrz3AfAyt7yu3Kgyy+FFu/B+rHCkE=");u.volume=.3,u.play().catch(()=>{})}catch{}}}),[s,t,r,a])}function JD({onLogout:s}){const{students:t,teachers:r,getPendingApprovals:n,currentUser:a,getUnreadNotifications:i,checkUserPermissionAPI:A,currentAcademicYear:c,currentTerm:d}=Fs(),[u,m]=S.useState("dashboard");Z5(a?.role,a?.id);const f=t.filter(y=>y&&y.status&&y.status==="Active").length,x=r.filter(y=>y&&y.status&&y.status==="Active").length,g=n().length,N=i();a&&A(a.role,"create_users"),a&&A(a.role,"create_students"),a&&A(a.role,"manage_classes"),a&&A(a.role,"manage_fees"),a&&A(a.role,"view_student_reports"),a&&A(a.role,"manage_settings");const b=[{icon:e.jsx(ap,{className:"w-5 h-5"}),label:"Dashboard",id:"dashboard",permission:null},{icon:e.jsx(Tc,{className:"w-5 h-5"}),label:"Register User",id:"register-user",permission:"create_users"},{icon:e.jsx(Qs,{className:"w-5 h-5"}),label:"Manage Users",id:"manage-users",permission:"read_users"},{icon:e.jsx(Qs,{className:"w-5 h-5"}),label:"Manage Students",id:"manage-students",permission:"read_students"},{icon:e.jsx(Ff,{className:"w-5 h-5"}),label:"Link Student-Parent",id:"link-student-parent",permission:"link_students"},{icon:e.jsx(Jr,{className:"w-5 h-5"}),label:"Manage Classes",id:"manage-classes",permission:"manage_classes"},{icon:e.jsx(Zy,{className:"w-5 h-5"}),label:"Manage Subjects",id:"manage-subjects",permission:"manage_subjects"},{icon:e.jsx(CA,{className:"w-5 h-5"}),label:"Teacher Assignments",id:"teacher-assignments",permission:"assign_subjects"},{icon:e.jsx(Ef,{className:"w-5 h-5"}),label:"Promotion System",id:"promotion-system",permission:"manage_students"},{icon:e.jsx(xh,{className:"w-5 h-5"}),label:"Results Management",id:"results-management",permission:"manage_exams"},{icon:e.jsx(po,{className:"w-5 h-5"}),label:"Attendance Reports",id:"attendance-reports",permission:"view_reports"},{icon:e.jsx(ta,{className:"w-5 h-5"}),label:"Exam Timetable",id:"exam-timetable",permission:"manage_timetable"},{icon:e.jsx(Hl,{className:"w-5 h-5"}),label:"Fee Management",id:"fee-management",permission:"manage_fees"},{icon:e.jsx(Ix,{className:"w-5 h-5"}),label:"Notifications",id:"send-notifications",permission:"manage_notifications"},{icon:e.jsx(Zo,{className:"w-5 h-5"}),label:"View Notifications",id:"notifications",permission:null},{icon:e.jsx(sa,{className:"w-5 h-5"}),label:"Signature Settings",id:"signature-settings",permission:"manage_settings"},{icon:e.jsx(Wy,{className:"w-5 h-5"}),label:"Activity Logs",id:"activity-logs",permission:"view_logs"},{icon:e.jsx(xh,{className:"w-5 h-5"}),label:"Data Backup",id:"data-backup",permission:"manage_settings"},{icon:e.jsx(s2,{className:"w-5 h-5"}),label:"Settings",id:"settings",permission:"manage_settings"}].filter(y=>!y.permission||a&&A(a.role,y.permission)),j=y=>{y==="logout"?s():m(y)};return e.jsxs("div",{className:"min-h-screen bg-[#F4F6F9]",children:[e.jsx(fp,{items:b,activeItem:u,onItemClick:j}),e.jsxs("div",{className:"lg:pl-64",children:[e.jsx(pp,{userName:"Administrator",userRole:"System Admin",notificationCount:N.length,onLogout:s}),e.jsxs("main",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[u==="dashboard"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Admin Dashboard"}),e.jsx("p",{className:"text-[#6B7280]",children:"System Overview & Management"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical hover:shadow-clinical-lg transition-all hover-lift group cursor-pointer",onClick:()=>m("manage-students"),children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Total Students"}),e.jsx(Qs,{className:"w-5 h-5 text-[#3B82F6] group-hover:scale-110 transition-transform"})]}),e.jsx("p",{className:"text-[#1F2937] mb-1 font-semibold",children:f}),e.jsx("p",{className:"text-xs text-[#10B981]",children:"Active students"})]})}),e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical hover:shadow-clinical-lg transition-all hover-lift group cursor-pointer",onClick:()=>m("manage-users"),children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Teaching Staff"}),e.jsx(Ml,{className:"w-5 h-5 text-[#10B981] group-hover:scale-110 transition-transform"})]}),e.jsx("p",{className:"text-[#1F2937] mb-1 font-semibold",children:x}),e.jsx("p",{className:"text-xs text-[#10B981]",children:"Active teachers"})]})}),e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical hover:shadow-clinical-lg transition-all hover-lift group cursor-pointer",onClick:()=>m("results-management"),children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Pending Results"}),e.jsx(sa,{className:"w-5 h-5 text-[#F59E0B] group-hover:scale-110 transition-transform"})]}),e.jsx("p",{className:"text-[#1F2937] mb-1 font-semibold",children:g}),e.jsx("p",{className:"text-xs text-[#F59E0B]",children:g>0?"Awaiting approval":"All approved"})]})}),e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical hover:shadow-clinical-lg transition-all hover-lift group cursor-pointer",onClick:()=>m("notifications"),children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Notifications"}),e.jsx(Zo,{className:"w-5 h-5 text-[#3B82F6] group-hover:scale-110 transition-transform"})]}),e.jsx("p",{className:"text-[#1F2937] mb-1 font-semibold",children:N.length}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:"Unread messages"})]})})]}),e.jsxs(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"bg-[#3B82F6] rounded-t-lg p-4 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-white font-semibold",children:"Active Session & Term"}),e.jsx(yt,{className:"bg-[#10B981] text-white border-0 text-xs",children:"Active"})]})}),e.jsx(Le,{className:"p-4",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-3 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-[#6B7280] mb-1 text-sm",children:"Academic Session"}),e.jsx("p",{className:"text-[#1F2937] font-medium",children:c})]}),e.jsxs("div",{className:"p-3 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-[#6B7280] mb-1 text-sm",children:"Current Term"}),e.jsx("p",{className:"text-[#1F2937] font-medium",children:d})]}),e.jsxs("div",{className:"p-3 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-[#6B7280] mb-1 text-sm",children:"Status"}),e.jsx("p",{className:"text-[#10B981] font-medium",children:"In Progress"})]})]})})]}),e.jsx(Ce,{className:"rounded-lg bg-gradient-to-r from-[#3B82F6]/10 to-[#2563EB]/5 border border-[#3B82F6]/20",children:e.jsx(Le,{className:"p-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Br,{className:"w-6 h-6 text-[#3B82F6] mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1F2937] font-medium mb-2",children:"Quick Actions Available"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-3 bg-white rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Use floating buttons (bottom right) for quick access to:"}),e.jsxs("ul",{className:"text-xs text-[#1F2937] mt-2 space-y-1",children:[e.jsx("li",{children:" Register New User"}),e.jsx("li",{children:" Add Student"}),e.jsx("li",{children:" Results Management"})]})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Use sidebar menu to:"}),e.jsxs("ul",{className:"text-xs text-[#1F2937] mt-2 space-y-1",children:[e.jsx("li",{children:" Manage all users"}),e.jsx("li",{children:" Configure classes & subjects"}),e.jsx("li",{children:" Set teacher assignments"})]})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"System features:"}),e.jsxs("ul",{className:"text-xs text-[#1F2937] mt-2 space-y-1",children:[e.jsx("li",{children:" Real-time notifications"}),e.jsx("li",{children:" Student promotion"}),e.jsx("li",{children:" Results approval workflow"})]})]})]})]})]})})}),e.jsxs("div",{className:"fixed bottom-6 right-6 flex flex-col gap-3 z-30",children:[e.jsx(Ee,{onClick:()=>m("register-user"),className:"w-12 h-12 rounded-lg bg-[#F59E0B] hover:bg-[#D97706] shadow-lg hover:shadow-xl transition-all hover-lift",title:"Register User",children:e.jsx(Tc,{className:"w-5 h-5 text-white"})}),e.jsx(Ee,{onClick:()=>m("results-management"),className:"w-12 h-12 rounded-lg bg-[#10B981] hover:bg-[#059669] shadow-lg hover:shadow-xl transition-all hover-lift",title:"Results Management",children:e.jsx(xh,{className:"w-5 h-5 text-white"})})]})]}),u==="register-user"&&e.jsx(uU,{}),u==="manage-students"&&e.jsx(vk,{onNavigateToLink:()=>m("link-student-parent")}),u==="manage-users"&&e.jsx(zk,{}),u==="manage-classes"&&e.jsx(pI,{}),u==="manage-subjects"&&e.jsx(gI,{}),u==="teacher-assignments"&&e.jsx(xI,{}),u==="promotion-system"&&e.jsx(wI,{}),u==="link-student-parent"&&e.jsx(fI,{}),u==="fee-management"&&e.jsx(WD,{}),u==="send-notifications"&&e.jsx(Gk,{}),u==="notifications"&&e.jsx(Ip,{}),u==="activity-logs"&&e.jsx($D,{}),u==="data-backup"&&e.jsx(GD,{}),u==="settings"&&e.jsx(eI,{}),u==="attendance-reports"&&e.jsx(OD,{}),u==="exam-timetable"&&e.jsx(HD,{}),u==="results-management"&&e.jsx(PD,{}),u==="signature-settings"&&e.jsx(qD,{}),!["dashboard","register-user","manage-students","manage-users","manage-classes","manage-subjects","teacher-assignments","promotion-system","link-student-parent","fee-management","send-notifications","notifications","activity-logs","data-backup","settings","attendance-reports","exam-timetable","results-management","signature-settings"].includes(u)&&e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical max-w-md w-full",children:e.jsxs(Le,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg bg-[#3B82F6] flex items-center justify-center mx-auto mb-4",children:b.find(y=>y.id===u)?.icon}),e.jsx("h3",{className:"text-[#1F2937] mb-3 font-semibold",children:b.find(y=>y.id===u)?.label}),e.jsxs("p",{className:"text-[#6B7280]",children:["This section contains the functionality for ",b.find(y=>y.id===u)?.label.toLowerCase(),"."]})]})})})})]})]})]})}function XD(){const{currentUser:s,teachers:t,students:r,classes:n,getTeacherAssignments:a,scores:i,addScore:A,updateScore:c,approveScore:d,currentTerm:u,currentAcademicYear:m,subjectAssignments:f}=Fs(),[x,g]=S.useState(""),[N,b]=S.useState(""),[j,y]=S.useState({}),[E,U]=S.useState(!1),[k,q]=S.useState("enter"),[G,H]=S.useState(!1),I=s?t.find(Z=>Z.id===s.linked_id):null,D=I?a(I.id):[];S.useEffect(()=>{console.log("Score Entry Debug Info:",{currentUser:s?.username,currentTeacher:I?`${I.firstName} ${I.lastName}`:"Not found",teacherId:I?.id,totalAssignments:D.length,currentTerm:u,currentAcademicYear:m})},[s,I,D,u,m]);const P=S.useMemo(()=>{const Z=new Map;D.forEach(z=>{Z.has(z.class_id)||Z.set(z.class_id,{id:z.class_id,name:z.class_name||"Unknown Class"})});const oe=Array.from(Z.values());return console.log(`Assigned classes for teacher ${I?.id}:`,oe),oe},[D,I]),Q=S.useMemo(()=>{if(!x)return[];const Z=D.filter(fe=>fe.class_id===Number(x));if(Z.length===0)return console.warn(`No subject assignments found for teacher ${I?.id} in class ${x}`),[];const oe=new Map;Z.forEach(fe=>{const Fe=fe.subject_id;oe.has(Fe)||oe.set(Fe,{id:fe.id,subject_id:fe.subject_id,subject_name:fe.subject_name||"Unknown Subject"})});const z=Array.from(oe.values());return console.log(`Available subjects for class ${x}:`,z),z},[x,D,I]),T=S.useMemo(()=>x?r.filter(Z=>Z.class_id===Number(x)&&Z.status==="Active").sort((Z,oe)=>{const z=(Z.firstName||"").toLowerCase(),fe=(oe.firstName||"").toLowerCase();if(z!==fe)return z.localeCompare(fe);const Fe=(Z.lastName||"").toLowerCase(),Ve=(oe.lastName||"").toLowerCase();return Fe.localeCompare(Ve)}):[],[x,r]),$=S.useMemo(()=>{if(!N||!x)return[];const Z=D.find(fe=>fe.subject_id===Number(N)&&fe.class_id===Number(x));if(!Z)return[];const oe=i.filter(fe=>fe.subject_assignment_id===Z.id&&fe.term===u&&fe.academic_year===m),z=k==="rejected"?oe.filter(fe=>fe.status==="Rejected"):oe;return console.log("Existing scores found:",{assignmentId:Z.id,selectedSubjectId:N,selectedClassId:x,currentTerm:u,currentAcademicYear:m,viewMode:k,totalScores:i.length,filteredScores:oe.length,displayScores:z.length,scores:z}),z},[N,x,D,i,u,m,k]);S.useEffect(()=>{if(k==="rejected"&&$.length>0){const Z={};$.forEach(oe=>{Z[oe.student_id]={ca1:oe.ca1.toString(),ca2:oe.ca2.toString(),exam:oe.exam.toString()}}),y(Z)}},[k,$]);const V=n.find(Z=>Z.id===Number(x)),ie=D.find(Z=>Z.subject_id===Number(N)&&Z.class_id===Number(x)),W=S.useMemo(()=>{const Z=T.map(z=>{const fe=j[z.id];return!fe||!fe.ca1||!fe.ca2||!fe.exam?0:(parseFloat(fe.ca1)||0)+(parseFloat(fe.ca2)||0)+(parseFloat(fe.exam)||0)}).filter(z=>z>0),oe=T.reduce((z,fe)=>{const Fe=(parseFloat(j[fe.id]?.ca1)||0)+(parseFloat(j[fe.id]?.ca2)||0)+(parseFloat(j[fe.id]?.exam)||0),Ve=z?(parseFloat(j[z.id]?.ca1)||0)+(parseFloat(j[z.id]?.ca2)||0)+(parseFloat(j[z.id]?.exam)||0):0;return Fe>Ve?fe:z},null);return Z.length===0?{average:0,max:0,min:0,highestScorer:null}:{average:(Z||[]).length>0?(Z.reduce((z,fe)=>z+fe,0)/(Z||[]).length).toFixed(2):"0.00",max:Math.max(...Z).toFixed(2),min:Math.min(...Z).toFixed(2),highestScorer:oe}},[j,T]),ne=$.length>0&&$[0]?.status==="Submitted"&&!E;S.useEffect(()=>{const Z={};T.forEach(oe=>{const z=$.find(fe=>fe.student_id===oe.id);Z[oe.id]={ca1:z?.ca1?.toString()||"",ca2:z?.ca2?.toString()||"",exam:z?.exam?.toString()||""}}),y(Z),U(!1)},[x,N]),S.useEffect(()=>{console.log("Loading existing scores:",{existingScoresCount:$.length,existingScores:$}),$.length>0&&y(Z=>{const oe={...Z};return $.forEach(z=>{oe[z.student_id]={ca1:z.ca1?.toString()||"",ca2:z.ca2?.toString()||"",exam:z.exam?.toString()||""}}),console.log("Updated scoresData:",oe),oe})},[$]);const M=(Z,oe,z)=>{const fe=parseFloat(z),Fe=oe==="exam"?60:20;if(z&&(isNaN(fe)||fe<0||fe>Fe)){ge.error(`${oe.toUpperCase()} must be between 0 and ${Fe}`);return}y(Ve=>({...Ve,[Z]:{...Ve[Z],[oe]:z}}))},de=(Z,oe,z)=>{const fe=parseFloat(Z)||0,Fe=parseFloat(oe)||0,Ve=parseFloat(z)||0;return{total:(fe+Fe+Ve).toFixed(2)}},ue=Z=>{const oe=parseFloat(Z.toString())||0;return oe>=70?"A":oe>=60?"B":oe>=50?"C":oe>=40?"D":oe>=30?"E":"F"},se=Z=>{const oe=parseFloat(Z.toString())||0;return oe>=70?"Excellent":oe>=60?"Very Good":oe>=50?"Good":oe>=40?"Pass":oe>=30?"Fair":"Fail"},O=()=>{U(!E),E||ge.info("Edit mode enabled. You can now modify submitted scores.")},X=async()=>{if(!x||!N||!I){ge.error("Please select class and subject");return}if(!T.some(Te=>{const ze=j[Te.id];return ze&&(ze.ca1||ze.ca2||ze.exam)})){ge.error("Please enter scores for at least one student");return}const oe=D.find(Te=>Te.subject_id===Number(N)&&Te.class_id===Number(x));if(!oe){ge.error("Assignment not found");return}const z=T.filter(Te=>{const ze=j[Te.id];return ze&&(ze.ca1||ze.ca2||ze.exam)});if(z.length===0){ge.error("Please enter scores for at least one student");return}const fe=z.map(Te=>{const ze=j[Te.id];return ze&&parseFloat(de(ze.ca1,ze.ca2,ze.exam).total)||0}),Fe=Math.max(...fe),Ve=Math.min(...fe),qe=fe.reduce((Te,ze)=>Te+ze,0)/fe.length;let st=0;const le=[];T.forEach(Te=>{const ze=j[Te.id];if(!ze||!ze.ca1&&!ze.ca2&&!ze.exam)return;const ye=parseFloat(de(ze.ca1,ze.ca2,ze.exam).total)||0,pe=ue(ye),Pe=se(ye),et=$.find(ht=>ht.student_id===Te.id),rt={student_id:Te.id,subject_assignment_id:oe.id,subject_name:oe.subject_name,ca1:parseFloat(ze.ca1)||0,ca2:parseFloat(ze.ca2)||0,exam:parseFloat(ze.exam)||0,total:ye,class_average:Math.round(qe*100)/100,class_min:Ve,class_max:Fe,grade:pe,remark:Pe,subject_teacher:I?`${I.firstName} ${I.lastName}`:"Unknown",entered_by:s?.id||0,entered_date:new Date().toISOString(),status:"Submitted"};et?le.push(c(et.id,rt)):le.push(A(rt)),st++});try{console.log("Attempting to save",st,"scores...");const Te=await Promise.all(le);if(console.log("All scores saved successfully:",Te),E?(ge.success(`Scores updated successfully! ${st} student(s) updated.`),U(!1)):ge.success(`Scores submitted successfully! ${st} student(s) recorded.`),E)console.log("Edit mode - no notification created");else{console.log("Creating notification for class teacher...");const ze=n.find(ye=>ye.id===Number(x));if(ze?.classTeacherId){const ye=t.find(pe=>pe.id===ze.classTeacherId);ye&&(console.log("Found class teacher:",ye.firstName,ye.lastName),ge.info(`Notification sent to ${ye.firstName} ${ye.lastName} for review`))}}}catch(Te){console.error("Error saving scores:",Te);const ze=Te instanceof Error?Te.message:"Unknown error";ge.error(`Failed to save scores: ${ze}`)}},re=()=>{let Z=`S/No,Reg ID,Student Name,1st CA[20],2nd CA[20],Exams[60],Total [100]
`;T.forEach((Fe,Ve)=>{const qe=j[Fe.id]||{ca1:"",ca2:"",exam:""},st=qe.ca1&&qe.ca2&&qe.exam?de(qe.ca1,qe.ca2,qe.exam).total:0;Z+=`${Ve+1},${Fe.admissionNumber},"${Fe.firstName} ${Fe.lastName}",${qe.ca1},${qe.ca2},${qe.exam},${st}
`});const oe=new Blob([Z],{type:"text/csv"}),z=window.URL.createObjectURL(oe),fe=document.createElement("a");fe.href=z,fe.download=`${ie?.class_name||"-"} - ${ie?.subject_name||"-"}_${u}_${m}.csv`,fe.click(),ge.success("Excel file exported successfully!")},me=async()=>{if(!x||!N||!I){ge.error("Please select class and subject");return}if(!D.find(Te=>Te.subject_id===Number(N)&&Te.class_id===Number(x))){ge.error("Assignment not found");return}const z=$.filter(Te=>Te.status==="Rejected").filter(Te=>{const ze=j[Te.student_id];if(!ze)return!1;const ye=Te.total,pe=parseFloat(de(ze.ca1,ze.ca2,ze.exam).total)||0;return ze.ca1&&parseFloat(ze.ca1)!==Te.ca1||ze.ca2&&parseFloat(ze.ca2)!==Te.ca2||ze.exam&&parseFloat(ze.exam)!==Te.exam||pe!==ye});if(z.length===0){ge.error("Please make corrections to at least one rejected score");return}const fe=z.map(Te=>{const ze=j[Te.student_id];return ze&&parseFloat(de(ze.ca1,ze.ca2,ze.exam).total)||0}),Fe=Math.max(...fe),Ve=Math.min(...fe),qe=fe.reduce((Te,ze)=>Te+ze,0)/fe.length;let st=0;const le=[];for(const Te of z){const ze=j[Te.student_id];if(!ze)continue;const ye=parseFloat(de(ze.ca1,ze.ca2,ze.exam).total)||0,pe=ue(ye),Pe=se(ye),et={...Te,ca1:parseFloat(ze.ca1)||0,ca2:parseFloat(ze.ca2)||0,exam:parseFloat(ze.exam)||0,total:ye,class_average:Math.round(qe*100)/100,class_min:Ve,class_max:Fe,grade:pe,remark:Pe,entered_date:new Date().toISOString(),status:"Submitted",rejection_reason:void 0,rejected_by:void 0,rejected_date:void 0};le.push(c(Te.id,et)),st++}try{console.log("Attempting to resubmit",st,"rejected scores..."),await Promise.all(le),console.log("All rejected scores resubmitted successfully"),ge.success(`Rejected scores resubmitted successfully! ${st} score(s) corrected and sent for review.`);const Te={...j};z.forEach(ze=>{delete Te[ze.student_id]}),y(Te),q("enter")}catch(Te){console.error("Error resubmitting scores:",Te);const ze=Te instanceof Error?Te.message:"Unknown error";ge.error(`Failed to resubmit scores: ${ze}`)}},xe=Z=>{const oe=Z.target.files?.[0];if(!oe)return;const z=new FileReader;z.onload=fe=>{const Ve=(fe.target?.result).split(`
`).filter(Te=>Te.trim());if(Ve.length<2){ge.error("Invalid Excel/CSV file");return}const qe=Ve.slice(1);let st=0,le=0;qe.forEach(Te=>{const ze=Te.match(/(".*?"|[^,]+)(?=\s*,|\s*$)/g)||[];if(ze.length<7)return;const[ye,pe,Pe,et,rt,ht,Re]=ze.map(dt=>dt.replace(/^"|"$/g,"").trim()),Oe=T.find(dt=>dt.admissionNumber===pe);if(!Oe){le++;return}const ft=parseFloat(et),_t=parseFloat(rt),xt=parseFloat(ht);if(et&&(isNaN(ft)||ft<0||ft>20)||rt&&(isNaN(_t)||_t<0||_t>20)||ht&&(isNaN(xt)||xt<0||xt>60)){le++;return}y(dt=>({...dt,[Oe.id]:{ca1:et||"",ca2:rt||"",exam:ht||""}})),st++}),st>0&&ge.success(`Imported ${st} student scores`),le>0&&ge.warning(`${le} entries had errors and were skipped`)},z.readAsText(oe),Z.target.value=""};return e.jsxs("div",{className:"min-h-screen bg-[#F4F6F9] p-6",children:[e.jsxs("div",{className:"mb-6",children:[E&&e.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Bg,{className:"w-4 h-4 mr-2 text-amber-600"}),e.jsx("span",{className:"text-amber-800 font-medium",children:"Edit Mode Enabled"}),e.jsx("span",{className:"ml-2 text-amber-600 text-sm",children:"- You can modify submitted scores"})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-[#2563EB] mb-1",children:" STUDENTS ASSESSMENT SCORE"}),e.jsxs("p",{className:"text-[#6B7280]",children:[u.toUpperCase()," - ",m]})]}),e.jsxs("div",{className:"flex gap-2 bg-white p-1 rounded-lg border border-gray-200",children:[e.jsxs(Ee,{variant:k==="enter"?"default":"ghost",size:"sm",onClick:()=>q("enter"),className:k==="enter"?"bg-blue-600 text-white":"text-gray-600",children:[e.jsx(Bg,{className:"w-4 h-4 mr-2"}),"Enter Scores"]}),e.jsxs(Ee,{variant:k==="rejected"?"default":"ghost",size:"sm",onClick:()=>q("rejected"),className:k==="rejected"?"bg-red-600 text-white":"text-gray-600",children:[e.jsx(Es,{className:"w-4 h-4 mr-2"}),"Rejected Scores"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Ee,{onClick:re,className:"bg-[#06B6D4] hover:bg-[#0891B2] text-white rounded-lg",disabled:!x||!N,children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Export to Excel"]}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:xe,className:"hidden",disabled:!x||!N,id:"excel-upload-input"}),e.jsxs(Ee,{type:"button",className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-lg",disabled:!x||!N,onClick:()=>document.getElementById("excel-upload-input")?.click(),children:[e.jsx(go,{className:"w-4 h-4 mr-2"}),"Upload Excel File"]})]}),e.jsxs(Ee,{onClick:X,className:"bg-[#6366F1] hover:bg-[#4F46E5] text-white rounded-lg",disabled:ne||!x||!N,children:[e.jsx(I0,{className:"w-4 h-4 mr-2"}),E?"Update Scores":"Process Result"]}),$.length>0&&$[0]?.status==="Submitted"&&!E&&e.jsxs(Ee,{onClick:O,className:"bg-[#F59E0B] hover:bg-[#D97706] text-white rounded-lg",children:[e.jsx(Bg,{className:"w-4 h-4 mr-2"}),"Edit Scores"]})]})]})]}),e.jsx(Ce,{className:"mb-6 rounded-xl bg-white border border-[#E5E7EB]",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#1F2937] mb-2 block",children:"Select Class"}),e.jsxs(Ot,{value:x,onValueChange:Z=>{g(Z),b("")},children:[e.jsx(Mt,{className:"rounded-lg border-[#E5E7EB]",children:e.jsx(Ht,{placeholder:"Choose a class"})}),e.jsx(Kt,{children:P.map(Z=>e.jsx(ke,{value:Z.id.toString(),children:Z.name},Z.id))})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#1F2937] mb-2 block",children:"Select Subject"}),e.jsxs(Ot,{value:N,onValueChange:b,disabled:!x,children:[e.jsx(Mt,{className:"rounded-lg border-[#E5E7EB]",children:e.jsx(Ht,{placeholder:"Choose a subject"})}),e.jsx(Kt,{children:Q.map(Z=>e.jsx(ke,{value:Z.subject_id.toString(),children:Z.subject_name},Z.id))})]})]})]})})}),x&&N&&T.length>0?e.jsxs(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-lg",children:[e.jsxs(Qt,{className:"border-b border-[#E5E7EB] bg-white p-6",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mx-auto mb-3 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-2xl font-bold",children:"GRA"})}),e.jsx("h1",{className:"text-[#1F2937] mb-1",children:"Graceland Royal Academy"}),e.jsxs("p",{className:"text-[#6B7280] text-sm",children:["Student's Assessment Score - ",u.toUpperCase()," - ",m]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 bg-[#F9FAFB] p-4 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Class Name"}),e.jsx("p",{className:"text-sm text-[#1F2937]",children:V?.name||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Subject"}),e.jsx("p",{className:"text-sm text-[#1F2937]",children:ie?.subject_name||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Average Score"}),e.jsx("p",{className:"text-sm text-[#1F2937]",children:W.average})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Max:"}),e.jsx("p",{className:"text-sm text-[#1F2937]",children:W.max})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Min:"}),e.jsx("p",{className:"text-sm text-[#1F2937]",children:W.min})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Highest Scorer"}),e.jsx("p",{className:"text-sm text-[#1F2937] font-semibold text-green-600",children:W.highestScorer?`${W.highestScorer.firstName} ${W.highestScorer.lastName}`:"-"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Teacher"}),e.jsx("p",{className:"text-sm text-[#1F2937]",children:I?`${I.firstName||""} ${I.lastName||""}`.toUpperCase():"TEACHER"})]})]})]}),e.jsxs(Le,{className:"p-0",children:[k==="rejected"&&$.length>0&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 m-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Es,{className:"h-5 w-5 text-red-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Rejected Scores Found"}),e.jsxs("div",{className:"mt-2 text-sm text-red-700",children:[e.jsxs("p",{children:["You have ",$.length,' rejected score(s) that need correction. Make the necessary changes and click "Resubmit Corrected Scores".']}),$.map(Z=>e.jsxs("div",{className:"mt-2 p-2 bg-white rounded border border-red-200",children:[e.jsxs("p",{className:"font-medium",children:[r.find(oe=>oe.id===Z.student_id)?.firstName," ",r.find(oe=>oe.id===Z.student_id)?.lastName]}),Z.rejection_reason&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Reason: ",Z.rejection_reason]})]},Z.id))]})]})]})}),k==="rejected"&&$.length===0&&x&&N&&e.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 m-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Br,{className:"h-5 w-5 text-green-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"No Rejected Scores"}),e.jsx("div",{className:"mt-2 text-sm text-green-700",children:e.jsx("p",{children:"Great! All your scores for this class and subject have been approved."})})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#F9FAFB] border-b border-[#E5E7EB]",children:[e.jsx("th",{className:"text-left p-3 text-sm text-[#1F2937]",children:"S/No."}),e.jsx("th",{className:"text-left p-3 text-sm text-[#1F2937]",children:"Reg ID"}),e.jsx("th",{className:"text-left p-3 text-sm text-[#1F2937]",children:"Student Name"}),e.jsx("th",{className:"text-center p-3 text-sm text-[#1F2937]",children:"1st CA[20]"}),e.jsx("th",{className:"text-center p-3 text-sm text-[#1F2937]",children:"2nd CA[20]"}),e.jsx("th",{className:"text-center p-3 text-sm text-[#1F2937]",children:"Exams[60]"}),e.jsx("th",{className:"text-center p-3 text-sm text-[#1F2937]",children:"Total [100]"}),e.jsx("th",{className:"text-center p-3 text-sm text-[#1F2937]",children:"Grade"})]})}),e.jsx("tbody",{children:T.map((Z,oe)=>{const z=j[Z.id]||{ca1:"",ca2:"",exam:""},{total:fe}=de(z.ca1,z.ca2,z.exam),Fe=z.ca1||z.ca2||z.exam;return e.jsxs("tr",{className:"border-b border-[#E5E7EB] hover:bg-[#F9FAFB]",children:[e.jsx("td",{className:"p-3 text-sm text-[#6B7280]",children:oe+1}),e.jsx("td",{className:"p-3 text-sm text-[#1F2937]",children:Z.admissionNumber}),e.jsxs("td",{className:"p-3 text-sm text-[#2563EB]",children:[Z.firstName," ",Z.lastName," ",Z.otherName||""]}),e.jsx("td",{className:"p-2 text-center",children:e.jsx(kt,{type:"number",min:"0",max:"20",value:z.ca1,onChange:Ve=>M(Z.id,"ca1",Ve.target.value),className:"w-20 mx-auto text-center rounded-lg border-[#E5E7EB] text-sm",disabled:ne,placeholder:"0"})}),e.jsx("td",{className:"p-2 text-center",children:e.jsx(kt,{type:"number",min:"0",max:"20",value:z.ca2,onChange:Ve=>M(Z.id,"ca2",Ve.target.value),className:"w-20 mx-auto text-center rounded-lg border-[#E5E7EB] text-sm",disabled:ne,placeholder:"0"})}),e.jsx("td",{className:"p-2 text-center",children:e.jsx(kt,{type:"number",min:"0",max:"60",value:z.exam,onChange:Ve=>M(Z.id,"exam",Ve.target.value),className:"w-20 mx-auto text-center rounded-lg border-[#E5E7EB] text-sm",disabled:ne,placeholder:"0"})}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`text-sm ${Fe?"text-[#1F2937]":"text-[#9CA3AF]"}`,children:Fe?fe:"0"})}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`text-sm font-bold ${parseFloat(fe)>=70?"text-green-600":parseFloat(fe)>=60?"text-blue-600":parseFloat(fe)>=50?"text-yellow-600":parseFloat(fe)>=40?"text-orange-600":"text-red-600"}`,children:ue(fe)})})]},Z.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-[#E5E7EB] bg-[#F9FAFB]",children:[e.jsx(Ee,{variant:"outline",className:"rounded-lg border-[#E5E7EB] text-[#6B7280]",onClick:()=>{g(""),b(""),y({}),q("enter")},children:"Cancel"}),k==="rejected"?e.jsxs(Ee,{onClick:me,className:"bg-orange-600 hover:bg-orange-700 text-white rounded-lg",disabled:ne,children:[e.jsx(Fh,{className:"w-4 h-4 mr-2"}),"Resubmit Corrected Scores"]}):e.jsxs(Ee,{onClick:X,className:"bg-[#2563EB] hover:bg-[#1D4ED8] text-white rounded-lg",disabled:ne,children:[E?e.jsx(Hc,{className:"w-4 h-4 mr-2"}):e.jsx(Bu,{className:"w-4 h-4 mr-2"}),E?"Update Scores":"Submit"]})]})]})]}):e.jsx(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB]",children:e.jsxs(Le,{className:"p-12 text-center",children:[e.jsx("p",{className:"text-[#6B7280] mb-2",children:"Please select a class and subject to begin"}),e.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Your assigned classes and subjects will appear in the dropdowns above"})]})}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("p",{className:"text-sm text-[#6B7280]",children:"Graceland Royal Academy"}),e.jsx("p",{className:"text-xs text-[#9CA3AF] mt-1",children:"Techvibes International Limited  - 2025"})]})]})}const Ao={excellent:["Outstanding performance! Shows exceptional understanding and mastery of all subjects.","Brilliant academic achievement. Maintains excellent standards across all areas.","Exceptional student who demonstrates outstanding intellectual capacity and diligence.","Remarkable performance! A true academic star with exemplary conduct.","Outstanding achievement! Consistently exceeds expectations in all subjects.","Exceptional work! Demonstrates superior analytical thinking and problem-solving skills.","Brilliant results! Shows remarkable dedication to academic excellence.","Outstanding scholar! Maintains highest standards in all academic pursuits.","Exceptional performance! A model student with outstanding intellectual abilities.","Brilliant achievement! Demonstrates exceptional mastery of course material."],veryGood:["Very good performance. Shows strong understanding and consistent effort.","Commendable academic achievement with room for further improvement.","Impressive performance! Demonstrates strong analytical skills and dedication.","Very good result! Shows promise and potential for continued excellence.","Strong academic performance with consistent effort and good understanding.","Excellent work! Displays solid grasp of concepts and good analytical abilities.","Commendable results! Shows strong academic capabilities and dedication.","Very good achievement! Demonstrates consistent effort and understanding.","Strong performance! Shows good command of subject matter and analytical skills.","Impressive work! Displays academic potential and consistent dedication."],good:["Good performance. Shows satisfactory understanding and steady progress.","Satisfactory academic achievement with areas for improvement.","Good effort shown. Consistent progress noted throughout the term.","Decent performance! With more effort, could achieve much higher results.","Fair performance showing understanding of core concepts.","Good work! Demonstrates adequate understanding and room for growth.","Satisfactory results! Shows steady progress and basic comprehension.","Decent achievement! Could benefit from additional study and practice.","Fair performance! Shows understanding of fundamental concepts.","Good effort! Demonstrates potential for improvement with dedicated work."],average:["Average performance. Needs to put in more effort to improve.","Satisfactory but needs improvement in several areas.","Fair performance. Could benefit from additional study and practice.","Average result. More dedication needed for better performance.","Moderate performance showing need for increased effort.","Fair work! Requires more dedication and consistent study habits.","Average results! Needs to focus more on academic responsibilities.","Satisfactory performance! Could improve with better study methods.","Moderate achievement! Requires increased effort and attention.","Fair work! Needs to develop better study habits and consistency."],belowAverage:["Below average performance. Requires significant improvement and attention.","Needs considerable improvement in academic performance and attitude.","Poor performance. Must show more commitment to studies.","Below expected standards. Immediate improvement required.","Unsatisfactory performance requiring urgent attention and support.","Weak performance! Needs serious attention to academic responsibilities.","Below average results! Requires immediate intervention and support.","Poor work! Must demonstrate greater commitment to learning.","Unsatisfactory achievement! Needs comprehensive academic support.","Weak performance! Requires urgent attention to study habits."],poor:["Poor performance. Requires immediate intervention and support.","Very poor academic result. Needs serious attention to studies.","Unsatisfactory performance in all aspects. Major improvement needed.","Extremely poor result. Requires comprehensive academic support.","Failing performance. Must seek help and show dramatic improvement.","Very weak performance! Needs immediate academic intervention.","Extremely poor results! Requires comprehensive support and guidance.","Failing work! Must demonstrate complete commitment to improvement.","Very poor achievement! Needs urgent and sustained academic support.","Extremely weak performance! Requires immediate intervention and dedication."]},fc={top:["Outstanding class position! Shows exceptional academic ability.","Excellent class ranking! Among the best performers in class.","Brilliant class position! Demonstrates superior academic excellence.","Exceptional ranking! A true academic leader in the class.","Outstanding achievement! Maintains highest academic standards.","Excellent class standing! Shows remarkable intellectual capabilities.","Top position! Demonstrates exceptional mastery of all subjects.","Brilliant ranking! An exemplary student with outstanding abilities."],upper:["Good class position. Shows strong academic performance.","Commendable class ranking. Above average performance.","Strong class position! Demonstrates solid academic abilities.","Good ranking! Shows consistent effort and understanding.","Commendable standing! Above average academic achievement.","Strong performance! Well-positioned among high achievers.","Good class ranking! Displays solid academic capabilities.","Commendable position! Shows promise for continued excellence."],middle:["Average class position. Room for improvement in ranking.","Fair class position. Could work towards higher ranking.","Moderate class standing. Needs more effort to improve position.","Average ranking! Potential for better academic performance.","Fair position! Could benefit from increased dedication.","Middle ranking! Room for improvement with consistent effort.","Average standing! Needs focus to achieve higher position.","Moderate position! Can improve with better study habits."],lower:["Below average class position. Needs significant improvement.","Poor class ranking. Must work harder to improve position.","Low class position. Requires immediate attention to studies.","Weak ranking! Needs substantial improvement in performance.","Poor standing! Must demonstrate greater academic commitment.","Low position! Requires urgent intervention and support.","Weak ranking! Needs comprehensive academic improvement.","Poor position! Must show dramatic improvement in studies."]},ZD={excellent:["Continue maintaining excellent standards. Consider advanced studies.","Outstanding work! Explore leadership roles and academic competitions.","Exceptional performance! Consider mentoring other students.","Brilliant achievement! Pursue advanced academic challenges.","Excellent results! Consider participating in academic enrichment programs."],veryGood:["Strong performance! With extra effort, could reach excellence.","Very good work! Focus on weak areas to achieve outstanding results.","Commendable achievement! Additional practice could lead to excellence.","Strong results! Target specific areas for improvement.","Very good performance! Consistent effort will lead to top ranking."],good:["Good effort! Increase study time for better results.","Satisfactory work! Focus on understanding concepts deeply.","Good performance! Develop better study habits and consistency.","Decent achievement! Seek help in challenging subjects.","Fair work! More dedication will lead to significant improvement."],average:["Needs improvement! Develop consistent study routine.","Fair performance! Seek additional help from teachers.","Average work! Focus on fundamentals and practice regularly.","Satisfactory results! Increase study time and concentration.","Moderate achievement! Join study groups and seek tutoring."],belowAverage:["Requires immediate attention! Seek help from teachers and tutors.","Poor performance! Develop basic study skills and habits.","Below average work! Attend extra classes and seek counseling.","Weak achievement! Requires comprehensive academic support.","Unsatisfactory results! Must change study approach completely."],poor:["Critical situation! Requires intensive academic intervention.","Very poor work! Must seek comprehensive support immediately.","Failing performance! Requires one-on-one tutoring and counseling.","Extremely weak results! Must consider academic probation.","Critical achievement! Requires complete academic rehabilitation."]};function ep(s,t,r){let n=[],a="",i="";s>=80?(a=Ao.excellent[Math.floor(Math.random()*Ao.excellent.length)],i="excellent"):s>=70?(a=Ao.veryGood[Math.floor(Math.random()*Ao.veryGood.length)],i="veryGood"):s>=60?(a=Ao.good[Math.floor(Math.random()*Ao.good.length)],i="good"):s>=50?(a=Ao.average[Math.floor(Math.random()*Ao.average.length)],i="average"):s>=40?(a=Ao.belowAverage[Math.floor(Math.random()*Ao.belowAverage.length)],i="belowAverage"):(a=Ao.poor[Math.floor(Math.random()*Ao.poor.length)],i="poor"),n.push(a);const A=t/r*100;let c="";A<=10?c=fc.top[Math.floor(Math.random()*fc.top.length)]:A<=30?c=fc.upper[Math.floor(Math.random()*fc.upper.length)]:A<=70?c=fc.middle[Math.floor(Math.random()*fc.middle.length)]:c=fc.lower[Math.floor(Math.random()*fc.lower.length)],c&&n.push(c);const d=ZD[i];if(d&&d.length>0){const u=d[Math.floor(Math.random()*d.length)];n.push(u)}return n.join(" ")}function Py(s,t,r){const n=[];for(let i=0;i<5;i++)n.push(ep(s,t,r));const a=[...new Set(n)];for(;a.length<3;)a.push(ep(s,t,r));return a.slice(0,5)}function eO(s){return s>=80?"Exceptional performance! Keep up the excellent work. You are a role model for others.":s>=70?"Very good performance! Continue to work hard and aim for excellence.":s>=60?"Good performance! There is room for improvement. Stay focused and dedicated.":s>=50?"Fair performance. More effort and dedication needed for better results.":"Poor performance. Requires immediate attention and significant improvement."}function tO(){const{currentUser:s,teachers:t,students:r,classes:n,scores:a,affectiveDomains:i,psychomotorDomains:A,compiledResults:c,addCompiledResult:d,updateCompiledResult:u,currentTerm:m,currentAcademicYear:f,subjectAssignments:x,subjectRegistrations:g,loadScoresFromAPI:N,loadAffectiveDomainsFromAPI:b,loadPsychomotorDomainsFromAPI:j,refreshClassData:y,canViewResults:E,canManageScores:U,updateAffectiveDomain:k,updatePsychomotorDomain:q,createAffectiveDomain:G,createPsychomotorDomain:H}=Fs(),[I,D]=S.useState(""),[P,Q]=S.useState(null),[T,$]=S.useState(""),[V,ie]=S.useState(!1),[W,ne]=S.useState(!1),[M,de]=S.useState([]),[ue,se]=S.useState(new Date),[O,X]=S.useState(!1),[re,me]=S.useState({attentiveness:3,honesty:3,punctuality:3,neatness:3,attentiveness_remark:"",honesty_remark:"",punctuality_remark:"",neatness_remark:""}),[xe,Z]=S.useState({sports:3,handwork:3,drawing:3,music:3,sports_remark:"",handwork_remark:"",drawing_remark:"",music_remark:""}),oe=async()=>{if(!ye){ge.error("No student selected");return}try{const Re={student_id:ye.id,class_id:Number(I),term:m,academic_year:f,...re,entered_by:s?.id},Oe=Pe?.affective?.id;Oe?await k(Oe,Re):await G(Re),ge.success("Affective domain assessment saved")}catch{ge.error("Failed to save affective domain assessment")}},z=async()=>{if(!ye){ge.error("No student selected");return}try{const Re={student_id:ye.id,class_id:Number(I),term:m,academic_year:f,...xe,entered_by:s?.id},Oe=Pe?.psychomotor?.id;Oe?await q(Oe,Re):await H(Re),ge.success("Psychomotor domain assessment saved")}catch{ge.error("Failed to save psychomotor domain assessment")}},fe=S.useCallback(async()=>{try{await N(),I&&await y(Number(I)),se(new Date),ge.success("Data refreshed successfully")}catch(Re){console.error("Error refreshing data:",Re),ge.error("Failed to refresh data")}},[I,y,N]),Fe=async()=>{try{await N(),X(!0),ge.success("Results generated successfully! Positions and averages calculated.")}catch(Re){console.error("Error generating results:",Re),ge.error("Failed to generate results. Please try again.")}},Ve=()=>{fe()};S.useEffect(()=>{I&&fe()},[I]),S.useEffect(()=>{if(!I)return;const Re=setInterval(async()=>{try{await N(),console.log("Scores refreshed automatically")}catch(Oe){console.error("Auto refresh scores failed:",Oe)}},3e4);return()=>clearInterval(Re)},[I,N]),S.useEffect(()=>{(async()=>{if(s?.role==="teacher"){const Oe=await E(),ft=await U();if(!Oe){ge.error("You do not have permission to view results");return}if(!ft){ge.error("You do not have permission to manage scores");return}}})()},[s,E,U]);const qe=s?t.find(Re=>Re.id===s.linked_id):null,st=S.useMemo(()=>qe?n.some(Re=>Re.classTeacherId===qe.id&&Re.status==="Active"):!1,[qe,n]),le=S.useMemo(()=>qe?n.filter(Re=>Re.classTeacherId===qe.id&&Re.status==="Active"):[],[qe,n]),Te=S.useMemo(()=>I?r.filter(Re=>Re.class_id===Number(I)&&Re.status==="Active").sort((Re,Oe)=>Re.lastName.localeCompare(Oe.lastName)):[],[I,r]),ze=S.useMemo(()=>I?x.filter(Oe=>Oe.class_id===Number(I)&&Oe.term===m&&Oe.academic_year===f&&Oe.status==="Active"):[],[I,x,m,f]),ye=S.useMemo(()=>P?Te.find(Re=>Re.id===P):null,[P,Te]);S.useEffect(()=>{if(ye&&I){const Re=i.find(ft=>ft.student_id===ye.id&&ft.class_id===Number(I)&&ft.term===m&&ft.academic_year===f);me(Re?{attentiveness:Re.attentiveness||3,honesty:Re.honesty||3,punctuality:Re.punctuality||3,neatness:Re.neatness||3,attentiveness_remark:Re.attentiveness_remark||"",honesty_remark:Re.honesty_remark||"",punctuality_remark:Re.punctuality_remark||"",neatness_remark:Re.neatness_remark||""}:{attentiveness:3,honesty:3,punctuality:3,neatness:3,attentiveness_remark:"",honesty_remark:"",punctuality_remark:"",neatness_remark:""});const Oe=A.find(ft=>ft.student_id===ye.id&&ft.class_id===Number(I)&&ft.term===m&&ft.academic_year===f);Z(Oe?{sports:Oe.sports||3,handwork:Oe.handwork||3,drawing:Oe.drawing||3,music:Oe.music||3,sports_remark:Oe.sports_remark||"",handwork_remark:Oe.handwork_remark||"",drawing_remark:Oe.drawing_remark||"",music_remark:Oe.music_remark||""}:{sports:3,handwork:3,drawing:3,music:3,sports_remark:"",handwork_remark:"",drawing_remark:"",music_remark:""})}},[ye?.id,I,i,A,m,f]);const pe=S.useMemo(()=>{if(!Te.length)return[];const Oe=Te.map(dt=>{const Ke=a.filter(bt=>bt.student_id===dt.id),it=Ke.filter(bt=>bt.status==="Submitted"&&ze.some(Wt=>Wt&&Number(Wt.id)===Number(bt.subject_assignment_id)));dt.id===Te[0]?.id&&(console.log(`=== DEBUG for ${dt.firstName} ${dt.lastName} ===`),console.log("Class Subjects:",ze.map(bt=>({id:bt.id,subject_name:bt.subject_name}))),console.log("Student Scores:",Ke.map(bt=>({id:bt.id,subject_assignment_id:bt.subject_assignment_id,total:bt.total,status:bt.status}))),console.log("Relevant Scores (matching class):",it.map(bt=>({id:bt.id,subject_assignment_id:bt.subject_assignment_id,total:bt.total}))));const Xt=i.find(bt=>bt.student_id===dt.id&&bt.class_id===Number(I)&&bt.term===m),Lt=A.find(bt=>bt.student_id===dt.id&&bt.class_id===Number(I)&&bt.term===m),Et=c.find(bt=>bt.student_id===dt.id&&bt.class_id===Number(I)&&bt.term===m),Vt=it.length,Tt=ze.length>0?ze.length:it.length,Ft=Xt!==void 0,ds=Lt!==void 0,Pt=Et?.status==="Submitted"||Et?.status==="Approved",Bt=it.reduce((bt,Wt)=>{const Ct=Number(Wt.total)||0;return bt+Ct},0);dt.id===Te[0]?.id&&console.log(`SCORE DEBUG for ${dt.firstName}:`,{relevantScoresCount:it.length,relevantScores:it.map(bt=>({id:bt.id,total:bt.total,type:typeof bt.total})),calculatedTotal:Bt});const xs=it.length>0?Math.round(Bt/it.length*100)/100:0;return{studentId:dt.id,studentName:`${dt.firstName} ${dt.lastName}`,completedSubjects:Vt,totalSubjects:Tt,hasAffective:Ft,hasPsychomotor:ds,isSubmitted:Pt,averageScore:xs,totalScore:Bt,isComplete:Vt===Tt&&Ft&&ds,studentScores:it}}).sort((dt,Ke)=>Number(Ke.totalScore)-Number(dt.totalScore));let ft=1;return Oe.map((dt,Ke)=>(Ke>0&&Number(dt.totalScore)<Number(Oe[Ke-1].totalScore)&&(ft=Ke+1),{...dt,position:ft,totalStudents:Oe.length}))},[Te,a,ze,i,A,c,I,m,O]),Pe=S.useMemo(()=>{if(!ye)return null;const Oe=a.filter(Tt=>Tt.student_id===ye.id).filter(Tt=>Tt.status==="Submitted"&&ze.some(Ft=>Ft&&Number(Ft.id)===Number(Tt.subject_assignment_id))),ft=i.find(Tt=>Tt.student_id===ye.id&&Tt.class_id===Number(I)&&Tt.academic_year===f),_t=A.find(Tt=>Tt.student_id===ye.id&&Tt.class_id===Number(I)&&Tt.academic_year===f),xt=c.find(Tt=>Tt.student_id===ye.id&&Tt.class_id===Number(I)&&Tt.term===m&&Tt.academic_year===f),dt=Oe.reduce((Tt,Ft)=>Tt+(Number(Ft.total)||0),0),Ke=dt>0?parseFloat(dt.toPrecision(3)):0,it=Oe.length>0?Math.round(Ke/Oe.length*100)/100:0,Xt=pe.find(Tt=>Tt.studentId===ye.id),Lt=Xt?.position||0,Et=Xt?.totalStudents||0,Vt=Oe.length===(ze||[]).length&&Oe.every(Tt=>Tt.status==="Submitted")&&ft!==void 0&&_t!==void 0;return{student:ye,scores:Oe,affective:ft,psychomotor:_t,totalScore:Ke,averageScore:it,position:Lt,totalStudents:Et,subjectsCompleted:Oe.filter(Tt=>Tt.status==="Submitted").length,totalSubjects:(ze||[]).length,isComplete:Vt,existingResult:xt}},[ye,a,ze,i,A,c,I,m,f,pe]),et=S.useMemo(()=>{const Re=pe.filter(ft=>ft.averageScore>0),Oe=Re.map(ft=>ft.averageScore);return Oe.length===0?{classAverage:0,highestScore:0,lowestScore:0,totalStudents:0}:{classAverage:Math.round(Oe.reduce((ft,_t)=>ft+_t,0)/Oe.length*100)/100,highestScore:Math.max(...Oe),lowestScore:Math.min(...Oe),totalStudents:Re.length}},[pe]),rt=()=>{if(!ye||!Pe||!qe){ge.error("Missing required data");return}const Re=n.find(Ke=>Ke.id===Number(I));if(!Re||Re.classTeacherId!==qe.id){ge.error("You can only compile results for your assigned class");return}if(!Pe.isComplete){ge.error("Cannot submit incomplete result. Ensure all scores and assessments are entered.");return}const Oe=pe.find(Ke=>Ke.studentId===ye.id),ft=Oe?.position||0,_t=Oe?.totalStudents||0;let xt=T;if(V&&!xt.trim()&&(xt=ep(Pe.averageScore,ft,_t)),!xt.trim()){ge.error("Please enter a class teacher comment or enable auto-comment");return}const dt={student_id:ye.id,class_id:Number(I),term:m,academic_year:f,scores:Pe.scores,affective:Pe.affective||null,psychomotor:Pe.psychomotor||null,total_score:Pe.totalScore,average_score:Pe.averageScore,class_average:et.classAverage,position:ft,total_students:_t,times_present:0,times_absent:0,total_attendance_days:0,term_begin:"",term_end:"",next_term_begin:"",class_teacher_name:`${qe.firstName} ${qe.lastName}`,class_teacher_comment:xt,principal_name:"",principal_comment:eO(Pe.averageScore),principal_signature:"",compiled_by:1,compiled_date:new Date().toISOString(),status:"Submitted",approved_by:null,approved_date:null,rejection_reason:null};Pe.existingResult?(u(Pe.existingResult.id,dt),ge.success(`Result updated for ${ye.firstName} ${ye.lastName}`)):(d(dt),ge.success(`Result submitted for ${ye.firstName} ${ye.lastName}`)),$(""),Q(null),ie(!1)},ht=()=>{if(!I||!qe){ge.error("Please select a class");return}const Re=n.find(_t=>_t.id===Number(I));if(!Re||Re.classTeacherId!==qe.id){ge.error("Only the class teacher can compile results for this class");return}const Oe=pe.filter(_t=>_t.isComplete&&!_t.isSubmitted);if(Oe.length===0){ge.error("No complete results to submit");return}let ft=0;Oe.forEach(_t=>{const xt=Te.find(Bt=>Bt.id===_t.studentId);if(!xt)return;const dt=a.filter(Bt=>Bt.student_id===xt.id&&ze.some(xs=>xs&&xs.id===Bt.subject_assignment_id)),Ke=i.find(Bt=>Bt.student_id===xt.id&&Bt.class_id===Number(I)&&Bt.term===m),it=A.find(Bt=>Bt.student_id===xt.id&&Bt.class_id===Number(I)&&Bt.term===m),Xt=dt.reduce((Bt,xs)=>Bt+(Number(xs.total)||0),0),Lt=Math.round(Xt/(dt||[]).length*100)/100,Et=pe.filter(Bt=>Bt.averageScore>0).map(Bt=>Bt.averageScore),Vt=Math.round((Et||[]).reduce((Bt,xs)=>Bt+xs,0)/(Et||[]).length*100)/100,Ft=[...Et].sort((Bt,xs)=>xs-Bt).indexOf(Lt)+1;let ds="";Lt>=70?ds="Excellent performance! Keep up the outstanding work.":Lt>=60?ds="Very good performance. Continue to work hard.":Lt>=50?ds="Good effort. There is room for improvement.":Lt>=40?ds="Fair performance. More effort is needed.":ds="Needs serious improvement. Please put in more effort.";const Pt={student_id:xt.id,class_id:Number(I),term:m,academic_year:f,scores:dt,affective:Ke||null,psychomotor:it||null,total_score:Xt,average_score:Lt,class_average:Vt,position:Ft,total_students:Te.length,times_present:0,times_absent:0,total_attendance_days:0,term_begin:"",term_end:"",next_term_begin:"",class_teacher_name:`${qe.firstName} ${qe.lastName}`,class_teacher_comment:ds,principal_name:"Dr. Ibrahim Musa",principal_comment:"",principal_signature:"",compiled_by:1,compiled_date:new Date().toISOString(),status:"Submitted",approved_by:null,approved_date:null,rejection_reason:null};d(Pt),ft++}),ge.success(`Successfully submitted ${ft} results for approval`),ge.success(`${ft} results submitted to admin for approval!`)};return st?e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-[#0A2540] mb-2",children:"Compile Results"}),e.jsx("p",{className:"text-gray-600",children:P?"Review and compile student result":"Select a class to view students and compile their results"}),ue&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last refreshed: ",ue.toLocaleTimeString()]})]}),e.jsxs(Ee,{onClick:Ve,variant:"outline",className:"flex items-center gap-2 border-[#0A2540]/20",children:[e.jsx(Fh,{className:"h-4 w-4"}),"Refresh"]}),e.jsxs(Ee,{onClick:Fe,className:"bg-[#F59E0B] hover:bg-[#D97706] text-white rounded-xl flex items-center gap-2",children:[e.jsx(CA,{className:"h-4 w-4"}),"Generate Results"]})]}),!P&&e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-[#3B82F6] to-[#2563EB] text-white rounded-t-xl",children:e.jsx(ur,{children:"Select Class"})}),e.jsxs(Le,{className:"p-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#0A2540] mb-2 block",children:"Class"}),e.jsxs(Ot,{value:I,onValueChange:D,children:[e.jsx(Mt,{className:"h-12 rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{placeholder:"Select class"})}),e.jsx(Kt,{children:le.map(Re=>e.jsx(ke,{value:Re.id.toString(),children:Re.name},Re.id))})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#0A2540] mb-2 block",children:"Term & Year"}),e.jsx("div",{className:"h-12 flex items-center px-4 rounded-xl border border-[#0A2540]/20 bg-gray-50",children:e.jsxs("p",{className:"text-[#0A2540]",children:[m," ",f]})})]})]}),I&&ze.length>0&&e.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-xl border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsxs("strong",{children:[ze.length," subjects"]})," assigned to this class for ",m," ",f]})})]})]}),!P&&I&&e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-[#3B82F6] to-[#2563EB] text-white rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Students List"}),e.jsxs("p",{className:"text-blue-100",children:[Te.length," students in class"]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(Ee,{onClick:ht,disabled:(pe||[]).filter(Re=>Re.isComplete&&!Re.isSubmitted).length===0,className:"bg-white text-[#10B981] hover:bg-gray-100 rounded-xl",children:[e.jsx(Bu,{className:"w-4 h-4 mr-2"}),"Submit All"]})})]})}),e.jsx(Le,{className:"p-4",children:Te.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Es,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No students in this class"})]}):e.jsx("div",{className:"space-y-2",children:Te.map(Re=>{const Oe=pe.find(ft=>ft.studentId===Re.id);return e.jsx("div",{className:"p-3 border border-[#0A2540]/10 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-all cursor-pointer",onClick:()=>Q(Re.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(yA,{className:"w-10 h-10 border-2 border-[#3B82F6]",children:[Re.photo_url?e.jsx("img",{src:Re.photo_url,alt:`${Re.firstName} ${Re.lastName}`,className:"w-full h-full object-cover rounded-full",onError:ft=>{ft.currentTarget.style.display="none",ft.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,e.jsxs(NA,{className:"bg-[#3B82F6] text-white text-sm",children:[Re.firstName[0],Re.lastName[0]]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-[#0A2540] font-medium text-sm",children:[Re.firstName," ",Re.lastName]}),e.jsx("p",{className:"text-xs text-gray-600",children:Re.admissionNumber})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Scores"}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs(yt,{variant:Oe?.completedSubjects===Oe?.totalSubjects?"default":"outline",className:`rounded-lg text-xs ${Oe?.completedSubjects===Oe?.totalSubjects?"bg-green-100 text-green-800 border-green-300":"bg-yellow-100 text-yellow-800 border-yellow-300"}`,children:[Oe?.completedSubjects||0,"/",Oe?.totalSubjects||0]})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Affective"}),Oe?.hasAffective?e.jsx(Br,{className:"w-4 h-4 text-green-600"}):e.jsx(Es,{className:"w-4 h-4 text-yellow-600"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Psy."}),Oe?.hasPsychomotor?e.jsx(Br,{className:"w-4 h-4 text-green-600"}):e.jsx(Es,{className:"w-4 h-4 text-yellow-600"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Status"}),Oe?.isSubmitted?e.jsxs(yt,{className:"bg-green-100 text-green-800 border-green-300 text-xs",children:[e.jsx(Br,{className:"w-3 h-3 mr-1"}),"Submitted"]}):Oe?.isComplete?e.jsx(yt,{className:"bg-blue-100 text-blue-800 border-blue-300 text-xs",children:"Ready"}):e.jsx(yt,{className:"bg-gray-100 text-gray-800 border-gray-300 text-xs",children:"Pending"})]})]})]})},Re.id)})})})]}),P&&ye&&Pe&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Ee,{onClick:()=>{Q(null),$("")},variant:"outline",className:"rounded-xl border-[#0A2540]/20",children:[e.jsx(Nu,{className:"w-4 h-4 mr-2"}),"Back to Student List"]}),e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-[#3B82F6] to-[#2563EB] text-white rounded-t-xl py-4",children:e.jsxs(ur,{className:"flex items-center gap-3 text-lg",children:[e.jsxs(yA,{className:"w-10 h-10 border-2 border-white",children:[ye.photo_url?e.jsx("img",{src:ye.photo_url,alt:`${ye.firstName} ${ye.lastName}`,className:"w-full h-full object-cover rounded-full",onError:Re=>{Re.currentTarget.style.display="none",Re.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,e.jsxs(NA,{className:"bg-white text-[#3B82F6] text-sm",children:[ye.firstName[0],ye.lastName[0]]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg",children:[ye.firstName," ",ye.lastName]}),e.jsx("p",{className:"text-sm font-normal opacity-90",children:ye.admissionNumber})]})]})}),e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Class"}),e.jsx("p",{className:"text-[#0A2540] font-medium",children:ye.className})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Gender"}),e.jsx("p",{className:"text-[#0A2540] font-medium",children:ye.gender})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Term"}),e.jsx("p",{className:"text-[#0A2540] font-medium",children:m})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Academic Year"}),e.jsx("p",{className:"text-[#0A2540] font-medium",children:f})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mt-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("p",{className:"text-xs text-blue-900 mb-1",children:"Subjects Completed"}),e.jsxs("p",{className:"text-lg text-blue-900 font-bold",children:[Pe.subjectsCompleted,"/",Pe.totalSubjects]})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-xl border border-purple-200",children:[e.jsx("p",{className:"text-xs text-purple-900 mb-1",children:"Total Score"}),e.jsx("p",{className:"text-lg text-purple-900 font-bold",children:Pe.totalScore})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx("p",{className:"text-xs text-green-900 mb-1",children:"Average"}),e.jsxs("p",{className:"text-lg text-green-900 font-bold",children:[Pe.averageScore,"%"]})]}),e.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border border-orange-200",children:[e.jsx("p",{className:"text-xs text-orange-900 mb-1",children:"Position"}),e.jsx("p",{className:"text-lg text-orange-900 font-bold",children:Pe.position>0?`${Pe.position}/${Pe.totalStudents}`:"N/A"})]})]})]})]}),e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-[#10B981] to-[#059669] text-white rounded-t-xl",children:e.jsxs(ur,{className:"flex items-center gap-2",children:[e.jsx(Jr,{className:"w-5 h-5"}),"Subject Scores"]})}),e.jsx(Le,{className:"p-6",children:ze.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Es,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No subjects assigned to this class"})]}):e.jsx("div",{className:"space-y-3",children:ze.map(Re=>{if(!Re)return null;const Oe=Pe.scores.find(ft=>ft.subject_assignment_id===Re.id);return e.jsx("div",{className:`p-4 rounded-xl border ${Oe?.status==="Submitted"?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[#0A2540] font-medium",children:Re.subject_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Teacher: ",Re.teacher_name]})]}),Oe?e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"CA1"}),e.jsx("p",{className:"text-[#0A2540] font-bold",children:Oe.ca1})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"CA2"}),e.jsx("p",{className:"text-[#0A2540] font-bold",children:Oe.ca2})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Exam"}),e.jsx("p",{className:"text-[#0A2540] font-bold",children:Oe.exam})]}),e.jsxs("div",{className:"text-center px-4 py-2 bg-white rounded-lg border border-[#0A2540]/20",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Total"}),e.jsx("p",{className:"text-[#0A2540] font-bold",children:Oe.total})]}),e.jsx("div",{className:"text-center",children:e.jsxs(yt,{className:`rounded-xl ${Oe.grade==="A"?"bg-green-100 text-green-800 border-green-300":Oe.grade==="B"?"bg-blue-100 text-blue-800 border-blue-300":Oe.grade==="C"?"bg-yellow-100 text-yellow-800 border-yellow-300":Oe.grade==="D"?"bg-orange-100 text-orange-800 border-orange-300":"bg-red-100 text-red-800 border-red-300"}`,children:["Grade ",Oe.grade]})}),e.jsxs(yt,{className:"bg-green-100 text-green-800 border-green-300 rounded-xl",children:[e.jsx(Br,{className:"w-3 h-3 mr-1"}),"Submitted"]})]}):e.jsxs(yt,{className:"bg-yellow-100 text-yellow-800 border-yellow-300 rounded-xl",children:[e.jsx(Es,{className:"w-3 h-3 mr-1"}),"Not Submitted"]})]})},Re.id)})})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] text-white rounded-t-xl",children:e.jsx(ur,{children:"Affective Domain Assessment"})}),e.jsxs(Le,{className:"p-6 space-y-4",children:[[{key:"attentiveness",label:"Attentiveness"},{key:"honesty",label:"Honesty"},{key:"punctuality",label:"Punctuality"},{key:"neatness",label:"Neatness"}].map(Re=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-sm font-medium text-gray-700",children:Re.label}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(Oe=>e.jsx("button",{type:"button",onClick:()=>me(ft=>({...ft,[Re.key]:Oe})),className:`w-8 h-8 rounded-full border-2 font-semibold text-xs transition-all ${re[Re.key]===Oe?"bg-purple-600 border-purple-600 text-white":"bg-white border-gray-300 text-gray-600 hover:border-purple-400"}`,disabled:Pe.existingResult?.status==="Submitted"||Pe.existingResult?.status==="Approved",children:Oe},Oe))}),e.jsx("span",{className:"text-sm text-gray-500",children:"(1=Poor, 5=Excellent)"})]}),e.jsx(wi,{value:re[`${Re.key}_remark`],onChange:Oe=>me(ft=>({...ft,[`${Re.key}_remark`]:Oe.target.value})),placeholder:`Add remarks for ${Re.label.toLowerCase()}...`,className:"min-h-[60px] text-sm",disabled:Pe.existingResult?.status==="Submitted"||Pe.existingResult?.status==="Approved"})]},Re.key)),e.jsx(Ee,{onClick:oe,disabled:Pe.existingResult?.status==="Submitted"||Pe.existingResult?.status==="Approved",className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:"Save Affective Assessment"})]})]}),e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-[#EC4899] to-[#DB2777] text-white rounded-t-xl",children:e.jsx(ur,{children:"Psychomotor Domain Assessment"})}),e.jsxs(Le,{className:"p-6 space-y-4",children:[[{key:"sports",label:"Sports"},{key:"handwork",label:"Handwork"},{key:"drawing",label:"Drawing"},{key:"music",label:"Music"}].map(Re=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-sm font-medium text-gray-700",children:Re.label}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(Oe=>e.jsx("button",{type:"button",onClick:()=>Z(ft=>({...ft,[Re.key]:Oe})),className:`w-8 h-8 rounded-full border-2 font-semibold text-xs transition-all ${xe[Re.key]===Oe?"bg-pink-600 border-pink-600 text-white":"bg-white border-gray-300 text-gray-600 hover:border-pink-400"}`,disabled:Pe.existingResult?.status==="Submitted"||Pe.existingResult?.status==="Approved",children:Oe},Oe))}),e.jsx("span",{className:"text-sm text-gray-500",children:"(1=Poor, 5=Excellent)"})]}),e.jsx(wi,{value:xe[`${Re.key}_remark`],onChange:Oe=>Z(ft=>({...ft,[`${Re.key}_remark`]:Oe.target.value})),placeholder:`Add remarks for ${Re.label.toLowerCase()}...`,className:"min-h-[60px] text-sm",disabled:Pe.existingResult?.status==="Submitted"||Pe.existingResult?.status==="Approved"})]},Re.key)),e.jsx(Ee,{onClick:z,disabled:Pe.existingResult?.status==="Submitted"||Pe.existingResult?.status==="Approved",className:"w-full bg-pink-600 hover:bg-pink-700 text-white",children:"Save Psychomotor Assessment"})]})]})]}),e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-[#F59E0B] to-[#D97706] text-white rounded-t-xl",children:e.jsx(ur,{children:"Class Teacher Comment"})}),e.jsxs(Le,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"auto-comment",checked:V,onChange:Re=>{if(ie(Re.target.checked),Re.target.checked&&ye){const Oe=Py(Pe.averageScore,pe.find(ft=>ft.studentId===ye.id)?.position||0,pe.find(ft=>ft.studentId===ye.id)?.totalStudents||0);de(Oe),ne(!0)}else ne(!1)},className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx(Ze,{htmlFor:"auto-comment",className:"text-sm font-medium text-blue-900",children:"Generate automatic comment based on student performance"})]}),W&&M.length>0&&e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-3",children:"Choose from generated comments:"}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:M.map((Re,Oe)=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-blue-100 hover:border-blue-300 cursor-pointer transition-colors",onClick:()=>$(Re),children:[e.jsx("input",{type:"radio",name:"comment-option",checked:T===Re,onChange:()=>$(Re),className:"mt-1 w-4 h-4 text-blue-600"}),e.jsx("p",{className:"text-sm text-gray-700 flex-1",children:Re})]},Oe))}),e.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[e.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>{const Re=Py(Pe.averageScore,pe.find(Oe=>Oe.studentId===ye.id)?.position||0,pe.find(Oe=>Oe.studentId===ye.id)?.totalStudents||0);de(Re)},className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Fh,{className:"w-4 h-4 mr-1"}),"Generate More Options"]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Click on any comment to select it, or generate more options"})]})]}),ye&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:pe.find(Re=>Re.studentId===ye.id)?.position||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Position in Class"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:pe.find(Re=>Re.studentId===ye.id)?.totalStudents||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"})]})]}),V&&ye&&e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-semibold text-green-800 mb-2",children:"Auto-generated Comment Preview:"}),e.jsx("p",{className:"text-sm text-green-700",children:ep(Pe.averageScore,pe.find(Re=>Re.studentId===ye.id)?.position||0,pe.find(Re=>Re.studentId===ye.id)?.totalStudents||0)})]}),e.jsx(wi,{value:V?T||"":T||Pe.existingResult?.class_teacher_comment||"",onChange:Re=>!V&&$(Re.target.value),placeholder:"Enter your comment for this student...",className:"min-h-32 rounded-xl border-[#0A2540]/20",disabled:V||Pe.existingResult?.status==="Submitted"||Pe.existingResult?.status==="Approved"}),Pe.existingResult?.status==="Submitted"&&e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"This result has been submitted to admin and cannot be edited."})]})]}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[#0A2540] font-medium mb-1",children:"Ready to Submit?"}),e.jsx("p",{className:"text-sm text-gray-600",children:Pe.isComplete?"All requirements met. You can submit this result for approval.":"Complete all scores and assessments before submitting."})]}),e.jsxs(Ee,{onClick:rt,disabled:!Pe.isComplete||!V&&!T.trim()||V&&!T.trim()&&!W||Pe.existingResult?.status==="Submitted"||Pe.existingResult?.status==="Approved",className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-xl px-8",children:[e.jsx(Bu,{className:"w-4 h-4 mr-2"}),Pe.existingResult?.status==="Submitted"||Pe.existingResult?.status==="Approved"?"Already Submitted":"Submit Result"]})]})})})]})]}):e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Es,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Access Restricted"}),e.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"Only class teachers can compile results. You must be assigned as a class teacher to access this page."}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact the administrator if you believe this is an error."})]})})}function sO(){const{classes:s,students:t,parents:r,currentUser:n,teachers:a,getTeacherAssignments:i,compiledResults:A}=Fs(),[c,d]=S.useState(""),[u,m]=S.useState(()=>{const I=n?a.find(Q=>Q.id===n.linked_id):null;return s.filter(Q=>Q.classTeacherId===I?.id)[0]?.id||s[0]?.id||1}),[f,x]=S.useState("all"),[g,N]=S.useState(null),b=n?a.find(I=>I.id===n.linked_id):null,j=s.filter(I=>I.classTeacherId===b?.id),y=j.find(I=>I.id===u)||j[0],E=S.useMemo(()=>y?t.filter(I=>I.class_id===u&&I.status==="Active").map((I,D)=>{const P=r.find($=>$.id===I.parent_id),Q=A.filter($=>$.student_id===I.id&&$.status==="Approved"),T=Q.length>0?Q.reduce(($,V)=>$+V.average_score,0)/Q.length:0;return{...I,parentName:P?`${P.firstName} ${P.lastName}`:"N/A",parentPhone:P?.phone||"N/A",parentEmail:P?.email||"N/A",attendance:0,averageScore:T||0,position:D+1}}).sort((I,D)=>D.averageScore-I.averageScore).map((I,D)=>({...I,position:D+1})):[],[t,u,r,A,y]),U=I=>{N(I)},k=(E||[]).filter(I=>{const D=`${I.firstName||""} ${I.lastName||""}`,P=D&&D.toLowerCase().includes(c.toLowerCase())||I.admissionNumber&&I.admissionNumber.toLowerCase().includes(c.toLowerCase())||I.parentName&&I.parentName.toLowerCase().includes(c.toLowerCase()),Q=f==="all"||I.gender===f;return P&&Q}),q={totalStudents:E?.length||0,maleCount:E?.filter(I=>I.gender==="Male").length||0,femaleCount:E?.filter(I=>I.gender==="Female").length||0,averageAttendance:E?.length?E.reduce((I,D)=>I+(D.attendance||0),0)/E.length:0,averageScore:E?.length?E.reduce((I,D)=>I+(D.averageScore||0),0)/E.length:0},G=I=>I?I.split(" ").map(D=>D[0]).join("").toUpperCase():"??",H=()=>{const I=["Student ID","Name","Gender","DOB","Parent Name","Parent Phone","Parent Email","Attendance %","Average Score","Position"],D=k.map(V=>[V.admissionNumber,`${V.firstName} ${V.lastName}`,V.gender,new Date(V.date_of_birth).toLocaleDateString("en-GB"),V.parentName,V.parentPhone,V.parentEmail,V.attendance,V.averageScore,V.position]),P=[I,...D].map(V=>V.join(",")).join(`
`),Q=new Blob([P],{type:"text/csv"}),T=URL.createObjectURL(Q),$=document.createElement("a");$.href=T,$.download=`${y?.name||"class"}-class-list-${new Date().toISOString().split("T")[0]}.csv`,$.click()};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-[#0A2540] mb-2",children:["Class List - ",y?.name||"No Class Assigned"]}),e.jsx("p",{className:"text-gray-600",children:"Manage and view your class students"})]}),j.length>0&&e.jsxs(Ot,{value:u.toString(),onValueChange:I=>m(Number(I)),children:[e.jsx(Mt,{className:"w-48 border-[#0A2540]/20 rounded-xl",children:e.jsx(Ht,{})}),e.jsx(Kt,{children:j.map(I=>e.jsx(ke,{value:I.id.toString(),children:I.name},I.id))})]})]}),j.length===0&&e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsxs(Le,{className:"p-6 text-center",children:[e.jsx(Es,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-[#0A2540] mb-2",children:"No Classes Assigned"}),e.jsx("p",{className:"text-gray-600",children:"You haven't been assigned any classes yet. Please contact the administrator."})]})}),j.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Total Students"}),e.jsx("p",{className:"text-[#0A2540]",children:q.totalStudents})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:e.jsx(Qs,{className:"w-6 h-6 text-blue-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Male"}),e.jsx("p",{className:"text-[#0A2540]",children:q.maleCount})]}),e.jsx("div",{className:"bg-indigo-100 p-3 rounded-xl",children:e.jsx(Qs,{className:"w-6 h-6 text-indigo-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Female"}),e.jsx("p",{className:"text-[#0A2540]",children:q.femaleCount})]}),e.jsx("div",{className:"bg-pink-100 p-3 rounded-xl",children:e.jsx(Qs,{className:"w-6 h-6 text-pink-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Avg Attendance"}),e.jsxs("p",{className:"text-[#0A2540]",children:[q.averageAttendance.toFixed(1),"%"]})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:e.jsx(Nd,{className:"w-6 h-6 text-green-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Class Average"}),e.jsxs("p",{className:"text-[#0A2540]",children:[q.averageScore.toFixed(1),"%"]})]}),e.jsx("div",{className:"bg-yellow-100 p-3 rounded-xl",children:e.jsx(CA,{className:"w-6 h-6 text-yellow-600"})})]})})})]}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(kt,{type:"text",placeholder:"Search by name, ID, or parent...",value:c,onChange:I=>d(I.target.value),className:"pl-10 border-[#0A2540]/20 focus:border-[#FFD700] rounded-xl"})]}),e.jsxs(Ot,{value:f,onValueChange:x,children:[e.jsx(Mt,{className:"border-[#0A2540]/20 rounded-xl",children:e.jsx(Ht,{placeholder:"Gender"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"all",children:"All Genders"}),e.jsx(ke,{value:"Male",children:"Male"}),e.jsx(ke,{value:"Female",children:"Female"})]})]}),e.jsxs(Ee,{onClick:H,className:"bg-[#0A2540] hover:bg-[#0A2540]/90 text-white rounded-xl",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Export Class List"]})]})})}),e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"border-b border-[#0A2540]/10 bg-[#0A2540]/5",children:e.jsxs(ur,{className:"text-[#0A2540]",children:["Students (",(k||[]).length,")"]})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-[#0A2540]/5",children:[e.jsx(At,{className:"text-[#0A2540]",children:"Position"}),e.jsx(At,{className:"text-[#0A2540]",children:"Student"}),e.jsx(At,{className:"text-[#0A2540]",children:"Gender"}),e.jsx(At,{className:"text-[#0A2540]",children:"Parent/Guardian"}),e.jsx(At,{className:"text-[#0A2540]",children:"Contact"}),e.jsx(At,{className:"text-[#0A2540]",children:"Attendance"}),e.jsx(At,{className:"text-[#0A2540]",children:"Average Score"}),e.jsx(At,{className:"text-[#0A2540]",children:"Actions"})]})}),e.jsx(On,{children:(k||[]).length===0?e.jsx(As,{children:e.jsx(Xe,{colSpan:8,className:"text-center py-8 text-gray-500",children:"No students found"})}):k.map(I=>e.jsxs(As,{className:"hover:bg-[#0A2540]/5",children:[e.jsx(Xe,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[I.position<=3&&e.jsx(CA,{className:`w-4 h-4 ${I.position===1?"text-yellow-500":I.position===2?"text-gray-400":"text-orange-600"}`}),e.jsx("span",{className:"text-[#0A2540]",children:I.position})]})}),e.jsx(Xe,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yA,{className:"h-10 w-10 bg-[#0A2540] text-white",children:e.jsx(NA,{className:"bg-[#0A2540] text-white",children:G(`${I.firstName} ${I.lastName}`)})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-[#0A2540]",children:[I.firstName," ",I.lastName]}),e.jsx("p",{className:"text-sm text-gray-500",children:I.admissionNumber})]})]})}),e.jsx(Xe,{children:e.jsx(yt,{variant:I.gender==="Male"?"default":"secondary",className:"rounded-xl",children:I.gender})}),e.jsx(Xe,{children:e.jsx("div",{children:e.jsx("p",{className:"text-[#0A2540]",children:I.parentName})})}),e.jsx(Xe,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Uf,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:I.parentPhone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(_f,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-gray-600 truncate max-w-[200px]",children:I.parentEmail})]})]})}),e.jsx(Xe,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 w-16",children:e.jsx("div",{className:`h-2 rounded-full ${I.attendance>=90?"bg-green-500":I.attendance>=75?"bg-yellow-500":"bg-red-500"}`,style:{width:`${I.attendance}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600",children:[I.attendance,"%"]})]})}),e.jsx(Xe,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-[#0A2540]",children:[I.averageScore.toFixed(1),"%"]}),e.jsx(yt,{className:`rounded-xl ${I.averageScore>=70?"bg-green-100 text-green-800":I.averageScore>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:I.averageScore>=70?"Excellent":I.averageScore>=50?"Good":"Needs Improvement"})]})}),e.jsx(Xe,{children:e.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>U(I),className:"text-[#0A2540] hover:text-[#FFD700] hover:bg-[#FFD700]/10 rounded-xl",children:e.jsx(Pn,{className:"w-4 h-4"})})})]},I.id))})]})})})]}),e.jsx(vr,{open:!!g,onOpenChange:()=>N(null),children:e.jsxs(br,{className:"max-w-2xl rounded-xl",children:[e.jsxs(yr,{children:[e.jsx(Nr,{className:"text-[#0A2540]",children:"Student Details"}),e.jsxs(Da,{children:["Complete information for ",g&&`${g.firstName} ${g.lastName}`]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(yA,{className:"h-20 w-20 bg-[#0A2540] text-white text-xl",children:e.jsx(NA,{className:"bg-[#0A2540] text-white",children:g&&G(`${g.firstName} ${g.lastName}`)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-[#0A2540]",children:g&&`${g.firstName} ${g.lastName}`}),e.jsx("p",{className:"text-gray-600",children:g?.admissionNumber}),e.jsx(yt,{variant:"secondary",className:"mt-1 rounded-xl",children:g?.gender})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-4 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Date of Birth"}),e.jsx("p",{className:"text-[#0A2540]",children:g&&new Date(g.date_of_birth).toLocaleDateString("en-GB")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Academic Year"}),e.jsx("p",{className:"text-[#0A2540]",children:g?.academic_year||"2024/2025"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Class Position"}),e.jsxs("p",{className:"text-[#0A2540]",children:[g?.position," / ",E.length]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Status"}),e.jsx(yt,{className:"bg-green-100 text-green-800 rounded-xl",children:"Active"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-[#0A2540]",children:"Performance"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl",children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Average Score"}),e.jsxs("p",{className:"text-[#0A2540] text-xl",children:[g?.averageScore.toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-xl",children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Attendance Rate"}),e.jsxs("p",{className:"text-[#0A2540] text-xl",children:[g?.attendance,"%"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-[#0A2540]",children:"Parent/Guardian Information"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Name"}),e.jsx("p",{className:"text-[#0A2540]",children:g?.parentName})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Phone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Uf,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:"text-[#0A2540]",children:g?.parentPhone})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_f,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:"text-[#0A2540]",children:g?.parentEmail})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Class"}),e.jsx("p",{className:"text-[#0A2540]",children:g?.className})]})]})]})]})]})})]})]})}function rO(){const{currentUser:s,teachers:t,classes:r,students:n,getStudentsByClass:a,addAttendance:i,getAttendancesByDate:A,getTeacherAssignments:c,currentTerm:d,currentAcademicYear:u}=Fs(),[m,f]=S.useState(0),[x,g]=S.useState(new Date().toISOString().split("T")[0]),[N,b]=S.useState({}),[j,y]=S.useState({}),E=t.find(W=>W.id===s?.linked_id),U=r.filter(W=>W.classTeacherId===E?.id),k=m?a(m):[],G=A(x).some(W=>W.class_id===m&&W.date===x),H=(W,ne)=>{b({...N,[W]:ne})},I=(W,ne)=>{y({...j,[W]:ne})},D=W=>{const ne={};k.forEach(M=>{ne[M.id]=W}),b(ne),ge.success(`Marked all students as ${W}`)},P=()=>{if(!m){ge.error("Please select a class");return}if(k.length===0){ge.error("No students in selected class");return}const W=k.filter(ne=>!N[ne.id]);if(W.length>0){ge.error(`Please mark attendance for all students (${W.length} remaining)`);return}k.forEach(ne=>{i({student_id:ne.id,class_id:m,date:x,status:N[ne.id],marked_by:s?.linked_id||0,marked_date:new Date().toISOString(),term:d,academicYear:u,remarks:j[ne.id]||""})}),ge.success("Attendance marked successfully!"),b({}),y({})},Q=Object.keys(N||{}).length,T=Object.values(N||{}).filter(W=>W==="Present").length,$=Object.values(N||{}).filter(W=>W==="Absent").length,V=Object.values(N||{}).filter(W=>W==="Late").length,ie=Object.values(N||{}).filter(W=>W==="Excused").length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-slate-900 mb-2",children:"Mark Attendance"}),e.jsx("p",{className:"text-slate-600",children:"Record student attendance for your class"})]}),e.jsxs(Ce,{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-slate-700",children:"Select Class"}),e.jsxs("select",{value:m,onChange:W=>{f(Number(W.target.value)),b({}),y({})},className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:"Choose a class..."}),U.map(W=>e.jsxs("option",{value:W.id,children:[W.name," - ",W.currentStudents," Students"]},W.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-slate-700",children:"Attendance Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:x,onChange:W=>g(W.target.value),max:new Date().toISOString().split("T")[0],className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pl-10"}),e.jsx(ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"})]})]})]}),G&&e.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start gap-3",children:[e.jsx(Es,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsx("div",{children:e.jsxs("p",{className:"text-yellow-800",children:["Attendance has already been marked for this class on ",x,". Submitting again will create duplicate records."]})})]})]}),m>0&&k.length>0&&e.jsxs(Ce,{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-800 mb-1",children:"Quick Actions"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Mark all students at once"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Ee,{onClick:()=>D("Present"),className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(bA,{className:"w-4 h-4 mr-2"}),"Mark All Present"]}),e.jsxs(Ee,{onClick:()=>D("Absent"),className:"bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(xa,{className:"w-4 h-4 mr-2"}),"Mark All Absent"]})]})]}),Q>0&&e.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl text-slate-900",children:[Q,"/",k.length]}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Marked"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl text-green-600",children:T}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Present"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl text-red-600",children:$}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Absent"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl text-yellow-600",children:V}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Late"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl text-blue-600",children:ie}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Excused"})]})]})]}),m>0&&k.length>0&&e.jsxs(Ce,{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsxs("h3",{className:"text-slate-800 mb-4",children:["Students - ",k.length," Total"]}),e.jsx("div",{className:"space-y-3",children:k.map(W=>{const ne=N[W.id];return e.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-slate-900",children:[W.firstName," ",W.lastName]}),e.jsxs("p",{className:"text-slate-600 text-sm",children:[W.admissionNumber,"  ",W.gender]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>H(W.id,"Present"),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${ne==="Present"?"bg-green-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(bA,{className:"w-4 h-4"}),"Present"]}),e.jsxs("button",{onClick:()=>H(W.id,"Absent"),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${ne==="Absent"?"bg-red-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(xa,{className:"w-4 h-4"}),"Absent"]}),e.jsxs("button",{onClick:()=>H(W.id,"Late"),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${ne==="Late"?"bg-yellow-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(po,{className:"w-4 h-4"}),"Late"]}),e.jsxs("button",{onClick:()=>H(W.id,"Excused"),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${ne==="Excused"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(Es,{className:"w-4 h-4"}),"Excused"]})]})]}),ne&&ne!=="Present"&&e.jsx("div",{className:"mt-3",children:e.jsx("input",{type:"text",placeholder:`Add remarks for ${ne.toLowerCase()} status...`,value:j[W.id]||"",onChange:M=>I(W.id,M.target.value),className:"w-full p-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})]},W.id)})}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx(Ee,{onClick:()=>{b({}),y({})},className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Clear All"}),e.jsx(Ee,{onClick:P,disabled:Q!==k.length,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Attendance"})]})]}),m===0&&e.jsxs(Ce,{className:"p-12 bg-white rounded-xl shadow-sm border border-slate-200 text-center",children:[e.jsx(ta,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-slate-900 mb-2",children:"No Class Selected"}),e.jsx("p",{className:"text-slate-600",children:"Please select a class to begin marking attendance"})]}),m>0&&k.length===0&&e.jsxs(Ce,{className:"p-12 bg-white rounded-xl shadow-sm border border-slate-200 text-center",children:[e.jsx(Es,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-slate-900 mb-2",children:"No Students Found"}),e.jsx("p",{className:"text-slate-600",children:"This class has no students enrolled"})]})]})}function nO(){const{students:s,parents:t,currentUser:r,classes:n,teachers:a,getTeacherAssignments:i}=Fs(),A=a.find(b=>b.id===r?.linked_id),c=n.filter(b=>b.classTeacherId===A?.id),d=s.filter(b=>c.some(j=>j.id===b.class_id)),[u,m]=S.useState({recipientType:"single",studentId:"",classId:"",subject:"",message:""}),[f,x]=S.useState([]),g=b=>{b.preventDefault();const j={id:f.length+1,...u,timestamp:new Date().toLocaleString(),status:"Sent"};x([j,...f]),ge.success("Message sent successfully!"),m({recipientType:"single",studentId:"",classId:"",subject:"",message:""})},N=()=>u.recipientType==="single"?u.studentId?1:0:u.recipientType==="class"?d.filter(b=>b.class_id===Number(u.classId)).length:d.length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Message Parents"}),e.jsx("p",{className:"text-[#6B7280]",children:"Send messages and updates to parents/guardians"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"border-b border-[#E5E7EB] bg-[#F9FAFB] p-4",children:e.jsx("h2",{className:"font-semibold text-[#1F2937]",children:"Compose Message"})}),e.jsx(Le,{className:"p-6",children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"recipientType",children:"Send To *"}),e.jsxs(Ot,{value:u.recipientType,onValueChange:b=>m({...u,recipientType:b}),children:[e.jsx(Mt,{className:"rounded-lg",children:e.jsx(Ht,{})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"single",children:"Single Student Parent"}),e.jsx(ke,{value:"class",children:"All Parents in Class"}),e.jsx(ke,{value:"all",children:"All Parents"})]})]})]}),u.recipientType==="single"&&e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"student",children:"Select Student *"}),e.jsxs(Ot,{value:u.studentId,onValueChange:b=>m({...u,studentId:b}),required:!0,children:[e.jsx(Mt,{className:"rounded-lg",children:e.jsx(Ht,{placeholder:"Choose student"})}),e.jsx(Kt,{children:d.map(b=>{const j=n.find(y=>y.id===b.class_id);return e.jsxs(ke,{value:b.id.toString(),children:[b.firstName," ",b.lastName," - ",j?.name||"Unknown Class"]},b.id)})})]})]}),u.recipientType==="class"&&e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"class",children:"Select Class *"}),e.jsxs(Ot,{value:u.classId,onValueChange:b=>m({...u,classId:b}),required:!0,children:[e.jsx(Mt,{className:"rounded-lg",children:e.jsx(Ht,{placeholder:"Choose class"})}),e.jsx(Kt,{children:c.map(b=>e.jsx(ke,{value:b.id.toString(),children:b.name},b.id))})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"subject",children:"Subject *"}),e.jsx(kt,{id:"subject",value:u.subject,onChange:b=>m({...u,subject:b.target.value}),placeholder:"Message subject",className:"rounded-lg",required:!0})]}),e.jsxs("div",{children:[e.jsx(Ze,{htmlFor:"message",children:"Message *"}),e.jsx(wi,{id:"message",value:u.message,onChange:b=>m({...u,message:b.target.value}),placeholder:"Type your message here...",className:"rounded-lg min-h-[200px]",required:!0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"w-5 h-5 text-[#6B7280]"}),e.jsxs("span",{className:"text-sm text-[#6B7280]",children:[N()," recipient(s)"]})]}),e.jsxs(Ee,{type:"submit",className:"rounded-lg bg-[#3B82F6] hover:bg-[#2563EB]",children:[e.jsx(Bu,{className:"w-4 h-4 mr-2"}),"Send Message"]})]})]})})]})}),e.jsx("div",{children:e.jsxs(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"border-b border-[#E5E7EB] bg-[#F9FAFB] p-4",children:e.jsx("h2",{className:"font-semibold text-[#1F2937]",children:"Sent Messages"})}),e.jsx(Le,{className:"p-4 max-h-[600px] overflow-y-auto",children:f.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ix,{className:"w-12 h-12 text-[#9CA3AF] mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:"No messages sent yet"})]}):e.jsx("div",{className:"space-y-3",children:f.map(b=>e.jsxs("div",{className:"p-3 border border-[#E5E7EB] rounded-lg",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx(Br,{className:"w-4 h-4 text-[#10B981] flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm text-[#1F2937] truncate",children:b.subject}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:b.timestamp})]})]}),e.jsx("p",{className:"text-xs text-[#6B7280] line-clamp-2",children:b.message})]},b.id))})})]})})]})]})}function aO(){const{currentUser:s,teachers:t,classes:r,subjects:n,subjectAssignments:a,students:i,scores:A,getPendingScores:c,rejectScore:d,approveScore:u,getTeacherClasses:m,currentAcademicYear:f,currentTerm:x,addNotification:g}=Fs(),{broadcast:N}=X5(),[b,j]=S.useState("all"),[y,E]=S.useState("all"),[U,k]=S.useState("submitted"),[q,G]=S.useState(""),[H,I]=S.useState(!1),[D,P]=S.useState(null),Q=s?t.find(ue=>ue.id===s.linked_id):null,T=Q?m(Q.id):[],V=A.map(ue=>{const se=a.find(xe=>xe.id===ue.subject_assignment_id),O=i.find(xe=>xe.id===ue.student_id),X=se?n.find(xe=>xe.id===se.subject_id):null,re=se?r.find(xe=>xe.id===se.class_id):null,me=se?t.find(xe=>xe.id===se.teacher_id):null;return{...ue,student_name:O?`${O.firstName} ${O.lastName}`:"Unknown Student",subject_name:X?X.name:"Unknown Subject",class_name:re?re.name:"Unknown Class",teacher_name:me?`${me.firstName} ${me.lastName}`:"Unknown Teacher",class_id:se?.class_id||0,academic_year:ue.academic_year||f,term:ue.term||x}}).filter(ue=>!(!T.some(O=>O.classId===ue.class_id)||b!=="all"&&ue.class_id!==parseInt(b)||y!=="all"&&ue.subject_assignment_id!==parseInt(y)||U==="submitted"&&ue.status!=="Submitted"||U==="rejected"&&ue.status!=="Rejected"||U==="all"&&!["Submitted","Rejected"].includes(ue.status))),ie=Array.from(new Set(V.map(ue=>({id:ue.subject_assignment_id,name:ue.subject_name})))),W=async()=>{if(!D||!q.trim()){ge.error("Please provide a rejection reason");return}try{await d(D.id,q,s.id);const ue=a.find(se=>se.id===D.subject_assignment_id);ue&&t.find(O=>O.id===ue.teacher_id)&&(await g({title:"Score Rejected - Correction Required",message:`Your score for ${D.student_name} in ${D.subject_name} (${D.class_name}) was rejected. Reason: ${q}. Please review and resubmit.`,type:"warning",targetAudience:"teachers",sentBy:s.id,sentDate:new Date().toISOString(),isRead:!1,readBy:[]}),N({id:Date.now(),title:"Score Rejected - Correction Required",message:`Score for ${D.student_name} in ${D.subject_name} was rejected. Please review and resubmit.`,type:"warning",targetAudience:"teachers",sentDate:new Date().toISOString()})),ge.success(`Score rejected and ${D.teacher_name} notified`),G(""),I(!1),P(null)}catch{ge.error("Failed to reject score")}},ne=async ue=>{try{await u(ue.id,s.id),ge.success("Score approved successfully")}catch{ge.error("Failed to approve score")}},M=ue=>{switch(ue){case"Submitted":return e.jsx(yt,{className:"bg-blue-100 text-blue-800",children:"Pending Review"});case"Rejected":return e.jsx(yt,{className:"bg-red-100 text-red-800",children:"Rejected"});default:return e.jsx(yt,{className:"bg-gray-100 text-gray-800",children:"Draft"})}},de=ue=>{if(!ue)return"text-gray-600";switch(ue){case"A":return"text-green-600 font-bold";case"B":return"text-blue-600 font-bold";case"C":return"text-yellow-600 font-bold";case"D":return"text-orange-600 font-bold";case"F":return"text-red-600 font-bold";default:return"text-gray-600"}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Score Approval"}),e.jsx("p",{className:"text-gray-600",children:"Review and approve/reject scores submitted by subject teachers"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:Q&&`Class Teacher: ${Q.firstName} ${Q.lastName}`})]}),e.jsxs(Ce,{children:[e.jsx(Qt,{children:e.jsxs(ur,{className:"flex items-center gap-2",children:[e.jsx(np,{className:"w-5 h-5"}),"Filters"]})}),e.jsx(Le,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(Ze,{className:"text-sm font-medium",children:"Class"}),e.jsxs(Ot,{value:b,onValueChange:j,children:[e.jsx(Mt,{children:e.jsx(Ht,{placeholder:"Select class"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"all",children:"All Classes"}),T.map(ue=>e.jsx(ke,{value:ue.classId.toString(),children:ue.className},ue.classId))]})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-sm font-medium",children:"Subject"}),e.jsxs(Ot,{value:y,onValueChange:E,children:[e.jsx(Mt,{children:e.jsx(Ht,{placeholder:"Select subject"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"all",children:"All Subjects"}),ie.map(ue=>e.jsx(ke,{value:ue.id.toString(),children:ue.name},ue.id))]})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-sm font-medium",children:"Status"}),e.jsxs(Ot,{value:U,onValueChange:k,children:[e.jsx(Mt,{children:e.jsx(Ht,{placeholder:"Select status"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"submitted",children:"Pending Review"}),e.jsx(ke,{value:"rejected",children:"Rejected"}),e.jsx(ke,{value:"all",children:"All"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"text-sm text-gray-600",children:[V.length," scores found"]})})]})})]}),e.jsx("div",{className:"space-y-4",children:V.length===0?e.jsx(Ce,{children:e.jsxs(Le,{className:"p-8 text-center",children:[e.jsx(Es,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Scores Found"}),e.jsx("p",{className:"text-gray-600",children:"No scores match the current filters or no scores have been submitted for review."})]})}):V.map(ue=>e.jsx(Ce,{className:"hover:shadow-md transition-shadow",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:ue.student_name}),e.jsx("p",{className:"text-sm text-gray-600",children:ue.class_name})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:ue.subject_name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["by ",ue.teacher_name]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900",children:ue.total}),e.jsx("p",{className:`text-sm ${de(ue.grade)}`,children:ue.grade||"N/A"})]}),e.jsxs("div",{className:"text-right",children:[M(ue.status),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ue.entered_date&&new Date(ue.entered_date).toLocaleDateString()})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"CA 1"}),e.jsx("p",{className:"font-semibold",children:ue.ca1})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"CA 2"}),e.jsx("p",{className:"font-semibold",children:ue.ca2})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Exam"}),e.jsx("p",{className:"font-semibold",children:ue.exam})]})]}),ue.status==="Rejected"&&ue.rejection_reason&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(xa,{className:"w-4 h-4 text-red-600"}),e.jsx("p",{className:"text-sm font-medium text-red-800",children:"Rejection Reason:"})]}),e.jsx("p",{className:"text-sm text-red-700",children:ue.rejection_reason}),ue.rejected_date&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Rejected on ",new Date(ue.rejected_date).toLocaleDateString()]})]}),ue.remark&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Teacher's Remark:"}),e.jsx("p",{className:"text-sm text-blue-700",children:ue.remark})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[ue.status==="Submitted"&&e.jsxs(e.Fragment,{children:[e.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>ne(ue),className:"text-green-600 border-green-600 hover:bg-green-50",children:[e.jsx(Br,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>{P(ue),I(!0)},className:"text-red-600 border-red-600 hover:bg-red-50",children:[e.jsx(xa,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),e.jsxs(Ee,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[e.jsx(Pn,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]})})},ue.id))}),e.jsx(vr,{open:H,onOpenChange:I,children:e.jsxs(br,{className:"sm:max-w-md",children:[e.jsx(yr,{children:e.jsx(Nr,{className:"text-red-600",children:"Reject Score"})}),D&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"text-sm font-medium",children:D.student_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[D.subject_name," - ",D.class_name]}),e.jsxs("p",{className:"text-sm font-bold",children:["Score: ",D.total]})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-sm font-medium",children:"Rejection Reason"}),e.jsx(wi,{value:q,onChange:ue=>G(ue.target.value),placeholder:"Please explain why this score is being rejected...",className:"mt-1",rows:3})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsxs(Ee,{onClick:W,className:"bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(xa,{className:"w-4 h-4 mr-2"}),"Reject Score"]}),e.jsx(Ee,{variant:"outline",onClick:()=>{I(!1),G(""),P(null)},children:"Cancel"})]})]})]})})]})}function eC({userRole:s}){const{currentUser:t,classes:r,students:n,parents:a,teachers:i,examTimetables:A,getExamTimetablesByClass:c,currentTerm:d,currentAcademicYear:u}=Fs(),[m,f]=S.useState(0),g=(()=>{if(s==="teacher"){const E=i.find(U=>U.id===t?.linked_id);return r.filter(U=>U.classTeacherId===E?.id)}else if(s==="parent"){const E=a.find(U=>U.id===t?.linked_id);if(E){const U=n.filter(k=>E.student_ids.includes(k.id)).map(k=>k.class_id);return r.filter(k=>U.includes(k.id))}}return r})();g.length===1&&m===0&&f(g[0].id);const N=m===0?A.filter(E=>E.term===d&&E.academic_year===u):A.filter(E=>E.class_id===m&&E.term===d&&E.academic_year===u),b=N.reduce((E,U)=>{const k=U.exam_date;return E[k]||(E[k]=[]),E[k].push(U),E},{}),j=Object.keys(b).sort();j.forEach(E=>{b[E].sort((U,k)=>U.start_time.localeCompare(k.start_time))});const y=()=>{let E=`Graceland Royal Academy Gombe - Exam Timetable
`;E+=`Term: ${d}, Academic Year: ${u}
`,E+=`Class: ${m?r.find(G=>G.id===m)?.name:"All Classes"}

`,E+=`Date,Day,Subject,Start Time,End Time,Duration (mins),Venue,Instructions
`,N.sort((G,H)=>G.exam_date!==H.exam_date?G.exam_date.localeCompare(H.exam_date):G.start_time.localeCompare(H.start_time)).forEach(G=>{const H=new Date(G.exam_date),I=H.toLocaleDateString("en-US",{weekday:"long"}),D=H.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});E+=`${D},${I},${G.subject_name},${G.start_time},${G.end_time},${G.duration},${G.venue},"${G.instructions||"N/A"}"
`});const U=new Blob([E],{type:"text/csv"}),k=window.URL.createObjectURL(U),q=document.createElement("a");q.href=k,q.download=`exam-timetable-${m||"all"}-${new Date().toISOString().split("T")[0]}.csv`,q.click()};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-slate-900 mb-2",children:"Exam Timetable"}),e.jsxs("p",{className:"text-slate-600",children:[d," - ",u]})]}),(N||[]).length>0&&e.jsxs(Ee,{onClick:y,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Download"]})]}),g.length>1&&e.jsx(Ce,{className:"p-4 bg-white rounded-xl shadow-sm border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-slate-700",children:"Select Class:"}),e.jsxs("select",{value:m,onChange:E=>f(Number(E.target.value)),className:"p-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:"All Classes"}),g.map(E=>e.jsx("option",{value:E.id,children:E.name},E.id))]})]})}),j.length===0?e.jsxs(Ce,{className:"p-12 bg-white rounded-xl shadow-sm border border-slate-200 text-center",children:[e.jsx(ta,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-slate-900 mb-2",children:"No Exams Scheduled"}),e.jsx("p",{className:"text-slate-600",children:"There are no exams scheduled for this class in the current term"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ce,{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600 text-sm mb-1",children:"Total Exams"}),e.jsx("p",{className:"text-3xl text-blue-900",children:(N||[]).length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600 text-sm mb-1",children:"Exam Days"}),e.jsx("p",{className:"text-3xl text-blue-900",children:j.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600 text-sm mb-1",children:"First Exam"}),e.jsx("p",{className:"text-blue-900",children:new Date(j[0]).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600 text-sm mb-1",children:"Last Exam"}),e.jsx("p",{className:"text-blue-900",children:new Date(j[j.length-1]).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]})}),j.map(E=>{const U=b[E],k=new Date(E).toLocaleDateString("en-US",{weekday:"long"}),q=new Date(E).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return e.jsxs(Ce,{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-slate-200",children:[e.jsx(ta,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-900",children:k}),e.jsx("p",{className:"text-slate-600 text-sm",children:q})]}),e.jsxs("span",{className:"ml-auto px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[U.length," exam",U.length!==1?"s":""]})]}),e.jsx("div",{className:"space-y-3",children:U.map(G=>e.jsx("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg hover:border-blue-300 transition-colors",children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h4",{className:"text-slate-900",children:G.subject_name}),m===0&&e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs",children:G.class_name}),e.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:[G.duration," minutes"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(po,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[G.start_time," - ",G.end_time]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(e2,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:G.venue})]})]}),G.instructions&&e.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start gap-2",children:[e.jsx(sa,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsx("div",{children:e.jsx("p",{className:"text-yellow-800 text-sm",children:G.instructions})})]})]})})},G.id))})]},E)}),e.jsxs(Ce,{className:"p-6 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl border border-purple-200",children:[e.jsxs("h3",{className:"text-purple-900 mb-3 flex items-center gap-2",children:[e.jsx(sa,{className:"w-5 h-5"}),"Important Examination Guidelines"]}),e.jsxs("ul",{className:"space-y-2 text-purple-800 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600",children:""}),e.jsx("span",{children:"Arrive at the examination venue at least 15 minutes before the scheduled start time"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600",children:""}),e.jsx("span",{children:"Bring all required materials (pens, pencils, calculator if allowed)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600",children:""}),e.jsx("span",{children:"Electronic devices (mobile phones, smartwatches) are not allowed in the exam hall"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600",children:""}),e.jsx("span",{children:"Follow all instructions given by the examination supervisors"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600",children:""}),e.jsx("span",{children:"Any form of cheating or examination malpractice will result in serious disciplinary action"})]})]})]})]})]})}function bw(){const{currentUser:s,changePassword:t}=Fs(),[r,n]=S.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,i]=S.useState(!1),[A,c]=S.useState(!1),[d,u]=S.useState(!1),[m,f]=S.useState({}),x=()=>{const b={};return r.currentPassword||(b.currentPassword="Current password is required"),r.newPassword?r.newPassword.length<6&&(b.newPassword="Password must be at least 6 characters"):b.newPassword="New password is required",r.confirmPassword?r.newPassword!==r.confirmPassword&&(b.confirmPassword="Passwords do not match"):b.confirmPassword="Please confirm your new password",f(b),Object.keys(b).length===0},g=b=>{if(b.preventDefault(),!x()){ge.error("Please fix the errors in the form");return}if(!s){ge.error("No user logged in");return}t(s.id,r.currentPassword,r.newPassword)?(ge.success("Password changed successfully!"),n({currentPassword:"",newPassword:"",confirmPassword:""}),f({})):(ge.error("Current password is incorrect"),f({currentPassword:"Incorrect password"}))},N=()=>{n({currentPassword:"",newPassword:"",confirmPassword:""}),f({})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Change Password"}),e.jsx("p",{className:"text-[#6B7280]",children:"Update your account password for security"})]}),e.jsxs(Vi,{className:"bg-blue-50 border-blue-200 rounded-xl",children:[e.jsx(ju,{className:"h-4 w-4 text-blue-600"}),e.jsxs(zi,{className:"text-gray-900",children:[e.jsx("strong",{children:"Password Security Tips:"}),e.jsx("br",{})," Use at least 6 characters",e.jsx("br",{})," Include a mix of uppercase, lowercase, numbers, and symbols",e.jsx("br",{})," Avoid using personal information",e.jsx("br",{})," Don't reuse passwords from other accounts"]})]}),e.jsx("form",{onSubmit:g,children:e.jsxs(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical max-w-2xl",children:[e.jsx(Qt,{className:"p-5 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ju,{className:"w-5 h-5 text-[#3B82F6]"}),e.jsx("h3",{className:"text-lg text-[#1F2937]",children:"Update Password"})]})}),e.jsxs(Le,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ze,{className:"text-[#1F2937]",children:["Current Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(kt,{type:a?"text":"password",placeholder:"Enter current password",value:r.currentPassword,onChange:b=>n({...r,currentPassword:b.target.value}),className:`h-12 rounded-lg border ${m.currentPassword?"border-red-500":"border-[#E5E7EB]"} bg-[#F9FAFB] text-[#1F2937] pr-12`}),e.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#1F2937]",children:a?e.jsx(jg,{className:"w-5 h-5"}):e.jsx(Pn,{className:"w-5 h-5"})})]}),m.currentPassword&&e.jsx("p",{className:"text-xs text-red-500",children:m.currentPassword})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ze,{className:"text-[#1F2937]",children:["New Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(kt,{type:A?"text":"password",placeholder:"Enter new password",value:r.newPassword,onChange:b=>n({...r,newPassword:b.target.value}),className:`h-12 rounded-lg border ${m.newPassword?"border-red-500":"border-[#E5E7EB]"} bg-[#F9FAFB] text-[#1F2937] pr-12`}),e.jsx("button",{type:"button",onClick:()=>c(!A),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#1F2937]",children:A?e.jsx(jg,{className:"w-5 h-5"}):e.jsx(Pn,{className:"w-5 h-5"})})]}),m.newPassword&&e.jsx("p",{className:"text-xs text-red-500",children:m.newPassword}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:"Minimum 6 characters"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ze,{className:"text-[#1F2937]",children:["Confirm New Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(kt,{type:d?"text":"password",placeholder:"Re-enter new password",value:r.confirmPassword,onChange:b=>n({...r,confirmPassword:b.target.value}),className:`h-12 rounded-lg border ${m.confirmPassword?"border-red-500":"border-[#E5E7EB]"} bg-[#F9FAFB] text-[#1F2937] pr-12`}),e.jsx("button",{type:"button",onClick:()=>u(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#1F2937]",children:d?e.jsx(jg,{className:"w-5 h-5"}):e.jsx(Pn,{className:"w-5 h-5"})})]}),m.confirmPassword&&e.jsx("p",{className:"text-xs text-red-500",children:m.confirmPassword})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(Ee,{type:"button",onClick:N,variant:"outline",className:"flex-1 rounded-lg border-[#E5E7EB] text-[#6B7280] hover:bg-[#F9FAFB] hover:text-[#1F2937]",children:"Reset"}),e.jsxs(Ee,{type:"submit",className:"flex-1 bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-lg shadow-clinical hover:shadow-clinical-lg transition-all",children:[e.jsx(Hc,{className:"w-4 h-4 mr-2"}),"Change Password"]})]})]})]})})]})}function iO({onLogout:s}){const{currentUser:t,teachers:r,getTeacherAssignments:n,getTeacherClasses:a,getTeacherResponsibilities:i,getUnreadNotifications:A,getActivityLogs:c}=Fs(),[d,u]=S.useState("dashboard");Z5(t?.role,t?.id);const m=t?r.find(U=>U.id===t.linked_id):null,f=m?.id,x=f?i(f):{isClassTeacher:!1,assignedClassesCount:0,totalStudentsCount:0,subjectsCount:0,classTeacherClassesCount:0},g=f?a(f):[],N=x.isClassTeacher,b=m?`${m.firstName} ${m.lastName}`:"Teacher",j=A(),y=[{icon:e.jsx(ap,{className:"w-5 h-5"}),label:"Dashboard",id:"dashboard"},{icon:e.jsx(Qs,{className:"w-5 h-5"}),label:"Class List",id:"class-list"},{icon:e.jsx(Pl,{className:"w-5 h-5"}),label:"Enter Scores",id:"enter-scores"},{icon:e.jsx(P4,{className:"w-5 h-5"}),label:"Compile Results",id:"compile-results",classTeacherOnly:!0},{icon:e.jsx(Br,{className:"w-5 h-5"}),label:"Approve Scores",id:"approve-scores",classTeacherOnly:!0},{icon:e.jsx(Ix,{className:"w-5 h-5"}),label:"Message Parents",id:"message-parents"},{icon:e.jsx(Zo,{className:"w-5 h-5"}),label:"Notifications",id:"notifications"},{icon:e.jsx(ju,{className:"w-5 h-5"}),label:"Change Password",id:"change-password"},{icon:e.jsx(ta,{className:"w-5 h-5"}),label:"Exam Timetable",id:"exam-timetable"},{icon:e.jsx(po,{className:"w-5 h-5"}),label:"Mark Attendance",id:"mark-attendance"},{icon:e.jsx(kx,{className:"w-5 h-5"}),label:"Logout",id:"logout"}].filter(U=>!U.classTeacherOnly||N),E=U=>{U==="logout"?s():u(U)};return e.jsxs("div",{className:"min-h-screen bg-[#F4F6F9]",children:[e.jsx(fp,{items:y,activeItem:d,onItemClick:E}),e.jsxs("div",{className:"lg:pl-64",children:[e.jsx(pp,{userName:b,userRole:N?"Class Teacher":"Subject Teacher",notificationCount:j.length,onLogout:s}),e.jsxs("main",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[d==="dashboard"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Teacher Dashboard"}),e.jsx("p",{className:"text-[#6B7280]",children:N?"Welcome, Class Teacher. Manage your class and student assessments.":"Welcome, Subject Teacher. Enter scores for your assigned subjects."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Classes Assigned"}),e.jsx(Jr,{className:"w-5 h-5 text-[#3B82F6]"})]}),e.jsx("p",{className:"text-[#1F2937] mb-1 font-semibold",children:x.assignedClassesCount}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:"Total classes"})]})}),e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Total Students"}),e.jsx(Qs,{className:"w-5 h-5 text-[#3B82F6]"})]}),e.jsx("p",{className:"text-[#1F2937] mb-1 font-semibold",children:x.totalStudentsCount}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:"Across all classes"})]})}),e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Class Teacher Role"}),e.jsx(Qs,{className:"w-5 h-5 text-[#10B981]"})]}),e.jsx("p",{className:"text-[#1F2937] mb-1 font-semibold",children:x.classTeacherClassesCount}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:"Classes managed"})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(Ce,{className:"rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Subject Assignments"}),e.jsx(Jr,{className:"w-5 h-5 text-blue-600"})]}),e.jsx("p",{className:"text-[#1F2937] mb-1 font-semibold",children:x.subjectsCount}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:"Subjects teaching"})]})}),e.jsx(Ce,{className:"rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200",children:e.jsxs(Le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Class Teacher Status"}),e.jsx(Qs,{className:"w-5 h-5 text-green-600"})]}),e.jsx("p",{className:"text-[#1F2937] mb-1 font-semibold",children:x.isClassTeacher?"Active":"Not Assigned"}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:x.isClassTeacher?"Managing classes":"No class teacher role"})]})})]}),e.jsxs(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-5 border-b border-[#E5E7EB]",children:e.jsx("h3",{className:"text-[#1F2937]",children:"Your Classes & Subjects"})}),e.jsx(Le,{className:"space-y-3 p-5 pt-5",children:g.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Jr,{className:"w-12 h-12 text-[#9CA3AF] mx-auto mb-3"}),e.jsx("p",{className:"text-[#6B7280]",children:"No class assignments yet"})]}):g.map(U=>e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1F2937] font-medium",children:U.className}),e.jsxs("p",{className:"text-[#6B7280] text-sm",children:[U.classLevel,"  ",U.studentCount," students"]})]}),e.jsxs(yt,{className:"bg-[#3B82F6] text-white border-0 text-xs",children:[U.subjects.length," subjects"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-2",children:"Assigned Subjects:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:U.subjects.map(k=>e.jsx(yt,{className:"bg-gray-100 text-gray-800 border-0 text-xs",children:k.subjectName},k.subjectId))})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsxs(Ee,{onClick:()=>u("class-list"),variant:"outline",size:"sm",className:"rounded-lg border-[#E5E7EB] text-[#6B7280]",children:[e.jsx(Qs,{className:"w-4 h-4 mr-1"}),"View Students"]}),U.subjects.length>0&&e.jsxs(Ee,{onClick:()=>u("enter-scores"),size:"sm",className:"bg-[#3B82F6] text-white hover:bg-[#2563EB] rounded-lg",children:[e.jsx(Pl,{className:"w-4 h-4 mr-1"}),"Enter Scores"]})]})]},U.classId))})]})]}),d==="class-list"&&e.jsx(sO,{}),d==="enter-scores"&&e.jsx(XD,{}),d==="compile-results"&&e.jsx(tO,{}),d==="approve-scores"&&e.jsx(aO,{}),d==="message-parents"&&e.jsx(nO,{}),d==="notifications"&&e.jsx(Ip,{}),d==="change-password"&&e.jsx(bw,{}),d==="mark-attendance"&&e.jsx(rO,{}),d==="exam-timetable"&&e.jsx(eC,{userRole:"teacher"}),!["dashboard","class-list","enter-scores","compile-results","approve-scores","message-parents","notifications","change-password","mark-attendance","exam-timetable"].includes(d)&&e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical max-w-md w-full",children:e.jsxs(Le,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-[#3B82F6] flex items-center justify-center mx-auto mb-4 text-white",children:y.find(U=>U.id===d)?.icon}),e.jsx("h3",{className:"text-[#1F2937] mb-3",children:y.find(U=>U.id===d)?.label}),e.jsxs("p",{className:"text-[#6B7280]",children:["This section contains the functionality for ",y.find(U=>U.id===d)?.label.toLowerCase(),"."]})]})})})})]})]})]})}function oO(){const{payments:s,students:t}=Fs(),[r,n]=S.useState(""),[a,i]=S.useState("all"),[A,c]=S.useState("all"),d=s.filter(N=>{const b=N.studentName&&N.studentName.toLowerCase().includes(r.toLowerCase())||N.reference&&N.reference.toLowerCase().includes(r.toLowerCase())||N.receiptNumber&&N.receiptNumber.toLowerCase().includes(r.toLowerCase()),j=a==="all"||N.status===a,y=A==="all"||N.paymentType===A;return b&&j&&y}),u=s.filter(N=>N.status==="Verified").reduce((N,b)=>N+b.amount,0),m=s.filter(N=>N.status==="Pending").reduce((N,b)=>N+b.amount,0),f=s.filter(N=>N.status==="Verified").length,x=N=>{switch(N){case"Verified":return e.jsxs(yt,{className:"bg-green-100 text-green-800 border-green-300",children:[e.jsx(Br,{className:"w-3 h-3 mr-1"}),"Verified"]});case"Pending":return e.jsxs(yt,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[e.jsx(po,{className:"w-3 h-3 mr-1"}),"Pending"]});case"Rejected":return e.jsxs(yt,{className:"bg-red-100 text-red-800 border-red-300",children:[e.jsx(xa,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return e.jsx(yt,{className:"bg-gray-100 text-gray-800",children:N})}},g=()=>{const N=["Payment ID","Student Name","Receipt No","Fee Type","Amount","Payment Method","Transaction Ref","Status","Date"],b=d.map(k=>[k.id,k.studentName,k.receiptNumber,k.paymentType,k.amount,k.paymentMethod,k.reference,k.status,new Date(k.recordedDate).toLocaleDateString()]),j=[N,...b].map(k=>k.join(",")).join(`
`),y=new Blob([j],{type:"text/csv"}),E=URL.createObjectURL(y),U=document.createElement("a");U.href=E,U.download=`payment-history-${new Date().toISOString().split("T")[0]}.csv`,U.click()};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-[#0A2540] mb-2",children:"Payment History"}),e.jsx("p",{className:"text-gray-600",children:"View and manage all payment transactions"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Total Revenue"}),e.jsxs("p",{className:"text-[#0A2540]",children:["",u.toLocaleString()]})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:e.jsx(Hl,{className:"w-6 h-6 text-green-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Pending Payments"}),e.jsxs("p",{className:"text-[#0A2540]",children:["",m.toLocaleString()]})]}),e.jsx("div",{className:"bg-yellow-100 p-3 rounded-xl",children:e.jsx(po,{className:"w-6 h-6 text-yellow-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Completed Transactions"}),e.jsx("p",{className:"text-[#0A2540]",children:f})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:e.jsx(Br,{className:"w-6 h-6 text-blue-600"})})]})})})]}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(kt,{type:"text",placeholder:"Search by name, ID, or ref...",value:r,onChange:N=>n(N.target.value),className:"pl-10 border-[#0A2540]/20 focus:border-[#FFD700] rounded-xl"})]}),e.jsxs(Ot,{value:a,onValueChange:i,children:[e.jsx(Mt,{className:"border-[#0A2540]/20 rounded-xl",children:e.jsx(Ht,{placeholder:"Status"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"all",children:"All Status"}),e.jsx(ke,{value:"Verified",children:"Verified"}),e.jsx(ke,{value:"Pending",children:"Pending"}),e.jsx(ke,{value:"Rejected",children:"Rejected"})]})]}),e.jsxs(Ot,{value:A,onValueChange:c,children:[e.jsx(Mt,{className:"border-[#0A2540]/20 rounded-xl",children:e.jsx(Ht,{placeholder:"Fee Type"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"all",children:"All Fee Types"}),e.jsx(ke,{value:"Full Payment",children:"Full Payment"}),e.jsx(ke,{value:"Partial Payment",children:"Partial Payment"})]})]}),e.jsxs(Ee,{onClick:g,className:"bg-[#0A2540] hover:bg-[#0A2540]/90 text-white rounded-xl",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-[#0A2540]/5",children:[e.jsx(At,{className:"text-[#0A2540]",children:"Payment ID"}),e.jsx(At,{className:"text-[#0A2540]",children:"Student"}),e.jsx(At,{className:"text-[#0A2540]",children:"Receipt No."}),e.jsx(At,{className:"text-[#0A2540]",children:"Fee Type"}),e.jsx(At,{className:"text-[#0A2540]",children:"Amount"}),e.jsx(At,{className:"text-[#0A2540]",children:"Payment Method"}),e.jsx(At,{className:"text-[#0A2540]",children:"Transaction Ref"}),e.jsx(At,{className:"text-[#0A2540]",children:"Status"}),e.jsx(At,{className:"text-[#0A2540]",children:"Date"})]})}),e.jsx(On,{children:d.length===0?e.jsx(As,{children:e.jsx(Xe,{colSpan:9,className:"text-center py-8 text-gray-500",children:"No payment records found"})}):d.map(N=>{const b=t.find(j=>j.id===N.studentId);return e.jsxs(As,{className:"hover:bg-[#0A2540]/5",children:[e.jsxs(Xe,{className:"text-[#0A2540]",children:["PAY",String(N.id).padStart(3,"0")]}),e.jsx(Xe,{children:e.jsxs("div",{children:[e.jsx("p",{className:"text-[#0A2540]",children:N.studentName}),e.jsx("p",{className:"text-sm text-gray-500",children:b?.admissionNumber})]})}),e.jsx(Xe,{className:"text-sm text-gray-600 font-mono",children:N.receiptNumber}),e.jsx(Xe,{children:N.paymentType}),e.jsxs(Xe,{className:"text-[#0A2540]",children:["",N.amount.toLocaleString()]}),e.jsx(Xe,{children:N.paymentMethod}),e.jsx(Xe,{className:"text-sm text-gray-600 font-mono",children:N.reference}),e.jsx(Xe,{children:x(N.status)}),e.jsx(Xe,{children:new Date(N.recordedDate).toLocaleDateString("en-GB")})]},N.id)})})]})})})})]})}function lO(){const{payments:s,verifyPayment:t,updatePayment:r,updateStudentFeeBalance:n,students:a,parents:i,users:A,addNotification:c,currentUser:d}=Fs(),[u,m]=S.useState(null),[f,x]=S.useState(!1),[g,N]=S.useState(""),b=s.filter(U=>U.status==="Pending"),j=U=>{const k=s.find(q=>q.id===U);if(k){t(U),n(k.student_id);const q=a.find(G=>G.id===k.student_id);q&&q.parent_id&&i.find(H=>H.id===q.parent_id)&&c({title:" Fee Payment Confirmed",message:`Payment of ${k.amount.toLocaleString()} for ${q.first_name} ${q.last_name} (${q.class_name||"N/A"}) has been verified and confirmed. Receipt No: ${k.receipt_number}`,type:"success",targetAudience:"parents",sentBy:d?.id||1}),ge.success(`Payment ${k.receipt_number} verified successfully!`)}},y=()=>{if(u){if(!g.trim()){ge.error("Please provide a reason for rejection");return}r(u.id,{status:"Rejected"}),ge.error(`Payment ${u.receiptNumber} rejected`),x(!1),m(null),N("")}},E=U=>{m(U),x(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Verify Payment Receipts"}),e.jsx("p",{className:"text-[#6B7280]",children:"Review and verify pending payment submissions"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(Le,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-[#6B7280]",children:"Pending Verification"}),e.jsx(sa,{className:"w-5 h-5 text-[#F59E0B]"})]}),e.jsx("p",{className:"text-3xl text-[#1F2937]",children:b.length})]})}),e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(Le,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-[#6B7280]",children:"Total Amount"}),e.jsx(Br,{className:"w-5 h-5 text-[#10B981]"})]}),e.jsxs("p",{className:"text-3xl text-[#1F2937]",children:["",b.reduce((U,k)=>U+k.amount,0).toLocaleString()]})]})}),e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(Le,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-[#6B7280]",children:"Verified Today"}),e.jsx(Br,{className:"w-5 h-5 text-[#3B82F6]"})]}),e.jsx("p",{className:"text-3xl text-[#1F2937]",children:s.filter(U=>U.status==="Verified"&&new Date(U.recorded_date).toDateString()===new Date().toDateString()).length})]})})]}),e.jsxs(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-5 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-[#1F2937]",children:"Pending Payment Verifications"}),e.jsx(yt,{className:"bg-[#F59E0B] text-white border-0",children:b.length})]})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-[#2563EB] border-none hover:bg-[#2563EB]",children:[e.jsx(At,{className:"text-white",children:"Date"}),e.jsx(At,{className:"text-white",children:"Student Name"}),e.jsx(At,{className:"text-white",children:"Receipt No."}),e.jsx(At,{className:"text-white",children:"Amount"}),e.jsx(At,{className:"text-white",children:"Payment Type"}),e.jsx(At,{className:"text-white",children:"Method"}),e.jsx(At,{className:"text-white",children:"Reference"}),e.jsx(At,{className:"text-white text-center",children:"Actions"})]})}),e.jsx(On,{children:b.length===0?e.jsx(As,{className:"bg-white",children:e.jsx(Xe,{colSpan:8,className:"text-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(Br,{className:"w-12 h-12 text-[#10B981]"}),e.jsx("p",{className:"text-[#1F2937]",children:"No pending payments to verify"}),e.jsx("p",{className:"text-[#6B7280] text-sm",children:"All payments have been processed"})]})})}):b.map(U=>e.jsxs(As,{className:"bg-white border-b border-[#E5E7EB] hover:bg-[#F9FAFB]",children:[e.jsx(Xe,{className:"text-[#1F2937]",children:new Date(U.recorded_date).toLocaleDateString()}),e.jsx(Xe,{className:"text-[#1F2937] font-medium",children:U.student_name}),e.jsx(Xe,{className:"text-[#6B7280] font-mono text-sm",children:U.receipt_number}),e.jsxs(Xe,{className:"text-[#1F2937] font-medium",children:["",U.amount.toLocaleString()]}),e.jsx(Xe,{className:"text-[#6B7280]",children:U.payment_type}),e.jsx(Xe,{className:"text-[#6B7280]",children:U.payment_method}),e.jsx(Xe,{className:"text-[#6B7280] font-mono text-xs",children:U.reference}),e.jsx(Xe,{className:"text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs(Ee,{onClick:()=>j(U.id),size:"sm",className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-lg h-8 shadow-clinical hover:shadow-clinical-lg transition-all",children:[e.jsx(Br,{className:"w-4 h-4 mr-1"}),"Verify"]}),e.jsxs(Ee,{onClick:()=>E(U),size:"sm",variant:"outline",className:"border-[#EF4444] text-[#EF4444] hover:bg-[#FEF2F2] rounded-lg h-8",children:[e.jsx(xa,{className:"w-4 h-4 mr-1"}),"Reject"]})]})})]},U.id))})]})})})]}),e.jsx(vr,{open:f,onOpenChange:x,children:e.jsxs(br,{className:"max-w-md rounded-lg bg-white border border-[#E5E7EB] text-[#1F2937]",children:[e.jsx(yr,{children:e.jsx(Nr,{className:"text-[#1F2937]",children:"Reject Payment"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[u&&e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-sm text-[#6B7280] mb-2",children:"Payment Details:"}),e.jsx("p",{className:"text-[#1F2937] font-medium",children:u.studentName}),e.jsxs("p",{className:"text-[#6B7280] text-sm",children:["Receipt: ",u.receiptNumber," | Amount: ",u.amount.toLocaleString()]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ze,{className:"text-[#1F2937]",children:["Reason for Rejection ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(wi,{placeholder:"Enter reason for rejecting this payment...",value:g,onChange:U=>N(U.target.value),rows:4,className:"rounded-lg border border-[#E5E7EB] bg-white text-[#1F2937]"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(Ee,{onClick:()=>{x(!1),m(null),N("")},variant:"outline",className:"rounded-lg border-[#E5E7EB] text-[#6B7280]",children:"Cancel"}),e.jsxs(Ee,{onClick:y,className:"bg-[#EF4444] hover:bg-[#DC2626] text-white rounded-lg",children:[e.jsx(xa,{className:"w-4 h-4 mr-2"}),"Reject Payment"]})]})]})})]})}function tC(s,t,r,n,a){n=n||{};var i=1.15,A=a.internal.scaleFactor,c=a.internal.getFontSize()/A,d=a.getLineHeightFactor?a.getLineHeightFactor():i,u=c*d,m=/\r\n|\r|\n/g,f="",x=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof s=="string"?s.split(m):s,x=f.length||1),r+=c*(2-i),n.valign==="middle"?r-=x/2*u:n.valign==="bottom"&&(r-=x*u),n.halign==="center"||n.halign==="right"){var g=c;if(n.halign==="center"&&(g*=.5),f&&x>=1){for(var N=0;N<f.length;N++)a.text(f[N],t-a.getStringUnitWidth(f[N])*g,r),r+=u;return a}t-=a.getStringUnitWidth(s)*g}return n.halign==="justify"?a.text(s,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(s,t,r),a}var Ry={},yu=(function(){function s(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return s.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:Ry=t},s.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},s.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var A=this.jsPDFDocument.internal.getFont(),c=A.fontStyle,d=A.fontName;if(t.font&&(d=t.font),t.fontStyle){c=t.fontStyle;var u=this.getFontList()[d];u&&u.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),c=u[0])}if(this.jsPDFDocument.setFont(d,c),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var m=s.unifyColor(t.fillColor);m&&(n=this.jsPDFDocument).setFillColor.apply(n,m),m=s.unifyColor(t.textColor),m&&(a=this.jsPDFDocument).setTextColor.apply(a,m),m=s.unifyColor(t.lineColor),m&&(i=this.jsPDFDocument).setDrawColor.apply(i,m),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},s.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},s.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},s.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},s.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},s.prototype.getDocument=function(){return this.jsPDFDocument},s.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},s.prototype.addPage=function(){return this.jsPDFDocument.addPage()},s.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},s.prototype.getGlobalOptions=function(){return Ry||{}},s.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},s.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},s.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},s.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},s.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},s.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},s})(),Ex=function(s,t){return Ex=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Ex(s,t)};function sC(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ex(s,t);function r(){this.constructor=s}s.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var rC=(function(s){sC(t,s);function t(r){var n=s.call(this)||this;return n._element=r,n}return t})(Array);function AO(s){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/s,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function cO(s){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[s]}function tp(s,t,r){r.applyStyles(t,!0);var n=Array.isArray(s)?s:[s],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,A){return Math.max(i,A)},0);return a}function nC(s,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;s.applyStyles({lineWidth:a,lineColor:i});var A=aC(a,!1);A&&s.rect(r.x,r.y,t.getWidth(s.pageSize().width),n.y-r.y,A)}function aC(s,t){var r=s>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function Lp(s,t){var r,n,a,i;if(s=s||t,Array.isArray(s)){if(s.length>=4)return{top:s[0],right:s[1],bottom:s[2],left:s[3]};if(s.length===3)return{top:s[0],right:s[1],bottom:s[2],left:s[1]};if(s.length===2)return{top:s[0],right:s[1],bottom:s[0],left:s[1]};s.length===1?s=s[0]:s=t}return typeof s=="object"?(typeof s.vertical=="number"&&(s.top=s.vertical,s.bottom=s.vertical),typeof s.horizontal=="number"&&(s.right=s.horizontal,s.left=s.horizontal),{left:(r=s.left)!==null&&r!==void 0?r:t,top:(n=s.top)!==null&&n!==void 0?n:t,right:(a=s.right)!==null&&a!==void 0?a:t,bottom:(i=s.bottom)!==null&&i!==void 0?i:t}):(typeof s!="number"&&(s=t),{top:s,right:s,bottom:s,left:s})}function iC(s,t){var r=Lp(t.settings.margin,0);return s.pageSize().width-(r.left+r.right)}function dO(s,t,r,n,a){var i={},A=1.3333333333333333,c=E0(t,function(U){return a.getComputedStyle(U).backgroundColor});c!=null&&(i.fillColor=c);var d=E0(t,function(U){return a.getComputedStyle(U).color});d!=null&&(i.textColor=d);var u=hO(n,r);u&&(i.cellPadding=u);var m="borderTopColor",f=A*r,x=n.borderTopWidth;if(n.borderBottomWidth===x&&n.borderRightWidth===x&&n.borderLeftWidth===x){var g=(parseFloat(x)||0)/f;g&&(i.lineWidth=g)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?m="borderRightColor":i.lineWidth.bottom?m="borderBottomColor":i.lineWidth.left&&(m="borderLeftColor"));var N=E0(t,function(U){return a.getComputedStyle(U)[m]});N!=null&&(i.lineColor=N);var b=["left","right","center","justify"];b.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),b=["middle","bottom","top"],b.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var j=parseInt(n.fontSize||"");isNaN(j)||(i.fontSize=j/A);var y=uO(n);y&&(i.fontStyle=y);var E=(n.fontFamily||"").toLowerCase();return s.indexOf(E)!==-1&&(i.font=E),i}function uO(s){var t="";return(s.fontWeight==="bold"||s.fontWeight==="bolder"||parseInt(s.fontWeight)>=700)&&(t="bold"),(s.fontStyle==="italic"||s.fontStyle==="oblique")&&(t+="italic"),t}function E0(s,t){var r=oC(s,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function oC(s,t){var r=t(s);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?s.parentElement==null?null:oC(s.parentElement,t):r}function hO(s,t){var r=[s.paddingTop,s.paddingRight,s.paddingBottom,s.paddingLeft],n=96/(72/t),a=(parseInt(s.lineHeight)-parseInt(s.fontSize))/t/2,i=r.map(function(c){return parseInt(c||"0")/n}),A=Lp(i,0);return a>A.top&&(A.top=a),a>A.bottom&&(A.bottom=a),A}function lC(s,t,r,n,a){var i,A;n===void 0&&(n=!1),a===void 0&&(a=!1);var c;typeof t=="string"?c=r.document.querySelector(t):c=t;var d=Object.keys(s.getFontList()),u=s.scaleFactor(),m=[],f=[],x=[];if(!c)return console.error("Html table could not be found with input: ",t),{head:m,body:f,foot:x};for(var g=0;g<c.rows.length;g++){var N=c.rows[g],b=(A=(i=N?.parentElement)===null||i===void 0?void 0:i.tagName)===null||A===void 0?void 0:A.toLowerCase(),j=mO(d,u,r,N,n,a);j&&(b==="thead"?m.push(j):b==="tfoot"?x.push(j):f.push(j))}return{head:m,body:f,foot:x}}function mO(s,t,r,n,a,i){for(var A=new rC(n),c=0;c<n.cells.length;c++){var d=n.cells[c],u=r.getComputedStyle(d);if(a||u.display!=="none"){var m=void 0;i&&(m=dO(s,d,t,u,r)),A.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:m,_element:d,content:fO(d)})}}var f=r.getComputedStyle(n);if(A.length>0&&(a||f.display!=="none"))return A}function fO(s){var t=s.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function pO(s,t,r){for(var n=0,a=[s,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function jA(s,t,r,n,a){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(s),A=1;A<arguments.length;A++){var c=arguments[A];if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(i[d]=c[d])}return i}function AC(s,t){var r=new yu(s),n=r.getDocumentOptions(),a=r.getGlobalOptions();pO(a,n,t);var i=jA({},a,n,t),A;typeof window<"u"&&(A=window);var c=gO(a,n,t),d=xO(a,n,t),u=wO(r,i),m=bO(r,i,A);return{id:t.tableId,content:m,hooks:d,styles:c,settings:u}}function gO(s,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(d){if(d==="columnStyles"){var u=s[d],m=t[d],f=r[d];n.columnStyles=jA({},u,m,f)}else{var x=[s,t,r],g=x.map(function(N){return N[d]||{}});n[d]=jA({},g[0],g[1],g[2])}},i=0,A=Object.keys(n);i<A.length;i++){var c=A[i];a(c)}return n}function xO(s,t,r){for(var n=[s,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,A=n;i<A.length;i++){var c=A[i];c.didParseCell&&a.didParseCell.push(c.didParseCell),c.willDrawCell&&a.willDrawCell.push(c.willDrawCell),c.didDrawCell&&a.didDrawCell.push(c.didDrawCell),c.willDrawPage&&a.willDrawPage.push(c.willDrawPage),c.didDrawPage&&a.didDrawPage.push(c.didDrawPage)}return a}function wO(s,t){var r,n,a,i,A,c,d,u,m,f,x,g,N=Lp(t.margin,40/s.scaleFactor()),b=(r=vO(s,t.startY))!==null&&r!==void 0?r:N.top,j;t.showFoot===!0?j="everyPage":t.showFoot===!1?j="never":j=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var E=(i=t.useCss)!==null&&i!==void 0?i:!1,U=t.theme||(E?"plain":"striped"),k=!!t.horizontalPageBreak,q=(A=t.horizontalPageBreakRepeat)!==null&&A!==void 0?A:null;return{includeHiddenHtml:(c=t.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:E,theme:U,startY:b,margin:N,pageBreak:(d=t.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(m=t.tableWidth)!==null&&m!==void 0?m:"auto",showHead:y,showFoot:j,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(x=t.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:k,horizontalPageBreakRepeat:q,horizontalPageBreakBehaviour:(g=t.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function vO(s,t){var r=s.getLastAutoTable(),n=s.scaleFactor(),a=s.pageNumber(),i=!1;if(r&&r.startPageNumber){var A=r.startPageNumber+r.pageNumber-1;i=A===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function bO(s,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var A=t.includeHiddenHtml;if(r){var c=lC(s,t.html,r,A,t.useCss)||{};n=c.head||n,a=c.body||n,i=c.foot||n}else console.error("Cannot parse html in non browser environment")}var d=t.columns||yO(n,a,i);return{columns:d,head:n,body:a,foot:i}}function yO(s,t,r){var n=s[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var A=1,c;Array.isArray(n)?c=n[parseInt(i)]:c=n[i],typeof c=="object"&&!Array.isArray(c)&&(A=c?.colSpan||1);for(var d=0;d<A;d++){var u=void 0;Array.isArray(n)?u=a.length:u=i+(d>0?"_".concat(d):"");var m={dataKey:u};a.push(m)}}),a}var Fx=(function(){function s(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return s})(),NO=(function(s){sC(t,s);function t(r,n,a,i,A,c){var d=s.call(this,r,n,c)||this;return d.cell=a,d.row=i,d.column=A,d.section=i.section,d}return t})(Fx),jO=(function(){function s(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return s.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},s.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},s.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},s.prototype.callCellHooks=function(t,r,n,a,i,A){for(var c=0,d=r;c<d.length;c++){var u=d[c],m=new NO(t,this,n,a,i,A),f=u(m)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},s.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new Fx(t,this,r))}},s.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new Fx(t,this,r))}},s.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},s})(),cC=(function(){function s(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof rC&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return s.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},s.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},s.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},s.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var A=n.cells[i.index];if(!A)return 0;var c=r.getLineHeight(A.styles.fontSize),d=A.padding("vertical"),u=d+c;return u>a?u:a},0)},s})(),dC=(function(){function s(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var A=i!=null?""+i:"",c=/\r\n|\r|\n/g;this.text=A.split(c)}return s.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},s.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},s.prototype.padding=function(t){var r=Lp(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},s})(),BO=(function(){function s(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return s.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],A=i.cells[this.index];A&&typeof A.styles.cellWidth=="number"&&(r=Math.max(r,A.styles.cellWidth))}return r},s})();function CO(s,t){SO(s,t);var r=[],n=0;t.columns.forEach(function(i){var A=i.getMaxCustomCellWidth(t);A?i.width=A:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(s.pageSize().width)-n;a&&(a=_x(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=_x(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/s.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),FO(t),_O(t,s),EO(t)}function SO(s,t){var r=s.scaleFactor(),n=t.settings.horizontalPageBreak,a=iC(s,t);t.allRows().forEach(function(i){for(var A=0,c=t.columns;A<c.length;A++){var d=c[A],u=i.cells[d.index];if(u){var m=t.hooks.didParseCell;t.callCellHooks(s,m,u,i,d,null);var f=u.padding("horizontal");u.contentWidth=tp(u.text,u.styles,s)+f;var x=tp(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,s);if(u.minReadableWidth=x+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var g=10/r;u.minWidth=u.styles.minCellWidth||g,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(i){for(var A=0,c=t.columns;A<c.length;A++){var d=c[A],u=i.cells[d.index];if(u&&u.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,u.wrappedWidth),d.minWidth=Math.max(d.minWidth,u.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,u.minReadableWidth);else{var m=t.styles.columnStyles[d.dataKey]||t.styles.columnStyles[d.index]||{},f=m.cellWidth||m.minCellWidth;f&&typeof f=="number"&&(d.minWidth=f,d.wrappedWidth=f)}u&&(u.colSpan>1&&!d.minWidth&&(d.minWidth=u.minWidth),u.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=u.minWidth))}})}function _x(s,t,r){for(var n=t,a=s.reduce(function(g,N){return g+N.wrappedWidth},0),i=0;i<s.length;i++){var A=s[i],c=A.wrappedWidth/a,d=n*c,u=A.width+d,m=r(A),f=u<m?m:u;t-=f-A.width,A.width=f}if(t=Math.round(t*1e10)/1e10,t){var x=s.filter(function(g){return t<0?g.width>r(g):!0});x.length&&(t=_x(x,t,r))}return t}function EO(s){for(var t={},r=1,n=s.allRows(),a=0;a<n.length;a++)for(var i=n[a],A=0,c=s.columns;A<c.length;A++){var d=c[A],u=t[d.index];if(r>1)r--,delete i.cells[d.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[d.index],u.left--,u.left<=1&&delete t[d.index];else{var m=i.cells[d.index];if(!m)continue;if(m.height=i.height,m.rowSpan>1){var f=n.length-a,x=m.rowSpan>f?f:m.rowSpan;t[d.index]={cell:m,left:x,row:i}}}}}function FO(s){for(var t=s.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,A=0,c=0;c<s.columns.length;c++){var d=s.columns[c];if(A-=1,A>1&&s.columns[c+1])i+=d.width,delete n.cells[d.index];else if(a){var u=a;delete n.cells[d.index],a=null,u.width=d.width+i}else{var u=n.cells[d.index];if(!u)continue;if(A=u.colSpan,i=0,u.colSpan>1){a=u,i+=d.width;continue}u.width=d.width+i}}}function _O(s,t){for(var r={count:0,height:0},n=0,a=s.allRows();n<a.length;n++){for(var i=a[n],A=0,c=s.columns;A<c.length;A++){var d=c[A],u=i.cells[d.index];if(u){t.applyStyles(u.styles,!0);var m=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,m+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Dy(u.text,m,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=Dy(u.text,m,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,m);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var x=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<x*u.rowSpan?r={height:x,count:u.rowSpan}:r&&r.count>0&&r.height>x&&(x=r.height),x>i.height&&(i.height=x)}}r.count--}}function Dy(s,t,r,n,a){return s.map(function(i){return UO(i,t,r,n,a)})}function UO(s,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=tp(s,r,n))return s;for(;t<tp(s+a,r,n)&&!(s.length<=1);)s=s.substring(0,s.length-1);return s.trim()+a}function uC(s,t){var r=new yu(s),n=kO(t,r.scaleFactor()),a=new jO(t,n);return CO(r,a),r.applyStyles(r.userStyles),a}function kO(s,t){var r=s.content,n=LO(r.columns);if(r.head.length===0){var a=Oy(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=Oy(n,"foot");a&&r.foot.push(a)}var i=s.settings.theme,A=s.styles;return{columns:n,head:F0("head",r.head,n,A,i,t),body:F0("body",r.body,n,A,i,t),foot:F0("foot",r.foot,n,A,i,t)}}function F0(s,t,r,n,a,i){var A={},c=t.map(function(d,u){for(var m=0,f={},x=0,g=0,N=0,b=r;N<b.length;N++){var j=b[N];if(A[j.index]==null||A[j.index].left===0)if(g===0){var y=void 0;Array.isArray(d)?y=d[j.index-x-m]:y=d[j.dataKey];var E={};typeof y=="object"&&!Array.isArray(y)&&(E=y?.styles||{});var U=QO(s,j,u,a,n,i,E),k=new dC(y,U,s);f[j.dataKey]=k,f[j.index]=k,g=k.colSpan-1,A[j.index]={left:k.rowSpan-1,times:g}}else g--,x++;else A[j.index].left--,g=A[j.index].times,m++}return new cC(d,u,s,f)});return c}function Oy(s,t){var r={};return s.forEach(function(n){if(n.raw!=null){var a=IO(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function IO(s,t){if(s==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(s==="foot"&&typeof t=="object")return t.footer;return null}function LO(s){return s.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new BO(a,t,r)})}function QO(s,t,r,n,a,i,A){var c=cO(n),d;s==="head"?d=a.headStyles:s==="body"?d=a.bodyStyles:s==="foot"&&(d=a.footStyles);var u=jA({},c.table,c[s],a.styles,d),m=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=s==="body"?m:{},x=s==="body"&&r%2===0?jA({},c.alternateRow,a.alternateRowStyles):{},g=AO(i),N=jA({},g,u,x,f);return jA(N,A)}function TO(s,t,r){var n;r===void 0&&(r={});var a=iC(s,t),i=new Map,A=[],c=[],d=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?d=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(d=[t.settings.horizontalPageBreakRepeat]),d.forEach(function(x){var g=t.columns.find(function(N){return N.dataKey===x||N.index===x});g&&!i.has(g.index)&&(i.set(g.index,!0),A.push(g.index),c.push(t.columns[g.index]),a-=g.wrappedWidth)});for(var u=!0,m=(n=r?.start)!==null&&n!==void 0?n:0;m<t.columns.length;){if(i.has(m)){m++;continue}var f=t.columns[m].wrappedWidth;if(u||a>=f)u=!1,A.push(m),c.push(t.columns[m]),a-=f;else break;m++}return{colIndexes:A,columns:c,lastIndex:m-1}}function PO(s,t){for(var r=[],n=0;n<t.columns.length;n++){var a=TO(s,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function hC(s,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},A=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),c=n+a.bottom+A;if(r.pageBreak==="avoid"){var d=t.body,u=d.reduce(function(x,g){return x+g.height},0);c+=u}var m=new yu(s);(r.pageBreak==="always"||r.startY!=null&&c>m.pageSize().height)&&(fC(m),i.y=a.top),t.callWillDrawPageHooks(m,i);var f=jA({},i);t.startPageNumber=m.pageNumber(),r.horizontalPageBreak?RO(m,t,f,i):(m.applyStyles(m.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(x){return LA(m,t,x,i,t.columns)}),m.applyStyles(m.userStyles),t.body.forEach(function(x,g){var N=g===t.body.length-1;sp(m,t,x,N,f,i,t.columns)}),m.applyStyles(m.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(x){return LA(m,t,x,i,t.columns)})),nC(m,t,f,i),t.callEndPageHooks(m,i),t.finalY=i.y,s.lastAutoTable=t,m.applyStyles(m.userStyles)}function RO(s,t,r,n){var a=PO(s,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,m){s.applyStyles(s.userStyles),m>0?Sh(s,t,r,n,u.columns,!0):Hy(s,t,n,u.columns),DO(s,t,r,n,u.columns),_0(s,t,n,u.columns)});else for(var A=-1,c=a[0],d=function(){var u=A;if(c){s.applyStyles(s.userStyles);var m=c.columns;A>=0?Sh(s,t,r,n,m,!0):Hy(s,t,n,m),u=My(s,t,A+1,n,m),_0(s,t,n,m)}var f=u-A;a.slice(1).forEach(function(x){s.applyStyles(s.userStyles),Sh(s,t,r,n,x.columns,!0),My(s,t,A+1,n,x.columns,f),_0(s,t,n,x.columns)}),A=u};A<t.body.length-1;)d()}function Hy(s,t,r,n){var a=t.settings;s.applyStyles(s.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return LA(s,t,i,r,n)})}function DO(s,t,r,n,a){s.applyStyles(s.userStyles),t.body.forEach(function(i,A){var c=A===t.body.length-1;sp(s,t,i,c,r,n,a)})}function My(s,t,r,n,a,i){s.applyStyles(s.userStyles),i=i??t.body.length;var A=Math.min(r+i,t.body.length),c=-1;return t.body.slice(r,A).forEach(function(d,u){var m=r+u===t.body.length-1,f=mC(s,t,m,n);d.canEntireRowFit(f,a)&&(LA(s,t,d,n,a),c=r+u)}),c}function _0(s,t,r,n){var a=t.settings;s.applyStyles(s.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return LA(s,t,i,r,n)})}function OO(s,t,r){var n=r.getLineHeight(s.styles.fontSize),a=s.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function HO(s,t,r,n){var a={};s.spansMultiplePages=!0,s.height=0;for(var i=0,A=0,c=r.columns;A<c.length;A++){var d=c[A],u=s.cells[d.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var m=new dC(u.raw,u.styles,u.section);m=jA(m,u),m.text=[];var f=OO(u,t,n);u.text.length>f&&(m.text=u.text.splice(f,u.text.length));var x=n.scaleFactor(),g=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(x,g),u.contentHeight>=t&&(u.contentHeight=t,m.styles.minCellHeight-=t),u.contentHeight>s.height&&(s.height=u.contentHeight),m.contentHeight=m.getContentHeight(x,g),m.contentHeight>i&&(i=m.contentHeight),a[d.index]=m}}var N=new cC(s.raw,-1,s.section,a,!0);N.height=i;for(var b=0,j=r.columns;b<j.length;b++){var d=j[b],m=N.cells[d.index];m&&(m.height=N.height);var u=s.cells[d.index];u&&(u.height=s.height)}return N}function MO(s,t,r,n){var a=s.pageSize().height,i=n.settings.margin,A=i.top+i.bottom,c=a-A;t.section==="body"&&(c-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var d=t.getMinimumRowHeight(n.columns,s),u=d<r;if(d>c)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var m=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>c;return f?(m&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(m||n.settings.rowPageBreak==="avoid")}function sp(s,t,r,n,a,i,A){var c=mC(s,t,n,i);if(r.canEntireRowFit(c,A))LA(s,t,r,i,A);else if(MO(s,r,c,t)){var d=HO(r,c,t,s);LA(s,t,r,i,A),Sh(s,t,a,i,A),sp(s,t,d,n,a,i,A)}else Sh(s,t,a,i,A),sp(s,t,r,n,a,i,A)}function LA(s,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,A=a;i<A.length;i++){var c=A[i],d=r.cells[c.index];if(!d){n.x+=c.width;continue}s.applyStyles(d.styles),d.x=n.x,d.y=n.y;var u=t.callCellHooks(s,t.hooks.willDrawCell,d,r,c,n);if(u===!1){n.x+=c.width;continue}KO(s,d,n);var m=d.getTextPos();tC(d.text,m.x,m.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},s.getDocument()),t.callCellHooks(s,t.hooks.didDrawCell,d,r,c,n),n.x+=c.width}n.y+=r.height}function KO(s,t,r){var n=t.styles;if(s.getDocument().setFillColor(s.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=aC(n.lineWidth,n.fillColor);a&&s.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&s.rect(t.x,r.y,t.width,t.height,"F"),VO(s,t,r,n.lineWidth))}function VO(s,t,r,n){var a,i,A,c;n.top&&(a=r.x,i=r.y,A=r.x+t.width,c=r.y,n.right&&(A+=.5*n.right),n.left&&(a-=.5*n.left),d(n.top,a,i,A,c)),n.bottom&&(a=r.x,i=r.y+t.height,A=r.x+t.width,c=r.y+t.height,n.right&&(A+=.5*n.right),n.left&&(a-=.5*n.left),d(n.bottom,a,i,A,c)),n.left&&(a=r.x,i=r.y,A=r.x,c=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(c+=.5*n.bottom),d(n.left,a,i,A,c)),n.right&&(a=r.x+t.width,i=r.y,A=r.x+t.width,c=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(c+=.5*n.bottom),d(n.right,a,i,A,c));function d(u,m,f,x,g){s.getDocument().setLineWidth(u),s.getDocument().line(m,f,x,g,"S")}}function mC(s,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),s.pageSize().height-n.y-a}function Sh(s,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),s.applyStyles(s.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(c){return LA(s,t,c,n,a)}),t.callEndPageHooks(s,n);var A=t.settings.margin;nC(s,t,r,n),fC(s),t.pageNumber++,n.x=A.left,n.y=A.top,r.y=A.top,t.callWillDrawPageHooks(s,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(c){return LA(s,t,c,n,a)}),s.applyStyles(s.userStyles))}function fC(s){var t=s.pageNumber();s.setPage(t+1);var r=s.pageNumber();return r===t?(s.addPage(),!0):!1}function zO(s){s.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=AC(this,n),i=uC(this,a);return hC(this,i),this},s.API.lastAutoTable=!1,s.API.autoTableText=function(t,r,n,a){tC(t,r,n,a,this)},s.API.autoTableSetDefaults=function(t){return yu.setDefaults(t,this),this},s.autoTableSetDefaults=function(t,r){yu.setDefaults(t,r)},s.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new yu(this),i=lC(a,t,window,r,!1),A=i.head,c=i.body,d=((n=A[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:d,rows:c,data:c}}}var U0;function GO(s,t){var r=AC(s,t),n=uC(s,r);hC(s,n)}try{if(typeof window<"u"&&window){var Ky=window,Vy=Ky.jsPDF||((U0=Ky.jspdf)===null||U0===void 0?void 0:U0.jsPDF);Vy&&zO(Vy)}}catch(s){console.error("Could not apply autoTable plugin",s)}function $O(){const{payments:s,students:t,classes:r,feeStructures:n,studentFeeBalances:a,currentTerm:i,currentAcademicYear:A,schoolSettings:c}=Fs(),[d,u]=S.useState("all"),[m,f]=S.useState(i),[x,g]=S.useState(A),[N,b]=S.useState("all"),j=()=>{let H=a.filter(I=>I.term===m&&I.academicYear===x);return d!=="all"&&(H=H.filter(I=>I.classId===Number(d))),N!=="all"&&(H=H.filter(I=>I.status===N)),H},y=()=>{const H=j(),I=H.reduce((ie,W)=>ie+W.totalFeeRequired,0),D=H.reduce((ie,W)=>ie+W.totalPaid,0),P=H.reduce((ie,W)=>ie+W.balance,0),Q=H.filter(ie=>ie.status==="Paid").length,T=H.filter(ie=>ie.status==="Partial").length,$=H.filter(ie=>ie.status==="Unpaid").length,V=I>0?(D/I*100).toFixed(1):"0";return{totalExpected:I,totalCollected:D,totalOutstanding:P,fullyPaid:Q,partiallyPaid:T,unpaid:$,collectionRate:V,totalStudents:H.length}},E=()=>{const H=new cs,I=y(),D=j();H.setFontSize(18),H.text(c.schoolName,105,15,{align:"center"}),H.setFontSize(12),H.text(c.schoolMotto,105,22,{align:"center"}),H.setFontSize(14),H.text("Payment Report",105,32,{align:"center"}),H.setFontSize(10),H.text(`Term: ${m}`,14,42),H.text(`Academic Year: ${x}`,14,48),H.text(`Generated: ${new Date().toLocaleDateString()}`,14,54),H.setFontSize(12),H.text("Summary Statistics",14,65),H.setFontSize(10),H.text(`Total Expected: ${I.totalExpected.toLocaleString()}`,14,72),H.text(`Total Collected: ${I.totalCollected.toLocaleString()}`,14,78),H.text(`Outstanding: ${I.totalOutstanding.toLocaleString()}`,14,84),H.text(`Collection Rate: ${I.collectionRate}%`,14,90),H.text(`Total Students: ${I.totalStudents}`,110,72),H.text(`Fully Paid: ${I.fullyPaid}`,110,78),H.text(`Partially Paid: ${I.partiallyPaid}`,110,84),H.text(`Unpaid: ${I.unpaid}`,110,90);const P=D.map(Q=>{const T=t.find(V=>V.id===Q.studentId),$=r.find(V=>V.id===Q.classId);return[T?`${T.firstName} ${T.lastName}`:"N/A",$?.name||"N/A",`${Q.totalFeeRequired.toLocaleString()}`,`${Q.totalPaid.toLocaleString()}`,`${Q.balance.toLocaleString()}`,Q.status]});GO(H,{head:[["Student Name","Class","Required","Paid","Balance","Status"]],body:P,startY:100,theme:"grid",headStyles:{fillColor:[0,124,145]},styles:{fontSize:8}}),H.save(`Payment_Report_${m}_${x}.pdf`),ge.success("Report exported successfully!")},U=()=>{const H=j(),I=y();let D=`Payment Report
`;D+=`${c.schoolName}
`,D+=`Term: ${m}, Academic Year: ${x}
`,D+=`Generated: ${new Date().toLocaleDateString()}

`,D+=`Summary Statistics
`,D+=`Total Expected,${I.totalExpected}
`,D+=`Total Collected,${I.totalCollected}
`,D+=`Outstanding,${I.totalOutstanding}
`,D+=`Collection Rate,${I.collectionRate}%
`,D+=`Total Students,${I.totalStudents}
`,D+=`Fully Paid,${I.fullyPaid}
`,D+=`Partially Paid,${I.partiallyPaid}
`,D+=`Unpaid,${I.unpaid}

`,D+=`Student Name,Admission Number,Class,Required,Paid,Balance,Status
`,H.forEach($=>{const V=t.find(W=>W.id===$.studentId),ie=r.find(W=>W.id===$.classId);D+=`${V?`${V.firstName} ${V.lastName}`:"N/A"},`,D+=`${V?.admissionNumber||"N/A"},`,D+=`${ie?.name||"N/A"},`,D+=`${$.totalFeeRequired},`,D+=`${$.totalPaid},`,D+=`${$.balance},`,D+=`${$.status}
`});const P=new Blob([D],{type:"text/csv"}),Q=window.URL.createObjectURL(P),T=document.createElement("a");T.href=Q,T.download=`Payment_Report_${m}_${x}.csv`,T.click(),ge.success("CSV exported successfully!")},k=y(),q=j(),G=r.filter(H=>H.status==="Active");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Payment Reports"}),e.jsx("p",{className:"text-[#6B7280]",children:"Generate and export comprehensive payment reports"})]}),e.jsxs(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(np,{className:"w-5 h-5 text-[#007C91]"}),e.jsx(ur,{className:"text-[#1F2937]",children:"Report Filters"})]})}),e.jsxs(Le,{className:"p-6",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#1F2937] mb-2 block",children:"Class"}),e.jsxs(Ot,{value:d,onValueChange:u,children:[e.jsx(Mt,{className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]",children:e.jsx(Ht,{})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"all",children:"All Classes"}),G.map(H=>e.jsx(ke,{value:H.id.toString(),children:H.name},H.id))]})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#1F2937] mb-2 block",children:"Term"}),e.jsxs(Ot,{value:m,onValueChange:f,children:[e.jsx(Mt,{className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]",children:e.jsx(Ht,{})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"First Term",children:"First Term"}),e.jsx(ke,{value:"Second Term",children:"Second Term"}),e.jsx(ke,{value:"Third Term",children:"Third Term"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#1F2937] mb-2 block",children:"Academic Year"}),e.jsxs(Ot,{value:x,onValueChange:g,children:[e.jsx(Mt,{className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]",children:e.jsx(Ht,{})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"2023/2024",children:"2023/2024"}),e.jsx(ke,{value:"2024/2025",children:"2024/2025"}),e.jsx(ke,{value:"2025/2026",children:"2025/2026"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#1F2937] mb-2 block",children:"Payment Status"}),e.jsxs(Ot,{value:N,onValueChange:b,children:[e.jsx(Mt,{className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]",children:e.jsx(Ht,{})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"all",children:"All Statuses"}),e.jsx(ke,{value:"Paid",children:"Fully Paid"}),e.jsx(ke,{value:"Partial",children:"Partially Paid"}),e.jsx(ke,{value:"Unpaid",children:"Unpaid"})]})]})]})]}),e.jsxs("div",{className:"mt-4 flex gap-3",children:[e.jsxs(Ee,{onClick:E,className:"bg-[#007C91] hover:bg-[#006073] text-white rounded-xl shadow-clinical",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),e.jsxs(Ee,{onClick:U,variant:"outline",className:"border-[#007C91] text-[#007C91] hover:bg-[#007C91]/10 rounded-xl",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsx(Ce,{className:"rounded-xl bg-gradient-to-br from-[#007C91] to-[#006073] text-white shadow-clinical",children:e.jsxs(Le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(Hl,{className:"w-6 h-6"})}),e.jsx(Nd,{className:"w-5 h-5 opacity-70"})]}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Total Expected"}),e.jsxs("h3",{className:"text-white",children:["",k.totalExpected.toLocaleString()]})]})}),e.jsx(Ce,{className:"rounded-xl bg-gradient-to-br from-[#10B981] to-[#059669] text-white shadow-clinical",children:e.jsxs(Le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(Hl,{className:"w-6 h-6"})}),e.jsxs("span",{className:"text-sm opacity-80",children:[k.collectionRate,"%"]})]}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Total Collected"}),e.jsxs("h3",{className:"text-white",children:["",k.totalCollected.toLocaleString()]})]})}),e.jsx(Ce,{className:"rounded-xl bg-gradient-to-br from-[#EF4444] to-[#DC2626] text-white shadow-clinical",children:e.jsxs(Le,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(Es,{className:"w-6 h-6"})})}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Outstanding"}),e.jsxs("h3",{className:"text-white",children:["",k.totalOutstanding.toLocaleString()]})]})}),e.jsx(Ce,{className:"rounded-xl bg-gradient-to-br from-[#F4B400] to-[#F59E0B] text-white shadow-clinical",children:e.jsxs(Le,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(Qs,{className:"w-6 h-6"})})}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Total Students"}),e.jsx("h3",{className:"text-white",children:k.totalStudents})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[#6B7280] text-sm mb-1",children:"Fully Paid"}),e.jsx("h3",{className:"text-[#10B981]",children:k.fullyPaid})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#10B981]/10 flex items-center justify-center",children:e.jsx("span",{className:"text-[#10B981]",children:""})})]})})}),e.jsx(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[#6B7280] text-sm mb-1",children:"Partially Paid"}),e.jsx("h3",{className:"text-[#F59E0B]",children:k.partiallyPaid})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#F59E0B]/10 flex items-center justify-center",children:e.jsx("span",{className:"text-[#F59E0B]",children:""})})]})})}),e.jsx(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[#6B7280] text-sm mb-1",children:"Unpaid"}),e.jsx("h3",{className:"text-[#EF4444]",children:k.unpaid})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#EF4444]/10 flex items-center justify-center",children:e.jsx("span",{className:"text-[#EF4444]",children:""})})]})})})]}),e.jsxs(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(sa,{className:"w-5 h-5 text-[#007C91]"}),e.jsx(ur,{className:"text-[#1F2937]",children:"Detailed Payment Report"})]})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#007C91] text-white",children:[e.jsx("th",{className:"text-left p-4",children:"Student Name"}),e.jsx("th",{className:"text-left p-4",children:"Class"}),e.jsx("th",{className:"text-right p-4",children:"Required"}),e.jsx("th",{className:"text-right p-4",children:"Paid"}),e.jsx("th",{className:"text-right p-4",children:"Balance"}),e.jsx("th",{className:"text-center p-4",children:"Status"})]})}),e.jsx("tbody",{children:q.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center p-8 text-[#6B7280]",children:"No payment records found for the selected filters"})}):q.map(H=>{const I=t.find(P=>P.id===H.studentId),D=r.find(P=>P.id===H.classId);return e.jsxs("tr",{className:"border-b border-[#E5E7EB] hover:bg-[#F9FAFB]",children:[e.jsx("td",{className:"p-4 text-[#1F2937]",children:I?`${I.firstName} ${I.lastName}`:"N/A"}),e.jsx("td",{className:"p-4 text-[#6B7280]",children:D?.name||"N/A"}),e.jsxs("td",{className:"p-4 text-right text-[#1F2937]",children:["",H.totalFeeRequired.toLocaleString()]}),e.jsxs("td",{className:"p-4 text-right text-[#10B981]",children:["",H.totalPaid.toLocaleString()]}),e.jsxs("td",{className:"p-4 text-right text-[#EF4444]",children:["",H.balance.toLocaleString()]}),e.jsx("td",{className:"p-4 text-center",children:e.jsx(yt,{className:`rounded-full ${H.status==="Paid"?"bg-[#10B981] text-white":H.status==="Partial"?"bg-[#F59E0B] text-white":"bg-[#EF4444] text-white"}`,children:H.status})})]},H.id)})})]})})})]})]})}function WO(){const{bankAccountSettings:s,updateBankAccountSettings:t,currentUser:r}=Fs(),[n,a]=S.useState({bankName:"",accountName:"",accountNumber:"",paymentMethods:{bankTransfer:!0,onlinePayment:!1,cash:!0}});S.useEffect(()=>{s&&a({bankName:s.bankName,accountName:s.accountName,accountNumber:s.accountNumber,paymentMethods:s.paymentMethods})},[s]);const i=(d,u)=>{a({...n,[d]:u})},A=(d,u)=>{a({...n,paymentMethods:{...n.paymentMethods,[d]:u}})},c=()=>{if(!n.bankName||!n.accountName||!n.accountNumber){ge.error("Please fill in all required fields");return}if(!r){ge.error("User not authenticated");return}t({bankName:n.bankName,accountName:n.accountName,accountNumber:n.accountNumber,paymentMethods:n.paymentMethods,updatedBy:r.id}),ge.success("Bank account settings saved successfully!")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Bank Account Settings"}),e.jsx("p",{className:"text-[#6B7280]",children:"Manage school bank account and payment methods"})]}),e.jsxs(Vi,{className:"bg-[#007C91]/10 border-[#007C91] rounded-xl",children:[e.jsx(Es,{className:"h-4 w-4 text-[#007C91]"}),e.jsx(zi,{className:"text-[#007C91]",children:"This information will be displayed to parents for fee payments. Ensure all details are accurate."})]}),e.jsxs(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#007C91]/10 flex items-center justify-center",children:e.jsx(qy,{className:"w-6 h-6 text-[#007C91]"})}),e.jsxs("div",{children:[e.jsx(ur,{className:"text-[#1F2937]",children:"Bank Account Information"}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-1",children:"Configure school bank account details"})]})]})}),e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#1F2937] mb-2 block",children:"Bank Name *"}),e.jsx(kt,{type:"text",value:n.bankName,onChange:d=>i("bankName",d.target.value),placeholder:"e.g., First Bank of Nigeria",className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]"})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#1F2937] mb-2 block",children:"Account Name *"}),e.jsx(kt,{type:"text",value:n.accountName,onChange:d=>i("accountName",d.target.value),placeholder:"e.g., Graceland Royal Academy Gombe",className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]"})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#1F2937] mb-2 block",children:"Account Number *"}),e.jsx(kt,{type:"text",value:n.accountNumber,onChange:d=>i("accountNumber",d.target.value),placeholder:"e.g., 1234567890",maxLength:10,className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]"})]})]})})]}),e.jsxs(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#F4B400]/10 flex items-center justify-center",children:e.jsx(SA,{className:"w-6 h-6 text-[#F4B400]"})}),e.jsxs("div",{children:[e.jsx(ur,{className:"text-[#1F2937]",children:"Payment Methods"}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-1",children:"Select available payment options for parents"})]})]})}),e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB] hover:border-[#007C91] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(vi,{id:"bankTransfer",checked:n.paymentMethods.bankTransfer,onCheckedChange:d=>A("bankTransfer",d)}),e.jsx(Ze,{htmlFor:"bankTransfer",className:"text-[#1F2937] cursor-pointer",children:"Bank Transfer"})]}),e.jsx("span",{className:"text-sm text-[#6B7280]",children:"Direct transfer to school account"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB] hover:border-[#007C91] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(vi,{id:"onlinePayment",checked:n.paymentMethods.onlinePayment,onCheckedChange:d=>A("onlinePayment",d)}),e.jsx(Ze,{htmlFor:"onlinePayment",className:"text-[#1F2937] cursor-pointer",children:"Online Payment Gateway"})]}),e.jsx("span",{className:"text-sm text-[#6B7280]",children:"Paystack, Flutterwave, etc."})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB] hover:border-[#007C91] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(vi,{id:"cash",checked:n.paymentMethods.cash,onCheckedChange:d=>A("cash",d)}),e.jsx(Ze,{htmlFor:"cash",className:"text-[#1F2937] cursor-pointer",children:"Cash Payment"})]}),e.jsx("span",{className:"text-sm text-[#6B7280]",children:"Payment at school office"})]})]})})]}),s&&e.jsxs(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsx(ur,{className:"text-[#1F2937]",children:"Current Settings"})}),e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg",children:[e.jsx("p",{className:"text-sm text-[#6B7280] mb-1",children:"Bank Name"}),e.jsx("p",{className:"text-[#1F2937]",children:s.bankName})]}),e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg",children:[e.jsx("p",{className:"text-sm text-[#6B7280] mb-1",children:"Account Number"}),e.jsx("p",{className:"text-[#1F2937]",children:s.accountNumber})]}),e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg md:col-span-2",children:[e.jsx("p",{className:"text-sm text-[#6B7280] mb-1",children:"Account Name"}),e.jsx("p",{className:"text-[#1F2937]",children:s.accountName})]}),e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg md:col-span-2",children:[e.jsx("p",{className:"text-sm text-[#6B7280] mb-2",children:"Active Payment Methods"}),e.jsxs("div",{className:"flex gap-2",children:[s.paymentMethods.bankTransfer&&e.jsx("span",{className:"px-3 py-1 bg-[#007C91] text-white text-sm rounded-full",children:"Bank Transfer"}),s.paymentMethods.onlinePayment&&e.jsx("span",{className:"px-3 py-1 bg-[#007C91] text-white text-sm rounded-full",children:"Online Payment"}),s.paymentMethods.cash&&e.jsx("span",{className:"px-3 py-1 bg-[#007C91] text-white text-sm rounded-full",children:"Cash"})]})]})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(Ee,{onClick:c,className:"bg-[#007C91] hover:bg-[#006073] text-white rounded-xl shadow-clinical hover:shadow-clinical-lg transition-all",children:[e.jsx(Hc,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]})}function qO({onLogout:s}){const{payments:t,currentUser:r,accountants:n,studentFeeBalances:a,students:i,classes:A,currentTerm:c,currentAcademicYear:d,getUnreadNotifications:u}=Fs(),[m,f]=S.useState("dashboard"),x=r?n.find(D=>D.id===r.linked_id):null,g=x?`${x.firstName} ${x.lastName}`:"Accountant",N=[{icon:e.jsx(ap,{className:"w-5 h-5"}),label:"Dashboard",id:"dashboard"},{icon:e.jsx(SA,{className:"w-5 h-5"}),label:"Set Fees",id:"set-fees"},{icon:e.jsx(ud,{className:"w-5 h-5"}),label:"Record Payments",id:"record-payments"},{icon:e.jsx(Hl,{className:"w-5 h-5"}),label:"Manual Payment Entry",id:"manual-payment-entry"},{icon:e.jsx(Br,{className:"w-5 h-5"}),label:"Verify Receipts",id:"verify-receipts"},{icon:e.jsx(Ef,{className:"w-5 h-5"}),label:"Payment Reports",id:"payment-reports"},{icon:e.jsx(sa,{className:"w-5 h-5"}),label:"Payment History",id:"payment-history"},{icon:e.jsx(qy,{className:"w-5 h-5"}),label:"Bank Settings",id:"bank-settings"},{icon:e.jsx(Zo,{className:"w-5 h-5"}),label:"Notifications",id:"notifications"},{icon:e.jsx(ju,{className:"w-5 h-5"}),label:"Change Password",id:"change-password"},{icon:e.jsx(kx,{className:"w-5 h-5"}),label:"Logout",id:"logout"}],b=D=>{D==="logout"?s():f(D)},j=t.filter(D=>D.status==="Pending"),y=r?u():[];a.length>0&&a[0].academic_year;const E=a.reduce((D,P)=>D+P.total_fee_required,0),U=a.reduce((D,P)=>D+P.total_paid,0),k=a.reduce((D,P)=>D+P.balance,0),q=E>0?(U/E*100).toFixed(1):"0",G=new Date().toDateString();t.slice(0,5).sort((D,P)=>new Date(P.recorded_date).getTime()-new Date(D.recorded_date).getTime());const H=t.filter(D=>new Date(D.recorded_date).toDateString()===G&&D.status==="Verified"),I=H.reduce((D,P)=>D+P.amount,0);return e.jsxs("div",{className:"min-h-screen bg-[#F4F6F9]",children:[e.jsx(fp,{items:N,activeItem:m,onItemClick:b,themeColor:"#007C91"}),e.jsxs("div",{className:"lg:pl-64",children:[e.jsx(pp,{userName:g,userRole:"Accountant",notificationCount:y.length,onLogout:s}),e.jsx("main",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:m==="dashboard"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Accountant Dashboard"}),e.jsx("p",{className:"text-[#6B7280]",children:"Financial Management & Fee Collection"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ce,{className:"rounded-xl bg-gradient-to-br from-[#007C91] to-[#006073] text-white border-0 shadow-clinical hover:shadow-clinical-lg transition-all",children:e.jsxs(Le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(Nd,{className:"w-6 h-6"})}),e.jsxs("span",{className:"text-sm opacity-80",children:[q,"%"]})]}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Total Collected"}),e.jsxs("h3",{className:"text-white",children:["",U.toLocaleString()]}),e.jsx("p",{className:"text-xs text-white/60 mt-2",children:c})]})}),e.jsx(Ce,{className:"rounded-xl bg-gradient-to-br from-[#10B981] to-[#059669] text-white border-0 shadow-clinical hover:shadow-clinical-lg transition-all",children:e.jsxs(Le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(Hl,{className:"w-6 h-6"})}),e.jsx("span",{className:"text-sm opacity-80",children:"Today"})]}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Today's Revenue"}),e.jsxs("h3",{className:"text-white",children:["",I.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-white/60 mt-2",children:[H.length," payments"]})]})}),e.jsx(Ce,{className:"rounded-xl bg-gradient-to-br from-[#F59E0B] to-[#F4B400] text-white border-0 shadow-clinical hover:shadow-clinical-lg transition-all",children:e.jsxs(Le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(ud,{className:"w-6 h-6"})}),e.jsx(yt,{className:"bg-white/20 text-white border-0",children:j.length})]}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Pending Verification"}),e.jsx("h3",{className:"text-white",children:j.length}),e.jsx("p",{className:"text-xs text-white/60 mt-2",children:"Awaiting approval"})]})}),e.jsx(Ce,{className:"rounded-xl bg-gradient-to-br from-[#EF4444] to-[#DC2626] text-white border-0 shadow-clinical hover:shadow-clinical-lg transition-all",children:e.jsxs(Le,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(Hl,{className:"w-6 h-6"})})}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Outstanding"}),e.jsxs("h3",{className:"text-white",children:["",k.toLocaleString()]}),e.jsx("p",{className:"text-xs text-white/60 mt-2",children:"Requires follow-up"})]})})]}),e.jsxs(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsxs(ur,{className:"text-[#1F2937]",children:["Fee Collection Progress - ",c]})}),e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-[#6B7280] text-sm",children:"Collection Rate"}),e.jsxs("span",{className:"text-[#007C91]",children:[q,"%"]})]}),e.jsx("div",{className:"w-full bg-[#E5E7EB] rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-[#007C91] to-[#10B981] h-full rounded-full transition-all duration-500",style:{width:`${q}%`}})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg",children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Expected"}),e.jsxs("p",{className:"text-[#1F2937]",children:["",E.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 bg-[#10B981]/10 rounded-lg",children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Collected"}),e.jsxs("p",{className:"text-[#10B981]",children:["",U.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 bg-[#EF4444]/10 rounded-lg",children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Outstanding"}),e.jsxs("p",{className:"text-[#EF4444]",children:["",k.toLocaleString()]})]})]})]})})]}),e.jsxs(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ur,{className:"text-[#1F2937]",children:"Pending Payment Verifications"}),e.jsx(yt,{className:"bg-[#F59E0B] text-white border-0 rounded-full",children:j.length})]})}),e.jsxs(Le,{className:"p-0",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-[#007C91] border-none hover:bg-[#007C91]",children:[e.jsx(At,{className:"text-white",children:"Student Name"}),e.jsx(At,{className:"text-white",children:"Term"}),e.jsx(At,{className:"text-white",children:"Amount"}),e.jsx(At,{className:"text-white",children:"Date"}),e.jsx(At,{className:"text-white",children:"Payment Method"}),e.jsx(At,{className:"text-white text-center",children:"Action"})]})}),e.jsx(On,{children:j.length===0?e.jsx(As,{className:"bg-white",children:e.jsx(Xe,{colSpan:6,className:"text-center py-8 text-[#6B7280]",children:"No pending payments to verify"})}):j.slice(0,5).map(D=>e.jsxs(As,{className:"bg-white border-b border-[#E5E7EB] hover:bg-[#F9FAFB]",children:[e.jsx(Xe,{className:"text-[#1F2937]",children:D.student_name}),e.jsx(Xe,{className:"text-[#6B7280]",children:D.term}),e.jsxs(Xe,{className:"text-[#007C91]",children:["",D.amount.toLocaleString()]}),e.jsx(Xe,{className:"text-[#6B7280]",children:new Date(D.recorded_date).toLocaleDateString()}),e.jsx(Xe,{className:"text-[#6B7280]",children:D.payment_method}),e.jsx(Xe,{className:"text-center",children:e.jsxs(Ee,{onClick:()=>f("verify-receipts"),className:"bg-[#007C91] hover:bg-[#006073] text-white rounded-xl text-xs h-9 shadow-clinical hover:shadow-clinical-lg transition-all",children:[e.jsx(Pn,{className:"w-3 h-3 mr-1"}),"Verify"]})})]},D.id))})]})}),j.length>5&&e.jsx("div",{className:"p-4 border-t border-[#E5E7EB] text-center",children:e.jsxs(Ee,{onClick:()=>f("verify-receipts"),variant:"outline",className:"text-[#007C91] border-[#007C91] hover:bg-[#007C91]/10 rounded-xl",children:["View All ",j.length," Pending Payments"]})})]})]}),e.jsxs(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsx(ur,{className:"text-[#1F2937]",children:"Recent Verified Payments"})}),e.jsx(Le,{className:"p-6",children:t.filter(D=>D.status==="Verified").slice(0,5).map(D=>e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#E5E7EB] last:border-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-[#1F2937]",children:D.student_name}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:D.payment_type})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-[#007C91]",children:["$",D.amount]}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:new Date(D.recorded_date).toLocaleDateString()})]})]},D.id))})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical hover:shadow-clinical-lg transition-all cursor-pointer group",onClick:()=>f("set-fees"),children:e.jsxs(Le,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[#007C91]/10 flex items-center justify-center group-hover:bg-[#007C91]/20 transition-all",children:e.jsx(SA,{className:"w-8 h-8 text-[#007C91]"})}),e.jsx("h3",{className:"text-[#1F2937] mb-2",children:"Set Fee Structure"}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:"Configure fees for classes"})]})}),e.jsx(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical hover:shadow-clinical-lg transition-all cursor-pointer group",onClick:()=>f("record-payments"),children:e.jsxs(Le,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[#10B981]/10 flex items-center justify-center group-hover:bg-[#10B981]/20 transition-all",children:e.jsx(ud,{className:"w-8 h-8 text-[#10B981]"})}),e.jsx("h3",{className:"text-[#1F2937] mb-2",children:"Record Payment"}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:"Record payments"})]})}),e.jsx(Ce,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical hover:shadow-clinical-lg transition-all cursor-pointer group",onClick:()=>f("payment-reports"),children:e.jsxs(Le,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[#F4B400]/10 flex items-center justify-center group-hover:bg-[#F4B400]/20 transition-all",children:e.jsx(Ef,{className:"w-8 h-8 text-[#F4B400]"})}),e.jsx("h3",{className:"text-[#1F2937] mb-2",children:"Payment Reports"}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:"View payment reports"})]})})]})]}):null}),m!=="dashboard"&&e.jsxs("main",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[m==="payment-reports"&&e.jsx($O,{}),m==="payment-history"&&e.jsx(oO,{}),m==="bank-settings"&&e.jsx(WO,{}),m==="notifications"&&e.jsx(Ip,{}),m==="change-password"&&e.jsx(bw,{}),m==="verify-receipts"&&e.jsx(lO,{})]})]})]})}function YO(){const{currentUser:s,parents:t,students:r,compiledResults:n,getScoresByStudent:a,currentTerm:i,currentAcademicYear:A}=Fs(),[c,d]=S.useState(""),[u,m]=S.useState(i),[f,x]=S.useState(A),g=s?t.find(G=>G.id===s.linkedId):null,N=g?r.filter(G=>g.studentIds.includes(G.id)):[],b=N.find(G=>G.id===Number(c)),j=b?n.filter(G=>G.studentId===b.id&&G.status==="Approved"):[],y=b?n.find(G=>G.studentId===b.id&&G.term===u&&G.academicYear===f&&G.status==="Approved"):null,E=y?y.scores:[],U=G=>{ge.success(`Downloading ${G.term} ${G.academicYear} report card...`)},k=G=>{ge.info(`Opening ${G.term} ${G.academicYear} detailed report...`)},q=G=>G==="A"?"bg-[#28A745]":G==="B"?"bg-[#1E90FF]":G==="C"?"bg-[#FFC107]":"bg-[#DC3545]";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-white mb-2",children:"Performance Reports"}),e.jsx("p",{className:"text-[#C0C8D3]",children:"View and download academic performance reports"})]}),e.jsx(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white",children:"Select Child"}),e.jsxs(Ot,{value:c,onValueChange:d,children:[e.jsx(Mt,{className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white",children:e.jsx(Ht,{placeholder:"Choose child"})}),e.jsx(Kt,{className:"bg-[#0F243E] border-white/10",children:N.map(G=>e.jsxs(ke,{value:G.id.toString(),className:"text-white hover:bg-[#1E90FF]",children:[G.firstName," ",G.lastName," - ",G.className]},G.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white",children:"Academic Year"}),e.jsxs(Ot,{value:f,onValueChange:x,children:[e.jsx(Mt,{className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white",children:e.jsx(Ht,{placeholder:"Select year"})}),e.jsxs(Kt,{className:"bg-[#0F243E] border-white/10",children:[e.jsx(ke,{value:"2024/2025",className:"text-white hover:bg-[#1E90FF]",children:"2024/2025"}),e.jsx(ke,{value:"2023/2024",className:"text-white hover:bg-[#1E90FF]",children:"2023/2024"}),e.jsx(ke,{value:"2022/2023",className:"text-white hover:bg-[#1E90FF]",children:"2022/2023"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white",children:"Term"}),e.jsxs(Ot,{value:u,onValueChange:m,children:[e.jsx(Mt,{className:"h-12 rounded-xl border border-white/10 bg-[#0F243E] text-white",children:e.jsx(Ht,{placeholder:"Select term"})}),e.jsxs(Kt,{className:"bg-[#0F243E] border-white/10",children:[e.jsx(ke,{value:"First Term",className:"text-white hover:bg-[#1E90FF]",children:"First Term"}),e.jsx(ke,{value:"Second Term",className:"text-white hover:bg-[#1E90FF]",children:"Second Term"}),e.jsx(ke,{value:"Third Term",className:"text-white hover:bg-[#1E90FF]",children:"Third Term"})]})]})]})]})})}),c&&y?e.jsxs(e.Fragment,{children:[e.jsxs(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:[e.jsx(Qt,{className:"p-5 border-b border-white/10",children:e.jsx("h3",{className:"text-white",children:"Current Term Performance Summary"})}),e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-[#0F243E] rounded-xl border border-white/5",children:[e.jsx("p",{className:"text-xs text-[#C0C8D3] mb-1",children:"Average Score"}),e.jsxs("p",{className:"text-2xl text-white",children:[y.averageScore.toFixed(1),"%"]})]}),e.jsxs("div",{className:"p-4 bg-[#0F243E] rounded-xl border border-white/5",children:[e.jsx("p",{className:"text-xs text-[#C0C8D3] mb-1",children:"Position"}),e.jsxs("p",{className:"text-2xl text-[#FFD700]",children:[y.position,y.position===1?"st":y.position===2?"nd":y.position===3?"rd":"th"]})]}),e.jsxs("div",{className:"p-4 bg-[#0F243E] rounded-xl border border-white/5",children:[e.jsx("p",{className:"text-xs text-[#C0C8D3] mb-1",children:"Out of"}),e.jsx("p",{className:"text-2xl text-white",children:y.totalStudents})]}),e.jsxs("div",{className:"p-4 bg-[#0F243E] rounded-xl border border-white/5",children:[e.jsx("p",{className:"text-xs text-[#C0C8D3] mb-1",children:"Attendance"}),e.jsxs("p",{className:"text-2xl text-[#28A745]",children:[Math.round(y.timesPresent/y.totalAttendanceDays*100),"%"]})]})]})})]}),e.jsxs(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:[e.jsx(Qt,{className:"p-5 border-b border-white/10",children:e.jsxs("h3",{className:"text-white",children:["Subject Performance - ",u," ",f]})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-gradient-to-r from-[#1E90FF] to-[#00BFFF] border-none hover:bg-gradient-to-r",children:[e.jsx(At,{className:"text-white",children:"Subject"}),e.jsx(At,{className:"text-white text-center",children:"1st CA (20)"}),e.jsx(At,{className:"text-white text-center",children:"2nd CA (20)"}),e.jsx(At,{className:"text-white text-center",children:"Exam (60)"}),e.jsx(At,{className:"text-white text-center",children:"Total (100)"}),e.jsx(At,{className:"text-white text-center",children:"Grade"}),e.jsx(At,{className:"text-white text-center",children:"Remark"})]})}),e.jsx(On,{children:E.length===0?e.jsx(As,{className:"bg-[#0F243E] border-b border-white/5",children:e.jsx(Xe,{colSpan:7,className:"text-center py-8",children:e.jsx("p",{className:"text-white",children:"No scores available for this term"})})}):E.map((G,H)=>e.jsxs(As,{className:"bg-[#0F243E] border-b border-white/5 hover:bg-[#132C4A]",children:[e.jsx(Xe,{className:"text-white",children:G.subjectName}),e.jsx(Xe,{className:"text-center text-[#C0C8D3]",children:G.ca1}),e.jsx(Xe,{className:"text-center text-[#C0C8D3]",children:G.ca2}),e.jsx(Xe,{className:"text-center text-[#C0C8D3]",children:G.exam}),e.jsx(Xe,{className:"text-center text-white font-medium",children:G.total}),e.jsx(Xe,{className:"text-center",children:e.jsx(yt,{className:`${q(G.grade)} text-white border-0`,children:G.grade})}),e.jsx(Xe,{className:"text-center text-[#C0C8D3]",children:G.remark})]},H))})]})})})]}),e.jsxs(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:[e.jsx(Qt,{className:"p-5 border-b border-white/10",children:e.jsx("h3",{className:"text-white",children:"Term Reports History"})}),e.jsx(Le,{className:"p-5 space-y-3",children:j.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(sa,{className:"w-12 h-12 mx-auto mb-3 text-[#C0C8D3]"}),e.jsx("p",{className:"text-white mb-1",children:"No approved results yet"}),e.jsx("p",{className:"text-sm text-[#C0C8D3]",children:"Results will appear here once approved by admin"})]}):j.map(G=>e.jsxs("div",{className:"p-4 bg-[#0F243E] rounded-xl border border-white/5 hover:border-white/10 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-white",children:[G.academicYear," - ",G.term]}),e.jsxs("p",{className:"text-xs text-[#C0C8D3]",children:["Class Average: ",G.averageScore.toFixed(1),"%"]})]}),e.jsx(yt,{className:"bg-[#28A745] text-white border-0",children:"Approved"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[e.jsxs("div",{className:"p-3 bg-[#132C4A] rounded-lg border border-white/5",children:[e.jsx("p",{className:"text-xs text-[#C0C8D3] mb-1",children:"Average"}),e.jsxs("p",{className:"text-white",children:[G.averageScore.toFixed(1),"%"]})]}),e.jsxs("div",{className:"p-3 bg-[#132C4A] rounded-lg border border-white/5",children:[e.jsx("p",{className:"text-xs text-[#C0C8D3] mb-1",children:"Position"}),e.jsxs("p",{className:"text-[#FFD700]",children:[G.position,G.position===1?"st":G.position===2?"nd":G.position===3?"rd":"th"]})]}),e.jsxs("div",{className:"p-3 bg-[#132C4A] rounded-lg border border-white/5",children:[e.jsx("p",{className:"text-xs text-[#C0C8D3] mb-1",children:"Out of"}),e.jsx("p",{className:"text-white",children:G.totalStudents})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Ee,{onClick:()=>k(G),className:"flex-1 bg-[#1E90FF] hover:bg-[#00BFFF] text-white rounded-xl shadow-md hover:scale-105 transition-all h-10",children:[e.jsx(Pn,{className:"w-4 h-4 mr-2"}),"View Details"]}),e.jsxs(Ee,{onClick:()=>U(G),className:"flex-1 bg-[#28A745] hover:bg-[#28A745]/90 text-white rounded-xl shadow-md hover:scale-105 transition-all h-10",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Download"]})]})]},G.id))})]})]}):c&&!y?e.jsx(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:e.jsxs(Le,{className:"p-12 text-center",children:[e.jsx(sa,{className:"w-16 h-16 mx-auto mb-4 text-[#1E90FF]"}),e.jsx("h3",{className:"text-white mb-2",children:"No Results Available"}),e.jsxs("p",{className:"text-[#C0C8D3]",children:["No approved results for ",b?.firstName," ",b?.lastName," in ",u," ",f]})]})}):e.jsx(Ce,{className:"rounded-xl bg-[#132C4A] border border-white/10 shadow-lg",children:e.jsxs(Le,{className:"p-12 text-center",children:[e.jsx(sa,{className:"w-16 h-16 mx-auto mb-4 text-[#1E90FF]"}),e.jsx("h3",{className:"text-white mb-2",children:"No Child Selected"}),e.jsx("p",{className:"text-[#C0C8D3]",children:"Please select a child to view their performance reports"})]})})]})}const pC=S.forwardRef(({studentId:s,term:t,academicYear:r,className:n=""},a)=>{const{students:i,classes:A,scores:c,affectiveDomains:d,psychomotorDomains:u,compiledResults:m,subjectAssignments:f,subjectRegistrations:x}=Fs(),g=i.find(P=>P.id===s);if(!g)return null;const N=m.find(P=>P.studentId===s&&P.term===t&&P.academicYear===r&&P.status==="Approved");if(!N)return e.jsx("div",{className:"p-8 text-center bg-white rounded-xl border border-gray-200",children:e.jsx("p",{className:"text-gray-600",children:"No approved result available for this term"})});const b=A.find(P=>P.id===g.classId),j=x.filter(P=>P.classId===g.classId&&P.term===t&&P.academicYear===r&&P.status==="Active"),E=(N.scores||[]).filter(P=>j.some(Q=>f.some(T=>T.id===P.subjectAssignmentId&&T.subjectId===Q.subjectId))),U=E.reduce((P,Q)=>P+Q.total,0),k=(E||[]).length>0?Math.round(U/(E||[]).length*100)/100:0,q=N.affective,G=N.psychomotor,H=P=>P?new Date(P).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"",I=P=>P===5?"Excellent":P===4?"Very Good":P===3?"Good":P===2?"Fair":P===1?"Poor":"",D=()=>t==="First Term"?"15-SEP-2025":t==="Second Term"?"08-JAN-2026":t==="Third Term"?"15-APR-2026":"";return e.jsxs("div",{ref:a,className:`bg-white p-8 ${n}`,style:{fontFamily:"Arial, sans-serif"},children:[e.jsxs("div",{className:"text-center mb-6 border-b-2 border-green-600 pb-4",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})})}),e.jsx("h1",{className:"text-green-600 font-bold text-2xl mb-1",children:"GRACELAND ROYAL ACADEMY"}),e.jsx("p",{className:"text-sm text-gray-700 mb-1",children:"BEHIND HAKIM PALACE OPPOSITE NNPC DEPOT TUNFURE, GOMBE"}),e.jsx("p",{className:"text-sm text-gray-600",children:"gracelandroyalacademy05@gmail.com"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-4 mb-6",children:[e.jsx("div",{className:"col-span-2",children:e.jsx("div",{className:"w-24 h-28 border-2 border-gray-300 rounded overflow-hidden bg-gray-100 flex items-center justify-center",children:g.photoUrl?e.jsx("img",{src:g.photoUrl,alt:`${g.firstName} ${g.lastName}`,className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-4xl text-gray-400",children:""})})}),e.jsx("div",{className:"col-span-5",children:e.jsx("table",{className:"w-full text-sm",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 font-medium",children:"NAME:"}),e.jsxs("td",{className:"py-1 font-bold",children:[g.firstName.toUpperCase()," ",g.lastName.toUpperCase()]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 font-medium",children:"ADM NO:"}),e.jsx("td",{className:"py-1",children:g.admissionNumber})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 font-medium",children:"GENDER:"}),e.jsx("td",{className:"py-1",children:g.gender.toUpperCase()})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 font-medium",children:"DOB:"}),e.jsx("td",{className:"py-1",children:H(g.dateOfBirth)})]})]})})}),e.jsx("div",{className:"col-span-5",children:e.jsx("table",{className:"w-full text-sm",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 font-medium",children:"SESSION:"}),e.jsx("td",{className:"py-1",children:r})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 font-medium",children:"TERM:"}),e.jsx("td",{className:"py-1 uppercase",children:t})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 font-medium",children:"CLASS:"}),e.jsx("td",{className:"py-1",children:b?.name||g.className})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 font-medium",children:"NO. OF TIMES PRESENT:"}),e.jsxs("td",{className:"py-1",children:[N.timesPresent,"/",N.totalAttendanceDays||0]})]})]})})}),e.jsxs("div",{className:"col-span-12 text-right text-sm",children:[e.jsx("span",{className:"font-medium",children:"NO. IN CLASS:"})," ",e.jsx("span",{className:"font-bold",children:N.totalStudents}),e.jsx("br",{}),e.jsx("span",{className:"font-medium",children:"TERM END:"})," ",e.jsx("span",{children:H(N.termEnd)||"25-JUL-2025"}),e.jsx("br",{}),e.jsx("span",{className:"font-medium",children:"NEXT TERM BEGIN:"})," ",e.jsx("span",{children:N.nextTermBegin||D()})]})]}),e.jsx("div",{className:"text-center mb-2",children:e.jsxs("h2",{className:"font-bold text-sm uppercase",children:[t," Result Sheet"]})}),e.jsx("div",{className:"mb-6 border border-gray-800",children:e.jsxs("table",{className:"w-full text-xs border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-800",children:[e.jsx("th",{className:"border-r border-gray-800 p-1 text-left",style:{width:"3%"},children:"S/N"}),e.jsx("th",{className:"border-r border-gray-800 p-1 text-left",style:{width:"15%"},children:"SUBJECT"}),e.jsxs("th",{className:"border-r border-gray-800 p-1 text-center",style:{width:"5%"},children:["1st CA",e.jsx("br",{}),e.jsx("span",{className:"font-normal",children:"20"})]}),e.jsxs("th",{className:"border-r border-gray-800 p-1 text-center",style:{width:"5%"},children:["2nd CA",e.jsx("br",{}),e.jsx("span",{className:"font-normal",children:"20"})]}),e.jsxs("th",{className:"border-r border-gray-800 p-1 text-center",style:{width:"5%"},children:["Exams",e.jsx("br",{}),e.jsx("span",{className:"font-normal",children:"60"})]}),e.jsxs("th",{className:"border-r border-gray-800 p-1 text-center",style:{width:"6%"},children:["TOTAL",e.jsx("br",{}),e.jsx("span",{className:"font-normal",children:"100"})]}),e.jsxs("th",{className:"border-r border-gray-800 p-1 text-center",style:{width:"6%"},children:["CLASS AVG",e.jsx("br",{}),e.jsx("span",{className:"font-normal",children:"100%"})]}),e.jsx("th",{className:"border-r border-gray-800 p-1 text-center",style:{width:"5%"},children:"GRADE"}),e.jsx("th",{className:"border-r border-gray-800 p-1 text-center",style:{width:"10%"},children:"REMARK"}),e.jsxs("th",{className:"border-r border-gray-800 p-1 text-center",style:{width:"6%"},children:["CLASS MIN",e.jsx("br",{}),e.jsx("span",{className:"font-normal",children:"0"})]}),e.jsxs("th",{className:"border-r border-gray-800 p-1 text-center",style:{width:"6%"},children:["CLASS MAX",e.jsx("br",{}),e.jsx("span",{className:"font-normal",children:"100"})]}),e.jsxs("th",{className:"border-gray-800 p-1 text-center",style:{width:"18%"},children:["SUBJECT",e.jsx("br",{}),"TEACHERS"]})]})}),e.jsxs("tbody",{children:[E.map((P,Q)=>e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:Q+1}),e.jsx("td",{className:"border-r border-gray-800 p-1 font-medium",children:P.subjectName.toUpperCase()}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:P.ca1}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:P.ca2}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:P.exam}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center font-bold",children:P.total}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:P.classAverage}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center font-bold",children:P.grade}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:P.remark}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:P.classMin}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:P.classMax}),e.jsx("td",{className:"border-gray-800 p-1 text-center",children:P.subjectTeacher})]},Q)),e.jsxs("tr",{className:"bg-gray-100 font-bold border-b border-gray-800",children:[e.jsxs("td",{colSpan:5,className:"border-r border-gray-800 p-1",children:["TOTAL SCORE: ",e.jsx("span",{className:"ml-2",children:U.toFixed(1)})]}),e.jsxs("td",{colSpan:2,className:"border-r border-gray-800 p-1",children:["STUDENT AVERAGE: ",e.jsx("span",{className:"ml-2",children:k})]}),e.jsxs("td",{colSpan:3,className:"border-r border-gray-800 p-1",children:["CLASS AVERAGE: ",e.jsx("span",{className:"ml-2",children:N.classAverage})]}),e.jsxs("td",{colSpan:2,className:"border-gray-800 p-1",children:["STUDENT POSITION:"," ",e.jsxs("span",{className:"ml-2",children:[N.position,N.position===1?"st":N.position===2?"nd":N.position===3?"rd":"th"]})]})]})]})]})}),e.jsx("div",{className:"mb-6 border border-gray-800",children:e.jsx("table",{className:"w-full text-xs",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-2 font-bold bg-gray-100",style:{width:"20%"},children:"CLASS TEACHER"}),e.jsx("td",{className:"p-2 font-medium",children:N.classTeacherName})]}),e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-2 font-bold bg-gray-100",children:"CLASS TEACHER'S COMMENT"}),e.jsx("td",{className:"p-2",children:N.classTeacherComment})]}),e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-2 font-bold bg-gray-100",children:"PRINCIPAL"}),e.jsx("td",{className:"p-2 font-medium",children:N.principalName})]}),e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-2 font-bold bg-gray-100",children:"PRINCIPAL'S COMMENT"}),e.jsx("td",{className:"p-2",children:N.principalComment||"Keep up the good work!"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border-r border-gray-800 p-2 font-bold bg-gray-100",children:"PRINCIPAL'S SIGNATURE"}),e.jsx("td",{className:"p-2",children:N.principalSignature?e.jsx("img",{src:N.principalSignature,alt:"Signature",className:"h-8"}):e.jsx("div",{className:"h-8 flex items-center",children:e.jsx("span",{className:"text-gray-400 italic",children:"_________________"})})})]})]})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-800",children:[e.jsx("div",{className:"bg-gray-100 border-b border-gray-800 p-2 text-center font-bold text-xs",children:"AFFECTIVE AREAS"}),e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-800 bg-gray-50",children:[e.jsx("th",{className:"border-r border-gray-800 p-1 text-left",children:"PERSONAL & SOCIAL QUALITIES"}),e.jsx("th",{className:"border-r border-gray-800 p-1 text-center",style:{width:"15%"},children:"SCORES"}),e.jsx("th",{className:"p-1 text-center",style:{width:"25%"},children:"REMARK"})]})}),e.jsx("tbody",{children:q&&e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-1",children:"ATTENTIVENESS"}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:q.attentiveness}),e.jsx("td",{className:"p-1 text-center",children:I(q.attentiveness)})]}),e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-1",children:"HONESTY"}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:q.honesty}),e.jsx("td",{className:"p-1 text-center",children:I(q.honesty)})]}),e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-1",children:"NEATNESS"}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:q.neatness}),e.jsx("td",{className:"p-1 text-center",children:I(q.neatness)})]}),e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-1",children:"OBEDIENCE"}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:q.obedience}),e.jsx("td",{className:"p-1 text-center",children:I(q.obedience)})]}),e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-1",children:"SENSE OF RESPONSIBILITY"}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:q.senseOfResponsibility}),e.jsx("td",{className:"p-1 text-center",children:I(q.senseOfResponsibility)})]})]})})]})]}),e.jsxs("div",{className:"border border-gray-800",children:[e.jsx("div",{className:"bg-gray-100 border-b border-gray-800 p-2 text-center font-bold text-xs",children:"PSYCHOMOTOR SKILLS"}),e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-800 bg-gray-50",children:[e.jsx("th",{className:"border-r border-gray-800 p-1 text-left",children:"PERSONAL & SOCIAL QUALITIES"}),e.jsx("th",{className:"border-r border-gray-800 p-1 text-center",style:{width:"15%"},children:"SCORES"}),e.jsx("th",{className:"p-1 text-center",style:{width:"25%"},children:"REMARK"})]})}),e.jsx("tbody",{children:G&&e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-1",children:"ATTENTION TO DIRECTION"}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:G.attentionToDirection}),e.jsx("td",{className:"p-1 text-center",children:I(G.attentionToDirection)})]}),e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-1",children:"CONSIDERATE OF OTHERS"}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:G.considerateOfOthers}),e.jsx("td",{className:"p-1 text-center",children:I(G.considerateOfOthers)})]}),e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-1",children:"HANDWRITING"}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:G.handwriting}),e.jsx("td",{className:"p-1 text-center",children:I(G.handwriting)})]}),e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-1",children:"SPORTS"}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:G.sports}),e.jsx("td",{className:"p-1 text-center",children:I(G.sports)})]}),e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-1",children:"VERBAL FLUENCY"}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:G.verbalFluency}),e.jsx("td",{className:"p-1 text-center",children:I(G.verbalFluency)})]}),e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"border-r border-gray-800 p-1",children:"WORKS WELL INDEPENDENTLY"}),e.jsx("td",{className:"border-r border-gray-800 p-1 text-center",children:G.worksWellIndependently}),e.jsx("td",{className:"p-1 text-center",children:I(G.worksWellIndependently)})]})]})})]})]})]}),e.jsx("div",{className:"text-center text-xs text-gray-500 mt-4",children:e.jsx("p",{className:"italic",children:"Wisdom & Illumination"})})]})});pC.displayName="StudentResultSheet";function JO(){const{currentUser:s,students:t,parents:r,compiledResults:n,currentTerm:a,currentAcademicYear:i}=Fs(),[A,c]=S.useState(null),[d,u]=S.useState(a),[m,f]=S.useState(i),x=S.useRef(null),g=()=>{if(x.current){const U=window.open("","_blank");if(U){const k=x.current.innerHTML,q=`
          <style>
            @page {
              size: A4;
              margin: 0.5in;
            }
            
            @media print {
              body {
                margin: 0;
                font-family: Arial, sans-serif;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
              }
              
              .bg-white {
                background: white !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
              }
              
              .text-green-600 {
                color: #16a34a !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
              }
              
              .border-b-2 {
                border-bottom: 2px solid #16a34a !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
              }
              
              .border-gray-800 {
                border: 1px solid #1f2937 !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
              }
              
              .border-r {
                border-right: 1px solid #1f2937 !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
              }
              
              .bg-gray-100 {
                background: #f3f4f6 !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
              }
              
              .font-bold {
                font-weight: bold !important;
              }
              
              .text-center {
                text-align: center !important;
              }
              
              table {
                border-collapse: collapse !important;
                width: 100% !important;
              }
              
              td, th {
                padding: 4px !important;
                font-size: 10px !important;
                vertical-align: top !important;
              }
              
              .grid {
                display: block !important;
              }
              
              .col-span-2, .col-span-5, .col-span-12 {
                display: block !important;
                width: 100% !important;
              }
              
              .w-24, .w-20 {
                width: 96px !important;
                height: 112px !important;
                margin: 0 auto 8px !important;
                display: block !important;
              }
              
              .mb-6 {
                margin-bottom: 1rem !important;
              }
              
              .mb-2 {
                margin-bottom: 0.5rem !important;
              }
              
              .mb-1 {
                margin-bottom: 0.25rem !important;
              }
              
              .py-1 {
                padding: 2px 0 !important;
              }
              
              .p-1 {
                padding: 4px !important;
              }
              
              .p-2 {
                padding: 8px !important;
              }
              
              .text-sm {
                font-size: 12px !important;
              }
              
              .text-xs {
                font-size: 10px !important;
              }
              
              .text-2xl {
                font-size: 24px !important;
              }
              
              .gap-4 {
                margin-bottom: 1rem !important;
              }
              
              /* Ensure images don't break */
              img {
                max-width: 100% !important;
                height: auto !important;
                page-break-inside: avoid;
              }
              
              /* Avoid page breaks in important sections */
              .border {
                page-break-inside: avoid;
              }
              
              table {
                page-break-inside: auto;
              }
              
              tr {
                page-break-inside: avoid;
              }
              
              /* Footer styling */
              .text-gray-500 {
                color: #6b7280 !important;
              }
              
              .italic {
                font-style: italic !important;
              }
            }
          </style>
        `;U.document.write("<html><head><title>Result Sheet - Graceland Royal Academy</title>"),U.document.write(q),U.document.write("</head><body>"),U.document.write(k),U.document.write("</body></html>"),U.document.close(),U.focus(),setTimeout(()=>{U.print(),U.close(),ge.success("Result sheet printed successfully with original design preserved")},500)}}},N=()=>{g(),ge.info("Use your browser's 'Save as PDF' option in the print dialog")},b=s?r.find(U=>U.id===s.linked_id):null,j=S.useMemo(()=>b?b?.student_ids?t.filter(U=>b.student_ids.includes(U.id)):[]:[],[b,t]),y=S.useMemo(()=>A?n.filter(U=>U.student_id===A&&U.term===d&&U.academic_year===m&&U.status==="Approved"):[],[A,d,m,n]),E=j.find(U=>U.id===A);return b?e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-[#0A2540] mb-2",children:"View Results"}),e.jsx("p",{className:"text-gray-600",children:"View approved academic results for your children"})]}),e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-[#3B82F6] to-[#2563EB] text-white rounded-t-xl",children:e.jsx(ur,{children:"Select Student & Term"})}),e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#0A2540] mb-2 block",children:"Select Child"}),e.jsxs(Ot,{value:A?.toString()||"",onValueChange:U=>c(Number(U)),children:[e.jsx(Mt,{className:"h-12 rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{placeholder:"Select a child"})}),e.jsx(Kt,{children:j.map(U=>e.jsxs(ke,{value:U.id.toString(),children:[U.first_name," ",U.last_name," - ",U.class_name||"N/A"]},U.id))})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#0A2540] mb-2 block",children:"Term"}),e.jsxs(Ot,{value:d,onValueChange:u,children:[e.jsx(Mt,{className:"h-12 rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"First Term",children:"First Term"}),e.jsx(ke,{value:"Second Term",children:"Second Term"}),e.jsx(ke,{value:"Third Term",children:"Third Term"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ze,{className:"text-[#0A2540] mb-2 block",children:"Academic Year"}),e.jsxs(Ot,{value:m,onValueChange:f,children:[e.jsx(Mt,{className:"h-12 rounded-xl border-[#0A2540]/20",children:e.jsx(Ht,{})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"2024/2025",children:"2024/2025"}),e.jsx(ke,{value:"2025/2026",children:"2025/2026"})]})]})]})]})})]}),j.length===0&&e.jsx(Ce,{className:"border-yellow-200 bg-yellow-50",children:e.jsxs(Le,{className:"p-12 text-center",children:[e.jsx(EA,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-[#0A2540] text-lg mb-2",children:"No Children Linked"}),e.jsx("p",{className:"text-gray-600",children:"You don't have any children linked to your account yet."}),e.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Please contact the school administration to link your children."})]})}),j.length>0&&!A&&e.jsx(Ce,{className:"border-blue-200 bg-blue-50",children:e.jsxs(Le,{className:"p-12 text-center",children:[e.jsx(sa,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-[#0A2540] text-lg mb-2",children:"Select a Child"}),e.jsx("p",{className:"text-gray-600",children:"Please select one of your children from the dropdown above to view their results."})]})}),A&&y.length===0&&e.jsx(Ce,{className:"border-orange-200 bg-orange-50",children:e.jsxs(Le,{className:"p-12 text-center",children:[e.jsx(Es,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-[#0A2540] text-lg mb-2",children:"No Results Available"}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["No approved results found for ",E?.first_name," ",E?.last_name]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["for ",d," ",m]}),e.jsx("p",{className:"text-gray-500 text-sm mt-3",children:"Results may still be pending approval by the administration."})]})}),A&&y.length>0&&e.jsx("div",{className:"space-y-6",children:y.map(U=>e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-[#10B981] to-[#059669] text-white rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ur,{className:"mb-1",children:[E?.first_name," ",E?.last_name]}),e.jsxs("p",{className:"text-sm opacity-90",children:[E?.class_name||"N/A","  ",d," ",m]})]}),e.jsx(yt,{className:"bg-white text-[#10B981] rounded-xl px-4",children:"Approved"})]})}),e.jsxs(Le,{className:"p-6",children:[e.jsx("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("p",{className:"text-sm text-blue-900 mb-1",children:"Total Score"}),e.jsx("p",{className:"text-2xl text-blue-900 font-bold",children:U.total_score}),e.jsxs("p",{className:"text-sm text-blue-700",children:[U.class_average,"%"]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(vr,{children:[e.jsx(Lh,{asChild:!0,children:e.jsxs(Ee,{className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl flex-1",children:[e.jsx(Pn,{className:"w-4 h-4 mr-2"}),"View Full Result Sheet"]})}),e.jsxs(br,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(yr,{children:e.jsxs(Nr,{children:["Result Sheet - ",E?.first_name," ",E?.last_name]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(pC,{ref:x,studentId:A,term:d,academicYear:m}),e.jsxs("div",{className:"flex gap-3 justify-end border-t pt-4",children:[e.jsxs(Ee,{onClick:g,variant:"outline",className:"rounded-xl",children:[e.jsx(Eh,{className:"w-4 h-4 mr-2"}),"Print"]}),e.jsxs(Ee,{onClick:N,className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-xl",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})]})]})]}),e.jsxs(Ee,{onClick:g,variant:"outline",className:"rounded-xl",children:[e.jsx(Eh,{className:"w-4 h-4 mr-2"}),"Print"]}),e.jsxs(Ee,{onClick:N,className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-xl",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Download"]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("h4",{className:"text-[#0A2540] font-medium mb-3",children:"Subject Performance"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:U.scores.slice(0,6).map((k,q)=>e.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-[#0A2540]",children:k.subject_name}),e.jsxs(yt,{className:`rounded-xl ${k.grade==="A"?"bg-green-100 text-green-800 border-green-300":k.grade==="B"?"bg-blue-100 text-blue-800 border-blue-300":k.grade==="C"?"bg-yellow-100 text-yellow-800 border-yellow-300":k.grade==="D"?"bg-orange-100 text-orange-800 border-orange-300":"bg-red-100 text-red-800 border-red-300"}`,children:[k.total," (",k.grade,")"]})]})},q))}),U.scores.length>6&&e.jsxs("p",{className:"text-sm text-gray-600 mt-3 text-center",children:["... and ",U.scores.length-6," more subjects"]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("p",{className:"text-sm text-blue-900 font-medium mb-2",children:"Class Teacher's Comment:"}),e.jsx("p",{className:"text-blue-900",children:U.class_teacher_comment}),e.jsxs("p",{className:"text-sm text-blue-800 mt-2",children:["- ",U.class_teacher_name]})]}),U.principalComment&&e.jsxs("div",{className:"mt-4 p-4 bg-purple-50 rounded-xl border border-purple-200",children:[e.jsx("p",{className:"text-sm text-purple-900 font-medium mb-2",children:"Principal's Comment:"}),e.jsx("p",{className:"text-purple-900",children:U.principal_comment}),e.jsxs("p",{className:"text-sm text-purple-800 mt-2",children:["- ",U.principal_name]})]})]})]},U.id))})]}):e.jsx("div",{className:"p-6",children:e.jsx(Ce,{className:"border-red-200 bg-red-50",children:e.jsxs(Le,{className:"p-6 text-center",children:[e.jsx(Es,{className:"w-12 h-12 text-red-500 mx-auto mb-3"}),e.jsx("p",{className:"text-red-800",children:"Unable to load parent information"})]})})})}function XO(){const{currentUser:s,students:t,parents:r,feeStructures:n,studentFeeBalances:a,payments:i,getFeeStructureByClass:A,getStudentFeeBalance:c,addPayment:d,updateStudentFeeBalance:u,currentTerm:m,currentAcademicYear:f}=Fs(),[x,g]=S.useState(null),[N,b]=S.useState(""),[j,y]=S.useState(""),[E,U]=S.useState(""),[k,q]=S.useState(!1),[G,H]=S.useState(!1),I=s?r.find(ne=>ne.id===s.linkedId):null,D=I?t.filter(ne=>I.studentIds.includes(ne.id)):[],P=x?t.find(ne=>ne.id===x):null,Q=P?A(P.classId,m,f):null,T=P?c(P.id,m,f):null,$=P?i.filter(ne=>ne.studentId===P.id&&ne.term===m&&ne.academicYear===f&&ne.status==="Verified"):[],V=()=>{if(!x||!s){ge.error("Please select a student");return}if(!N||parseFloat(N)<=0){ge.error("Please enter a valid payment amount");return}if(!j){ge.error("Please select a payment method");return}const ne=parseFloat(N),M=T?.balance||0;if(ne>M){ge.error(`Payment amount exceeds balance (${M.toLocaleString()})`);return}const de=`REC/${new Date().getFullYear()}/${String(i.length+1).padStart(4,"0")}`,ue=E||`TRX${Date.now()}`;d({studentId:x,studentName:`${P?.firstName} ${P?.lastName}`,amount:ne,paymentType:ne>=M?"Full Payment":"Partial Payment",term:m,academicYear:f,paymentMethod:j,reference:ue,recordedBy:s.id,recordedDate:new Date().toISOString(),status:"Verified",receiptNumber:de}),u(x),ge.success(`Payment of ${ne.toLocaleString()} successful! Receipt: ${de}`),b(""),y(""),U(""),q(!1)},ie=()=>{T&&(b(T.balance.toString()),q(!0))},W=ne=>{ge.success(`Downloading receipt ${ne.receiptNumber}...`)};return I?D.length===0?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl text-gray-900 mb-2",children:"Pay School Fees"}),e.jsx("p",{className:"text-gray-600",children:"Make payments for your children's school fees"})]}),e.jsxs(Vi,{className:"bg-blue-50 border-blue-200 rounded-xl",children:[e.jsx(Es,{className:"h-4 w-4 text-blue-600"}),e.jsx(zi,{className:"text-gray-900",children:"No children linked to your account. Please contact the school administrator to link your children."})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl text-gray-900 mb-2",children:"Pay School Fees"}),e.jsx("p",{className:"text-gray-600",children:"View fee structures, balances, and make payments for your children"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(ne=>{const M=c(ne.id,m,f),de=A(ne.classId,m,f);return e.jsx(Ce,{className:`rounded-xl bg-white border shadow-sm cursor-pointer transition-all ${x===ne.id?"border-[#2563EB] shadow-md":"border-gray-200 hover:border-[#3B82F6]"}`,onClick:()=>g(ne.id),children:e.jsxs(Le,{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg text-gray-900 font-medium",children:[ne.firstName," ",ne.lastName]}),e.jsx("p",{className:"text-sm text-gray-600",children:ne.className})]}),x===ne.id&&e.jsx(yt,{className:"bg-[#2563EB] text-white border-0",children:"Selected"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total Fee:"}),e.jsxs("span",{className:"text-gray-900 font-medium",children:["",de?.totalFee.toLocaleString()||"0"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Paid:"}),e.jsxs("span",{className:"text-green-600 font-medium",children:["",M?.totalPaid.toLocaleString()||"0"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Balance:"}),e.jsxs("span",{className:`font-medium ${(M?.balance||0)>0?"text-red-600":"text-green-600"}`,children:["",M?.balance.toLocaleString()||"0"]})]})]}),e.jsx("div",{className:"mt-3",children:e.jsx(yt,{className:`${M?.status==="Paid"?"bg-[#10B981] text-white":M?.status==="Partial"?"bg-[#F59E0B] text-white":"bg-[#EF4444] text-white"} border-0`,children:M?.status||"Unpaid"})})]})},ne.id)})}),P&&e.jsxs(e.Fragment,{children:[e.jsxs(Ce,{className:"rounded-xl bg-white border border-gray-200 shadow-sm",children:[e.jsx(Qt,{className:"p-5 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ud,{className:"w-5 h-5 text-[#2563EB]"}),e.jsxs("h3",{className:"text-lg text-gray-900",children:["Fee Structure - ",P.firstName," ",P.lastName," (",P.className,")"]})]}),e.jsx(Ee,{onClick:()=>H(!0),variant:"outline",size:"sm",className:"rounded-xl border-gray-300 text-gray-700",children:"View Details"})]})}),e.jsxs(Le,{className:"p-5",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Fee Required"}),e.jsxs("p",{className:"text-2xl text-gray-900",children:["",Q?.totalFee.toLocaleString()||"0"]})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Amount Paid"}),e.jsxs("p",{className:"text-2xl text-green-600",children:["",T?.totalPaid.toLocaleString()||"0"]})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Balance Due"}),e.jsxs("p",{className:"text-2xl text-red-600",children:["",T?.balance.toLocaleString()||"0"]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Status"}),e.jsx(yt,{className:`${T?.status==="Paid"?"bg-[#10B981] text-white":T?.status==="Partial"?"bg-[#F59E0B] text-white":"bg-[#EF4444] text-white"} border-0 text-lg`,children:T?.status||"Unpaid"})]})]}),(T?.balance||0)>0&&e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsxs(Ee,{onClick:()=>q(!0),className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl shadow-sm",children:[e.jsx(SA,{className:"w-4 h-4 mr-2"}),"Make Partial Payment"]}),e.jsxs(Ee,{onClick:ie,className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-xl shadow-sm",children:[e.jsx(Hl,{className:"w-4 h-4 mr-2"}),"Pay Full Balance (",T?.balance.toLocaleString(),")"]})]}),T?.status==="Paid"&&e.jsxs(Vi,{className:"bg-green-50 border-green-200 rounded-xl mt-4",children:[e.jsx(Es,{className:"h-4 w-4 text-green-600"}),e.jsxs(zi,{className:"text-gray-900",children:[" All fees paid for ",m," - ",f]})]})]})]}),e.jsxs(Ce,{className:"rounded-xl bg-white border border-gray-200 shadow-sm",children:[e.jsx(Qt,{className:"p-5 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg text-gray-900",children:"Payment History"})}),e.jsx(Le,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-[#2563EB] border-none hover:bg-[#2563EB]",children:[e.jsx(At,{className:"text-white",children:"Date"}),e.jsx(At,{className:"text-white",children:"Receipt No."}),e.jsx(At,{className:"text-white",children:"Amount"}),e.jsx(At,{className:"text-white",children:"Payment Type"}),e.jsx(At,{className:"text-white",children:"Method"}),e.jsx(At,{className:"text-white",children:"Status"}),e.jsx(At,{className:"text-white text-center",children:"Action"})]})}),e.jsx(On,{children:$.length===0?e.jsx(As,{className:"bg-white",children:e.jsx(Xe,{colSpan:7,className:"text-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(ud,{className:"w-12 h-12 text-gray-400"}),e.jsx("p",{className:"text-gray-900",children:"No payment records"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Make your first payment to see history here"})]})})}):$.map(ne=>e.jsxs(As,{className:"bg-white border-b border-gray-100 hover:bg-gray-50",children:[e.jsx(Xe,{className:"text-gray-900",children:new Date(ne.recordedDate).toLocaleDateString()}),e.jsx(Xe,{className:"text-gray-900 font-mono text-sm",children:ne.receiptNumber}),e.jsxs(Xe,{className:"text-gray-900 font-medium",children:["",ne.amount.toLocaleString()]}),e.jsx(Xe,{className:"text-gray-600",children:ne.paymentType}),e.jsx(Xe,{className:"text-gray-600",children:ne.paymentMethod}),e.jsx(Xe,{children:e.jsx(yt,{className:"bg-[#10B981] text-white border-0",children:ne.status})}),e.jsx(Xe,{className:"text-center",children:e.jsxs(Ee,{onClick:()=>W(ne),size:"sm",variant:"ghost",className:"text-[#2563EB] hover:bg-blue-50",children:[e.jsx(Fr,{className:"w-4 h-4 mr-1"}),"Receipt"]})})]},ne.id))})]})})})]})]}),e.jsx(vr,{open:k,onOpenChange:q,children:e.jsxs(br,{className:"max-w-md rounded-xl bg-white border border-gray-200 text-gray-900",children:[e.jsx(yr,{children:e.jsx(Nr,{className:"text-gray-900",children:"Make Payment"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Student:"}),e.jsxs("p",{className:"text-lg text-gray-900",children:[P?.firstName," ",P?.lastName]}),e.jsx("p",{className:"text-sm text-gray-600",children:P?.className})]}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Outstanding Balance:"}),e.jsxs("span",{className:"text-gray-900 font-medium",children:["",T?.balance.toLocaleString()||"0"]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ze,{className:"text-gray-700",children:["Payment Amount () ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(kt,{type:"number",placeholder:"Enter amount",value:N,onChange:ne=>b(ne.target.value),className:"h-12 rounded-xl border border-gray-300 bg-white text-gray-900"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Maximum: ",T?.balance.toLocaleString()||"0"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ze,{className:"text-gray-700",children:["Payment Method ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Ot,{value:j,onValueChange:y,children:[e.jsx(Mt,{className:"h-12 rounded-xl border border-gray-300 bg-white text-gray-900",children:e.jsx(Ht,{placeholder:"Select payment method"})}),e.jsxs(Kt,{className:"bg-white border-gray-200",children:[e.jsx(ke,{value:"Bank Transfer",className:"text-gray-900",children:"Bank Transfer"}),e.jsx(ke,{value:"Cash",className:"text-gray-900",children:"Cash"}),e.jsx(ke,{value:"Card Payment",className:"text-gray-900",children:"Card Payment"}),e.jsx(ke,{value:"Mobile Money",className:"text-gray-900",children:"Mobile Money"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-gray-700",children:"Transaction Reference (Optional)"}),e.jsx(kt,{placeholder:"Enter transaction reference",value:E,onChange:ne=>U(ne.target.value),className:"h-12 rounded-xl border border-gray-300 bg-white text-gray-900"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(Ee,{onClick:()=>q(!1),variant:"outline",className:"rounded-xl border-gray-300 text-gray-700",children:"Cancel"}),e.jsxs(Ee,{onClick:V,className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-xl",children:[e.jsx(SA,{className:"w-4 h-4 mr-2"}),"Confirm Payment"]})]})]})}),e.jsx(vr,{open:G,onOpenChange:H,children:e.jsxs(br,{className:"max-w-2xl rounded-xl bg-white border border-gray-200 text-gray-900",children:[e.jsx(yr,{children:e.jsxs(Nr,{className:"text-gray-900",children:["Fee Structure - ",P?.className]})}),Q&&e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[m," - ",f]})}),e.jsxs(Rn,{children:[e.jsx(Dn,{children:e.jsxs(As,{className:"bg-gray-100",children:[e.jsx(At,{className:"text-gray-900",children:"Fee Item"}),e.jsx(At,{className:"text-gray-900 text-right",children:"Amount ()"})]})}),e.jsxs(On,{children:[e.jsxs(As,{className:"border-b border-gray-100",children:[e.jsx(Xe,{className:"text-gray-900",children:"Tuition Fee"}),e.jsx(Xe,{className:"text-gray-900 text-right",children:Q.tuitionFee.toLocaleString()})]}),e.jsxs(As,{className:"border-b border-gray-100",children:[e.jsx(Xe,{className:"text-gray-900",children:"Development Levy"}),e.jsx(Xe,{className:"text-gray-900 text-right",children:Q.developmentLevy.toLocaleString()})]}),e.jsxs(As,{className:"border-b border-gray-100",children:[e.jsx(Xe,{className:"text-gray-900",children:"Sports Fee"}),e.jsx(Xe,{className:"text-gray-900 text-right",children:Q.sportsFee.toLocaleString()})]}),e.jsxs(As,{className:"border-b border-gray-100",children:[e.jsx(Xe,{className:"text-gray-900",children:"Exam Fee"}),e.jsx(Xe,{className:"text-gray-900 text-right",children:Q.examFee.toLocaleString()})]}),e.jsxs(As,{className:"border-b border-gray-100",children:[e.jsx(Xe,{className:"text-gray-900",children:"Books Fee"}),e.jsx(Xe,{className:"text-gray-900 text-right",children:Q.booksFee.toLocaleString()})]}),e.jsxs(As,{className:"border-b border-gray-100",children:[e.jsx(Xe,{className:"text-gray-900",children:"Uniform Fee"}),e.jsx(Xe,{className:"text-gray-900 text-right",children:Q.uniformFee.toLocaleString()})]}),e.jsxs(As,{className:"border-b border-gray-100",children:[e.jsx(Xe,{className:"text-gray-900",children:"Transport Fee"}),e.jsx(Xe,{className:"text-gray-900 text-right",children:Q.transportFee.toLocaleString()})]}),e.jsxs(As,{className:"bg-blue-50",children:[e.jsx(Xe,{className:"text-gray-900 font-bold",children:"TOTAL FEE"}),e.jsxs(Xe,{className:"text-gray-900 font-bold text-right text-lg",children:["",Q.totalFee.toLocaleString()]})]})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(Ee,{onClick:()=>H(!1),variant:"outline",className:"rounded-xl border-gray-300 text-gray-700",children:"Close"})})]})})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs(Vi,{className:"bg-yellow-50 border-yellow-200 rounded-xl",children:[e.jsx(Es,{className:"h-4 w-4 text-yellow-600"}),e.jsx(zi,{className:"text-gray-900",children:"Parent account not found. Please contact the school administrator."})]})})}function ZO(){const{currentUser:s,parents:t,students:r,getAttendancesByStudent:n,currentTerm:a,currentAcademicYear:i}=Fs(),[A,c]=S.useState(0),[d,u]=S.useState("summary"),m=t.find(H=>H.id===s?.linkedId),f=m&&m.studentIds?r.filter(H=>m.studentIds.includes(H.id)):[],x=r.find(H=>H.id===A),g=A?n(A).filter(H=>H.term===a&&H.academicYear===i):[],N=g.filter(H=>H.status==="Present").length,b=g.filter(H=>H.status==="Absent").length,j=g.filter(H=>H.status==="Late").length,y=g.filter(H=>H.status==="Excused").length,E=g.length,U=E>0?((N+j)/E*100).toFixed(1):0,k=g.reduce((H,I)=>{const D=I.date.substring(0,7);return H[D]||(H[D]=[]),H[D].push(I),H},{}),q=H=>{switch(H){case"Present":return e.jsx(bA,{className:"w-5 h-5 text-green-600"});case"Absent":return e.jsx(xa,{className:"w-5 h-5 text-red-600"});case"Late":return e.jsx(po,{className:"w-5 h-5 text-yellow-600"});case"Excused":return e.jsx(Es,{className:"w-5 h-5 text-blue-600"})}},G=H=>{switch(H){case"Present":return"bg-green-100 text-green-700 border-green-200";case"Absent":return"bg-red-100 text-red-700 border-red-200";case"Late":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"Excused":return"bg-blue-100 text-blue-700 border-blue-200"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-slate-900 mb-2",children:"View Attendance"}),e.jsx("p",{className:"text-slate-600",children:"Monitor your child's attendance records"})]}),e.jsxs(Ce,{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-slate-700",children:"Select Child"}),e.jsxs("select",{value:A,onChange:H=>c(Number(H.target.value)),className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:"Choose a child..."}),f.map(H=>e.jsxs("option",{value:H.id,children:[H.firstName," ",H.lastName," - ",H.className]},H.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-slate-700",children:"View Mode"}),e.jsxs("select",{value:d,onChange:H=>u(H.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"summary",children:"Summary View"}),e.jsx("option",{value:"detailed",children:"Detailed View"})]})]})]}),x&&e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-full flex items-center justify-center",children:e.jsx(Qs,{className:"w-6 h-6 text-blue-700"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-slate-900",children:[x.firstName," ",x.lastName]}),e.jsxs("p",{className:"text-slate-600 text-sm",children:[x.className,"  ",x.admissionNumber]})]})]})})]}),A>0&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[e.jsxs(Ce,{className:"p-4 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsx("p",{className:"text-slate-600 text-sm mb-1",children:"Total Days"}),e.jsx("p",{className:"text-2xl text-slate-900",children:E})]}),e.jsxs(Ce,{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(bA,{className:"w-4 h-4 text-green-600"}),e.jsx("p",{className:"text-green-700 text-sm",children:"Present"})]}),e.jsx("p",{className:"text-2xl text-green-900",children:N})]}),e.jsxs(Ce,{className:"p-4 bg-gradient-to-br from-red-50 to-red-100 rounded-xl border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(xa,{className:"w-4 h-4 text-red-600"}),e.jsx("p",{className:"text-red-700 text-sm",children:"Absent"})]}),e.jsx("p",{className:"text-2xl text-red-900",children:b})]}),e.jsxs(Ce,{className:"p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(po,{className:"w-4 h-4 text-yellow-600"}),e.jsx("p",{className:"text-yellow-700 text-sm",children:"Late"})]}),e.jsx("p",{className:"text-2xl text-yellow-900",children:j})]}),e.jsxs(Ce,{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Es,{className:"w-4 h-4 text-blue-600"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Excused"})]}),e.jsx("p",{className:"text-2xl text-blue-900",children:y})]}),e.jsxs(Ce,{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Nd,{className:"w-4 h-4 text-purple-600"}),e.jsx("p",{className:"text-purple-700 text-sm",children:"Rate"})]}),e.jsxs("p",{className:"text-2xl text-purple-900",children:[U,"%"]})]})]}),A>0&&E>0&&e.jsxs(Ce,{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsx("h3",{className:"text-slate-800 mb-4",children:"Attendance Performance"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-slate-700",children:"Attendance Rate"}),e.jsxs("span",{className:"text-slate-900",children:[U,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${Number(U)>=90?"bg-green-600":Number(U)>=75?"bg-yellow-600":"bg-red-600"}`,style:{width:`${U}%`}})})]}),e.jsx("div",{className:`p-4 rounded-lg border \${
              Number(attendanceRate) >= 90
                ? 'bg-green-50 border-green-200'
                : Number(attendanceRate) >= 75
                ? 'bg-yellow-50 border-yellow-200'
                : 'bg-red-50 border-red-200'
            }`,children:e.jsx("p",{className:`${Number(U)>=90?"text-green-800":Number(U)>=75?"text-yellow-800":"text-red-800"}`,children:Number(U)>=90?" Excellent attendance! Keep up the great work.":Number(U)>=75?" Good attendance, but there is room for improvement.":" Attendance needs improvement. Please ensure regular school attendance."})})]})]}),A>0&&d==="detailed"&&e.jsxs(Ce,{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsx("h3",{className:"text-slate-800 mb-4",children:"Detailed Attendance Records"}),Object.keys(k).length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ta,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"No attendance records found for this term"})]}):e.jsx("div",{className:"space-y-6",children:Object.keys(k).sort().reverse().map(H=>{const I=new Date(H+"-01").toLocaleDateString("en-US",{year:"numeric",month:"long"}),D=k[H];return e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-700 mb-3",children:I}),e.jsx("div",{className:"space-y-2",children:D.sort((P,Q)=>Q.date.localeCompare(P.date)).map(P=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[q(P.status),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-900",children:new Date(P.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),P.remarks&&e.jsxs("p",{className:"text-slate-600 text-sm mt-1",children:["Remarks: ",P.remarks]})]})]}),e.jsx("span",{className:`px-4 py-2 rounded-lg border ${G(P.status)}`,children:P.status})]},P.id))})]},H)})})]}),A>0&&d==="summary"&&E>0&&e.jsxs(Ce,{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsx("h3",{className:"text-slate-800 mb-4",children:"Attendance Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-700 mb-3",children:"Status Breakdown"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(bA,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-green-900",children:"Present"})]}),e.jsxs("span",{className:"text-green-900",children:[N," days"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xa,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:"text-red-900",children:"Absent"})]}),e.jsxs("span",{className:"text-red-900",children:[b," days"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(po,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{className:"text-yellow-900",children:"Late"})]}),e.jsxs("span",{className:"text-yellow-900",children:[j," days"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Es,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-blue-900",children:"Excused"})]}),e.jsxs("span",{className:"text-blue-900",children:[y," days"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-700 mb-3",children:"Recent Absences"}),e.jsxs("div",{className:"space-y-2",children:[g.filter(H=>H.status==="Absent").sort((H,I)=>I.date.localeCompare(H.date)).slice(0,5).map(H=>e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("p",{className:"text-red-900 text-sm",children:new Date(H.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),H.remarks&&e.jsx("p",{className:"text-red-700 text-xs mt-1",children:H.remarks})]},H.id)),b===0&&e.jsxs("div",{className:"p-8 text-center text-slate-500",children:[e.jsx(bA,{className:"w-12 h-12 mx-auto mb-2 text-green-500"}),e.jsx("p",{children:"No absences recorded!"})]})]})]})]})]}),A===0&&e.jsxs(Ce,{className:"p-12 bg-white rounded-xl shadow-sm border border-slate-200 text-center",children:[e.jsx(ta,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-slate-900 mb-2",children:"No Child Selected"}),e.jsx("p",{className:"text-slate-600",children:"Please select a child to view their attendance records"})]}),A>0&&E===0&&e.jsxs(Ce,{className:"p-12 bg-white rounded-xl shadow-sm border border-slate-200 text-center",children:[e.jsx(Es,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-slate-900 mb-2",children:"No Attendance Records"}),e.jsx("p",{className:"text-slate-600",children:"No attendance has been recorded for this student in the current term"})]})]})}function eH({onNavigateToResults:s,onNavigateToFees:t}){const{currentUser:r,parents:n,students:a,classes:i,compiledResults:A,payments:c,currentTerm:d,currentAcademicYear:u,getParentChildren:m}=Fs(),f=r?n.find(g=>g.id===r.linked_id):null,x=S.useMemo(()=>f?m(f.id).map(N=>{const b=A.find(k=>k.student_id===N.id&&k.term===d&&k.academic_year===u&&k.status==="Approved"),y=c.filter(k=>k.student_id===N.id).reduce((k,q)=>k+q.amount,0),E=15e4,U=E-y;return{id:N.id,firstName:N.firstName,lastName:N.lastName,fullName:N.fullName,admissionNumber:N.admissionNumber,className:N.className,level:N.classLevel,gender:N.gender,dateOfBirth:N.dateOfBirth,photoUrl:N.photoUrl,status:N.status||"Active",classTeacher:i.find(k=>k.id===N.classId)?.classTeacher||"Not Assigned",hasResult:b!==void 0,averageScore:b?.average_score||0,position:b?.position||0,totalStudents:b?.total_students||0,feeBalance:U,totalFee:E,paymentStatus:U>0?"Pending":"Paid"}}):[],[f,m,A,c,d,u,i]);return f?e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#0A2540] mb-2",children:"My Children"}),e.jsx("p",{className:"text-gray-600",children:"View and manage information for your linked children"})]}),e.jsxs(Ce,{className:"border-[#0A2540]/10",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-[#3B82F6] to-[#2563EB] text-white rounded-t-xl",children:e.jsxs(ur,{className:"flex items-center gap-2",children:[e.jsx(EA,{className:"w-5 h-5"}),"Parent/Guardian Information"]})}),e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(EA,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),e.jsxs("p",{className:"text-[#0A2540] font-medium",children:[f.firstName," ",f.lastName]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(Uf,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),e.jsx("p",{className:"text-[#0A2540] font-medium",children:f.phone})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx(_f,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"text-[#0A2540] font-medium",children:f.email})]})]})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Total Children"}),e.jsx("p",{className:"text-[#0A2540] text-2xl font-bold",children:x.length})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(z4,{className:"w-6 h-6 text-blue-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Active Students"}),e.jsx("p",{className:"text-[#0A2540] text-2xl font-bold",children:x.filter(g=>g.status==="Active").length})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(Ml,{className:"w-6 h-6 text-green-600"})})]})})}),e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsx(Le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Current Term"}),e.jsx("p",{className:"text-[#0A2540] font-medium",children:d}),e.jsx("p",{className:"text-gray-600 text-sm",children:u})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx(ta,{className:"w-6 h-6 text-purple-600"})})]})})})]}),x.length===0?e.jsx(Ce,{className:"border-[#0A2540]/10",children:e.jsxs(Le,{className:"p-12 text-center",children:[e.jsx(Ml,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-[#0A2540] text-lg mb-2",children:"No Children Linked"}),e.jsx("p",{className:"text-gray-600",children:"You don't have any children linked to your account yet."}),e.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Please contact the school administration to link your children to your parent portal."})]})}):e.jsx("div",{className:"space-y-6",children:x.map(g=>e.jsxs(Ce,{className:"border-[#0A2540]/10 hover:shadow-lg transition-all",children:[e.jsx(Qt,{className:"bg-gradient-to-r from-[#10B981] to-[#059669] text-white rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(yA,{className:"w-16 h-16 border-4 border-white",children:g.photoUrl?e.jsx("img",{src:g.photoUrl,alt:g.fullName,className:"w-full h-full object-cover"}):e.jsxs(NA,{className:"bg-white text-[#10B981] text-xl",children:[g.firstName[0],g.lastName[0]]})}),e.jsxs("div",{children:[e.jsx(ur,{className:"text-white mb-1",children:g.fullName}),e.jsx("p",{className:"text-white/90 text-sm",children:g.admissionNumber})]})]}),e.jsx(yt,{className:`rounded-xl ${g.status==="Active"?"bg-white text-[#10B981]":"bg-yellow-100 text-yellow-800"}`,children:g.status})]})}),e.jsxs(Le,{className:"p-6",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Class"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ml,{className:"w-4 h-4 text-blue-600"}),e.jsx("p",{className:"text-[#0A2540] font-medium",children:g.className})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Level"}),e.jsx(yt,{variant:"outline",className:"rounded-xl",children:g.level})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Gender"}),e.jsx("p",{className:"text-[#0A2540] font-medium",children:g.gender})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Date of Birth"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ta,{className:"w-4 h-4 text-purple-600"}),e.jsx("p",{className:"text-[#0A2540] font-medium",children:new Date(g.dateOfBirth).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Class Teacher"}),e.jsx("p",{className:"text-[#0A2540] font-medium",children:g.classTeacher})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("p",{className:"text-sm text-blue-900",children:["Latest Result (",d,")"]}),g.hasResult&&e.jsx(yt,{className:"bg-green-100 text-green-800 border-green-300 rounded-xl",children:"Available"})]}),g.hasResult?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-900",children:"Average Score:"}),e.jsxs("span",{className:"text-blue-900 font-bold",children:[g.averageScore,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-900",children:"Position:"}),e.jsxs("span",{className:"text-blue-900 font-bold",children:[g.position,"/",g.totalStudents]})]}),e.jsxs(Ee,{onClick:s,size:"sm",className:"w-full mt-2 bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-xl",children:[e.jsx(sa,{className:"w-4 h-4 mr-2"}),"View Full Result"]})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-blue-800 text-sm",children:"No result available yet"}),e.jsx("p",{className:"text-blue-700 text-xs mt-1",children:"Result pending approval"})]})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-green-900",children:"Fee Status"}),e.jsx(yt,{className:`rounded-xl ${g.paymentStatus==="Paid"?"bg-green-100 text-green-800 border-green-300":"bg-yellow-100 text-yellow-800 border-yellow-300"}`,children:g.paymentStatus})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-green-900",children:"Total Fee:"}),e.jsxs("span",{className:"text-green-900 font-bold",children:["",g.totalFee.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-green-900",children:"Balance:"}),e.jsxs("span",{className:`font-bold ${g.feeBalance>0?"text-red-600":"text-green-600"}`,children:["",g.feeBalance.toLocaleString()]})]}),g.feeBalance>0&&e.jsxs(Ee,{onClick:t,size:"sm",className:"w-full mt-2 bg-[#10B981] hover:bg-[#059669] text-white rounded-xl",children:[e.jsx(SA,{className:"w-4 h-4 mr-2"}),"Pay Fees"]})]})]})]}),e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsxs(Ee,{onClick:s,variant:"outline",className:"rounded-xl border-[#0A2540]/20",children:[e.jsx(Pn,{className:"w-4 h-4 mr-2"}),"View Results"]}),e.jsxs(Ee,{onClick:t,variant:"outline",className:"rounded-xl border-[#0A2540]/20",children:[e.jsx(SA,{className:"w-4 h-4 mr-2"}),"Fee History"]}),e.jsxs(Ee,{variant:"outline",className:"rounded-xl border-[#0A2540]/20",children:[e.jsx(ta,{className:"w-4 h-4 mr-2"}),"View Attendance"]})]})]})]},g.id))})]}):e.jsx("div",{className:"p-6",children:e.jsx(Ce,{className:"border-red-200 bg-red-50",children:e.jsx(Le,{className:"p-6 text-center",children:e.jsx("p",{className:"text-red-800",children:"Unable to load parent information"})})})})}function tH({onLogout:s}){const{currentUser:t,parents:r,getParentChildren:n,getParentPermissions:a,getUnreadNotifications:i,notifications:A,getStudentFeeBalance:c,currentTerm:d,currentAcademicYear:u,createPaymentAPI:m,loadPaymentsFromAPI:f}=Fs(),[x,g]=S.useState("dashboard"),[N,b]=S.useState(null),j=t?r.find(P=>P.id===t.linked_id):null,y=j?`${j.firstName} ${j.lastName}`:"Parent",E=t?i(t.id,t.role).length:0,U=j?n(j.id):[],k=j?a(j.id):{canViewResults:!1,canViewAttendance:!1,canMakePayments:!1,canViewReports:!1,canViewTimetable:!1,childrenCount:0,hasFinancialObligations:!1,totalOutstandingBalance:0},q=U.map(P=>({id:P.id,name:P.fullName,class:P.className,balance:P.feeBalance,photo:P.photoUrl||"",totalFee:P.totalFees})),G=A.filter(P=>P.targetAudience==="parents"&&P.title.includes("Fee Payment")).sort((P,Q)=>new Date(Q.sentDate).getTime()-new Date(P.sentDate).getTime()).slice(0,5),H=[{icon:e.jsx(ap,{className:"w-5 h-5"}),label:"Dashboard",id:"dashboard"},{icon:e.jsx(Qs,{className:"w-5 h-5"}),label:"My Children",id:"my-children"},{icon:e.jsx(sa,{className:"w-5 h-5"}),label:"View Results",id:"view-results"},{icon:e.jsx(SA,{className:"w-5 h-5"}),label:"Pay Fees",id:"pay-fees"},{icon:e.jsx(po,{className:"w-5 h-5"}),label:"View Attendance",id:"view-attendance"},{icon:e.jsx(ta,{className:"w-5 h-5"}),label:"Exam Timetable",id:"exam-timetable"},{icon:e.jsx(Zo,{className:"w-5 h-5"}),label:"Notifications",id:"notifications"},{icon:e.jsx(ju,{className:"w-5 h-5"}),label:"Change Password",id:"change-password"}],I=P=>{P==="logout"?s():g(P)},D=({child:P})=>{const[Q,T]=S.useState(""),[$,V]=S.useState("bank_transfer"),[ie,W]=S.useState(!1),ne=async()=>{if(!Q||parseFloat(Q)<=0){ge.error("Please enter a valid payment amount");return}if(parseFloat(Q)>P.balance){ge.error("Payment amount cannot exceed outstanding balance");return}W(!0);try{const M={studentId:P.id,amount:parseFloat(Q),paymentType:"fee_payment",paymentMethod:$,term:d,academicYear:u,transactionReference:`TRX${Date.now()}`,receiptNumber:`RCP${Date.now()}`,recordedBy:t?.id,notes:`Payment by ${y} for ${P.name}`};if(await m(M)){ge.success(`Payment of ${parseFloat(Q).toLocaleString()} submitted successfully! Receipt: ${M.receiptNumber}`),await f(),T(""),V("bank_transfer"),W(!1);const ue=document.querySelector("[data-payment-dialog]");ue&&ue.close()}}catch(M){console.error("Payment error:",M),ge.error("Payment submission failed. Please try again."),W(!1)}};return e.jsxs(vr,{children:[e.jsx(Lh,{asChild:!0,children:e.jsx(Ee,{className:"bg-[#3B82F6] text-white hover:bg-[#2563EB] rounded-lg shadow-clinical hover:shadow-clinical-lg transition-all","data-payment-dialog-trigger":!0,children:"Pay Now"})}),e.jsxs(br,{className:"max-w-md rounded-lg bg-white border border-[#E5E7EB] text-[#1F2937]","data-payment-dialog":!0,children:[e.jsx(yr,{children:e.jsxs(Nr,{className:"text-[#1F2937]",children:["Pay Fees - ",P.name]})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-[#6B7280]",children:"Outstanding Balance"}),e.jsxs("p",{className:"text-[#1F2937] font-semibold",children:["",P.balance.toLocaleString()]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Amount to Pay ()"}),e.jsx(kt,{type:"number",placeholder:"Enter amount",value:Q,onChange:M=>T(M.target.value),className:"h-12 rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] text-[#1F2937]",max:P.balance,min:"1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Payment Method"}),e.jsxs(Ot,{value:$,onValueChange:V,children:[e.jsx(Mt,{className:"h-12 rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] text-[#1F2937]",children:e.jsx(Ht,{placeholder:"Select payment method"})}),e.jsxs(Kt,{children:[e.jsx(ke,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(ke,{value:"cash",children:"Cash"}),e.jsx(ke,{value:"pos",children:"POS"}),e.jsx(ke,{value:"cheque",children:"Cheque"}),e.jsx(ke,{value:"online_payment",children:"Online Payment"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{className:"text-[#1F2937]",children:"Upload Payment Proof (Optional)"}),e.jsxs("div",{className:"border-2 border-dashed border-[#E5E7EB] rounded-lg p-4 text-center cursor-pointer hover:border-[#3B82F6] transition-colors bg-[#F9FAFB]",children:[e.jsx(go,{className:"w-6 h-6 mx-auto mb-2 text-[#6B7280]"}),e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Click to upload receipt/proof"}),e.jsx("p",{className:"text-xs text-[#6B7280] mt-1",children:"PNG, JPG up to 5MB"})]})]}),e.jsx(Ee,{className:"w-full h-12 bg-[#10B981] text-white hover:bg-[#059669] rounded-lg shadow-clinical",onClick:ne,disabled:ie,children:ie?"Processing...":"Submit Payment"})]})]})]})};return e.jsxs("div",{className:"min-h-screen bg-[#F4F6F9]",children:[e.jsx(fp,{items:H,activeItem:x,onItemClick:I}),e.jsxs("div",{className:"lg:pl-64",children:[e.jsx(pp,{userName:y,userRole:"Parent",notificationCount:E,onLogout:s}),e.jsxs("main",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[x==="dashboard"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Parent Dashboard"}),e.jsx("p",{className:"text-[#6B7280]",children:"Monitor your children's academic progress and manage fees"})]}),e.jsx(Ce,{className:"rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200",children:e.jsx(Le,{className:"p-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Qs,{className:"w-6 h-6 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1F2937] font-medium mb-2",children:"Your Access & Responsibilities"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${k.canViewResults?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{className:"text-[#6B7280]",children:"View Results"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${k.canViewAttendance?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{className:"text-[#6B7280]",children:"View Attendance"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${k.canMakePayments?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{className:"text-[#6B7280]",children:"Make Payments"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${k.canViewReports?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{className:"text-[#6B7280]",children:"View Reports"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${k.canViewTimetable?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{className:"text-[#6B7280]",children:"View Timetable"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${k.hasFinancialObligations?"bg-orange-500":"bg-green-500"}`}),e.jsx("span",{className:"text-[#6B7280]",children:k.hasFinancialObligations?"Fees Due":"Fees Paid"})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-[#6B7280]",children:["Children: ",e.jsx("strong",{className:"text-[#1F2937]",children:k.childrenCount})]}),k.hasFinancialObligations&&e.jsxs("span",{className:"text-orange-600",children:["Outstanding: ",e.jsxs("strong",{children:["",k.totalOutstandingBalance.toLocaleString()]})]})]})]})]})})}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:q.map(P=>e.jsxs(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical hover:shadow-clinical-lg transition-all hover-lift",children:[e.jsx(Qt,{className:"p-5 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-[#3B82F6] flex items-center justify-center",children:e.jsx(EA,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-[#1F2937]",children:P.name}),e.jsx("p",{className:"text-[#6B7280]",children:P.class})]})]})}),e.jsxs(Le,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Total Fee"}),e.jsxs("p",{className:"text-[#1F2937] font-medium",children:["",P.totalFee.toLocaleString()]})]}),e.jsxs("div",{className:"p-3 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Balance"}),e.jsxs("p",{className:P.balance>0?"text-[#EF4444] font-medium":"text-[#10B981] font-medium",children:["",P.balance.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Ee,{onClick:()=>g("view-results"),variant:"outline",className:"flex-1 rounded-lg border-[#E5E7EB] text-[#6B7280] hover:bg-[#F9FAFB] hover:text-[#1F2937]",children:[e.jsx(sa,{className:"w-4 h-4 mr-2"}),"View Result"]}),P.balance>0&&e.jsx(D,{child:P})]}),P.balance===0&&e.jsx("div",{className:"p-3 bg-[#DCFCE7] border border-[#10B981] rounded-lg text-center",children:e.jsx(yt,{className:"bg-[#10B981] text-white border-0",children:"Fully Paid"})})]})]},P.id))}),G.length>0&&e.jsxs(Ce,{className:"rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-[#10B981] shadow-clinical-lg",children:[e.jsx(Qt,{className:"p-5 border-b border-[#10B981]/20",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ud,{className:"w-5 h-5 text-[#10B981]"}),e.jsx("h3",{className:"text-[#10B981]",children:"Fee Payment Confirmations"}),e.jsx(yt,{className:"ml-auto bg-[#10B981] text-white border-0",children:G.length})]})}),e.jsxs(Le,{className:"space-y-3 p-5 pt-5",children:[G.map(P=>e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg border border-[#10B981]/30 shadow-sm",children:[e.jsx(Br,{className:"w-5 h-5 text-[#10B981] flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[#1F2937] font-medium",children:P.title}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-1",children:P.message}),e.jsxs("p",{className:"text-xs text-[#6B7280] mt-2",children:[new Date(P.sentDate).toLocaleDateString()," at ",new Date(P.sentDate).toLocaleTimeString()]})]})]},P.id)),e.jsx(Ee,{onClick:()=>g("notifications"),variant:"outline",className:"w-full rounded-lg border-[#10B981] text-[#10B981] hover:bg-[#10B981]/10",children:"View All Notifications"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[e.jsxs(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-5 border-b border-[#E5E7EB]",children:e.jsx("h3",{className:"text-[#1F2937]",children:"Recent Notifications"})}),e.jsxs(Le,{className:"space-y-3 p-5 pt-5",children:[A.filter(P=>(P.targetAudience==="parents"||P.targetAudience==="all")&&!P.title.includes("Fee Payment")).sort((P,Q)=>new Date(Q.sentDate).getTime()-new Date(P.sentDate).getTime()).slice(0,3).map(P=>{const Q=T=>T==="success"?"bg-[#10B981]":T==="warning"?"bg-[#F59E0B]":T==="error"?"bg-[#EF4444]":"bg-[#3B82F6]";return e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB] hover:border-[#3B82F6] hover:shadow-clinical transition-all",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${Q(P.type)}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[#1F2937] font-medium",children:P.title}),e.jsxs("p",{className:"text-xs text-[#6B7280] mt-1",children:[P.message.slice(0,60),"..."]}),e.jsx("p",{className:"text-xs text-[#6B7280] mt-1",children:new Date(P.sentDate).toLocaleDateString()})]})]},P.id)}),(A||[]).filter(P=>P.targetAudience==="parents"||P.targetAudience==="all").length===0&&e.jsx("div",{className:"text-center py-8 text-[#6B7280]",children:"No notifications yet"})]})]}),e.jsxs(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(Qt,{className:"p-5 border-b border-[#E5E7EB]",children:e.jsx("h3",{className:"text-[#1F2937]",children:"Quick Actions"})}),e.jsxs(Le,{className:"space-y-3 p-5 pt-5",children:[e.jsxs(Ee,{onClick:()=>g("view-results"),className:"w-full justify-start bg-[#F9FAFB] text-[#1F2937] hover:bg-[#3B82F6] hover:text-white rounded-lg h-12 border border-[#E5E7EB] transition-all",children:[e.jsx(sa,{className:"w-5 h-5 mr-3"}),"View Academic Reports"]}),e.jsxs(Ee,{onClick:()=>g("pay-fees"),className:"w-full justify-start bg-[#F9FAFB] text-[#1F2937] hover:bg-[#3B82F6] hover:text-white rounded-lg h-12 border border-[#E5E7EB] transition-all",children:[e.jsx(SA,{className:"w-5 h-5 mr-3"}),"Make Payment"]}),e.jsxs(Ee,{onClick:()=>g("notifications"),className:"w-full justify-start bg-[#F9FAFB] text-[#1F2937] hover:bg-[#3B82F6] hover:text-white rounded-lg h-12 border border-[#E5E7EB] transition-all",children:[e.jsx(ud,{className:"w-5 h-5 mr-3"}),"View Payment History"]}),e.jsxs(Ee,{onClick:()=>g("view-results"),className:"w-full justify-start bg-[#F9FAFB] text-[#1F2937] hover:bg-[#3B82F6] hover:text-white rounded-lg h-12 border border-[#E5E7EB] transition-all",children:[e.jsx(Fr,{className:"w-5 h-5 mr-3"}),"Download Report Card"]})]})]})]})]}),x==="my-children"&&e.jsx(eH,{onNavigateToResults:()=>g("view-results"),onNavigateToFees:()=>g("pay-fees")}),x==="view-results"&&e.jsx(JO,{}),x==="performance-reports"&&e.jsx(YO,{}),x==="pay-fees"&&e.jsx(XO,{}),x==="change-password"&&e.jsx(bw,{}),x==="notifications"&&e.jsx(Ip,{}),x==="view-attendance"&&e.jsx(ZO,{}),x==="exam-timetable"&&e.jsx(eC,{userRole:"parent"}),!["dashboard","my-children","view-results","performance-reports","pay-fees","change-password","notifications","view-attendance","exam-timetable"].includes(x)&&e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(Ce,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical max-w-md w-full",children:e.jsxs(Le,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-[#3B82F6] flex items-center justify-center mx-auto mb-4 text-white",children:H.find(P=>P.id===x)?.icon}),e.jsx("h3",{className:"text-[#1F2937] mb-3",children:H.find(P=>P.id===x)?.label}),e.jsxs("p",{className:"text-[#6B7280]",children:["This section contains the functionality for ",H.find(P=>P.id===x)?.label.toLowerCase(),"."]})]})})})})]})]})]})}const sH="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function rH(s){const[t,r]=S.useState(!1),n=()=>{r(!0)},{src:a,alt:i,style:A,className:c,...d}=s;return t?e.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${c??""}`,style:A,children:e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e.jsx("img",{src:sH,alt:"Error loading image",...d,"data-original-url":a})})}):e.jsx("img",{src:a,alt:i,className:c,style:A,...d,onError:n})}function nH({onClose:s}){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between animate-in fade-in slide-in-from-top-2",children:[e.jsx(Ee,{onClick:s,variant:"outline",className:"rounded-xl border-2 border-[#0A2540] text-[#0A2540] hover:bg-[#0A2540] hover:text-white shadow-md",children:" Back"}),e.jsxs(Ee,{className:"bg-[#FFD700] text-[#0A2540] hover:bg-[#FFD700]/90 rounded-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]}),e.jsxs(Ce,{className:"bg-white rounded-2xl shadow-2xl overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#0A2540] to-[#0d3558] text-white p-8 text-center",children:[e.jsx("div",{className:"flex items-center justify-center gap-4 mb-4",children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-white flex items-center justify-center shadow-xl",children:e.jsx(_h,{className:"w-10 h-10 text-[#0A2540]"})})}),e.jsx("h1",{className:"text-3xl mb-2 text-white",children:"Graceland Royal Academy Gombe"}),e.jsx("p",{className:"text-[#FFD700] italic text-lg",children:'"Wisdom & Illumination"'}),e.jsx("p",{className:"text-white/80 text-sm mt-2",children:"P.O. Box XXX, Gombe State, Nigeria"}),e.jsx("div",{className:"mt-4 inline-block px-6 py-2 bg-white/10 rounded-full backdrop-blur-sm",children:e.jsx("p",{className:"text-sm text-white",children:"Terminal Report - Second Term 2024/2025"})})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-start gap-6 mb-6 pb-6 border-b-2 border-gray-200",children:[e.jsx("div",{className:"w-24 h-24 rounded-lg bg-gray-200 flex-shrink-0 overflow-hidden",children:e.jsx(rH,{src:"",alt:"Student",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 flex-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Student Name"}),e.jsx("p",{className:"text-[#0A2540]",children:"Fatima Abubakar Mohammed"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Student ID"}),e.jsx("p",{className:"text-[#0A2540]",children:"GRA/2024/0045"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Class"}),e.jsx("p",{className:"text-[#0A2540]",children:"JSS 2A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Session"}),e.jsx("p",{className:"text-[#0A2540]",children:"2024/2025"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Term"}),e.jsx("p",{className:"text-[#0A2540]",children:"Second Term"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Number in Class"}),e.jsx("p",{className:"text-[#0A2540]",children:"45"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg text-[#0A2540] mb-4",children:"Academic Performance"}),e.jsx("div",{className:"border-2 border-gray-200 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-[#0A2540] text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left",children:"Subject"}),e.jsx("th",{className:"p-3 text-center",children:"1st Test"}),e.jsx("th",{className:"p-3 text-center",children:"2nd Test"}),e.jsx("th",{className:"p-3 text-center",children:"Exam"}),e.jsx("th",{className:"p-3 text-center",children:"Total"}),e.jsx("th",{className:"p-3 text-center",children:"Grade"}),e.jsx("th",{className:"p-3 text-center",children:"Position"})]})}),e.jsxs("tbody",{children:[[{subject:"Mathematics",test1:18,test2:17,exam:50,total:85,grade:"A",position:"3rd"},{subject:"English Language",test1:16,test2:15,exam:47,total:78,grade:"B",position:"7th"},{subject:"Basic Science",test1:17,test2:18,exam:47,total:82,grade:"A",position:"4th"},{subject:"Social Studies",test1:15,test2:16,exam:45,total:76,grade:"B",position:"8th"},{subject:"Computer Studies",test1:19,test2:18,exam:51,total:88,grade:"A",position:"2nd"},{subject:"Basic Technology",test1:16,test2:17,exam:48,total:81,grade:"A",position:"5th"},{subject:"Home Economics",test1:18,test2:17,exam:49,total:84,grade:"A",position:"3rd"},{subject:"Civic Education",test1:17,test2:16,exam:46,total:79,grade:"B",position:"6th"},{subject:"Physical & Health Ed.",test1:18,test2:19,exam:52,total:89,grade:"A+",position:"1st"},{subject:"CRS/IRS",test1:16,test2:17,exam:47,total:80,grade:"A",position:"5th"}].map((t,r)=>e.jsxs("tr",{className:r%2===0?"bg-gray-50":"bg-white",children:[e.jsx("td",{className:"p-3",children:t.subject}),e.jsx("td",{className:"p-3 text-center",children:t.test1}),e.jsx("td",{className:"p-3 text-center",children:t.test2}),e.jsx("td",{className:"p-3 text-center",children:t.exam}),e.jsx("td",{className:"p-3 text-center",children:t.total}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`inline-block px-2 py-1 rounded ${t.grade.includes("A")?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:t.grade})}),e.jsx("td",{className:"p-3 text-center",children:t.position})]},r)),e.jsxs("tr",{className:"bg-[#0A2540] text-white",children:[e.jsx("td",{className:"p-3",colSpan:4,children:"Total Score"}),e.jsx("td",{className:"p-3 text-center",children:"822/1000"}),e.jsx("td",{className:"p-3 text-center",colSpan:2,children:"Average: 82.2%"})]})]})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-[#FFD700]/10 border-2 border-[#FFD700] rounded-xl text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Overall Position"}),e.jsx("p",{className:"text-2xl text-[#0A2540]",children:"5th/45"})]}),e.jsxs("div",{className:"p-4 bg-green-50 border-2 border-green-200 rounded-xl text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Grade"}),e.jsx("p",{className:"text-2xl text-green-700",children:"A"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 border-2 border-blue-200 rounded-xl text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Percentage"}),e.jsx("p",{className:"text-2xl text-blue-700",children:"82.2%"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg text-[#0A2540] mb-3",children:"Affective Domain"}),e.jsx("div",{className:"border-2 border-gray-200 rounded-xl overflow-hidden",children:e.jsx("table",{className:"w-full text-sm",children:e.jsx("tbody",{children:[{trait:"Punctuality",rating:5},{trait:"Neatness",rating:5},{trait:"Politeness",rating:4},{trait:"Honesty",rating:5},{trait:"Relationship with Others",rating:4}].map((t,r)=>e.jsxs("tr",{className:r%2===0?"bg-gray-50":"bg-white",children:[e.jsx("td",{className:"p-3",children:t.trait}),e.jsx("td",{className:"p-3 text-right",children:e.jsx("div",{className:"flex justify-end gap-1",children:[1,2,3,4,5].map(n=>e.jsx("div",{className:`w-4 h-4 rounded-full ${n<=t.rating?"bg-[#FFD700]":"bg-gray-300"}`},n))})})]},r))})})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg text-[#0A2540] mb-3",children:"Psychomotor Domain"}),e.jsx("div",{className:"border-2 border-gray-200 rounded-xl overflow-hidden",children:e.jsx("table",{className:"w-full text-sm",children:e.jsx("tbody",{children:[{skill:"Handwriting",rating:4},{skill:"Sports & Games",rating:5},{skill:"Handling of Tools",rating:4},{skill:"Drawing & Painting",rating:4},{skill:"Musical Skills",rating:3}].map((t,r)=>e.jsxs("tr",{className:r%2===0?"bg-gray-50":"bg-white",children:[e.jsx("td",{className:"p-3",children:t.skill}),e.jsx("td",{className:"p-3 text-right",children:e.jsx("div",{className:"flex justify-end gap-1",children:[1,2,3,4,5].map(n=>e.jsx("div",{className:`w-4 h-4 rounded-full ${n<=t.rating?"bg-[#FFD700]":"bg-gray-300"}`},n))})})]},r))})})})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Class Teacher's Comment"}),e.jsx("p",{className:"text-[#0A2540]",children:"Fatima has shown excellent performance throughout the term. She is dedicated, hardworking, and participates actively in class. Keep up the outstanding work!"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Principal's Comment"}),e.jsx("p",{className:"text-[#0A2540]",children:"An impressive academic record. Well done! Continue to strive for excellence."})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 pt-6 border-t-2 border-gray-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-16 mb-2 border-b-2 border-gray-300"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Class Teacher's Signature"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-16 mb-2 border-b-2 border-gray-300"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Principal's Signature"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-16 mb-2 border-b-2 border-gray-300"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Parent's Signature"})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t-2 border-gray-200 text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Powered by Graceland Royal Academy Gombe  Wisdom & Illumination"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Next Term Begins: September 15, 2025"})]})]})]})]})})}var aH=(s,t,r,n,a,i,A,c)=>{let d=document.documentElement,u=["light","dark"];function m(g){(Array.isArray(s)?s:[s]).forEach(N=>{let b=N==="class",j=b&&i?a.map(y=>i[y]||y):a;b?(d.classList.remove(...j),d.classList.add(i&&i[g]?i[g]:g)):d.setAttribute(N,g)}),f(g)}function f(g){c&&u.includes(g)&&(d.style.colorScheme=g)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)m(n);else try{let g=localStorage.getItem(t)||r,N=A&&g==="system"?x():g;m(N)}catch{}},iH=S.createContext(void 0),oH={setTheme:s=>{},themes:[]},lH=()=>{var s;return(s=S.useContext(iH))!=null?s:oH};S.memo(({forcedTheme:s,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:A,themes:c,nonce:d,scriptProps:u})=>{let m=JSON.stringify([r,t,i,s,c,A,n,a]).slice(1,-1);return S.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${aH.toString()})(${m})`}})});const AH=({...s})=>{const{theme:t="system"}=lH();return e.jsx(eU,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...s})};function cH(){const[s,t]=S.useState("landing"),[r,n]=S.useState(""),[a,i]=S.useState(!1),A=(x,g)=>{i(!0),setTimeout(()=>{t(x),g!==void 0&&n(g),i(!1)},300)},c=()=>{A("login")},d=()=>{A("landing","")},u=x=>{A("dashboard",x)},m=()=>{A("landing","")},f=()=>{A("dashboard")};return e.jsx(sU,{children:e.jsx(YD,{children:e.jsxs("div",{className:`transition-opacity duration-300 ${a?"opacity-0":"opacity-100"}`,children:[s==="landing"&&e.jsx(HE,{onNavigateToLogin:c}),s==="login"&&e.jsx(rU,{onLogin:u,onNavigateToLanding:d}),s==="dashboard"&&r==="admin"&&e.jsx(JD,{onLogout:m}),s==="dashboard"&&r==="teacher"&&e.jsx(iO,{onLogout:m}),s==="dashboard"&&r==="accountant"&&e.jsx(qO,{onLogout:m}),s==="dashboard"&&r==="parent"&&e.jsx(tH,{onLogout:m}),s==="report-card"&&e.jsx(nH,{onClose:f}),e.jsx(AH,{})]})})})}r4.createRoot(document.getElementById("root")).render(e.jsx(cH,{}));export{Vi as A,Ee as B,Es as C,kt as I,Ze as L,Ot as S,xr as _,zi as a,Mt as b,Ht as c,Kt as d,ke as e,$4 as f,Hc as g,dH as h,zy as i,e as j,S as r,ge as t,Fs as u};
